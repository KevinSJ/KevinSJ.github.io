const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jszip.min-DMkQATzN.js","assets/main-Dqs2Ohqn.js","assets/style-CNx3HTbi.js","assets/style-B6mkOetO.css","assets/_commonjs-dynamic-modules-TDtrdbi3.js"])))=>i.map(i=>d[i]);
import{c as D,i as I}from"./style-CNx3HTbi.js";import"./version-D4ympJL5.js";import"./full-width-DliZ98Ur.js";import"./simple-mode-footer-ODFatrFN.js";import{s as t,a as p,h as u,b as v,d as _,_ as T,f as k}from"./main-Dqs2Ohqn.js";import{g as P}from"./libreoffice-loader-CCIf03AR.js";import"./mobileMenu-BoMunYmR.js";document.addEventListener("DOMContentLoaded",()=>{t.files=[];const c=document.getElementById("file-input"),r=document.getElementById("drop-zone"),g=document.getElementById("convert-options"),d=document.getElementById("file-display-area"),f=document.getElementById("file-controls"),E=document.getElementById("add-more-btn"),L=document.getElementById("clear-files-btn"),b=document.getElementById("back-to-tools"),B=document.getElementById("process-btn");b&&b.addEventListener("click",()=>{window.location.href="/bentopdf/"});const m=async()=>{if(g)if(t.files.length>0){if(d){d.innerHTML="";for(let e=0;e<t.files.length;e++){const n=t.files[e],i=document.createElement("div");i.className="flex items-center justify-between bg-gray-700 p-3 rounded-lg text-sm";const s=document.createElement("div");s.className="flex flex-col overflow-hidden";const o=document.createElement("div");o.className="truncate font-medium text-gray-200 text-sm mb-1",o.textContent=n.name;const a=document.createElement("div");a.className="text-xs text-gray-400",a.textContent=k(n.size),s.append(o,a);const l=document.createElement("button");l.className="ml-4 text-red-400 hover:text-red-300 flex-shrink-0",l.innerHTML='<i data-lucide="trash-2" class="w-4 h-4"></i>',l.onclick=()=>{t.files=t.files.filter((x,y)=>y!==e),m()},i.append(s,l),d.appendChild(i)}D({icons:I})}f&&f.classList.remove("hidden"),g.classList.remove("hidden")}else d&&(d.innerHTML=""),f&&f.classList.add("hidden"),g.classList.add("hidden")},h=()=>{t.files=[],t.pdfDoc=null,m()},C=async()=>{try{if(t.files.length===0){p("No Files","Please select at least one ODT file."),u();return}const e=P();if(await e.initialize(n=>{v(n.message,n.percent)}),t.files.length===1){const n=t.files[0];v("Processing...");const i=await e.convertToPdf(n),s=n.name.replace(/\.odt$/i,"")+".pdf";_(i,s),u(),p("Conversion Complete",`Successfully converted ${n.name} to PDF.`,"success",()=>h())}else{v("Processing...");const n=(await T(async()=>{const{default:o}=await import("./jszip.min-DMkQATzN.js").then(a=>a.j);return{default:o}},__vite__mapDeps([0,1,2,3,4]))).default,i=new n;for(let o=0;o<t.files.length;o++){const a=t.files[o];v(`Converting ${o+1}/${t.files.length}: ${a.name}...`);const l=await e.convertToPdf(a),x=a.name.replace(/\.odt$/i,""),y=await l.arrayBuffer();i.file(`${x}.pdf`,y)}const s=await i.generateAsync({type:"blob"});_(s,"odt-converted.zip"),u(),p("Conversion Complete",`Successfully converted ${t.files.length} ODT file(s) to PDF.`,"success",()=>h())}}catch(e){u(),p("Error",`An error occurred during conversion. Error: ${e.message}`)}},w=e=>{e&&e.length>0&&(t.files=[...t.files,...Array.from(e)],m())};c&&r&&(c.addEventListener("change",e=>{w(e.target.files)}),r.addEventListener("dragover",e=>{e.preventDefault(),r.classList.add("bg-gray-700")}),r.addEventListener("dragleave",e=>{e.preventDefault(),r.classList.remove("bg-gray-700")}),r.addEventListener("drop",e=>{e.preventDefault(),r.classList.remove("bg-gray-700");const n=e.dataTransfer?.files;if(n&&n.length>0){const i=Array.from(n).filter(s=>s.name.toLowerCase().endsWith(".odt")||s.type==="application/vnd.oasis.opendocument.text");if(i.length>0){const s=new DataTransfer;i.forEach(o=>s.items.add(o)),w(s.files)}}}),c.addEventListener("click",()=>{c.value=""})),E&&E.addEventListener("click",()=>{c.click()}),L&&L.addEventListener("click",()=>{h()}),B&&B.addEventListener("click",C),m()});
