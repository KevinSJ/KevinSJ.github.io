import{c as P,i as B}from"./style-CYUbkObH.js";import"./version-BHeJdyYx.js";import"./full-width-DliZ98Ur.js";import"./simple-mode-footer-Q5E4PlzL.js";import{a as m,b as y,P as p,d as v,h as L,f as b}from"./main-DWubsKaN.js";import{J as I}from"./jszip.min-3IPKxw9h.js";import"./mobileMenu-BoMunYmR.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";const o={files:[]};function x(){o.files=[];const t=document.getElementById("file-display-area");t&&(t.innerHTML="");const e=document.getElementById("tool-options");e&&e.classList.add("hidden");const a=document.getElementById("file-input");a&&(a.value="")}function w(){const t=document.getElementById("file-display-area"),e=document.getElementById("tool-options");t&&(t.innerHTML="",o.files.length>0?(o.files.forEach(function(a,i){const n=document.createElement("div");n.className="flex items-center justify-between bg-gray-700 p-3 rounded-lg text-sm";const s=document.createElement("div");s.className="flex flex-col overflow-hidden";const r=document.createElement("div");r.className="truncate font-medium text-gray-200 text-sm mb-1",r.textContent=a.name;const l=document.createElement("div");l.className="text-xs text-gray-400",l.textContent=b(a.size),s.append(r,l);const c=document.createElement("button");c.className="ml-4 text-red-400 hover:text-red-300 flex-shrink-0",c.innerHTML='<i data-lucide="trash-2" class="w-4 h-4"></i>',c.onclick=function(){o.files=o.files.filter(function(f,d){return d!==i}),w()},n.append(s,c),t.appendChild(n)}),P({icons:B}),e&&e.classList.remove("hidden")):e&&e.classList.add("hidden"))}async function D(){if(o.files.length===0){m("No Files","Please select one or more PDF files.");return}y("Reversing page order...");try{const t=new I;for(let e=0;e<o.files.length;e++){const a=o.files[e];y(`Processing ${a.name} (${e+1}/${o.files.length})...`);const i=await a.arrayBuffer(),n=await p.load(i,{ignoreEncryption:!0,throwOnInvalidObject:!1}),s=await p.create(),r=n.getPageCount(),l=Array.from({length:r},function(g,E){return r-1-E});(await s.copyPages(n,l)).forEach(function(g){s.addPage(g)});const f=await s.save(),u=`${a.name.replace(/\.pdf$/i,"")}_reversed.pdf`;t.file(u,f)}if(o.files.length===1){const e=o.files[0],a=await e.arrayBuffer(),i=await p.load(a,{ignoreEncryption:!0,throwOnInvalidObject:!1}),n=await p.create(),s=i.getPageCount(),r=Array.from({length:s},function(d,u){return s-1-u});(await n.copyPages(i,r)).forEach(function(d){n.addPage(d)});const c=await n.save(),f=e.name.replace(/\.pdf$/i,"");v(new Blob([new Uint8Array(c)],{type:"application/pdf"}),`${f}_reversed.pdf`)}else{const e=await t.generateAsync({type:"blob"});v(e,"reversed_pdfs.zip")}m("Success","Pages have been reversed successfully!","success",function(){x()})}catch(t){console.error(t),m("Error","Could not reverse the PDF pages. Please check that your files are valid PDFs.")}finally{L()}}function h(t){if(t&&t.length>0){const e=Array.from(t).filter(function(a){return a.type==="application/pdf"||a.name.toLowerCase().endsWith(".pdf")});e.length>0&&(o.files=[...o.files,...e],w())}}document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("file-input"),e=document.getElementById("drop-zone"),a=document.getElementById("process-btn"),i=document.getElementById("back-to-tools");i&&i.addEventListener("click",function(){window.location.href="/bentopdf/"}),t&&e&&(t.addEventListener("change",function(n){h(n.target.files)}),e.addEventListener("dragover",function(n){n.preventDefault(),e.classList.add("bg-gray-700")}),e.addEventListener("dragleave",function(n){n.preventDefault(),e.classList.remove("bg-gray-700")}),e.addEventListener("drop",function(n){n.preventDefault(),e.classList.remove("bg-gray-700"),h(n.dataTransfer?.files||null)}),t.addEventListener("click",function(){t.value=""})),a&&a.addEventListener("click",D)});
