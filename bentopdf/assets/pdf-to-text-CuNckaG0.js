const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jszip.min-DMkQATzN.js","assets/main-Dqs2Ohqn.js","assets/style-CNx3HTbi.js","assets/style-B6mkOetO.css","assets/_commonjs-dynamic-modules-TDtrdbi3.js"])))=>i.map(i=>d[i]);
import{c as E,i as v}from"./style-CNx3HTbi.js";import{a as d,f as b,b as f,d as x,h as g,_ as B,n as F,o as I}from"./main-Dqs2Ohqn.js";import"./version-D4ympJL5.js";import"./full-width-DliZ98Ur.js";import"./simple-mode-footer-ODFatrFN.js";import"./mobileMenu-BoMunYmR.js";let n=[],m=null;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",h):h();function h(){E({icons:v});const t=document.getElementById("file-input"),e=document.getElementById("drop-zone"),a=document.getElementById("add-more-btn"),o=document.getElementById("clear-files-btn"),i=document.getElementById("process-btn");t&&t.addEventListener("change",T),e&&(e.addEventListener("dragover",s=>{s.preventDefault(),e.classList.add("bg-gray-600")}),e.addEventListener("dragleave",()=>{e.classList.remove("bg-gray-600")}),e.addEventListener("drop",s=>{s.preventDefault(),e.classList.remove("bg-gray-600");const l=s.dataTransfer?.files;l&&l.length>0&&L(l)}),t?.addEventListener("click",()=>{t&&(t.value="")})),a&&a.addEventListener("click",()=>{t?.click()}),o&&o.addEventListener("click",()=>{n=[],p()}),i&&i.addEventListener("click",D),document.getElementById("back-to-tools")?.addEventListener("click",()=>{window.location.href="/bentopdf/"})}function T(t){const e=t.target;e.files&&e.files.length>0&&L(e.files)}function L(t){const e=Array.from(t).filter(a=>a.type==="application/pdf"||a.name.toLowerCase().endsWith(".pdf"));e.length<t.length&&d("Invalid Files","Some files were skipped. Only PDF files are allowed."),e.length>0&&(n=[...n,...e],p())}const y=()=>{n=[],p()};function p(){const t=document.getElementById("file-display-area"),e=document.getElementById("file-controls"),a=document.getElementById("extract-options");!t||!e||!a||(t.innerHTML="",n.length>0?(e.classList.remove("hidden"),a.classList.remove("hidden"),n.forEach((o,i)=>{const s=document.createElement("div");s.className="flex items-center justify-between bg-gray-700 p-3 rounded-lg text-sm";const l=document.createElement("div");l.className="flex items-center gap-2 overflow-hidden";const c=document.createElement("span");c.className="truncate font-medium text-gray-200",c.textContent=o.name;const u=document.createElement("span");u.className="flex-shrink-0 text-gray-400 text-xs",u.textContent=`(${b(o.size)})`,l.append(c,u);const r=document.createElement("button");r.className="ml-4 text-red-400 hover:text-red-300 flex-shrink-0",r.innerHTML='<i data-lucide="trash-2" class="w-4 h-4"></i>',r.onclick=()=>{n=n.filter((P,w)=>w!==i),p()},s.append(l,r),t.appendChild(s)}),E({icons:v})):(e.classList.add("hidden"),a.classList.add("hidden")))}async function _(){return m||(m=new F(I("pymupdf")),await m.load()),m}async function D(){if(n.length===0){d("No Files","Please select at least one PDF file.");return}f("Loading engine...");try{const t=await _();if(n.length===1){const e=n[0];f(`Extracting text from ${e.name}...`);const a=await t.pdfToText(e),o=e.name.replace(/\.pdf$/i,""),i=new Blob([a],{type:"text/plain;charset=utf-8"});x(i,`${o}.txt`),g(),d("Success","Text extracted successfully!","success",()=>{y()})}else{f("Extracting text from multiple files...");const e=(await B(async()=>{const{default:i}=await import("./jszip.min-DMkQATzN.js").then(s=>s.j);return{default:i}},__vite__mapDeps([0,1,2,3,4]))).default,a=new e;for(let i=0;i<n.length;i++){const s=n[i];f(`Extracting text from file ${i+1}/${n.length}: ${s.name}...`);const l=await t.pdfToText(s),c=s.name.replace(/\.pdf$/i,"");a.file(`${c}.txt`,l)}const o=await a.generateAsync({type:"blob"});x(o,"pdf-to-text.zip"),g(),d("Success",`Extracted text from ${n.length} PDF files!`,"success",()=>{y()})}}catch(t){console.error("[PDFToText]",t),g(),d("Extraction Error",t.message||"Failed to extract text from PDF.")}}
