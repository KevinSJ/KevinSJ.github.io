const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jszip.min-DMkQATzN.js","assets/main-Dqs2Ohqn.js","assets/style-CNx3HTbi.js","assets/style-B6mkOetO.css","assets/_commonjs-dynamic-modules-TDtrdbi3.js"])))=>i.map(i=>d[i]);
import{c as I,i as T}from"./style-CNx3HTbi.js";import"./version-D4ympJL5.js";import"./full-width-DliZ98Ur.js";import"./simple-mode-footer-ODFatrFN.js";import{s as t,a as p,h as u,b as v,d as C,_ as D,f as F}from"./main-Dqs2Ohqn.js";import{g as k}from"./libreoffice-loader-CCIf03AR.js";import"./mobileMenu-BoMunYmR.js";document.addEventListener("DOMContentLoaded",()=>{t.files=[];const c=document.getElementById("file-input"),r=document.getElementById("drop-zone"),g=document.getElementById("convert-options"),d=document.getElementById("file-display-area"),f=document.getElementById("file-controls"),E=document.getElementById("add-more-btn"),L=document.getElementById("clear-files-btn"),b=document.getElementById("back-to-tools"),B=document.getElementById("process-btn");b&&b.addEventListener("click",()=>{window.location.href="/bentopdf/"});const m=async()=>{if(g)if(t.files.length>0){if(d){d.innerHTML="";for(let e=0;e<t.files.length;e++){const n=t.files[e],o=document.createElement("div");o.className="flex items-center justify-between bg-gray-700 p-3 rounded-lg text-sm";const s=document.createElement("div");s.className="flex flex-col overflow-hidden";const i=document.createElement("div");i.className="truncate font-medium text-gray-200 text-sm mb-1",i.textContent=n.name;const a=document.createElement("div");a.className="text-xs text-gray-400",a.textContent=F(n.size),s.append(i,a);const l=document.createElement("button");l.className="ml-4 text-red-400 hover:text-red-300 flex-shrink-0",l.innerHTML='<i data-lucide="trash-2" class="w-4 h-4"></i>',l.onclick=()=>{t.files=t.files.filter((x,h)=>h!==e),m()},o.append(s,l),d.appendChild(o)}I({icons:T})}f&&f.classList.remove("hidden"),g.classList.remove("hidden")}else d&&(d.innerHTML=""),f&&f.classList.add("hidden"),g.classList.add("hidden")},y=()=>{t.files=[],t.pdfDoc=null,m()},_=async()=>{try{if(t.files.length===0){p("No Files","Please select at least one RTF file."),u();return}const e=k();if(await e.initialize(n=>{v(n.message,n.percent)}),t.files.length===1){const n=t.files[0];v("Processing...");const o=await e.convertToPdf(n),s=n.name.replace(/\.rtf$/i,"")+".pdf";C(o,s),u(),p("Conversion Complete",`Successfully converted ${n.name} to PDF.`,"success",()=>y())}else{v("Converting multiple RTF files to PDF...");const n=(await D(async()=>{const{default:i}=await import("./jszip.min-DMkQATzN.js").then(a=>a.j);return{default:i}},__vite__mapDeps([0,1,2,3,4]))).default,o=new n;for(let i=0;i<t.files.length;i++){const a=t.files[i];v(`Converting ${i+1}/${t.files.length}: ${a.name}...`);const l=await e.convertToPdf(a),x=a.name.replace(/\.rtf$/i,""),h=await l.arrayBuffer();o.file(`${x}.pdf`,h)}const s=await o.generateAsync({type:"blob"});C(s,"rtf-converted.zip"),u(),p("Conversion Complete",`Successfully converted ${t.files.length} RTF file(s) to PDF.`,"success",()=>y())}}catch(e){u(),p("Error",`An error occurred during conversion. Error: ${e.message}`)}},w=e=>{e&&e.length>0&&(t.files=[...t.files,...Array.from(e)],m())};c&&r&&(c.addEventListener("change",e=>{w(e.target.files)}),r.addEventListener("dragover",e=>{e.preventDefault(),r.classList.add("bg-gray-700")}),r.addEventListener("dragleave",e=>{e.preventDefault(),r.classList.remove("bg-gray-700")}),r.addEventListener("drop",e=>{e.preventDefault(),r.classList.remove("bg-gray-700");const n=e.dataTransfer?.files;if(n&&n.length>0){const o=Array.from(n).filter(s=>s.name.toLowerCase().endsWith(".rtf")||s.type==="text/rtf"||s.type==="application/rtf");if(o.length>0){const s=new DataTransfer;o.forEach(i=>s.items.add(i)),w(s.files)}}}),c.addEventListener("click",()=>{c.value=""})),E&&E.addEventListener("click",()=>{c.click()}),L&&L.addEventListener("click",()=>{y()}),B&&B.addEventListener("click",_),m()});
