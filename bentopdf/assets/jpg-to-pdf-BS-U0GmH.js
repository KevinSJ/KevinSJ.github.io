import{c as E,i as v}from"./style-CNx3HTbi.js";import"./version-D4ympJL5.js";import"./full-width-DliZ98Ur.js";import"./simple-mode-footer-ODFatrFN.js";import{a as r,f as L,b as g,d as P,h as x,n as B,o as F}from"./main-Dqs2Ohqn.js";import"./mobileMenu-BoMunYmR.js";const I=".jpg,.jpeg,.jp2,.jpx",w=["image/jpeg","image/jpg","image/jp2"];let n=[],c=null;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",u):u();function u(){E({icons:v});const e=document.getElementById("file-input"),t=document.getElementById("drop-zone"),i=document.getElementById("add-more-btn"),o=document.getElementById("clear-files-btn"),d=document.getElementById("process-btn");e&&e.addEventListener("change",b),t&&(t.addEventListener("dragover",s=>{s.preventDefault(),t.classList.add("bg-gray-700")}),t.addEventListener("dragleave",()=>{t.classList.remove("bg-gray-700")}),t.addEventListener("drop",s=>{s.preventDefault(),t.classList.remove("bg-gray-700");const a=s.dataTransfer?.files;a&&a.length>0&&y(a)}),e?.addEventListener("click",()=>{e&&(e.value="")})),i&&i.addEventListener("click",()=>{e?.click()}),o&&o.addEventListener("click",()=>{n=[],m()}),d&&d.addEventListener("click",T),document.getElementById("back-to-tools")?.addEventListener("click",()=>{window.location.href="/bentopdf/"})}function b(e){const t=e.target;t.files&&t.files.length>0&&y(t.files)}function D(e){return"."+(e.split(".").pop()?.toLowerCase()||"")}function k(e){const t=D(e.name);return I.split(",").includes(t)||w.includes(e.type)}function y(e){const t=Array.from(e).filter(k);t.length<e.length&&r("Invalid Files","Some files were skipped. Only JPG, JPEG, JP2, and JPX files are allowed."),t.length>0&&(n=[...n,...t],m())}const j=()=>{n=[],m()};function m(){const e=document.getElementById("file-display-area"),t=document.getElementById("file-controls"),i=document.getElementById("jpg-to-pdf-options");!e||!t||!i||(e.innerHTML="",n.length>0?(t.classList.remove("hidden"),i.classList.remove("hidden"),n.forEach((o,d)=>{const s=document.createElement("div");s.className="flex items-center justify-between bg-gray-700 p-3 rounded-lg text-sm";const a=document.createElement("div");a.className="flex items-center gap-2 overflow-hidden";const f=document.createElement("span");f.className="truncate font-medium text-gray-200",f.textContent=o.name;const p=document.createElement("span");p.className="flex-shrink-0 text-gray-400 text-xs",p.textContent=`(${L(o.size)})`,a.append(f,p);const l=document.createElement("button");l.className="ml-4 text-red-400 hover:text-red-300 flex-shrink-0",l.innerHTML='<i data-lucide="trash-2" class="w-4 h-4"></i>',l.onclick=()=>{n=n.filter((C,h)=>h!==d),m()},s.append(a,l),e.appendChild(s)}),E({icons:v})):(t.classList.add("hidden"),i.classList.add("hidden")))}async function S(){return c||(c=new B(F("pymupdf")),await c.load()),c}async function T(){if(n.length===0){r("No Files","Please select at least one JPG or JPEG2000 image.");return}g("Loading engine...");try{const e=await S();g("Converting images to PDF...");const t=await e.imagesToPdf(n);P(t,"from_jpgs.pdf"),r("Success","PDF created successfully!","success",()=>{j()})}catch(e){console.error("[JpgToPdf]",e),r("Conversion Error",e.message||"Failed to convert images to PDF.")}finally{x()}}
