const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/csv-to-pdf-RjPd2Y-s.js","assets/jspdf.plugin.autotable-vHNsknuK.js","assets/main-DWubsKaN.js","assets/style-CYUbkObH.js","assets/style-BSB0ervv.css","assets/browser-QlFDU36Z.js","assets/jszip.min-3IPKxw9h.js","assets/_commonjs-dynamic-modules-TDtrdbi3.js"])))=>i.map(i=>d[i]);
import{c as I,i as V}from"./style-CYUbkObH.js";import"./version-BHeJdyYx.js";import"./full-width-DliZ98Ur.js";import"./simple-mode-footer-Q5E4PlzL.js";import{s as t,a as g,h as v,_ as S,b as p,d as b,f as x}from"./main-DWubsKaN.js";import"./mobileMenu-BoMunYmR.js";document.addEventListener("DOMContentLoaded",()=>{t.files=[];const c=document.getElementById("file-input"),r=document.getElementById("drop-zone"),u=document.getElementById("convert-options"),d=document.getElementById("file-display-area"),f=document.getElementById("file-controls"),y=document.getElementById("add-more-btn"),E=document.getElementById("clear-files-btn"),P=document.getElementById("back-to-tools"),D=document.getElementById("process-btn");P&&P.addEventListener("click",()=>{window.location.href="/bentopdf/"});const m=async()=>{if(u)if(t.files.length>0){if(d){d.innerHTML="";for(let e=0;e<t.files.length;e++){const s=t.files[e],i=document.createElement("div");i.className="flex items-center justify-between bg-gray-700 p-3 rounded-lg text-sm";const o=document.createElement("div");o.className="flex flex-col overflow-hidden";const n=document.createElement("div");n.className="truncate font-medium text-gray-200 text-sm mb-1",n.textContent=s.name;const l=document.createElement("div");l.className="text-xs text-gray-400",l.textContent=x(s.size),o.append(n,l);const a=document.createElement("button");a.className="ml-4 text-red-400 hover:text-red-300 flex-shrink-0",a.innerHTML='<i data-lucide="trash-2" class="w-4 h-4"></i>',a.onclick=()=>{t.files=t.files.filter((F,C)=>C!==e),m()},i.append(o,a),d.appendChild(i)}I({icons:V})}f&&f.classList.remove("hidden"),u.classList.remove("hidden")}else d&&(d.innerHTML=""),f&&f.classList.add("hidden"),u.classList.add("hidden")},h=()=>{t.files=[],t.pdfDoc=null,m()},w=async()=>{try{if(console.log("[CSV2PDF] Starting conversion..."),console.log("[CSV2PDF] Number of files:",t.files.length),t.files.length===0){g("No Files","Please select at least one CSV file."),v();return}const{convertCsvToPdf:e}=await S(async()=>{const{convertCsvToPdf:s}=await import("./csv-to-pdf-RjPd2Y-s.js");return{convertCsvToPdf:s}},__vite__mapDeps([0,1,2,3,4,5]));if(t.files.length===1){const s=t.files[0];console.log("[CSV2PDF] Converting single file:",s.name,"Size:",s.size,"bytes");const i=await e(s,{onProgress:(n,l)=>{console.log(`[CSV2PDF] Progress: ${n}% - ${l}`),p(l,n)}});console.log("[CSV2PDF] Conversion complete! PDF size:",i.size,"bytes");const o=s.name.replace(/\.csv$/i,"")+".pdf";b(i,o),console.log("[CSV2PDF] File downloaded:",o),v(),g("Conversion Complete",`Successfully converted ${s.name} to PDF.`,"success",()=>h())}else{console.log("[CSV2PDF] Converting multiple files:",t.files.length),p("Preparing conversion...");const s=(await S(async()=>{const{default:n}=await import("./jszip.min-3IPKxw9h.js").then(l=>l.j);return{default:n}},__vite__mapDeps([6,2,3,4,7]))).default,i=new s;for(let n=0;n<t.files.length;n++){const l=t.files[n];console.log(`[CSV2PDF] Converting file ${n+1}/${t.files.length}:`,l.name);const a=await e(l,{onProgress:(B,$)=>{const _=n/t.files.length*100+B/t.files.length;p(`Converting ${n+1}/${t.files.length}: ${l.name}...`,_)}});console.log(`[CSV2PDF] Converted ${l.name}, PDF size:`,a.size);const F=l.name.replace(/\.csv$/i,""),C=await a.arrayBuffer();i.file(`${F}.pdf`,C)}console.log("[CSV2PDF] Generating ZIP file..."),p("Creating ZIP archive...");const o=await i.generateAsync({type:"blob"});console.log("[CSV2PDF] ZIP size:",o.size),b(o,"csv-converted.zip"),v(),g("Conversion Complete",`Successfully converted ${t.files.length} CSV file(s) to PDF.`,"success",()=>h())}}catch(e){console.error("[CSV2PDF] ERROR:",e),console.error("[CSV2PDF] Error stack:",e.stack),v(),g("Error",`An error occurred during conversion. Error: ${e.message}`)}},L=e=>{e&&e.length>0&&(t.files=[...t.files,...Array.from(e)],m())};c&&r&&(c.addEventListener("change",e=>{L(e.target.files)}),r.addEventListener("dragover",e=>{e.preventDefault(),r.classList.add("bg-gray-700")}),r.addEventListener("dragleave",e=>{e.preventDefault(),r.classList.remove("bg-gray-700")}),r.addEventListener("drop",e=>{e.preventDefault(),r.classList.remove("bg-gray-700");const s=e.dataTransfer?.files;if(s&&s.length>0){const i=Array.from(s).filter(o=>o.name.toLowerCase().endsWith(".csv")||o.type==="text/csv");if(i.length>0){const o=new DataTransfer;i.forEach(n=>o.items.add(n)),L(o.files)}}}),c.addEventListener("click",()=>{c.value=""})),y&&y.addEventListener("click",()=>{c.click()}),E&&E.addEventListener("click",()=>{h()}),D&&D.addEventListener("click",w),m()});
