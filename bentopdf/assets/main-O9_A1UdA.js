import"./style-CNx3HTbi.js";import"./version-D4ympJL5.js";import"./simple-mode-footer-ODFatrFN.js";import"./main-Dqs2Ohqn.js";const i=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.port!=="";i?(console.log("[Dev Mode] Service Worker registration skipped in development"),console.log("Service Worker will be active in production builds")):"serviceWorker"in navigator&&window.addEventListener("load",()=>{const r="/bentopdf/sw.js";console.log("[SW] Registering Service Worker at:",r),navigator.serviceWorker.register(r).then(e=>{console.log("[SW] Service Worker registered successfully:",e.scope),setInterval(()=>{e.update()},1440*60*1e3),e.addEventListener("updatefound",()=>{const o=e.installing;o&&o.addEventListener("statechange",()=>{o.state==="installed"&&navigator.serviceWorker.controller&&(console.log("[SW] New version available! Reload to update."),confirm("A new version of BentoPDF is available. Reload to update?")&&(o.postMessage({type:"SKIP_WAITING"}),window.location.reload()))})})}).catch(e=>{console.error("[SW] Service Worker registration failed:",e)}),navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("[SW] New service worker activated, reloading..."),window.location.reload()})});
