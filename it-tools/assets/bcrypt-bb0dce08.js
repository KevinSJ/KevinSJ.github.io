import{t as $,cg as I,d as N,bY as U,l as e,a0 as A,cf as B,r as h,i as E,f as W,o as j,c as z,k as l,w as _,m as T,a as D,G as S,a6 as G,ch as H,a7 as L,D as O,x as R,ai as Y,s as q,af as J}from"./index-0c1fde36.js";import{h as K,c as Q}from"./index-922f2090.js";import{N as X}from"./Progress-cb02197e.js";import{_ as Z}from"./FormItem-1b9a5952.js";import{_ as ee}from"./Form-a433c14f.js";import"./index-19e2bc48.js";import"./index-892bd980.js";import"./browser-703720a1.js";import"./index-649b5bab.js";import"./index-a6f01dde.js";import"./inherits_browser-6f38ab1b.js";import"./index-0397ab6f.js";import"./index-fdbe2ce9.js";import"./string_decoder-8ac4312e.js";import"./hash-f152040d.js";import"./context-00991937.js";Intl.DurationFormat??=class{format(t){return"seconds"in t?`${t.seconds} seconds`:`${t.milliseconds} milliseconds`}};async function*te(P,t,f){const{timeoutMs:g=1e4}=f??{},p=AbortSignal.any([AbortSignal.timeout(g),f?.signal].filter(o=>o!=null));let k=o=>{};const y=()=>new Promise(o=>k=o),r=[y()],c=o=>{k(o),r.push(y())},b=Date.now();P(t[0],t[1],(o,x)=>{c(o==null?{kind:"success",value:x,timeTakenMs:Date.now()-b}:{kind:"error",message:o.message})},o=>{if(p.aborted){if(c({kind:"progress",progress:0}),p.reason instanceof DOMException&&p.reason.name==="TimeoutError"){const x=$("tools.bcrypt.texts.timed-out-after-timeout-period",{timeoutPeriod:new Intl.DurationFormat(I(),{style:"long"}).format({seconds:Math.round(g/1e3)})});c({kind:"error",message:x})}throw p.reason}else c({kind:"progress",progress:o})});for await(const o of r)if(yield o,o.kind==="success"||o.kind==="error")return}const oe={"mt-1":"","h-3":"","op-60":""},le={"mt-5":"",flex:"","justify-center":""},se={"mb-1":"","mt-1":"","h-3":"","op-60":""},we=N({__name:"bcrypt",setup(P){U(v=>({"6f124d60":e(g).errorColor,f837a1f6:e(g).successColor}));const{t,locale:f}=A(),g=B(),p=()=>({result:null,percentage:0,error:null,timeTakenMs:null});async function k(v,s,a,n){const[u,w]=s;if(!(u==null||w==null))for await(const d of te(v,[u,w],{signal:a,timeoutMs:1e4}))switch(d.kind){case"progress":{n.percentage=Math.round(d.progress*100);break}case"success":{n.result=d.value,n.timeTakenMs=d.timeTakenMs;break}case"error":{n.error=d.message;break}}}function y(v,s,a){let n=new AbortController;O(s,u=>{n.abort(),n=new AbortController,a.value=p(),k(v,u,n.signal,a.value)})}const r=h(p()),c=h(""),b=h(10);y(K,[c,b],r);const o=E(()=>r.value.result??""),{copy:x}=W({source:o,text:t("tools.bcrypt.texts.text-hashed-string-copied-to-the-clipboard")}),i=h(p()),M=h(""),C=h("");return y(Q,[M,C],i),(v,s)=>{const a=R,n=Y,u=Z,w=X,d=q,V=J,F=ee;return j(),z(L,null,[l(V,{title:e(t)("tools.bcrypt.texts.title-hash")},{default:_(()=>[l(a,{value:e(c),"onUpdate:value":s[0]||(s[0]=m=>T(c)?c.value=m:null),placeholder:e(t)("tools.bcrypt.texts.placeholder-your-string-to-bcrypt"),"raw-text":"",label:e(t)("tools.bcrypt.texts.label-your-string"),"label-position":"left","label-align":"right","label-width":"120px","mb-2":""},null,8,["value","placeholder","label"]),l(u,{label:e(t)("tools.bcrypt.texts.label-salt-count"),"label-placement":"left","label-width":"120"},{default:_(()=>[l(n,{value:e(b),"onUpdate:value":s[1]||(s[1]=m=>T(b)?b.value=m:null),placeholder:e(t)("tools.bcrypt.texts.placeholder-salt-rounds"),max:20,min:4,"w-full":""},null,8,["value","placeholder"])]),_:1},8,["label"]),l(w,{percentage:e(r).percentage,"show-indicator":!1},null,8,["percentage"]),l(a,{value:e(r).result??void 0,placeholder:e(r).error??e(t)("tools.bcrypt.texts.hashed-string"),readonly:"","text-center":""},null,8,["value","placeholder"]),D("div",oe,S(e(r).timeTakenMs==null?"":e(t)("tools.bcrypt.texts.hashed-in-elapsed-period",{elapsedPeriod:new Intl.DurationFormat(e(f),{style:"long"}).format({milliseconds:e(r).timeTakenMs})})),1),D("div",le,[l(d,{onClick:s[2]||(s[2]=m=>e(x)())},{default:_(()=>[G(S(e(t)("tools.bcrypt.texts.tag-copy-hash")),1)]),_:1})])]),_:1},8,["title"]),l(V,{title:e(t)("tools.bcrypt.texts.title-compare-string-with-hash")},{default:_(()=>[l(F,{"label-width":"120"},{default:_(()=>[l(u,{label:e(t)("tools.bcrypt.texts.label-your-string"),"label-placement":"left"},{default:_(()=>[l(a,{value:e(M),"onUpdate:value":s[3]||(s[3]=m=>T(M)?M.value=m:null),placeholder:e(t)("tools.bcrypt.texts.placeholder-your-string-to-compare"),"raw-text":""},null,8,["value","placeholder"])]),_:1},8,["label"]),l(u,{label:e(t)("tools.bcrypt.texts.label-your-hash"),"label-placement":"left"},{default:_(()=>[l(a,{value:e(C),"onUpdate:value":s[4]||(s[4]=m=>T(C)?C.value=m:null),placeholder:e(t)("tools.bcrypt.texts.placeholder-your-hash-to-compare"),"raw-text":""},null,8,["value","placeholder"])]),_:1},8,["label"]),l(w,{percentage:e(i).percentage,"show-indicator":!1},null,8,["percentage"]),D("div",null,[l(a,{id:"bcrypt-compare-result",value:e(i).result==null?void 0:e(i).result?e(t)("tools.bcrypt.texts.matched"):e(t)("tools.bcrypt.texts.no-match"),placeholder:e(i).error??e(t)("tools.bcrypt.texts.comparison-result"),readonly:"","text-center":"",class:H(["compare-result",e(i).result==null?void 0:e(i).result?"positive":"negative"])},null,8,["value","placeholder","class"])]),D("div",se,S(e(i).timeTakenMs==null?"":e(t)("tools.bcrypt.texts.compared-in-elapsed-period",{elapsedPeriod:new Intl.DurationFormat(e(f),{style:"long"}).format({milliseconds:e(i).timeTakenMs})})),1)]),_:1})]),_:1},8,["title"])],64)}}});export{we as default};
