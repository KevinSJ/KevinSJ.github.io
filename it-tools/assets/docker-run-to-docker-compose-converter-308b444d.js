import{d as P,a0 as A,r as y,ac as w,i as u,o as p,c as d,k as o,l as e,m as i,w as l,a as k,a6 as E,G as h,a7 as L,a8 as j,ad as G,x as M,a_ as Q,ae as q,ak as H,s as J}from"./index-0c1fde36.js";import{_ as K}from"./c-monaco-editor.vue_vue_type_script_setup_true_lang-735b1924.js";import{c as W}from"./composerize-4a5589d8.js";import{u as X}from"./downloadBase64-508288e2.js";import{t as Y}from"./base64-23b41491.js";import{_ as Z}from"./TextareaCopyable-59231e95.js";import{_ as ee}from"./Divider-5fc425b0.js";import{_ as oe,a as te}from"./Grid-1acaa06e.js";import{_ as ne}from"./FormItem-1b9a5952.js";import{N as re}from"./Alert-a9fb131b.js";import"./editor.main-9e6d3164.js";import"./index-a6f01dde.js";import"./index-6fddb70d.js";import"./index-cfd4d427.js";import"./base64-ae7cf34b.js";import"./Copy-ef9ec73c.js";import"./Scrollbar-54724e22.js";import"./get-slot-1efb97e5.js";import"./context-00991937.js";const le={relative:"","w-full":""},ae={"mt-5":"",flex:"","justify-center":""},se={key:0},Ve=P({__name:"docker-run-to-docker-compose-converter",setup(ce){const{t}=A(),a=y("docker run -p 80:80 -v /var/run/docker.sock:/tmp/docker.sock:ro --restart always --log-opt max-size=1g nginx"),s=w({name:"indent",storageName:"docker-run-to-compose:indent-size",defaultValue:4}),c=y(""),m=w({name:"fmt",storageName:"docker-run-to-compose:format",defaultValue:"latest"}),N=[{value:"v2x",label:t("tools.docker-run-to-docker-compose-converter.texts.label-v2-2-x")},{value:"v3x",label:t("tools.docker-run-to-docker-compose-converter.texts.label-v2-3-x")},{value:"latest",label:t("tools.docker-run-to-docker-compose-converter.texts.label-commonspec")}],f=u(()=>{try{return{yaml:W(a.value.trim(),c.value,m.value,s.value),errors:[]}}catch(g){return{yaml:"#see error messages",errors:g.toString().split(`
`)}}}),_=u(()=>f.value.yaml),x=u(()=>f.value.errors),C=u(()=>`data:application/yaml;base64,${Y(_.value)}`),{download:O}=X({source:C,filename:"docker-compose.yml"}),B={automaticLayout:!0,formatOnType:!0,formatOnPaste:!0};return(g,r)=>{const V=M,v=ee,$=K,z=Q,S=q,b=oe,T=H,D=ne,F=te,R=J,U=re;return p(),d("div",null,[o(V,{value:e(a),"onUpdate:value":r[0]||(r[0]=n=>i(a)?a.value=n:null),label:e(t)("tools.docker-run-to-docker-compose-converter.texts.label-your-docker-run-command-s"),style:{"font-family":"monospace"},multiline:"","raw-text":"",monospace:"",placeholder:e(t)("tools.docker-run-to-docker-compose-converter.texts.placeholder-your-docker-run-command-s-to-convert"),rows:"4"},null,8,["value","label","placeholder"]),o(v),o(z,{label:e(t)("tools.docker-run-to-docker-compose-converter.texts.label-eventually-paste-your-existing-docker-compose")},{default:l(()=>[k("div",le,[o($,{value:e(c),"onUpdate:value":r[1]||(r[1]=n=>i(c)?c.value=n:null),theme:"vs-dark",language:"yaml",height:"100px",options:B},null,8,["value"])])]),_:1},8,["label"]),o(v),o(F,{cols:"4","x-gap":"12","w-full":""},{default:l(()=>[o(b,{span:"2"},{default:l(()=>[o(S,{value:e(m),"onUpdate:value":r[2]||(r[2]=n=>i(m)?m.value=n:null),"label-position":"top",label:e(t)("tools.docker-run-to-docker-compose-converter.texts.label-docker-compose-format"),options:N,placeholder:e(t)("tools.docker-run-to-docker-compose-converter.texts.placeholder-select-docker-compose-format")},null,8,["value","label","placeholder"])]),_:1}),o(b,{span:"2"},{default:l(()=>[o(D,{label:e(t)("tools.docker-run-to-docker-compose-converter.texts.label-indent-size"),"label-placement":"top","label-width":"100","show-feedback":!1},{default:l(()=>[o(T,{value:e(s),"onUpdate:value":r[3]||(r[3]=n=>i(s)?s.value=n:null),min:"0",max:"10","w-100px":""},null,8,["value"])]),_:1},8,["label"])]),_:1})]),_:1}),o(v),o(Z,{value:e(_),language:"yaml"},null,8,["value"]),k("div",ae,[o(R,{disabled:e(_)==="",secondary:"",onClick:e(O)},{default:l(()=>[E(h(e(t)("tools.docker-run-to-docker-compose-converter.texts.tag-download-docker-compose-yml")),1)]),_:1},8,["disabled","onClick"])]),e(x).length>0?(p(),d("div",se,[o(U,{title:e(t)("tools.docker-run-to-docker-compose-converter.texts.title-the-following-errors-occured"),type:"error","mt-5":""},{default:l(()=>[k("ul",null,[(p(!0),d(L,null,j(e(x),(n,I)=>(p(),d("li",{key:I},h(n),1))),128))])]),_:1},8,["title"])])):G("",!0)])}}});export{Ve as default};
