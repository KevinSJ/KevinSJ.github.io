import{_ as A}from"./InputCopyable.vue_vue_type_script_setup_true_lang-294ac243.js";import{d as k,a0 as T,r as D,i as v,o as N,j as z,w as n,k as r,l as t,a,G as o,ai as S}from"./index-0c1fde36.js";import{_ as U}from"./Select-9917c364.js";import{_ as B}from"./FormItem-1b9a5952.js";import{_ as C}from"./Divider-5fc425b0.js";import{_ as F}from"./Form-a433c14f.js";import{_ as Z}from"./Card-7ba5ce79.js";import"./Tag-e75b8dae.js";import"./FocusDetector-089b8822.js";import"./VirtualList-8140ffff.js";import"./Empty-ca426d71.js";import"./index-cbfaa337.js";import"./context-00991937.js";const L={border:"1",cellpadding:"8",cellspacing:"0"},X=k({__name:"mttdl-calculator",setup(M){const{t:l}=T(),u=D({raidLevel:"RAID 5",numDrives:6,mtbf:1e6,rebuildTime:24,ber:-15,driveCapacityTB:4,yearsToSimulate:5}),_=[{label:l("tools.mttdl-calculator.texts.label-raid-0"),value:"RAID 0"},{label:l("tools.mttdl-calculator.texts.label-raid-1"),value:"RAID 1"},{label:l("tools.mttdl-calculator.texts.label-raid-5"),value:"RAID 5"},{label:l("tools.mttdl-calculator.texts.label-raid-6"),value:"RAID 6"},{label:l("tools.mttdl-calculator.texts.label-raid-10"),value:"RAID 10"},{label:l("tools.mttdl-calculator.texts.label-raid-z1"),value:"RAID-Z1"},{label:l("tools.mttdl-calculator.texts.label-raid-z2"),value:"RAID-Z2"},{label:l("tools.mttdl-calculator.texts.label-raid-z3"),value:"RAID-Z3"},{label:l("tools.mttdl-calculator.texts.label-raid-50"),value:"RAID 50"}];function y(m,e,d,s){const c=1/d;switch(m){case"RAID 0":return d/e;case"RAID 1":return d/(e*(e-1));case"RAID 5":return d/(e*(e-1)*c*s);case"RAID 6":return d/(e*(e-1)*(e-2)*c*s);case"RAID 10":return d/(e/2);default:return 0}}function h({raidLevel:m,numDrives:e,mtbf:d,rebuildTime:s,ber:c,driveCapacityTB:g}){const p=1/d,f=g*1e12*8,b=1-(1-10**c)**f,i=5,R=Math.floor(e/i);switch(m){case"RAID-Z1":return d/(e*(e-1)*p*s*b);case"RAID-Z2":return d/(e*(e-1)*(e-2)*p*s*b);case"RAID-Z3":return d/(e*(e-1)*(e-2)*(e-3)*p*s*b);case"RAID 50":return d/(R*i*(i-1)*p*s);default:return y(m,e,d,s)}}const x=v(()=>{const m=h(u.value);return{hours:m,years:m/8760}});function I(m,e){const d=e*365.25*24;return 1-Math.exp(-d/m)}const w=v(()=>I(x.value.hours,u.value.yearsToSimulate));return(m,e)=>{const d=U,s=B,c=S,g=C,p=A,f=F,b=Z;return N(),z(b,{title:t(l)("tools.mttdl-calculator.texts.title-mttdl-failure-probability-calculator"),style:{"max-width":"600px",margin:"auto"}},{default:n(()=>[r(f,{model:t(u),"label-width":"190px","label-placement":"left"},{default:n(()=>[r(s,{label:t(l)("tools.mttdl-calculator.texts.label-raid-level")},{default:n(()=>[r(d,{value:t(u).raidLevel,"onUpdate:value":e[0]||(e[0]=i=>t(u).raidLevel=i),options:_,placeholder:t(l)("tools.mttdl-calculator.texts.placeholder-select-raid-level")},null,8,["value","placeholder"])]),_:1},8,["label"]),r(s,{label:t(l)("tools.mttdl-calculator.texts.label-number-of-drives")},{default:n(()=>[r(c,{value:t(u).numDrives,"onUpdate:value":e[1]||(e[1]=i=>t(u).numDrives=i),min:1},null,8,["value"])]),_:1},8,["label"]),r(s,{label:t(l)("tools.mttdl-calculator.texts.label-drive-mtbf-hours")},{default:n(()=>[r(c,{value:t(u).mtbf,"onUpdate:value":e[2]||(e[2]=i=>t(u).mtbf=i),min:1},null,8,["value"])]),_:1},8,["label"]),r(s,{label:t(l)("tools.mttdl-calculator.texts.label-rebuild-time-hours")},{default:n(()=>[r(c,{value:t(u).rebuildTime,"onUpdate:value":e[3]||(e[3]=i=>t(u).rebuildTime=i),min:1},null,8,["value"])]),_:1},8,["label"]),r(s,{label:t(l)("tools.mttdl-calculator.texts.label-bit-error-rate-ber-in-1ex")},{default:n(()=>[r(c,{value:t(u).ber,"onUpdate:value":e[4]||(e[4]=i=>t(u).ber=i),min:-18,max:-6},null,8,["value"])]),_:1},8,["label"]),r(s,{label:t(l)("tools.mttdl-calculator.texts.label-drive-capacity-tb")},{default:n(()=>[r(c,{value:t(u).driveCapacityTB,"onUpdate:value":e[5]||(e[5]=i=>t(u).driveCapacityTB=i),min:1},null,8,["value"])]),_:1},8,["label"]),r(s,{label:t(l)("tools.mttdl-calculator.texts.label-years-for-failure-probability")},{default:n(()=>[r(c,{value:t(u).yearsToSimulate,"onUpdate:value":e[6]||(e[6]=i=>t(u).yearsToSimulate=i),min:1},null,8,["value"])]),_:1},8,["label"]),r(g),r(s,{label:t(l)("tools.mttdl-calculator.texts.label-mttdl-hours")},{default:n(()=>[r(p,{value:t(x).hours.toFixed(2)},null,8,["value"])]),_:1},8,["label"]),r(s,{label:t(l)("tools.mttdl-calculator.texts.label-mttdl-years")},{default:n(()=>[r(p,{value:t(x).years.toFixed(2)},null,8,["value"])]),_:1},8,["label"]),r(s,{label:t(l)("tools.mttdl-calculator.texts.label-failure-probability")},{default:n(()=>[r(p,{value:`${(t(w)*100).toFixed(4)}%`},null,8,["value"])]),_:1},8,["label"]),r(g),a("details",null,[a("summary",null,o(t(l)("tools.mttdl-calculator.texts.tag-key-terms-explained")),1),a("h3",null,o(t(l)("tools.mttdl-calculator.texts.tag-raid-level")),1),a("p",null,o(t(l)("tools.mttdl-calculator.texts.tag-raid-redundant-array-of-independent-disks-is-a-method-of-combining-multiple-physical-drives-into-one-logical-unit-to-improve-performance-redundancy-or-both")),1),a("table",L,[a("thead",null,[a("tr",null,[a("th",null,o(t(l)("tools.mttdl-calculator.texts.tag-raid-level")),1),a("th",null,o(t(l)("tools.mttdl-calculator.texts.tag-description")),1)])]),a("tbody",null,[a("tr",null,[a("td",null,o(t(l)("tools.mttdl-calculator.texts.tag-raid-0")),1),a("td",null,o(t(l)("tools.mttdl-calculator.texts.tag-striping-only-no-redundancy-fast-but-risky-if-one-drive-fails-all-data-is-lost")),1)]),a("tr",null,[a("td",null,o(t(l)("tools.mttdl-calculator.texts.tag-raid-1")),1),a("td",null,o(t(l)("tools.mttdl-calculator.texts.tag-mirroring-data-is-duplicated-across-drives-high-redundancy-low-capacity-efficiency")),1)]),a("tr",null,[a("td",null,o(t(l)("tools.mttdl-calculator.texts.tag-raid-5")),1),a("td",null,o(t(l)("tools.mttdl-calculator.texts.tag-striping-with-parity-can-tolerate-one-drive-failure-balanced-speed-and-redundancy")),1)]),a("tr",null,[a("td",null,o(t(l)("tools.mttdl-calculator.texts.tag-raid-6")),1),a("td",null,o(t(l)("tools.mttdl-calculator.texts.tag-double-parity-can-survive-two-drive-failures")),1)]),a("tr",null,[a("td",null,o(t(l)("tools.mttdl-calculator.texts.tag-raid-10")),1),a("td",null,o(t(l)("tools.mttdl-calculator.texts.tag-mirrored-pairs-striped-together-high-performance-and-redundancy")),1)]),a("tr",null,[a("td",null,o(t(l)("tools.mttdl-calculator.texts.tag-raid-z1-z2-z3")),1),a("td",null,o(t(l)("tools.mttdl-calculator.texts.tag-zfs-based-raid-levels-with-single-double-or-triple-parity-designed-for-data-integrity")),1)]),a("tr",null,[a("td",null,o(t(l)("tools.mttdl-calculator.texts.tag-raid-50")),1),a("td",null,o(t(l)("tools.mttdl-calculator.texts.tag-stripe-of-raid-5-arrays-combines-performance-of-raid-0-with-redundancy-of-raid-5")),1)])])]),a("h3",null,o(t(l)("tools.mttdl-calculator.texts.tag-Ô∏è-mtbf-mean-time-between-failures")),1),a("p",null,o(t(l)("tools.mttdl-calculator.texts.tag-the-average-time-in-hours-a-drive-is-expected-to-operate-before-failing-higher-mtbf-means-more-reliable-hardware")),1),a("h3",null,o(t(l)("tools.mttdl-calculator.texts.tag-rebuild-time")),1),a("p",null,o(t(l)("tools.mttdl-calculator.texts.tag-the-time-required-to-reconstruct-data-on-a-replacement-drive-after-a-failure-longer-rebuild-times-increase-the-risk-of-a-second-failure-during-recovery")),1),a("h3",null,o(t(l)("tools.mttdl-calculator.texts.tag-mttdl-mean-time-to-data-loss")),1),a("p",null,o(t(l)("tools.mttdl-calculator.texts.tag-a-statistical-estimate-of-how-long-a-raid-system-can-operate-before-data-loss-occurs-it-considers-drive-failures-rebuild-time-and-raid-redundancy-higher-mttdl-means-a-safer-system")),1),a("h3",null,o(t(l)("tools.mttdl-calculator.texts.tag-bit-error-rate-ber")),1),a("p",null,o(t(l)("tools.mttdl-calculator.texts.tag-the-probability-that-a-bit-read-from-a-disk-will-be-incorrect-due-to-hardware-limitations-even-tiny-bers-like-1-in-a-trillion-can-cause-issues-during-rebuilds-especially-with-large-drives")),1),a("h3",null,o(t(l)("tools.mttdl-calculator.texts.tag-unrecoverable-read-error-ure")),1),a("p",null,o(t(l)("tools.mttdl-calculator.texts.tag-occurs-when-a-drive-fails-to-read-a-sector-during-rebuild-ber-contributes-to-ure-risk-which-can-compromise-raid-recovery")),1),a("h3",null,o(t(l)("tools.mttdl-calculator.texts.tag-drive-capacity-tb")),1),a("p",null,o(t(l)("tools.mttdl-calculator.texts.tag-total-storage-per-drive-larger-drives-take-longer-to-rebuild-and-are-more-susceptible-to-ber-related-errors")),1),a("h3",null,o(t(l)("tools.mttdl-calculator.texts.tag-failure-probability")),1),a("p",null,o(t(l)("tools.mttdl-calculator.texts.tag-the-chance-that-the-raid-system-will-experience-data-loss-over-a-given-time-period-e-g-5-years-calculated-using-mttdl-and-exponential-failure-models")),1)])]),_:1},8,["model"])]),_:1},8,["title"])}}});export{X as default};
