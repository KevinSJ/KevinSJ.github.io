import{_ as $}from"./TextareaCopyable-59231e95.js";import{d as C,a0 as U,al as z,i as F,o as k,j as A,w as l,k as o,l as e,a6 as i,G as p,ah as E,b4 as O,ak as R}from"./index-0c1fde36.js";import{_ as N}from"./FormItem-1b9a5952.js";import{_ as D}from"./Select-9917c364.js";import{_ as S}from"./Switch-a0f825a4.js";import{_ as T}from"./Divider-5fc425b0.js";import{_ as q}from"./Card-7ba5ce79.js";import{_ as L}from"./Form-a433c14f.js";import"./base64-ae7cf34b.js";import"./index-a6f01dde.js";import"./downloadBase64-508288e2.js";import"./index-6fddb70d.js";import"./index-cfd4d427.js";import"./Copy-ef9ec73c.js";import"./Scrollbar-54724e22.js";import"./context-00991937.js";import"./Tag-e75b8dae.js";import"./FocusDetector-089b8822.js";import"./VirtualList-8140ffff.js";import"./Empty-ca426d71.js";import"./index-cbfaa337.js";const ne=C({__name:"logrotate-generator",setup(w){const{t:r}=U(),t=z("logrotate:config",{path:"/var/log/apache2/*.log",rotateCount:1,frequency:"weekly",minSize:"10M",size:"10M",createFile:!0,copy:!1,copyTruncate:!1,startNumber:1,extension:".log",dateExt:!1,dateFormat:"-%Y%m%d",missingOk:!0,compress:!0,delayCompress:!1,compressExt:".gz",compressCmd:"gzip",compressOptions:"-9",uncompressCmd:"gunzip",oldDir:"/path/foo/",mail:"",mailFirst:!1,mailLast:!1,shred:!1,shredCycles:1,firstAction:"",preRotate:"",postRotate:"",lastAction:""}),c=["daily","weekly","monthly","yearly"],n={path:r("tools.logrotate-generator.texts.path"),rotateCount:r("tools.logrotate-generator.texts.rotateCount"),frequency:r("tools.logrotate-generator.texts.frequency"),minSize:r("tools.logrotate-generator.texts.minSize"),size:r("tools.logrotate-generator.texts.size"),createFile:r("tools.logrotate-generator.texts.createFile"),copy:r("tools.logrotate-generator.texts.copy"),copyTruncate:r("tools.logrotate-generator.texts.copyTruncate"),startNumber:r("tools.logrotate-generator.texts.startNumber"),extension:r("tools.logrotate-generator.texts.extension"),dateExt:r("tools.logrotate-generator.texts.dateExt"),dateFormat:r("tools.logrotate-generator.texts.dateFormat"),missingOk:r("tools.logrotate-generator.texts.missingOk"),compress:r("tools.logrotate-generator.texts.compress"),delayCompress:r("tools.logrotate-generator.texts.delayCompress"),compressExt:r("tools.logrotate-generator.texts.compressExt"),compressCmd:r("tools.logrotate-generator.texts.compressCmd"),compressOptions:r("tools.logrotate-generator.texts.compressOptions"),uncompressCmd:r("tools.logrotate-generator.texts.uncompressCmd"),oldDir:r("tools.logrotate-generator.texts.oldDir"),mail:r("tools.logrotate-generator.texts.mail"),mailFirst:r("tools.logrotate-generator.texts.mailFirst"),mailLast:r("tools.logrotate-generator.texts.mailLast"),shred:r("tools.logrotate-generator.texts.shred"),shredCycles:r("tools.logrotate-generator.texts.shredCycles"),firstAction:r("tools.logrotate-generator.texts.firstAction"),preRotate:r("tools.logrotate-generator.texts.preRotate"),postRotate:r("tools.logrotate-generator.texts.postRotate"),lastAction:r("tools.logrotate-generator.texts.lastAction")},x=F(()=>`
${t.value.path} {
  rotate ${t.value.rotateCount}
  ${t.value.frequency}
  ${t.value.minSize?`minsize ${t.value.minSize}`:""}
  ${t.value.size?`size ${t.value.size}`:""}
  ${t.value.createFile?"create":"nocreate"}
  ${t.value.copy?"copy":"nocopy"}
  ${t.value.copyTruncate?"copytruncate":"nocopytruncate"}
  start ${t.value.startNumber}
  ${t.value.extension?`extension ${t.value.extension}`:""}
  ${t.value.dateExt?"dateext":"nodateext"}
  ${t.value.dateExt?`dateformat ${t.value.dateFormat}`:""}
  ${t.value.missingOk?"missingok":"nomissingok"}
  ${t.value.compress?"compress":"nocompress"}
  ${t.value.delayCompress?"delaycompress":""}
  ${t.value.compressExt?`compressext ${t.value.compressExt}`:""}
  ${t.value.compressCmd?`compresscmd ${t.value.compressCmd}`:""}
  ${t.value.compressOptions?`compressoptions ${t.value.compressOptions}`:""}
  ${t.value.uncompressCmd?`uncompresscmd ${t.value.uncompressCmd}`:""}
  ${t.value.oldDir?`olddir ${t.value.oldDir}`:""}
  ${t.value.mail?`mail ${t.value.mail}`:""}
  ${t.value.mailFirst?"mailfirst":""}
  ${t.value.mailLast?"maillast":""}
  ${t.value.shred?"shred":"noshred"}
  ${t.value.shredCycles?`shredcycles ${t.value.shredCycles}`:""}
  ${t.value.firstAction?`firstaction
${t.value.firstAction}
endscript`:""}
  ${t.value.preRotate?`prerotate
${t.value.preRotate}
endscript`:""}
  ${t.value.postRotate?`postrotate
${t.value.postRotate}
endscript`:""}
  ${t.value.lastAction?`lastaction
${t.value.lastAction}
endscript`:""}
}
  `.trim().replace(/^\s*\n/mg,""));return(I,s)=>{const d=E,u=O,g=N,v=R,f=D,m=S,b=T,_=$,y=q,h=L;return k(),A(h,{"label-placement":"left","label-width":"180px"},{default:l(()=>[o(g,{label:e(r)("tools.logrotate-generator.texts.label-path")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(d,{value:e(t).path,"onUpdate:value":s[0]||(s[0]=a=>e(t).path=a),placeholder:e(r)("tools.logrotate-generator.texts.placeholder-enter-log-path-or-pattern")},null,8,["value","placeholder"])]),default:l(()=>[i(" "+p(n.path),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-rotate-count")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(v,{value:e(t).rotateCount,"onUpdate:value":s[1]||(s[1]=a=>e(t).rotateCount=a)},null,8,["value"])]),default:l(()=>[i(" "+p(n.rotateCount),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-frequency")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(f,{value:e(t).frequency,"onUpdate:value":s[2]||(s[2]=a=>e(t).frequency=a),options:c.map(a=>({label:a,value:a}))},null,8,["value","options"])]),default:l(()=>[i(" "+p(n.frequency),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-min-size")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(d,{value:e(t).minSize,"onUpdate:value":s[3]||(s[3]=a=>e(t).minSize=a),placeholder:e(r)("tools.logrotate-generator.texts.placeholder-enter-min-size-and-unit")},null,8,["value","placeholder"])]),default:l(()=>[i(" "+p(n.minSize),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-size")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(d,{value:e(t).size,"onUpdate:value":s[4]||(s[4]=a=>e(t).size=a),placeholder:e(r)("tools.logrotate-generator.texts.placeholder-enter-size-and-unit")},null,8,["value","placeholder"])]),default:l(()=>[i(" "+p(n.size),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-create-file")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(m,{value:e(t).createFile,"onUpdate:value":s[5]||(s[5]=a=>e(t).createFile=a)},null,8,["value"])]),default:l(()=>[i(" "+p(n.createFile),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-copy")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(m,{value:e(t).copy,"onUpdate:value":s[6]||(s[6]=a=>e(t).copy=a)},null,8,["value"])]),default:l(()=>[i(" "+p(n.copy),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-copy-truncate")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(m,{value:e(t).copyTruncate,"onUpdate:value":s[7]||(s[7]=a=>e(t).copyTruncate=a)},null,8,["value"])]),default:l(()=>[i(" "+p(n.copyTruncate),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-start-number")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(v,{value:e(t).startNumber,"onUpdate:value":s[8]||(s[8]=a=>e(t).startNumber=a)},null,8,["value"])]),default:l(()=>[i(" "+p(n.startNumber),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-extension")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(d,{value:e(t).extension,"onUpdate:value":s[9]||(s[9]=a=>e(t).extension=a),placeholder:e(r)("tools.logrotate-generator.texts.placeholder-enter-extension")},null,8,["value","placeholder"])]),default:l(()=>[i(" "+p(n.extension),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-date-ext")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(m,{value:e(t).dateExt,"onUpdate:value":s[10]||(s[10]=a=>e(t).dateExt=a)},null,8,["value"])]),default:l(()=>[i(" "+p(n.dateExt),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-date-format")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(d,{value:e(t).dateFormat,"onUpdate:value":s[11]||(s[11]=a=>e(t).dateFormat=a),placeholder:e(r)("tools.logrotate-generator.texts.placeholder-enter-date-format")},null,8,["value","placeholder"])]),default:l(()=>[i(" "+p(n.dateFormat),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-missing-ok")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(m,{value:e(t).missingOk,"onUpdate:value":s[12]||(s[12]=a=>e(t).missingOk=a)},null,8,["value"])]),default:l(()=>[i(" "+p(n.missingOk),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-compress")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(m,{value:e(t).compress,"onUpdate:value":s[13]||(s[13]=a=>e(t).compress=a)},null,8,["value"])]),default:l(()=>[i(" "+p(n.compress),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-delay-compress")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(m,{value:e(t).delayCompress,"onUpdate:value":s[14]||(s[14]=a=>e(t).delayCompress=a)},null,8,["value"])]),default:l(()=>[i(" "+p(n.delayCompress),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-compress-ext")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(d,{value:e(t).compressExt,"onUpdate:value":s[15]||(s[15]=a=>e(t).compressExt=a),placeholder:e(r)("tools.logrotate-generator.texts.placeholder-enter-compression-extension")},null,8,["value","placeholder"])]),default:l(()=>[i(" "+p(n.compressExt),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-compress-cmd")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(d,{value:e(t).compressCmd,"onUpdate:value":s[16]||(s[16]=a=>e(t).compressCmd=a),placeholder:e(r)("tools.logrotate-generator.texts.placeholder-enter-command")},null,8,["value","placeholder"])]),default:l(()=>[i(" "+p(n.compressCmd),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-compress-options")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(d,{value:e(t).compressOptions,"onUpdate:value":s[17]||(s[17]=a=>e(t).compressOptions=a),placeholder:e(r)("tools.logrotate-generator.texts.placeholder-enter-compression-options")},null,8,["value","placeholder"])]),default:l(()=>[i(" "+p(n.compressOptions),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-uncompress-cmd")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(d,{value:e(t).uncompressCmd,"onUpdate:value":s[18]||(s[18]=a=>e(t).uncompressCmd=a),placeholder:e(r)("tools.logrotate-generator.texts.placeholder-enter-command")},null,8,["value","placeholder"])]),default:l(()=>[i(" "+p(n.uncompressCmd),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-old-dir")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(d,{value:e(t).oldDir,"onUpdate:value":s[19]||(s[19]=a=>e(t).oldDir=a),placeholder:e(r)("tools.logrotate-generator.texts.placeholder-enter-old-directory")},null,8,["value","placeholder"])]),default:l(()=>[i(" "+p(n.oldDir),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-mail")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(d,{value:e(t).mail,"onUpdate:value":s[20]||(s[20]=a=>e(t).mail=a),placeholder:e(r)("tools.logrotate-generator.texts.placeholder-enter-email")},null,8,["value","placeholder"])]),default:l(()=>[i(" "+p(n.mail),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-mail-first")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(m,{value:e(t).mailFirst,"onUpdate:value":s[21]||(s[21]=a=>e(t).mailFirst=a)},null,8,["value"])]),default:l(()=>[i(" "+p(n.mailFirst),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-mail-last")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(m,{value:e(t).mailLast,"onUpdate:value":s[22]||(s[22]=a=>e(t).mailLast=a)},null,8,["value"])]),default:l(()=>[i(" "+p(n.mailLast),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-shred")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(m,{value:e(t).shred,"onUpdate:value":s[23]||(s[23]=a=>e(t).shred=a)},null,8,["value"])]),default:l(()=>[i(" "+p(n.shred),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-shred-cycles")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(v,{value:e(t).shredCycles,"onUpdate:value":s[24]||(s[24]=a=>e(t).shredCycles=a)},null,8,["value"])]),default:l(()=>[i(" "+p(n.shredCycles),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-first-action")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(d,{value:e(t).firstAction,"onUpdate:value":s[25]||(s[25]=a=>e(t).firstAction=a),placeholder:e(r)("tools.logrotate-generator.texts.placeholder-enter-command")},null,8,["value","placeholder"])]),default:l(()=>[i(" "+p(n.firstAction),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-pre-rotate")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(d,{value:e(t).preRotate,"onUpdate:value":s[26]||(s[26]=a=>e(t).preRotate=a),placeholder:e(r)("tools.logrotate-generator.texts.placeholder-enter-command")},null,8,["value","placeholder"])]),default:l(()=>[i(" "+p(n.preRotate),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-post-rotate")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(d,{value:e(t).postRotate,"onUpdate:value":s[27]||(s[27]=a=>e(t).postRotate=a),placeholder:e(r)("tools.logrotate-generator.texts.placeholder-enter-command")},null,8,["value","placeholder"])]),default:l(()=>[i(" "+p(n.postRotate),1)]),_:1})]),_:1},8,["label"]),o(g,{label:e(r)("tools.logrotate-generator.texts.label-last-action")},{default:l(()=>[o(u,{trigger:"hover"},{trigger:l(()=>[o(d,{value:e(t).lastAction,"onUpdate:value":s[28]||(s[28]=a=>e(t).lastAction=a),placeholder:e(r)("tools.logrotate-generator.texts.placeholder-enter-command")},null,8,["value","placeholder"])]),default:l(()=>[i(" "+p(n.lastAction),1)]),_:1})]),_:1},8,["label"]),o(b),o(y,{title:e(r)("tools.logrotate-generator.texts.title-generated-config")},{default:l(()=>[o(_,{value:e(x)},null,8,["value"])]),_:1},8,["title"])]),_:1})}}});export{ne as default};
