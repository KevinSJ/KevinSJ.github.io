import{d as O,a0 as A,r as h,ba as x,al as w,i as E,o as K,c as C,k as a,w as c,l as t,m,ad as F,a as i,a6 as R,G as d,ae as T,ah as j,s as G}from"./index-0c1fde36.js";import{s as $}from"./index-522ff296.js";import{_ as N}from"./TextareaCopyable-59231e95.js";import{a as q}from"./defaults-4d6daddf.js";import{c as z}from"./computedRefreshable-6ca60894.js";import{_ as H}from"./Space-7fc52151.js";import{_ as J}from"./FormItem-1b9a5952.js";import{_ as L}from"./Divider-5fc425b0.js";import"./index-a6f01dde.js";import"./assert-53be9de1.js";import"./index-fdbe2ce9.js";import"./string_decoder-8ac4312e.js";import"./index-649b5bab.js";import"./inherits_browser-6f38ab1b.js";import"./index-0397ab6f.js";import"./index-b4fd5f8c.js";import"./safer-073402ba.js";import"./index-892bd980.js";import"./browser-703720a1.js";import"./hash-f152040d.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./base64-ae7cf34b.js";import"./downloadBase64-508288e2.js";import"./index-6fddb70d.js";import"./index-cfd4d427.js";import"./Copy-ef9ec73c.js";import"./Scrollbar-54724e22.js";import"./get-slot-1efb97e5.js";import"./context-00991937.js";async function M(o={}){const e=$.generatePrivateKey("ecdsa",{curve:o?.curve});e.comment=o?.comment;const n=o.format??"ssh";let s=o.format??"ssh";return s==="ssh"&&(s="ssh-private"),{publicKey:e.toPublic().toString(n),privateKey:o?.password?e.toString(s,{passphrase:o?.password,comment:o?.comment}):e.toString(s,{comment:o?.comment})}}const Q={key:0,"mb-1":"","mt-3":""},W={"mb-2":""},Pe=O({__name:"ecdsa-key-pair-generator",setup(o){const{t:e}=A(),n=h(""),s=h(""),_=x(s,250),P=x(n,250),v={publicKey:"",privateKey:""},u=w("ecdsa-key-pair-generator:curve","nistp256"),S=[{value:"nistp256",label:e("tools.ecdsa-key-pair-generator.texts.label-nistp256")},{value:"nistp384",label:e("tools.ecdsa-key-pair-generator.texts.label-nistp384")},{value:"nistp521",label:e("tools.ecdsa-key-pair-generator.texts.label-nistp521")}],p=w("ecdsa-key-pair-generator:format","ssh"),U=[{value:"pem",label:e("tools.ecdsa-key-pair-generator.texts.label-pem")},{value:"pkcs8",label:e("tools.ecdsa-key-pair-generator.texts.label-pkcs-8")},{value:"ssh",label:e("tools.ecdsa-key-pair-generator.texts.label-openssh-standard")},{value:"openssh",label:e("tools.ecdsa-key-pair-generator.texts.label-openssh-new")},{value:"putty",label:e("tools.ecdsa-key-pair-generator.texts.label-putty")}],V=E(()=>p.value==="ssh"),[b,B]=z(()=>q(()=>M({password:P.value,format:p.value,curve:u.value,comment:_.value}),v),v);return(X,l)=>{const y=T,k=H,f=j,g=J,D=G,I=L;return K(),C("div",null,[a(k,{"mb-1":""},{default:c(()=>[a(y,{value:t(p),"onUpdate:value":l[0]||(l[0]=r=>m(p)?p.value=r:null),"label-position":"left",label:t(e)("tools.ecdsa-key-pair-generator.texts.label-format"),options:U,placeholder:t(e)("tools.ecdsa-key-pair-generator.texts.placeholder-select-a-key-format")},null,8,["value","label","placeholder"]),a(y,{value:t(u),"onUpdate:value":l[1]||(l[1]=r=>m(u)?u.value=r:null),"label-position":"left",label:t(e)("tools.ecdsa-key-pair-generator.texts.label-curve"),options:S,placeholder:t(e)("tools.ecdsa-key-pair-generator.texts.placeholder-select-a-curve-type")},null,8,["value","label","placeholder"])]),_:1}),t(V)?(K(),C("div",Q,[a(g,{label:t(e)("tools.ecdsa-key-pair-generator.texts.label-passphrase"),"label-placement":"left"},{default:c(()=>[a(f,{value:t(n),"onUpdate:value":l[2]||(l[2]=r=>m(n)?n.value=r:null),type:"password","show-password-on":"mousedown",placeholder:t(e)("tools.ecdsa-key-pair-generator.texts.placeholder-passphrase")},null,8,["value","placeholder"])]),_:1},8,["label"])])):F("",!0),i("div",W,[a(g,{label:t(e)("tools.ecdsa-key-pair-generator.texts.label-comment"),"label-placement":"left"},{default:c(()=>[a(f,{value:t(s),"onUpdate:value":l[3]||(l[3]=r=>m(s)?s.value=r:null),type:"text",placeholder:t(e)("tools.ecdsa-key-pair-generator.texts.placeholder-comment")},null,8,["value","placeholder"])]),_:1},8,["label"])]),a(k,{justify:"center","mb-1":""},{default:c(()=>[a(D,{onClick:t(B)},{default:c(()=>[R(d(t(e)("tools.ecdsa-key-pair-generator.texts.tag-refresh-key-pair")),1)]),_:1},8,["onClick"])]),_:1}),a(I),i("div",null,[i("h3",null,d(t(e)("tools.ecdsa-key-pair-generator.texts.tag-public-key")),1),a(N,{value:t(b).publicKey,"word-wrap":!0},null,8,["value"])]),i("div",null,[i("h3",null,d(t(e)("tools.ecdsa-key-pair-generator.texts.tag-private-key")),1),a(N,{value:t(b).privateKey},null,8,["value"])])])}}});export{Pe as default};
