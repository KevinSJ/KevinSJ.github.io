import{d as v,a0 as z,r as g,i as D,f as h,o as w,c as b,a as f,G as c,l,k as p,m as k,w as d,a6 as _,x,s as C}from"./index-0c1fde36.js";import{w as y}from"./defaults-4d6daddf.js";const E={"gmail.com":{removeDots:!0,stripPlus:!0},"googlemail.com":{removeDots:!0,stripPlus:!0,renameDomain:"gmail.com"},"hotmail.com":{removeDots:!1,stripPlus:!0},"live.com":{removeDots:!0,stripPlus:!0},"outlook.com":{removeDots:!1,stripPlus:!0}};function P({email:a}){if(!I({email:a}))throw new Error("Invalid email");const e=a.trim().toLowerCase(),[t,o]=e.split("@"),r=E[o];if(!r)return e;const{removeDots:i,stripPlus:n,renameDomain:s}=r,{normalizedIdentifier:m}=$({identifier:t,removeDots:i,stripPlus:n});return`${m}@${s??o}`}function $({identifier:a,removeDots:e,stripPlus:t}){let o=a;return e&&(o=o.replace(/\./g,"")),t&&(o=o.split("+")[0]),{normalizedIdentifier:o}}function I({email:a}){return typeof a!="string"?!1:a.trim().match(/^[\w.%+-]+@[a-z0-9.-]+\.[a-z]{2,}$/i)!==null}const V={class:"mb-2"},B={class:"mb-2 mt-4"},N={class:"mt-4 flex justify-center gap-2"},U=v({__name:"email-normalizer",setup(a){const{t:e}=z(),t=g(""),o=D(()=>t.value?t.value.split(`
`).map(i=>y(()=>P({email:i}),`Unable to parse email: ${i}`)).join(`
`):""),{copy:r}=h({source:o,text:e("tools.email-normalizer.copied"),createToast:!0});return(i,n)=>{const s=x,m=C;return w(),b("div",null,[f("div",V,c(l(e)("tools.email-normalizer.input")),1),p(s,{value:l(t),"onUpdate:value":n[0]||(n[0]=u=>k(t)?t.value=u:null),placeholder:l(e)("tools.email-normalizer.input-placeholder"),rows:"3",multiline:"",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",autofocus:"",monospace:""},null,8,["value","placeholder"]),f("div",B,c(l(e)("tools.email-normalizer.output")),1),p(s,{value:l(o),placeholder:l(e)("tools.email-normalizer.output-placeholder"),rows:"3",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",multiline:"",readonly:"",monospace:""},null,8,["value","placeholder"]),f("div",N,[p(m,{onClick:n[1]||(n[1]=u=>t.value="")},{default:d(()=>[_(c(l(e)("tools.email-normalizer.button.clear")),1)]),_:1}),p(m,{disabled:!l(o),onClick:n[2]||(n[2]=u=>l(r)())},{default:d(()=>[_(c(l(e)("tools.email-normalizer.button.copy")),1)]),_:1},8,["disabled"])])])}}});export{U as default};
