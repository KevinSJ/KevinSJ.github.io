import{d as Qr,a0 as Wr,r as Ir,i as sr,o as Xr,c as Yr,k as X,w as dr,l as b,m as yr,a as Y,G as hr,x as jr,af as Lr}from"./index-0c1fde36.js";import{g as gr}from"./base64-ae7cf34b.js";import{_ as wr}from"./TextareaCopyable-59231e95.js";import{w as mr}from"./defaults-4d6daddf.js";import"./index-a6f01dde.js";import"./downloadBase64-508288e2.js";import"./index-6fddb70d.js";import"./index-cfd4d427.js";import"./Copy-ef9ec73c.js";import"./Scrollbar-54724e22.js";var y=Uint8Array,R=Uint16Array,Er=Int32Array,pr=new y([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),zr=new y([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ar=new y([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Rr=function(r,e){for(var n=new R(31),a=0;a<31;++a)n[a]=e+=1<<r[a-1];for(var l=new Er(n[30]),a=1;a<30;++a)for(var v=n[a];v<n[a+1];++v)l[v]=v-n[a]<<5|a;return{b:n,r:l}},Zr=Rr(pr,2),$r=Zr.b,kr=Zr.r;$r[28]=258,kr[258]=28;var Hr=Rr(zr,0),re=Hr.b,Gr=Hr.r,Fr=new R(32768);for(var w=0;w<32768;++w){var j=(w&43690)>>1|(w&21845)<<1;j=(j&52428)>>2|(j&13107)<<2,j=(j&61680)>>4|(j&3855)<<4,Fr[w]=((j&65280)>>8|(j&255)<<8)>>1}var K=function(r,e,n){for(var a=r.length,l=0,v=new R(e);l<a;++l)r[l]&&++v[r[l]-1];var f=new R(e);for(l=1;l<e;++l)f[l]=f[l-1]+v[l-1]<<1;var u;if(n){u=new R(1<<e);var h=15-e;for(l=0;l<a;++l)if(r[l])for(var i=l<<4|r[l],t=e-r[l],o=f[r[l]-1]++<<t,c=o|(1<<t)-1;o<=c;++o)u[Fr[o]>>h]=i}else for(u=new R(a),l=0;l<a;++l)r[l]&&(u[l]=Fr[f[r[l]-1]++]>>15-r[l]);return u},L=new y(288);for(var w=0;w<144;++w)L[w]=8;for(var w=144;w<256;++w)L[w]=9;for(var w=256;w<280;++w)L[w]=7;for(var w=280;w<288;++w)L[w]=8;var fr=new y(32);for(var w=0;w<32;++w)fr[w]=5;var ee=K(L,9,0),ne=K(L,9,1),ae=K(fr,5,0),le=K(fr,5,1),Cr=function(r){for(var e=r[0],n=1;n<r.length;++n)r[n]>e&&(e=r[n]);return e},H=function(r,e,n){var a=e/8|0;return(r[a]|r[a+1]<<8)>>(e&7)&n},_r=function(r,e){var n=e/8|0;return(r[n]|r[n+1]<<8|r[n+2]<<16)>>(e&7)},Br=function(r){return(r+7)/8|0},xr=function(r,e,n){return(e==null||e<0)&&(e=0),(n==null||n>r.length)&&(n=r.length),new y(r.subarray(e,n))},ve=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],d=function(r,e,n){var a=new Error(e||ve[r]);if(a.code=r,Error.captureStackTrace&&Error.captureStackTrace(a,d),!n)throw a;return a},Or=function(r,e,n,a){var l=r.length,v=a?a.length:0;if(!l||e.f&&!e.l)return n||new y(0);var f=!n,u=f||e.i!=2,h=e.i;f&&(n=new y(l*3));var i=function(lr){var vr=n.length;if(lr>vr){var nr=new y(Math.max(vr*2,lr));nr.set(n),n=nr}},t=e.f||0,o=e.p||0,c=e.b||0,m=e.l,F=e.d,p=e.m,O=e.n,$=l*8;do{if(!m){t=H(r,o,1);var G=H(r,o+1,3);if(o+=3,G)if(G==1)m=ne,F=le,p=9,O=5;else if(G==2){var B=H(r,o,31)+257,M=H(r,o+10,15)+4,g=B+H(r,o+5,31)+1;o+=14;for(var s=new y(g),S=new y(19),C=0;C<M;++C)S[Ar[C]]=H(r,o+C*3,7);o+=M*3;for(var T=Cr(S),W=(1<<T)-1,N=K(S,T,1),C=0;C<g;){var D=N[H(r,o,W)];o+=D&15;var _=D>>4;if(_<16)s[C++]=_;else{var A=0,z=0;for(_==16?(z=3+H(r,o,3),o+=2,A=s[C-1]):_==17?(z=3+H(r,o,7),o+=3):_==18&&(z=11+H(r,o,127),o+=7);z--;)s[C++]=A}}var I=s.subarray(0,B),k=s.subarray(B);p=Cr(I),O=Cr(k),m=K(I,p,1),F=K(k,O,1)}else d(1);else{var _=Br(o)+4,E=r[_-4]|r[_-3]<<8,U=_+E;if(U>l){h&&d(0);break}u&&i(c+E),n.set(r.subarray(_,U),c),e.b=c+=E,e.p=o=U*8,e.f=t;continue}if(o>$){h&&d(0);break}}u&&i(c+131072);for(var ar=(1<<p)-1,Z=(1<<O)-1,P=o;;P=o){var A=m[_r(r,o)&ar],V=A>>4;if(o+=A&15,o>$){h&&d(0);break}if(A||d(2),V<256)n[c++]=V;else if(V==256){P=o,m=null;break}else{var q=V-254;if(V>264){var C=V-257,x=pr[C];q=H(r,o,(1<<x)-1)+$r[C],o+=x}var J=F[_r(r,o)&Z],rr=J>>4;J||d(3),o+=J&15;var k=re[rr];if(rr>3){var x=zr[rr];k+=_r(r,o)&(1<<x)-1,o+=x}if(o>$){h&&d(0);break}u&&i(c+131072);var er=c+q;if(c<k){var ur=v-k,cr=Math.min(k,er);for(ur+c<0&&d(3);c<cr;++c)n[c]=a[ur+c]}for(;c<er;++c)n[c]=n[c-k]}}e.l=m,e.p=P,e.b=c,e.f=t,m&&(t=1,e.m=p,e.d=F,e.n=O)}while(!t);return c!=n.length&&f?xr(n,0,c):n.subarray(0,c)},Q=function(r,e,n){n<<=e&7;var a=e/8|0;r[a]|=n,r[a+1]|=n>>8},tr=function(r,e,n){n<<=e&7;var a=e/8|0;r[a]|=n,r[a+1]|=n>>8,r[a+2]|=n>>16},Mr=function(r,e){for(var n=[],a=0;a<r.length;++a)r[a]&&n.push({s:a,f:r[a]});var l=n.length,v=n.slice();if(!l)return{t:Kr,l:0};if(l==1){var f=new y(n[0].s+1);return f[n[0].s]=1,{t:f,l:1}}n.sort(function(U,B){return U.f-B.f}),n.push({s:-1,f:25001});var u=n[0],h=n[1],i=0,t=1,o=2;for(n[0]={s:-1,f:u.f+h.f,l:u,r:h};t!=l-1;)u=n[n[i].f<n[o].f?i++:o++],h=n[i!=t&&n[i].f<n[o].f?i++:o++],n[t++]={s:-1,f:u.f+h.f,l:u,r:h};for(var c=v[0].s,a=1;a<l;++a)v[a].s>c&&(c=v[a].s);var m=new R(c+1),F=Ur(n[t-1],m,0);if(F>e){var a=0,p=0,O=F-e,$=1<<O;for(v.sort(function(B,M){return m[M.s]-m[B.s]||B.f-M.f});a<l;++a){var G=v[a].s;if(m[G]>e)p+=$-(1<<F-m[G]),m[G]=e;else break}for(p>>=O;p>0;){var _=v[a].s;m[_]<e?p-=1<<e-m[_]++-1:++a}for(;a>=0&&p;--a){var E=v[a].s;m[E]==e&&(--m[E],++p)}F=e}return{t:new y(m),l:F}},Ur=function(r,e,n){return r.s==-1?Math.max(Ur(r.l,e,n+1),Ur(r.r,e,n+1)):e[r.s]=n},Nr=function(r){for(var e=r.length;e&&!r[--e];);for(var n=new R(++e),a=0,l=r[0],v=1,f=function(h){n[a++]=h},u=1;u<=e;++u)if(r[u]==l&&u!=e)++v;else{if(!l&&v>2){for(;v>138;v-=138)f(32754);v>2&&(f(v>10?v-11<<5|28690:v-3<<5|12305),v=0)}else if(v>3){for(f(l),--v;v>6;v-=6)f(8304);v>2&&(f(v-3<<5|8208),v=0)}for(;v--;)f(l);v=1,l=r[u]}return{c:n.subarray(0,a),n:e}},or=function(r,e){for(var n=0,a=0;a<e.length;++a)n+=r[a]*e[a];return n},Jr=function(r,e,n){var a=n.length,l=Br(e+2);r[l]=a&255,r[l+1]=a>>8,r[l+2]=r[l]^255,r[l+3]=r[l+1]^255;for(var v=0;v<a;++v)r[l+v+4]=n[v];return(l+4+a)*8},Vr=function(r,e,n,a,l,v,f,u,h,i,t){Q(e,t++,n),++l[256];for(var o=Mr(l,15),c=o.t,m=o.l,F=Mr(v,15),p=F.t,O=F.l,$=Nr(c),G=$.c,_=$.n,E=Nr(p),U=E.c,B=E.n,M=new R(19),g=0;g<G.length;++g)++M[G[g]&31];for(var g=0;g<U.length;++g)++M[U[g]&31];for(var s=Mr(M,7),S=s.t,C=s.l,T=19;T>4&&!S[Ar[T-1]];--T);var W=i+5<<3,N=or(l,L)+or(v,fr)+f,D=or(l,c)+or(v,p)+f+14+3*T+or(M,S)+2*M[16]+3*M[17]+7*M[18];if(h>=0&&W<=N&&W<=D)return Jr(e,t,r.subarray(h,h+i));var A,z,I,k;if(Q(e,t,1+(D<N)),t+=2,D<N){A=K(c,m,0),z=c,I=K(p,O,0),k=p;var ar=K(S,C,0);Q(e,t,_-257),Q(e,t+5,B-1),Q(e,t+10,T-4),t+=14;for(var g=0;g<T;++g)Q(e,t+3*g,S[Ar[g]]);t+=3*T;for(var Z=[G,U],P=0;P<2;++P)for(var V=Z[P],g=0;g<V.length;++g){var q=V[g]&31;Q(e,t,ar[q]),t+=S[q],q>15&&(Q(e,t,V[g]>>5&127),t+=V[g]>>12)}}else A=ee,z=L,I=ae,k=fr;for(var g=0;g<u;++g){var x=a[g];if(x>255){var q=x>>18&31;tr(e,t,A[q+257]),t+=z[q+257],q>7&&(Q(e,t,x>>23&31),t+=pr[q]);var J=x&31;tr(e,t,I[J]),t+=k[J],J>3&&(tr(e,t,x>>5&8191),t+=zr[J])}else tr(e,t,A[x]),t+=z[x]}return tr(e,t,A[256]),t+z[256]},te=new Er([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Kr=new y(0),oe=function(r,e,n,a,l,v){var f=v.z||r.length,u=new y(a+f+5*(1+Math.ceil(f/7e3))+l),h=u.subarray(a,u.length-l),i=v.l,t=(v.r||0)&7;if(e){t&&(h[0]=v.r>>3);for(var o=te[e-1],c=o>>13,m=o&8191,F=(1<<n)-1,p=v.p||new R(32768),O=v.h||new R(F+1),$=Math.ceil(n/3),G=2*$,_=function(br){return(r[br]^r[br+1]<<$^r[br+2]<<G)&F},E=new Er(25e3),U=new R(288),B=new R(32),M=0,g=0,s=v.i||0,S=0,C=v.w||0,T=0;s+2<f;++s){var W=_(s),N=s&32767,D=O[W];if(p[N]=D,O[W]=N,C<=s){var A=f-s;if((M>7e3||S>24576)&&(A>423||!i)){t=Vr(r,h,0,E,U,B,g,S,T,s-T,t),S=M=g=0,T=s;for(var z=0;z<286;++z)U[z]=0;for(var z=0;z<30;++z)B[z]=0}var I=2,k=0,ar=m,Z=N-D&32767;if(A>2&&W==_(s-Z))for(var P=Math.min(c,A)-1,V=Math.min(32767,s),q=Math.min(258,A);Z<=V&&--ar&&N!=D;){if(r[s+I]==r[s+I-Z]){for(var x=0;x<q&&r[s+x]==r[s+x-Z];++x);if(x>I){if(I=x,k=Z,x>P)break;for(var J=Math.min(Z,x-2),rr=0,z=0;z<J;++z){var er=s-Z+z&32767,ur=p[er],cr=er-ur&32767;cr>rr&&(rr=cr,D=er)}}}N=D,D=p[N],Z+=N-D&32767}if(k){E[S++]=268435456|kr[I]<<18|Gr[k];var lr=kr[I]&31,vr=Gr[k]&31;g+=pr[lr]+zr[vr],++U[257+lr],++B[vr],C=s+I,++M}else E[S++]=r[s],++U[r[s]]}}for(s=Math.max(s,C);s<f;++s)E[S++]=r[s],++U[r[s]];t=Vr(r,h,i,E,U,B,g,S,T,s-T,t),i||(v.r=t&7|h[t/8|0]<<3,t-=7,v.h=O,v.p=p,v.i=s,v.w=C)}else{for(var s=v.w||0;s<f+i;s+=65535){var nr=s+65535;nr>=f&&(h[t/8|0]=i,nr=f),t=Jr(h,t+1,r.subarray(s,nr))}v.i=f}return xr(u,0,a+Br(t)+l)},fe=function(){for(var r=new Int32Array(256),e=0;e<256;++e){for(var n=e,a=9;--a;)n=(n&1&&-306674912)^n>>>1;r[e]=n}return r}(),ie=function(){var r=-1;return{p:function(e){for(var n=r,a=0;a<e.length;++a)n=fe[n&255^e[a]]^n>>>8;r=n},d:function(){return~r}}},Pr=function(){var r=1,e=0;return{p:function(n){for(var a=r,l=e,v=n.length|0,f=0;f!=v;){for(var u=Math.min(f+2655,v);f<u;++f)l+=a+=n[f];a=(a&65535)+15*(a>>16),l=(l&65535)+15*(l>>16)}r=a,e=l},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},Dr=function(r,e,n,a,l){if(!l&&(l={l:1},e.dictionary)){var v=e.dictionary.subarray(-32768),f=new y(v.length+r.length);f.set(v),f.set(r,v.length),r=f,l.w=v.length}return oe(r,e.level==null?6:e.level,e.mem==null?l.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,n,a,l)},ir=function(r,e,n){for(;n;++e)r[e]=n,n>>>=8},ue=function(r,e){var n=e.filename;if(r[0]=31,r[1]=139,r[2]=8,r[8]=e.level<2?4:e.level==9?2:0,r[9]=3,e.mtime!=0&&ir(r,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),n){r[3]=8;for(var a=0;a<=n.length;++a)r[a+10]=n.charCodeAt(a)}},ce=function(r){(r[0]!=31||r[1]!=139||r[2]!=8)&&d(6,"invalid gzip data");var e=r[3],n=10;e&4&&(n+=(r[10]|r[11]<<8)+2);for(var a=(e>>3&1)+(e>>4&1);a>0;a-=!r[n++]);return n+(e&2)},se=function(r){var e=r.length;return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0},he=function(r){return 10+(r.filename?r.filename.length+1:0)},ge=function(r,e){var n=e.level,a=n==0?0:n<6?1:n==9?3:2;if(r[0]=120,r[1]=a<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var l=Pr();l.p(e.dictionary),ir(r,2,l.d())}},we=function(r,e){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&d(6,"invalid zlib data"),(r[1]>>5&1)==+!e&&d(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function me(r,e){return Dr(r,e||{},0,0)}function pe(r,e){return Or(r,{i:2},e&&e.out,e&&e.dictionary)}function ze(r,e){e||(e={});var n=ie(),a=r.length;n.p(r);var l=Dr(r,e,he(e),8),v=l.length;return ue(l,e),ir(l,v-8,n.d()),ir(l,v-4,a),l}function xe(r,e){var n=ce(r);return n+8>r.length&&d(6,"invalid gzip data"),Or(r.subarray(n,-8),{i:2},e&&e.out||new y(se(r)),e&&e.dictionary)}function be(r,e){e||(e={});var n=Pr();n.p(r);var a=Dr(r,e,e.dictionary?6:2,4);return ge(a,e),ir(a,a.length-4,n.d()),a}function ye(r,e){return Or(r.subarray(we(r,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}function Ce(r,e){return r[0]==31&&r[1]==139&&r[2]==8?xe(r,e):(r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31?pe(r,e):ye(r,e)}var qr=typeof TextEncoder<"u"&&new TextEncoder,Tr=typeof TextDecoder<"u"&&new TextDecoder,_e=0;try{Tr.decode(Kr,{stream:!0}),_e=1}catch{}var Me=function(r){for(var e="",n=0;;){var a=r[n++],l=(a>127)+(a>223)+(a>239);if(n+l>r.length)return{s:e,r:xr(r,n-1)};l?l==3?(a=((a&15)<<18|(r[n++]&63)<<12|(r[n++]&63)<<6|r[n++]&63)-65536,e+=String.fromCharCode(55296|a>>10,56320|a&1023)):l&1?e+=String.fromCharCode((a&31)<<6|r[n++]&63):e+=String.fromCharCode((a&15)<<12|(r[n++]&63)<<6|r[n++]&63):e+=String.fromCharCode(a)}};function Sr(r,e){if(e){for(var n=new y(r.length),a=0;a<r.length;++a)n[a]=r.charCodeAt(a);return n}if(qr)return qr.encode(r);for(var l=r.length,v=new y(r.length+(r.length>>1)),f=0,u=function(t){v[f++]=t},a=0;a<l;++a){if(f+5>v.length){var h=new y(f+8+(l-a<<1));h.set(v),v=h}var i=r.charCodeAt(a);i<128||e?u(i):i<2048?(u(192|i>>6),u(128|i&63)):i>55295&&i<57344?(i=65536+(i&1047552)|r.charCodeAt(++a)&1023,u(240|i>>18),u(128|i>>12&63),u(128|i>>6&63),u(128|i&63)):(u(224|i>>12),u(128|i>>6&63),u(128|i&63))}return xr(v,0,f)}function Se(r,e){if(e){for(var n="",a=0;a<r.length;a+=16384)n+=String.fromCharCode.apply(null,r.subarray(a,a+16384));return n}else{if(Tr)return Tr.decode(r);var l=Me(r),v=l.s,n=l.r;return n.length&&d(8),v}}const de=Qr({__name:"gzip-converter",setup(r){const{t:e}=Wr(),n=Ir(""),a=sr(()=>mr(()=>{const h=gr.toUint8Array(n.value);return Se(Ce(h))},"# invalid compressed base64 string")),l=Ir(""),v=sr(()=>mr(()=>gr.fromUint8Array(ze(Sr(l.value))),"")),f=sr(()=>mr(()=>gr.fromUint8Array(me(Sr(l.value))),"")),u=sr(()=>mr(()=>gr.fromUint8Array(be(Sr(l.value))),""));return(h,i)=>{const t=jr,o=Lr;return Xr(),Yr("div",null,[X(o,{title:b(e)("tools.gzip-converter.texts.title-compress-string"),"mb-5":""},{default:dr(()=>[X(t,{value:b(l),"onUpdate:value":i[0]||(i[0]=c=>yr(l)?l.value=c:null),multiline:"",placeholder:b(e)("tools.gzip-converter.texts.placeholder-put-your-string-here"),rows:"5",label:b(e)("tools.gzip-converter.texts.label-string-to-compress"),"raw-text":"","mb-5":""},null,8,["value","placeholder","label"]),Y("div",null,[Y("h3",null,hr(b(e)("tools.gzip-converter.texts.tag-gzip-compressed-string")),1),X(wr,{value:b(v),"word-wrap":!0,multiline:"",placeholder:b(e)("tools.gzip-converter.texts.placeholder-the-gzip-compressed-version-of-your-string-will-be-here"),"mb-5":""},null,8,["value","placeholder"])]),Y("div",null,[Y("h3",null,hr(b(e)("tools.gzip-converter.texts.tag-zlib-compressed-string")),1),X(wr,{value:b(u),"word-wrap":!0,multiline:"",placeholder:b(e)("tools.gzip-converter.texts.placeholder-the-zlib-compressed-version-of-your-string-will-be-here"),"mb-5":""},null,8,["value","placeholder"])]),Y("div",null,[Y("h3",null,hr(b(e)("tools.gzip-converter.texts.tag-deflate-compressed-string")),1),X(wr,{value:b(f),"word-wrap":!0,multiline:"",placeholder:b(e)("tools.gzip-converter.texts.placeholder-the-deflate-compressed-version-of-your-string-will-be-here"),"mb-5":""},null,8,["value","placeholder"])])]),_:1},8,["title"]),X(o,{title:b(e)("tools.gzip-converter.texts.title-decompress-string")},{default:dr(()=>[X(t,{value:b(n),"onUpdate:value":i[1]||(i[1]=c=>yr(n)?n.value=c:null),multiline:"",placeholder:b(e)("tools.gzip-converter.texts.placeholder-your-compressed-string"),rows:"5",label:b(e)("tools.gzip-converter.texts.label-compressed-string-to-decompress"),"mb-5":""},null,8,["value","placeholder","label"]),Y("div",null,[Y("h3",null,hr(b(e)("tools.gzip-converter.texts.tag-decompressed-string")),1),X(wr,{value:b(a),"onUpdate:value":i[2]||(i[2]=c=>yr(a)?a.value=c:null),"word-wrap":!0,multiline:"",placeholder:b(e)("tools.gzip-converter.texts.placeholder-the-decompressed-string-will-be-here"),"mb-5":""},null,8,["value","placeholder"])])]),_:1},8,["title"])])}}});export{de as default};
