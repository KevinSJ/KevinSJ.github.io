import{d as b,a0 as v,b6 as _,o as s,j as f,w as c,l as t,c as g,k as p,ad as x,a as h,a6 as w,G as k,s as j,af as S}from"./index-0c1fde36.js";import{_ as $}from"./InputCopyable.vue_vue_type_script_setup_true_lang-294ac243.js";import{c as C}from"./computedRefreshable-6ca60894.js";const N={key:0},U={flex:"","justify-center":"","gap-3":""},D=b({__name:"my-ip",setup(I){const{t:n}=v(),u="/it-tools/",{load:y}=_(`${u}iplookup.js`,void 0,{type:"module",manual:!0}),[l,d]=C(async()=>{const r={ip:"",error:""},o={ip:"",error:""},e={country:{country:"",country_name:"",country_native:"",continent:"",continent_name:""},error:""};try{r.ip=(await(await fetch("//api4.ipify.org?format=json",{mode:"cors"})).json()).ip?.toString()}catch(i){r.error=`Not detected (${i.toString()})`}try{o.ip=(await(await fetch("//api6.ipify.org?format=json",{mode:"cors"})).json()).ip?.toString()}catch(i){o.error=`Not detected (${i.toString()})`}await y();try{e.country=await window.IpLookup(r.ip||o.ip)}catch(i){e.error=i.toString()}return{ipv4:r.ip||r.error,ipv6:o.ip||o.error,location:{country:e.country?.country||`ERROR: ${e.error||"Unknown"}`,country_name:e.country?`${e.country?.country_name}/${e.country?.country_native}`:"",continent:e.country?e.country?.continent:""}}});return(r,o)=>{const e=$,i=j,m=S;return s(),f(m,{title:t(n)("tools.my-ip.texts.title-your-ipv4-6-address-details")},{default:c(()=>[t(l)?(s(),g("div",N,[p(e,{value:t(l).ipv4,"onUpdate:value":o[0]||(o[0]=a=>t(l).ipv4=a),"label-position":"left","label-width":"100px","label-align":"right",readonly:"",label:t(n)("tools.my-ip.texts.label-ipv4"),placeholder:t(n)("tools.my-ip.texts.placeholder-your-ipv4")},null,8,["value","label","placeholder"]),p(e,{value:t(l).ipv6,"onUpdate:value":o[1]||(o[1]=a=>t(l).ipv6=a),"label-position":"left","label-width":"100px","label-align":"right",readonly:"",label:t(n)("tools.my-ip.texts.label-ipv6"),placeholder:t(n)("tools.my-ip.texts.placeholder-your-ipv6")},null,8,["value","label","placeholder"]),p(e,{value:t(l).location.country,"onUpdate:value":o[2]||(o[2]=a=>t(l).location.country=a),"label-position":"left","label-width":"100px","label-align":"right",readonly:"",label:t(n)("tools.my-ip.texts.label-country")},null,8,["value","label"]),p(e,{value:t(l).location.country_name,"onUpdate:value":o[3]||(o[3]=a=>t(l).location.country_name=a),"label-position":"left","label-width":"100px","label-align":"right",readonly:"",label:t(n)("tools.my-ip.texts.label-country-name")},null,8,["value","label"]),p(e,{value:t(l).location.continent,"onUpdate:value":o[4]||(o[4]=a=>t(l).location.continent=a),"label-position":"left","label-width":"100px","label-align":"right",readonly:"",label:t(n)("tools.my-ip.texts.label-continent-name")},null,8,["value","label"])])):x("",!0),h("div",U,[p(i,{onClick:t(d)},{default:c(()=>[w(k(t(n)("tools.my-ip.texts.tag-refresh")),1)]),_:1},8,["onClick"])])]),_:1},8,["title"])}}});export{D as default};
