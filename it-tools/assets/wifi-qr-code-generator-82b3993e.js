import{r as w,D as B,g as p,m as c,d as K,a0 as L,am as S,f as R,o as A,j as W,w as v,a as h,k as r,l as e,a6 as k,G as $,ad as q,c as T,ae as z,x as O,s as Q,af as G}from"./index-0c1fde36.js";import{b as j}from"./browser-9d43139f.js";import{u as J}from"./downloadBase64-508288e2.js";import{_ as X}from"./Checkbox-ba7202eb.js";import{_ as Y}from"./ColorPicker-f5c5efe0.js";import{_ as Z}from"./FormItem-1b9a5952.js";import{_ as ee}from"./Form-a433c14f.js";import"./index-6fddb70d.js";import"./index-cfd4d427.js";import"./InputGroup-c4275982.js";import"./context-00991937.js";const oe=["MD5","POTP","GTC","TLS","IKEv2","SIM","AKA","AKA'","TTLS","PWD","LEAP","PSK","FAST","TEAP","EKE","NOOB","PEAP"],te=["None","MSCHAPV2"];function b(x){return x.replace(/([\\;,:"])/g,"\\$1")}function le(x){const{ssid:o,password:a,encryption:n,eapMethod:i,isHiddenSSID:s,eapAnonymous:f,eapIdentity:m,eapPhase2Method:u}=x;if(!o)return null;if(n==="nopass")return`WIFI:S:${b(o)};;`;if(n==="WPA3"&&a)return`WIFI:S:${b(o)};T:WPA3;P:${b(a)};${s?"H:true;":""}R:1;;`;if(n==="WPA2/WPA3"&&a)return`WIFI:S:${b(o)};T:WPA3;P:${b(a)};${s?"H:true;":""};`;if(n!=="WPA2-EAP"&&a)return`WIFI:S:${b(o)};T:${n};P:${b(a)};${s?"H:true":""};`;if(n==="WPA2-EAP"&&a&&i){if(!m&&!f||i==="PEAP"&&!u)return null;const _=f?"A:anon":`I:${b(m)}`,g=u!=="None"?`PH2:${u};`:"";return`WIFI:S:${b(o)};T:WPA2-EAP;P:${b(a)};E:${i};${g}${_};${s?"H:true":""};`}return null}function ae({ssid:x,password:o,eapMethod:a,isHiddenSSID:n,eapAnonymous:i,eapIdentity:s,eapPhase2Method:f,color:{background:m,foreground:u},options:_}){const g=w(""),P=w(""),y=w("WPA");return B([x,o,y,a,n,i,s,f,m,u].filter(c),async()=>{const d=le({ssid:p(x),password:p(o),encryption:p(y),eapMethod:p(a),isHiddenSSID:p(n),eapAnonymous:p(i),eapIdentity:p(s),eapPhase2Method:p(f)});d&&(P.value=await j.toDataURL(p(d).trim(),{color:{dark:p(u),light:p(m),..._?.color},errorCorrectionLevel:"M",..._}),g.value=d)},{immediate:!0}),{qrcode:P,text:g,encryption:y}}const ne={grid:"","grid-cols-1":"","gap-12":""},se={class:"mb-6 flex flex-row items-center gap-2"},re={key:2,class:"mb-6 flex flex-row items-center gap-2"},ie={key:0},ue={flex:"","flex-col":"","items-center":"","gap-3":""},de=["src"],pe={key:1},ce={flex:"","flex-col":"","items-center":"","gap-3":""},ye=K({__name:"wifi-qr-code-generator",setup(x){const{t:o}=L(),a=S({tool:"wifi-qr-gen",name:"fg",defaultValue:"#000000ff"}),n=S({tool:"wifi-qr-gen",name:"bg",defaultValue:"#ffffffff"}),i=S({tool:"wifi-qr-gen",name:"ssid",defaultValue:""}),s=w(),f=w(),m=w(!1),u=w(!1),_=w(),g=w(),{qrcode:P,text:y,encryption:d}=ae({ssid:i,password:s,eapMethod:f,isHiddenSSID:m,eapAnonymous:u,eapIdentity:_,eapPhase2Method:g,color:{background:n,foreground:a},options:{width:1024}}),{download:F}=J({source:P,filename:"qr-code.png"}),{copy:H}=R({source:y,text:o("tools.wifi-qr-code-generator.texts.text-copied-to-the-clipboard")});return(fe,l)=>{const E=z,I=O,C=X,U=Y,M=Z,V=ee,D=Q,N=G;return A(),W(N,null,{default:v(()=>[h("div",ne,[h("div",null,[r(E,{value:e(d),"onUpdate:value":l[0]||(l[0]=t=>c(d)?d.value=t:null),"mb-4":"",label:e(o)("tools.wifi-qr-code-generator.texts.label-encryption-method"),"default-value":"WPA","label-position":"left","label-width":"130px","label-align":"right",options:[{label:e(o)("tools.wifi-qr-code-generator.texts.label-no-password"),value:"nopass"},{label:e(o)("tools.wifi-qr-code-generator.texts.label-wpa-wpa2-wpa3"),value:"WPA"},{label:e(o)("tools.wifi-qr-code-generator.texts.label-wpa3-only-no-wpa2-fallback"),value:"WPA3"},{label:e(o)("tools.wifi-qr-code-generator.texts.label-wpa2-wpa3-mixed-mode"),value:"WPA2/WPA3"},{label:e(o)("tools.wifi-qr-code-generator.texts.label-wep"),value:"WEP"},{label:e(o)("tools.wifi-qr-code-generator.texts.label-wpa2-eap"),value:"WPA2-EAP"}]},null,8,["value","label","options"]),h("div",se,[r(I,{value:e(i),"onUpdate:value":l[1]||(l[1]=t=>c(i)?i.value=t:null),"label-position":"left","label-width":"130px","label-align":"right",label:e(o)("tools.wifi-qr-code-generator.texts.label-ssid"),rows:"1",autosize:"",placeholder:e(o)("tools.wifi-qr-code-generator.texts.placeholder-your-wifi-ssid"),"mb-6":""},null,8,["value","label","placeholder"]),r(C,{checked:e(m),"onUpdate:checked":l[2]||(l[2]=t=>c(m)?m.value=t:null)},{default:v(()=>[k($(e(o)("tools.wifi-qr-code-generator.texts.tag-hidden-ssid")),1)]),_:1},8,["checked"])]),e(d)!=="nopass"?(A(),W(I,{key:0,value:e(s),"onUpdate:value":l[3]||(l[3]=t=>c(s)?s.value=t:null),"label-position":"left","label-width":"130px","label-align":"right",label:e(o)("tools.wifi-qr-code-generator.texts.label-password"),rows:"1",autosize:"",type:"password",placeholder:e(o)("tools.wifi-qr-code-generator.texts.placeholder-your-wifi-password"),"mb-6":""},null,8,["value","label","placeholder"])):q("",!0),e(d)==="WPA2-EAP"?(A(),W(E,{key:1,value:e(f),"onUpdate:value":l[4]||(l[4]=t=>c(f)?f.value=t:null),label:e(o)("tools.wifi-qr-code-generator.texts.label-eap-method"),"label-position":"left","label-width":"130px","label-align":"right",options:e(oe).map(t=>({label:t,value:t})),searchable:"","mb-4":""},null,8,["value","label","options"])):q("",!0),e(d)==="WPA2-EAP"?(A(),T("div",re,[r(I,{value:e(_),"onUpdate:value":l[5]||(l[5]=t=>c(_)?_.value=t:null),"label-position":"left","label-width":"130px","label-align":"right",label:e(o)("tools.wifi-qr-code-generator.texts.label-identity"),rows:"1",autosize:"",placeholder:e(o)("tools.wifi-qr-code-generator.texts.placeholder-your-eap-identity"),"mb-6":""},null,8,["value","label","placeholder"]),r(C,{checked:e(u),"onUpdate:checked":l[6]||(l[6]=t=>c(u)?u.value=t:null)},{default:v(()=>[k($(e(o)("tools.wifi-qr-code-generator.texts.tag-anonymous")),1)]),_:1},8,["checked"])])):q("",!0),e(d)==="WPA2-EAP"?(A(),W(E,{key:3,value:e(g),"onUpdate:value":l[7]||(l[7]=t=>c(g)?g.value=t:null),label:e(o)("tools.wifi-qr-code-generator.texts.label-eap-phase-2-method"),"label-position":"left","label-width":"130px","label-align":"right",options:e(te).map(t=>({label:t,value:t})),searchable:"","mb-4":""},null,8,["value","label","options"])):q("",!0),r(V,{"label-width":"130","label-placement":"left"},{default:v(()=>[r(M,{label:e(o)("tools.wifi-qr-code-generator.texts.label-foreground-color")},{default:v(()=>[r(U,{value:e(a),"onUpdate:value":l[8]||(l[8]=t=>c(a)?a.value=t:null),modes:["hex"]},null,8,["value"])]),_:1},8,["label"]),r(M,{label:e(o)("tools.wifi-qr-code-generator.texts.label-background-color")},{default:v(()=>[r(U,{value:e(n),"onUpdate:value":l[9]||(l[9]=t=>c(n)?n.value=t:null),modes:["hex"]},null,8,["value"])]),_:1},8,["label"])]),_:1})]),e(P)?(A(),T("div",ie,[h("div",ue,[h("img",{alt:"wifi-qrcode",src:e(P),width:"200"},null,8,de),r(D,{onClick:e(F)},{default:v(()=>[k($(e(o)("tools.wifi-qr-code-generator.texts.tag-download-qr-code")),1)]),_:1},8,["onClick"])])])):q("",!0),e(P)?(A(),T("div",pe,[h("div",ce,[r(D,{onClick:l[10]||(l[10]=t=>e(H)())},{default:v(()=>[k($(e(o)("tools.wifi-qr-code-generator.texts.tag-copy-connection-string")),1)]),_:1})])])):q("",!0)])]),_:1})}}});export{ye as default};
