import{t as v,d as U,a0 as $,r as p,i as k,o as I,c as C,k as l,w as g,l as e,m,j as S,a6 as D,G as V,ad as P,a7 as Z,x as j,ae as z,af as G}from"./index-0c1fde36.js";import{_ as d}from"./InputCopyable.vue_vue_type_script_setup_true_lang-294ac243.js";import{c as M}from"./integer-base-converter.model-04cc1fa7.js";import{g as O}from"./error-e9ef09d4.js";import{_ as R}from"./Divider-5fc425b0.js";import{_ as W}from"./Switch-a0f825a4.js";import{_ as Y}from"./FormItem-1b9a5952.js";import{N as q}from"./Alert-a9fb131b.js";import"./context-00991937.js";function H({value:n,bitCount:t}){let a=Number.parseFloat(n.replace(/\s/g,""));switch(n.match(/^-?inf(inity)?$/i)&&(a=(n.startsWith("-")?-2:2)/0),t){case 32:return new Uint32Array(Float32Array.of(a).buffer)[0].toString(2).padStart(32,"0");case 64:return[...new Uint32Array(Float64Array.of(a).buffer)].slice(0,2).reverse().map(u=>u.toString(2).padStart(32,"0")).join("");default:throw new Error(v("tools.floating-point-number-converter.model.text.unsupported-bit-count-only-32-and-64-are-allowed"))}}function F({value:n,decimalPrecision:t,removeZeroPadding:a}){if(n.match(/[^01]/))throw new Error(v("tools.floating-point-number-converter.model.text.not-a-binary-number"));if(t.match(/[^\d]/))throw new Error(v("tools.floating-point-number-converter.model.text.decimal-precision-must-be-a-positive-whole-number"));let o;switch(n.length){case 32:{const i=[Number.parseInt(n,2)];o=new Float32Array(Uint32Array.from(i).buffer)[0];break}case 64:{const i=[Number.parseInt(n.substring(32),2),Number.parseInt(n.substring(0,32),2)];o=new Float64Array(Uint32Array.from(i).buffer)[0];break}default:throw new Error(v("tools.floating-point-number-converter.model.text.invalid-length-supply-a-binary-string-with-length-32-or-64"))}const u=o===0&&2/o===Number.NEGATIVE_INFINITY;let c=t.length===0?o.toString():o.toFixed(Number.parseInt(t));return a&&(c=c.replace(/\.(\d+?)(0+)$/,".$1")),(u?"-":"")+c}function J({decimalInput:n,actualValue:t}){return(Number.parseFloat(n)-Number.parseFloat(t)).toFixed(32).replace(/\.(\d+?)(0+)$/,".$1")}const re=U({__name:"floating-point-number-converter",setup(n){const{t}=$(),a=p(32),o=p("42.42"),u=p(),c=p(),i=p("01000010001010011010111000010100"),b=p("32"),f=p(!1);function _(...y){try{return F(...y)}catch{return""}}const x=k(()=>O(()=>F({value:i.value,decimalPrecision:b.value,removeZeroPadding:!1})));return(y,r)=>{const h=j,A=z,w=R,N=G,E=W,T=Y,B=q;return I(),C(Z,null,[l(N,{title:e(t)("tools.floating-point-number-converter.texts.title-decimal-to-binary"),style:{"min-width":"650px"}},{default:g(()=>[l(h,{value:e(o),"onUpdate:value":r[0]||(r[0]=s=>m(o)?o.value=s:null),label:e(t)("tools.floating-point-number-converter.texts.label-decimal-number"),placeholder:e(t)("tools.floating-point-number-converter.texts.placeholder-put-your-decimal-number-here-ex-42-42"),"label-position":"left","label-width":"210px","label-align":"right","mb-2":""},null,8,["value","label","placeholder"]),l(A,{value:e(a),"onUpdate:value":r[1]||(r[1]=s=>m(a)?a.value=s:null),"mb-4":"",label:e(t)("tools.floating-point-number-converter.texts.label-bit-count"),"label-position":"left","label-width":"210px","label-align":"right",options:[{label:e(t)("tools.floating-point-number-converter.texts.label-32-bit-single-precision"),value:32},{label:e(t)("tools.floating-point-number-converter.texts.label-64-bit-double-precision"),value:64}]},null,8,["value","label","options"]),l(w),l(d,{label:e(t)("tools.floating-point-number-converter.texts.label-binary-number"),placeholder:e(t)("tools.floating-point-number-converter.texts.placeholder-binary-number"),value:u.value=e(H)({value:e(o),bitCount:e(a)}),readonly:"","label-position":"left","label-width":"210px","label-align":"right","mb-2":""},null,8,["label","placeholder","value"]),l(d,{label:e(t)("tools.floating-point-number-converter.texts.label-hexadecimal-representation"),placeholder:e(t)("tools.floating-point-number-converter.texts.placeholder-hexadecimal-representation"),value:e(M)({value:e(u),fromBase:2,toBase:16}),readonly:"","label-position":"left","label-width":"210px","label-align":"right","mb-2":""},null,8,["label","placeholder","value"]),l(d,{label:e(t)("tools.floating-point-number-converter.texts.label-actually-stored-value"),placeholder:e(t)("tools.floating-point-number-converter.texts.placeholder-actually-stored-value"),value:c.value=_({value:e(u),decimalPrecision:"32",removeZeroPadding:!0}),readonly:"","label-position":"left","label-width":"210px","label-align":"right","mb-2":""},null,8,["label","placeholder","value"]),l(d,{label:e(t)("tools.floating-point-number-converter.texts.label-error-due-to-conversion"),placeholder:e(t)("tools.floating-point-number-converter.texts.placeholder-error-due-to-conversion"),value:e(J)({decimalInput:e(o),actualValue:e(c)}),readonly:"","label-position":"left","label-width":"210px","label-align":"right","mb-2":""},null,8,["label","placeholder","value"])]),_:1},8,["title"]),l(N,{title:e(t)("tools.floating-point-number-converter.texts.title-binary-to-decimal"),style:{"min-width":"650px"}},{default:g(()=>[l(h,{value:e(i),"onUpdate:value":r[2]||(r[2]=s=>m(i)?i.value=s:null),label:e(t)("tools.floating-point-number-converter.texts.label-binary-number"),placeholder:e(t)("tools.floating-point-number-converter.texts.placeholder-put-your-binary-number-here-ex-01000010001010011010111000010100"),"label-position":"left","label-width":"140px","label-align":"right","mb-2":""},null,8,["value","label","placeholder"]),l(h,{value:e(b),"onUpdate:value":r[3]||(r[3]=s=>m(b)?b.value=s:null),label:e(t)("tools.floating-point-number-converter.texts.label-decimal-precision"),placeholder:e(t)("tools.floating-point-number-converter.texts.placeholder-choose-the-decimal-precision-digits-after-the-decimal-point"),"label-position":"left","label-width":"140px","label-align":"right","mb-2":""},null,8,["value","label","placeholder"]),l(T,{label:e(t)("tools.floating-point-number-converter.texts.label-show-trailing-zeros"),"label-placement":"left","label-width":"140px","label-align":"right"},{default:g(()=>[l(E,{value:e(f),"onUpdate:value":r[4]||(r[4]=s=>m(f)?f.value=s:null)},null,8,["value"])]),_:1},8,["label"]),e(x)?(I(),S(B,{key:0,style:{"margin-top":"25px"},type:"error"},{default:g(()=>[D(V(e(x)),1)]),_:1})):P("",!0),l(w),l(d,{label:e(t)("tools.floating-point-number-converter.texts.label-decimal-number"),placeholder:e(t)("tools.floating-point-number-converter.texts.placeholder-decimal-number"),value:_({value:e(i),decimalPrecision:e(b),removeZeroPadding:!e(f)}),readonly:"","label-position":"left","label-width":"140px","label-align":"right","mb-2":""},null,8,["label","placeholder","value"])]),_:1},8,["title"])],64)}}});export{re as default};
