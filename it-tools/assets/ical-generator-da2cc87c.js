import{d as ct,a0 as pt,r as H,i as L,o as A,c as k,a as M,k as g,l as o,m as mt,j as z,w as v,a6 as I,G as N,ad as G,a7 as gt,a8 as ft,x as Et,s as yt,ag as vt,ah as Tt,af as At}from"./index-0c1fde36.js";import{s as bt}from"./index-0e470dda.js";import{g as Dt}from"./base64-ae7cf34b.js";import{u as St}from"./downloadBase64-508288e2.js";import{_ as It}from"./FormItem-1b9a5952.js";import{_ as Nt}from"./DatePicker-d3ea0c9f.js";import"./index-a6f01dde.js";import"./index-6fddb70d.js";import"./index-cfd4d427.js";import"./context-00991937.js";import"./TimePicker-2440af2b.js";import"./index-2f7cbd79.js";import"./defaultOptions-f1a3e221.js";import"./differenceInCalendarDays-31c28b0a.js";import"./addMonths-31c9456f.js";import"./FocusDetector-089b8822.js";import"./index-cbfaa337.js";import"./VirtualList-8140ffff.js";import"./Forward-04db534f.js";var Q=(t=>(t.DAILY="DAILY",t.HOURLY="HOURLY",t.MINUTELY="MINUTELY",t.MONTHLY="MONTHLY",t.SECONDLY="SECONDLY",t.WEEKLY="WEEKLY",t.YEARLY="YEARLY",t))(Q||{}),F=(t=>(t.FR="FR",t.MO="MO",t.SA="SA",t.SU="SU",t.TH="TH",t.TU="TU",t.WE="WE",t))(F||{});function l(t,e,a){if(Array.isArray(e))t.x=e.map(i=>{if(Array.isArray(i))return i;if(typeof i.key!="string"||typeof i.value!="string")throw new Error("Either key or value is not a string!");if(i.key.substr(0,2)!=="X-")throw new Error("Key has to start with `X-`!");return[i.key,i.value]});else if(typeof e=="object")t.x=Object.entries(e).map(([i,r])=>{if(typeof i!="string"||typeof r!="string")throw new Error("Either key or value is not a string!");if(i.substr(0,2)!=="X-")throw new Error("Key has to start with `X-`!");return[i,r]});else if(typeof e=="string"&&typeof a=="string"){if(e.substr(0,2)!=="X-")throw new Error("Key has to start with `X-`!");t.x.push([e,a])}else return t.x.map(i=>({key:i[0],value:i[1]}))}function f(t,e){if(t instanceof Date&&isNaN(t.getTime())||typeof t=="string"&&isNaN(new Date(t).getTime()))throw new Error(`\`${e}\` has to be a valid date!`);if(t instanceof Date||typeof t=="string"||R(t)&&t.isValid===!0||(C(t)||Rt(t))&&t.isValid())return t;throw new Error(`\`${e}\` has to be a valid date!`)}function d(t,e){let a=Object.values(t),i=String(e).toUpperCase();if(!i||!a.includes(i))throw new Error(`Input must be one of the following: ${a.join(", ")}`);return i}function b(t,e){let a=null;if(typeof e=="string"){let i=e.match(/^(.+) ?<([^>]+)>$/);i?a={email:i[2].trim(),name:i[1].trim()}:e.includes("@")&&(a={email:e.trim(),name:e.trim()})}else typeof e=="object"&&(a={email:e.email,mailto:e.mailto,name:e.name,sentBy:e.sentBy});if(!a&&typeof e=="string")throw new Error("`"+t+"` isn't formated correctly. See https://sebbo2002.github.io/ical-generator/develop/reference/interfaces/ICalOrganizer.html");if(!a)throw new Error("`"+t+"` needs to be a valid formed string or an object. See https://sebbo2002.github.io/ical-generator/develop/reference/interfaces/ICalOrganizer.html");if(!a.name)throw new Error("`"+t+".name` is empty!");if(!a.email)throw new Error("`"+t+".email` is empty!");return a}function s(t,e){return String(t).replace(e?/[\\"]/g:/[\\;,]/g,function(a){return"\\"+a}).replace(/(?:\r\n|\r|\n)/g,"\\n")}function wt(t){return t.split(`\r
`).map(function(e){let a="",i=0;for(let r=0;r<e.length;r++){let n=e.charAt(r);n>="\uD800"&&n<="\uDBFF"&&(n+=e.charAt(++r));let D=new TextEncoder().encode(n).length;i+=D,i>74&&(a+=`\r
 `,i=D),a+=n}return a}).join(`\r
`)}function u(t,e,a,i){if(t?.startsWith("/")&&(t=t.substr(1)),typeof e=="string"||e instanceof Date){let r=Ut(e)?e.withTimeZone(t):new Date(e),n=r.getUTCFullYear()+String(r.getUTCMonth()+1).padStart(2,"0")+r.getUTCDate().toString().padStart(2,"0");return t&&(n=r.getFullYear()+String(r.getMonth()+1).padStart(2,"0")+r.getDate().toString().padStart(2,"0")),a?n:t?(n+="T"+r.getHours().toString().padStart(2,"0")+r.getMinutes().toString().padStart(2,"0")+r.getSeconds().toString().padStart(2,"0"),n):(n+="T"+r.getUTCHours().toString().padStart(2,"0")+r.getUTCMinutes().toString().padStart(2,"0")+r.getUTCSeconds().toString().padStart(2,"0")+(i?"":"Z"),n)}else if(C(e)){let r=t?q(e)&&!e.tz()?e.clone().tz(t):e:i||a&&q(e)&&e.tz()?e:e.utc();return r.format("YYYYMMDD")+(a?"":"T"+r.format("HHmmss")+(i||t?"":"Z"))}else if(R(e)){let r=t?e.setZone(t):i||a&&e.zone.type!=="system"?e:e.setZone("utc");return r.toFormat("yyyyLLdd")+(a?"":"T"+r.toFormat("HHmmss")+(i||t?"":"Z"))}else{let r=e;if(t)r=typeof e.tz=="function"?e.tz(t):e;else if(!i)if(typeof e.utc=="function")r=e.utc();else throw new Error("Unable to convert dayjs object to UTC value: UTC plugin is not available!");return r.format("YYYYMMDD")+(a?"":"T"+r.format("HHmmss")+(i||t?"":"Z"))}}function x(t,e,a,i){let r="",n=i?.floating||!1;return i?.timezone&&(r=";TZID="+i.timezone,n=!0),e+r+":"+u(t,a,!1,n)}function P(t){let e=t.x.map(([a,i])=>a.toUpperCase()+":"+s(i,!1)).join(`\r
`);return e.length?e+`\r
`:""}function Rt(t){return typeof t=="object"&&t!==null&&!(t instanceof Date)&&!C(t)&&!R(t)}function R(t){return typeof t=="object"&&t!==null&&"toJSDate"in t&&typeof t.toJSDate=="function"}function C(t){return t!=null&&t._isAMomentObject!=null}function Ct(t){return t!==null&&typeof t=="object"&&"asSeconds"in t&&typeof t.asSeconds=="function"}function q(t){return C(t)&&"tz"in t&&typeof t.tz=="function"}function _(t){return t!==null&&typeof t=="object"&&"between"in t&&typeof t.between=="function"&&typeof t.toString=="function"}function Ut(t){return t instanceof Date&&"internal"in t&&t.internal instanceof Date&&"withTimeZone"in t&&typeof t.withTimeZone=="function"&&"tzComponents"in t&&typeof t.tzComponents=="function"}function W(t){return typeof t=="string"||t instanceof Date?new Date(t):R(t)?t.toJSDate():t.toDate()}function T(t){let e="";return t<0&&(e="-",t*=-1),e+="P",t>=86400&&(e+=Math.floor(t/86400)+"D",t%=86400),!t&&e.length>1||(e+="T",t>=3600&&(e+=Math.floor(t/3600)+"H",t%=3600),t>=60&&(e+=Math.floor(t/60)+"M",t%=60),t>0?e+=t+"S":e.length<=2&&(e+="0S")),e}function E(t){return t?typeof t=="string"?t:t.toJSON():null}var $=(t=>(t.CHAIR="CHAIR",t.NON="NON-PARTICIPANT",t.OPT="OPT-PARTICIPANT",t.REQ="REQ-PARTICIPANT",t))($||{}),K=(t=>(t.CLIENT="CLIENT",t.NONE="NONE",t.SERVER="SERVER",t))(K||{}),tt=(t=>(t.ACCEPTED="ACCEPTED",t.DECLINED="DECLINED",t.DELEGATED="DELEGATED",t.NEEDSACTION="NEEDS-ACTION",t.TENTATIVE="TENTATIVE",t))(tt||{}),et=(t=>(t.GROUP="GROUP",t.INDIVIDUAL="INDIVIDUAL",t.RESOURCE="RESOURCE",t.ROOM="ROOM",t.UNKNOWN="UNKNOWN",t))(et||{}),w=class y{data;parent;constructor(e,a){if(this.data={delegatedFrom:null,delegatedTo:null,email:"",mailto:null,name:null,role:"REQ-PARTICIPANT",rsvp:null,scheduleAgent:null,sentBy:null,status:null,type:null,x:[]},this.parent=a,!this.parent)throw new Error("`event` option required!");if(!e.email)throw new Error("No value for `email` in ICalAttendee given!");e.name!==void 0&&this.name(e.name),e.email!==void 0&&this.email(e.email),e.mailto!==void 0&&this.mailto(e.mailto),e.sentBy!==void 0&&this.sentBy(e.sentBy),e.status!==void 0&&this.status(e.status),e.role!==void 0&&this.role(e.role),e.rsvp!==void 0&&this.rsvp(e.rsvp),e.type!==void 0&&this.type(e.type),e.delegatedTo!==void 0&&this.delegatedTo(e.delegatedTo),e.delegatedFrom!==void 0&&this.delegatedFrom(e.delegatedFrom),e.delegatesTo&&this.delegatesTo(e.delegatesTo),e.delegatesFrom&&this.delegatesFrom(e.delegatesFrom),e.scheduleAgent!==void 0&&this.scheduleAgent(e.scheduleAgent),e.x!==void 0&&this.x(e.x)}delegatedFrom(e){return e===void 0?this.data.delegatedFrom:(e?typeof e=="string"?this.data.delegatedFrom=new y(b("delegatedFrom",e),this.parent):e instanceof y?this.data.delegatedFrom=e:this.data.delegatedFrom=new y(e,this.parent):this.data.delegatedFrom=null,this)}delegatedTo(e){return e===void 0?this.data.delegatedTo:e?(typeof e=="string"?this.data.delegatedTo=new y(b("delegatedTo",e),this.parent):e instanceof y?this.data.delegatedTo=e:this.data.delegatedTo=new y(e,this.parent),this.data.status="DELEGATED",this):(this.data.delegatedTo=null,this.data.status==="DELEGATED"&&(this.data.status=null),this)}delegatesFrom(e){let a=e instanceof y?e:this.parent.createAttendee(e);return this.delegatedFrom(a),a.delegatedTo(this),a}delegatesTo(e){let a=e instanceof y?e:this.parent.createAttendee(e);return this.delegatedTo(a),a.delegatedFrom(this),a}email(e){return e?(this.data.email=e,this):this.data.email}mailto(e){return e===void 0?this.data.mailto:(this.data.mailto=e||null,this)}name(e){return e===void 0?this.data.name:(this.data.name=e||null,this)}role(e){return e===void 0?this.data.role:(this.data.role=d($,e),this)}rsvp(e){return e===void 0?this.data.rsvp:e===null?(this.data.rsvp=null,this):(this.data.rsvp=!!e,this)}scheduleAgent(e){return e===void 0?this.data.scheduleAgent:e?typeof e=="string"&&e.toUpperCase().startsWith("X-")?(this.data.scheduleAgent=e,this):(this.data.scheduleAgent=d(K,e),this):(this.data.scheduleAgent=null,this)}sentBy(e){return e?(this.data.sentBy=e,this):this.data.sentBy}status(e){return e===void 0?this.data.status:e?(this.data.status=d(tt,e),this):(this.data.status=null,this)}toJSON(){return Object.assign({},this.data,{delegatedFrom:this.data.delegatedFrom?.email()||null,delegatedTo:this.data.delegatedTo?.email()||null,x:this.x()})}toString(){let e="ATTENDEE";if(!this.data.email)throw new Error("No value for `email` in ICalAttendee given!");return e+=";ROLE="+this.data.role,this.data.type&&(e+=";CUTYPE="+this.data.type),this.data.status&&(e+=";PARTSTAT="+this.data.status),this.data.rsvp!==null&&(e+=";RSVP="+this.data.rsvp.toString().toUpperCase()),this.data.sentBy!==null&&(e+=';SENT-BY="mailto:'+this.data.sentBy+'"'),this.data.delegatedTo&&(e+=';DELEGATED-TO="'+this.data.delegatedTo.email()+'"'),this.data.delegatedFrom&&(e+=';DELEGATED-FROM="'+this.data.delegatedFrom.email()+'"'),this.data.name&&(e+=';CN="'+s(this.data.name,!0)+'"'),this.data.email&&this.data.mailto&&(e+=";EMAIL="+s(this.data.email,!1)),this.data.scheduleAgent&&(e+=";SCHEDULE-AGENT="+this.data.scheduleAgent),this.data.x.length&&(e+=";"+this.data.x.map(([a,i])=>a.toUpperCase()+"="+s(i,!1)).join(";")),e+=":MAILTO:"+s(this.data.mailto||this.data.email,!1)+`\r
`,e}type(e){return e===void 0?this.data.type:e?(this.data.type=d(et,e),this):(this.data.type=null,this)}x(e,a){if(e===void 0)return l(this.data);if(typeof e=="string"&&typeof a=="string")l(this.data,e,a);else if(typeof e=="object")l(this.data,e);else throw new Error("Either key or value is not a string!");return this}},at=(t=>(t.audio="audio",t.display="display",t.email="email",t))(at||{}),Ot={end:"END",start:"START"},X=class{data;event;constructor(t,e){if(this.data={attach:null,attendees:[],description:null,interval:null,relatesTo:null,repeat:null,summary:null,trigger:-600,type:"display",x:[]},this.event=e,!e)throw new Error("`event` option required!");t.type!==void 0&&this.type(t.type),"trigger"in t&&t.trigger!==void 0&&this.trigger(t.trigger),"triggerBefore"in t&&t.triggerBefore!==void 0&&this.triggerBefore(t.triggerBefore),"triggerAfter"in t&&t.triggerAfter!==void 0&&this.triggerAfter(t.triggerAfter),t.repeat&&this.repeat(t.repeat),t.attach!==void 0&&this.attach(t.attach),t.description!==void 0&&this.description(t.description),t.summary!==void 0&&this.summary(t.summary),t.attendees!==void 0&&this.attendees(t.attendees),t.x!==void 0&&this.x(t.x)}attach(t){if(t===void 0)return this.data.attach;if(!t)return this.data.attach=null,this;let e=null;if(typeof t=="string")e={mime:null,uri:t};else if(typeof t=="object")e={mime:t.mime||null,uri:t.uri};else throw new Error("`attachment` needs to be a valid formed string or an object. See https://sebbo2002.github.io/ical-generator/develop/reference/classes/ICalAlarm.html#attach");if(!e.uri)throw new Error("`attach.uri` is empty!");return this.data.attach={mime:e.mime,uri:e.uri},this}attendees(t){return t?(t.forEach(e=>this.createAttendee(e)),this):this.data.attendees}createAttendee(t){if(t instanceof w)return this.data.attendees.push(t),t;typeof t=="string"&&(t=b("data",t));let e=new w(t,this);return this.data.attendees.push(e),e}description(t){return t===void 0?this.data.description:t?(this.data.description=t,this):(this.data.description=null,this)}relatesTo(t){if(t===void 0)return this.data.relatesTo;if(!t)return this.data.relatesTo=null,this;if(!Object.values(Ot).includes(t))throw new Error("`relatesTo` is not correct, must be either `START` or `END`!");return this.data.relatesTo=t,this}repeat(t){if(t===void 0)return this.data.repeat;if(!t)return this.data.repeat=null,this;if(typeof t!="object")throw new Error("`repeat` is not correct, must be an object!");if(typeof t.times!="number"||!isFinite(t.times))throw new Error("`repeat.times` is not correct, must be numeric!");if(typeof t.interval!="number"||!isFinite(t.interval))throw new Error("`repeat.interval` is not correct, must be numeric!");return this.data.repeat=t,this}summary(t){return t===void 0?this.data.summary:t?(this.data.summary=t,this):(this.data.summary=null,this)}toJSON(){let t=this.trigger();return Object.assign({},this.data,{trigger:typeof t=="number"?t:E(t),x:this.x()})}toString(){let t=`BEGIN:VALARM\r
`;if(t+="ACTION:"+this.data.type.toUpperCase()+`\r
`,typeof this.data.trigger=="number"&&this.data.relatesTo===null?this.data.trigger>0?t+="TRIGGER;RELATED=END:"+T(this.data.trigger)+`\r
`:t+="TRIGGER:"+T(this.data.trigger)+`\r
`:typeof this.data.trigger=="number"?t+="TRIGGER;RELATED="+this.data.relatesTo?.toUpperCase()+":"+T(this.data.trigger)+`\r
`:t+="TRIGGER;VALUE=DATE-TIME:"+u(this.event.timezone(),this.data.trigger)+`\r
`,this.data.repeat){if(!this.data.repeat.times)throw new Error("No value for `repeat.times` in ICalAlarm given, but required for `interval`!");if(!this.data.repeat.interval)throw new Error("No value for `repeat.interval` in ICalAlarm given, but required for `repeat`!");t+="REPEAT:"+this.data.repeat.times+`\r
`,t+="DURATION:"+T(this.data.repeat.interval)+`\r
`}return this.data.type==="audio"&&this.data.attach&&this.data.attach.mime?t+="ATTACH;FMTTYPE="+s(this.data.attach.mime,!1)+":"+s(this.data.attach.uri,!1)+`\r
`:this.data.type==="audio"&&this.data.attach?t+="ATTACH;VALUE=URI:"+s(this.data.attach.uri,!1)+`\r
`:this.data.type==="audio"&&(t+=`ATTACH;VALUE=URI:Basso\r
`),this.data.type!=="audio"&&this.data.description?t+="DESCRIPTION:"+s(this.data.description,!1)+`\r
`:this.data.type!=="audio"&&(t+="DESCRIPTION:"+s(this.event.summary(),!1)+`\r
`),this.data.type==="email"&&this.data.summary?t+="SUMMARY:"+s(this.data.summary,!1)+`\r
`:this.data.type==="email"&&(t+="SUMMARY:"+s(this.event.summary(),!1)+`\r
`),this.data.type==="email"&&this.data.attendees.forEach(e=>{t+=e.toString()}),t+=P(this.data),t+=`END:VALARM\r
`,t}trigger(t){if(t===void 0&&typeof this.data.trigger=="number")return-1*this.data.trigger;if(t===void 0)return this.data.trigger;if(typeof t=="number"&&isFinite(t))this.data.trigger=-1*t;else{if(!t||typeof t=="number")throw new Error("`trigger` is not correct, must be a finite number or a supported date!");this.data.trigger=f(t,"trigger")}return this}triggerAfter(t){return t===void 0?this.data.trigger:this.trigger(typeof t=="number"?-1*t:t)}triggerBefore(t){return t===void 0?this.trigger():this.trigger(t)}type(t){if(t===void 0)return this.data.type;if(!t||!Object.keys(at).includes(t))throw new Error("`type` is not correct, must be either `display` or `audio`!");return this.data.type=t,this}x(t,e){if(t===void 0)return l(this.data);if(typeof t=="string"&&typeof e=="string")l(this.data,t,e);else if(typeof t=="object")l(this.data,t);else throw new Error("Either key or value is not a string!");return this}},Z=class{data;constructor(t){if(this.data={name:""},!t.name)throw new Error("No value for `name` in ICalCategory given!");this.name(t.name)}name(t){return t===void 0?this.data.name:(this.data.name=t,this)}toJSON(){return Object.assign({},this.data)}toString(){return s(this.data.name,!1)}},it=(t=>(t.BUSY="BUSY",t.FREE="FREE",t.OOF="OOF",t.TENTATIVE="TENTATIVE",t))(it||{}),rt=(t=>(t.CONFIDENTIAL="CONFIDENTIAL",t.PRIVATE="PRIVATE",t.PUBLIC="PUBLIC",t))(rt||{}),st=(t=>(t.CANCELLED="CANCELLED",t.CONFIRMED="CONFIRMED",t.TENTATIVE="TENTATIVE",t))(st||{}),nt=(t=>(t.OPAQUE="OPAQUE",t.TRANSPARENT="TRANSPARENT",t))(nt||{}),J=class{calendar;data;constructor(t,e){if(this.data={alarms:[],allDay:!1,attachments:[],attendees:[],busystatus:null,categories:[],class:null,created:null,description:null,end:null,floating:!1,id:crypto.randomUUID(),lastModified:null,location:null,organizer:null,priority:null,recurrenceId:null,repeating:null,sequence:0,stamp:new Date,start:new Date,status:null,summary:"",timezone:null,transparency:null,url:null,x:[]},this.calendar=e,!e)throw new Error("`calendar` option required!");t.id&&this.id(t.id),t.sequence!==void 0&&this.sequence(t.sequence),t.start&&this.start(t.start),t.end!==void 0&&this.end(t.end),t.recurrenceId!==void 0&&this.recurrenceId(t.recurrenceId),t.timezone!==void 0&&this.timezone(t.timezone),t.stamp!==void 0&&this.stamp(t.stamp),t.allDay!==void 0&&this.allDay(t.allDay),t.floating!==void 0&&this.floating(t.floating),t.repeating!==void 0&&this.repeating(t.repeating),t.summary!==void 0&&this.summary(t.summary),t.location!==void 0&&this.location(t.location),t.description!==void 0&&this.description(t.description),t.organizer!==void 0&&this.organizer(t.organizer),t.attendees!==void 0&&this.attendees(t.attendees),t.alarms!==void 0&&this.alarms(t.alarms),t.categories!==void 0&&this.categories(t.categories),t.status!==void 0&&this.status(t.status),t.busystatus!==void 0&&this.busystatus(t.busystatus),t.priority!==void 0&&this.priority(t.priority),t.url!==void 0&&this.url(t.url),t.attachments!==void 0&&this.attachments(t.attachments),t.transparency!==void 0&&this.transparency(t.transparency),t.created!==void 0&&this.created(t.created),t.lastModified!==void 0&&this.lastModified(t.lastModified),t.class!==void 0&&this.class(t.class),t.x!==void 0&&this.x(t.x)}alarms(t){return t?(t.forEach(e=>this.createAlarm(e)),this):this.data.alarms}allDay(t){return t===void 0?this.data.allDay:(this.data.allDay=!!t,this)}attachments(t){return t?(t.forEach(e=>this.createAttachment(e)),this):this.data.attachments}attendees(t){return t?(t.forEach(e=>this.createAttendee(e)),this):this.data.attendees}busystatus(t){return t===void 0?this.data.busystatus:t===null?(this.data.busystatus=null,this):(this.data.busystatus=d(it,t),this)}categories(t){return t?(t.forEach(e=>this.createCategory(e)),this):this.data.categories}class(t){return t===void 0?this.data.class:t===null?(this.data.class=null,this):(this.data.class=d(rt,t),this)}createAlarm(t){let e=t instanceof X?t:new X(t,this);return this.data.alarms.push(e),e}createAttachment(t){return this.data.attachments.push(t),this}createAttendee(t){if(t instanceof w)return this.data.attendees.push(t),t;typeof t=="string"&&(t=b("data",t));let e=new w(t,this);return this.data.attendees.push(e),e}createCategory(t){let e=t instanceof Z?t:new Z(t);return this.data.categories.push(e),e}created(t){return t===void 0?this.data.created:t===null?(this.data.created=null,this):(this.data.created=f(t,"created"),this)}description(t){return t===void 0?this.data.description:t===null?(this.data.description=null,this):(typeof t=="string"?this.data.description={plain:t}:this.data.description=t,this)}end(t){return t===void 0?(this.swapStartAndEndIfRequired(),this.data.end):t===null?(this.data.end=null,this):(this.data.end=f(t,"end"),this)}floating(t){return t===void 0?this.data.floating:(this.data.floating=!!t,this.data.floating&&(this.data.timezone=null),this)}id(t){return t===void 0?this.data.id:(this.data.id=String(t),this)}lastModified(t){return t===void 0?this.data.lastModified:t===null?(this.data.lastModified=null,this):(this.data.lastModified=f(t,"lastModified"),this)}location(t){if(t===void 0)return this.data.location;if(typeof t=="string")return this.data.location={title:t},this;if(t&&("title"in t&&!t.title||t?.geo&&(typeof t.geo.lat!="number"||!isFinite(t.geo.lat)||typeof t.geo.lon!="number"||!isFinite(t.geo.lon))||!("title"in t)&&!t?.geo))throw new Error("`location` isn't formatted correctly. See https://sebbo2002.github.io/ical-generator/develop/reference/classes/ICalEvent.html#location");return this.data.location=t||null,this}organizer(t){return t===void 0?this.data.organizer:t===null?(this.data.organizer=null,this):(this.data.organizer=b("organizer",t),this)}priority(t){if(t===void 0)return this.data.priority;if(t===null)return this.data.priority=null,this;if(t<0||t>9)throw new Error("`priority` is invalid, musst be 0 ≤ priority ≤ 9.");return this.data.priority=Math.round(t),this}recurrenceId(t){return t===void 0?this.data.recurrenceId:t===null?(this.data.recurrenceId=null,this):(this.data.recurrenceId=f(t,"recurrenceId"),this)}repeating(t){if(t===void 0)return this.data.repeating;if(!t)return this.data.repeating=null,this;if(_(t)||typeof t=="string")return this.data.repeating=t,this;if(this.data.repeating={freq:d(Q,t.freq)},t.count){if(!isFinite(t.count))throw new Error("`repeating.count` must be a finite number!");this.data.repeating.count=t.count}if(t.interval){if(!isFinite(t.interval))throw new Error("`repeating.interval` must be a finite number!");this.data.repeating.interval=t.interval}if(t.until!==void 0&&(this.data.repeating.until=f(t.until,"repeating.until")),t.byDay){let e=Array.isArray(t.byDay)?t.byDay:[t.byDay];this.data.repeating.byDay=e.map(a=>d(F,a))}if(t.byMonth){let e=Array.isArray(t.byMonth)?t.byMonth:[t.byMonth];this.data.repeating.byMonth=e.map(a=>{if(typeof a!="number"||a<1||a>12)throw new Error("`repeating.byMonth` contains invalid value `"+a+"`!");return a})}if(t.byMonthDay){let e=Array.isArray(t.byMonthDay)?t.byMonthDay:[t.byMonthDay];this.data.repeating.byMonthDay=e.map(a=>{if(typeof a!="number"||a<-31||a>31||a===0)throw new Error("`repeating.byMonthDay` contains invalid value `"+a+"`!");return a})}if(t.bySetPos){if(!this.data.repeating.byDay)throw"`repeating.bySetPos` must be used along with `repeating.byDay`!";let e=Array.isArray(t.bySetPos)?t.bySetPos:[t.bySetPos];this.data.repeating.bySetPos=e.map(a=>{if(typeof a!="number"||a<-366||a>366||a===0)throw"`repeating.bySetPos` contains invalid value `"+a+"`!";return a})}if(t.exclude){let e=Array.isArray(t.exclude)?t.exclude:[t.exclude];this.data.repeating.exclude=e.map((a,i)=>f(a,`repeating.exclude[${i}]`))}return t.startOfWeek&&(this.data.repeating.startOfWeek=d(F,t.startOfWeek)),this}sequence(t){if(t===void 0)return this.data.sequence;let e=parseInt(String(t),10);if(isNaN(e))throw new Error("`sequence` must be a number!");return this.data.sequence=t,this}stamp(t){return t===void 0?this.data.stamp:(this.data.stamp=f(t,"stamp"),this)}start(t){return t===void 0?(this.swapStartAndEndIfRequired(),this.data.start):(this.data.start=f(t,"start"),this)}status(t){return t===void 0?this.data.status:t===null?(this.data.status=null,this):(this.data.status=d(st,t),this)}summary(t){return t===void 0?this.data.summary:(this.data.summary=t?String(t):"",this)}timestamp(t){return t===void 0?this.stamp():this.stamp(t)}timezone(t){return t===void 0&&this.data.timezone!==null?this.data.timezone:t===void 0?this.calendar.timezone():(this.data.timezone=t&&t!=="UTC"?t.toString():null,this.data.timezone&&(this.data.floating=!1),this)}toJSON(){let t=null;return _(this.data.repeating)||typeof this.data.repeating=="string"?t=this.data.repeating.toString():this.data.repeating&&(t=Object.assign({},this.data.repeating,{exclude:this.data.repeating.exclude?.map(e=>E(e)),until:E(this.data.repeating.until)||void 0})),this.swapStartAndEndIfRequired(),Object.assign({},this.data,{created:E(this.data.created)||null,end:E(this.data.end)||null,lastModified:E(this.data.lastModified)||null,recurrenceId:E(this.data.recurrenceId)||null,repeating:t,stamp:E(this.data.stamp)||null,start:E(this.data.start)||null,x:this.x()})}toString(){let t="";if(t+=`BEGIN:VEVENT\r
`,t+="UID:"+this.data.id+`\r
`,t+="SEQUENCE:"+this.data.sequence+`\r
`,this.swapStartAndEndIfRequired(),t+="DTSTAMP:"+u(this.calendar.timezone(),this.data.stamp)+`\r
`,this.data.allDay?(t+="DTSTART;VALUE=DATE:"+u(this.timezone(),this.data.start,!0)+`\r
`,this.data.end&&(t+="DTEND;VALUE=DATE:"+u(this.timezone(),this.data.end,!0)+`\r
`),t+=`X-MICROSOFT-CDO-ALLDAYEVENT:TRUE\r
`,t+=`X-MICROSOFT-MSNCALENDAR-ALLDAYEVENT:TRUE\r
`):(t+=x(this.timezone(),"DTSTART",this.data.start,this.data)+`\r
`,this.data.end&&(t+=x(this.timezone(),"DTEND",this.data.end,this.data)+`\r
`)),_(this.data.repeating)||typeof this.data.repeating=="string"){let e=this.data.repeating.toString().replace(/\r\n/g,`
`).split(`
`).filter(a=>a&&!a.startsWith("DTSTART:")).join(`\r
`);!e.includes(`\r
`)&&!e.startsWith("RRULE:")&&(e="RRULE:"+e),t+=e.trim()+`\r
`}else this.data.repeating&&(t+="RRULE:FREQ="+this.data.repeating.freq,this.data.repeating.count&&(t+=";COUNT="+this.data.repeating.count),this.data.repeating.interval&&(t+=";INTERVAL="+this.data.repeating.interval),this.data.repeating.until&&(t+=";UNTIL="+u(this.calendar.timezone(),this.data.repeating.until,!1,this.floating())),this.data.repeating.byDay&&(t+=";BYDAY="+this.data.repeating.byDay.join(",")),this.data.repeating.byMonth&&(t+=";BYMONTH="+this.data.repeating.byMonth.join(",")),this.data.repeating.byMonthDay&&(t+=";BYMONTHDAY="+this.data.repeating.byMonthDay.join(",")),this.data.repeating.bySetPos&&(t+=";BYSETPOS="+this.data.repeating.bySetPos.join(",")),this.data.repeating.startOfWeek&&(t+=";WKST="+this.data.repeating.startOfWeek),t+=`\r
`,this.data.repeating.exclude&&(this.data.allDay?t+="EXDATE;VALUE=DATE:"+this.data.repeating.exclude.map(e=>u(this.calendar.timezone(),e,!0)).join(",")+`\r
`:(t+="EXDATE",this.timezone()?t+=";TZID="+this.timezone()+":"+this.data.repeating.exclude.map(e=>u(this.timezone(),e,!1,!0)).join(",")+`\r
`:t+=":"+this.data.repeating.exclude.map(e=>u(this.timezone(),e,!1,this.floating())).join(",")+`\r
`)));return this.data.recurrenceId&&(t+=x(this.timezone(),"RECURRENCE-ID",this.data.recurrenceId,this.data)+`\r
`),t+="SUMMARY:"+s(this.data.summary,!1)+`\r
`,this.data.transparency&&(t+="TRANSP:"+s(this.data.transparency,!1)+`\r
`),this.data.location&&"title"in this.data.location&&this.data.location.title&&(t+="LOCATION:"+s(this.data.location.title+(this.data.location.address?`
`+this.data.location.address:""),!1)+`\r
`,this.data.location.radius&&this.data.location.geo&&(t+="X-APPLE-STRUCTURED-LOCATION;VALUE=URI;"+(this.data.location.address?"X-ADDRESS="+s(this.data.location.address,!1)+";":"")+"X-APPLE-RADIUS="+s(this.data.location.radius,!1)+";X-TITLE="+s(this.data.location.title,!1)+":geo:"+s(this.data.location.geo?.lat,!1)+","+s(this.data.location.geo?.lon,!1)+`\r
`)),this.data.location?.geo?.lat&&this.data.location.geo.lon&&(t+="GEO:"+s(this.data.location.geo.lat,!1)+";"+s(this.data.location.geo.lon,!1)+`\r
`),this.data.description&&(t+="DESCRIPTION:"+s(this.data.description.plain,!1)+`\r
`,this.data.description.html&&(t+="X-ALT-DESC;FMTTYPE=text/html:"+s(this.data.description.html,!1)+`\r
`)),this.data.organizer&&(t+='ORGANIZER;CN="'+s(this.data.organizer.name,!0)+'"',this.data.organizer.sentBy&&(t+=';SENT-BY="mailto:'+s(this.data.organizer.sentBy,!0)+'"'),this.data.organizer.email&&this.data.organizer.mailto&&(t+=";EMAIL="+s(this.data.organizer.email,!1)),t+=":",this.data.organizer.email&&(t+="mailto:"+s(this.data.organizer.mailto||this.data.organizer.email,!1)),t+=`\r
`),this.data.attendees.forEach(function(e){t+=e.toString()}),this.data.alarms.forEach(function(e){t+=e.toString()}),this.data.categories.length>0&&(t+="CATEGORIES:"+this.data.categories.map(e=>e.toString()).join()+`\r
`),this.data.url&&(t+="URL;VALUE=URI:"+s(this.data.url,!1)+`\r
`),this.data.attachments.length>0&&this.data.attachments.forEach(e=>{t+="ATTACH:"+s(e,!1)+`\r
`}),this.data.status&&(t+="STATUS:"+this.data.status.toUpperCase()+`\r
`),this.data.busystatus&&(t+="X-MICROSOFT-CDO-BUSYSTATUS:"+this.data.busystatus.toUpperCase()+`\r
`),this.data.priority!==null&&(t+="PRIORITY:"+this.data.priority+`\r
`),t+=P(this.data),this.data.created&&(t+="CREATED:"+u(this.calendar.timezone(),this.data.created)+`\r
`),this.data.lastModified&&(t+="LAST-MODIFIED:"+u(this.calendar.timezone(),this.data.lastModified)+`\r
`),this.data.class&&(t+="CLASS:"+this.data.class.toUpperCase()+`\r
`),t+=`END:VEVENT\r
`,t}transparency(t){return t===void 0?this.data.transparency:t?(this.data.transparency=d(nt,t),this):(this.data.transparency=null,this)}uid(t){return t===void 0?this.id():this.id(t)}url(t){return t===void 0?this.data.url:(this.data.url=t?String(t):null,this)}x(t,e){return t===void 0?l(this.data):(typeof t=="string"&&typeof e=="string"&&l(this.data,t,e),typeof t=="object"&&l(this.data,t),this)}swapStartAndEndIfRequired(){if(this.data.start&&this.data.end&&W(this.data.start).getTime()>W(this.data.end).getTime()){let t=this.data.start;this.data.start=this.data.end,this.data.end=t}}},Y=(t=>(t.ADD="ADD",t.CANCEL="CANCEL",t.COUNTER="COUNTER",t.DECLINECOUNTER="DECLINECOUNTER",t.PUBLISH="PUBLISH",t.REFRESH="REFRESH",t.REPLY="REPLY",t.REQUEST="REQUEST",t))(Y||{}),Lt=class{data;constructor(t={}){this.data={description:null,events:[],method:null,name:null,prodId:"//sebbo.net//ical-generator//EN",scale:null,source:null,timezone:null,ttl:null,url:null,x:[]},t.prodId!==void 0&&this.prodId(t.prodId),t.method!==void 0&&this.method(t.method),t.name!==void 0&&this.name(t.name),t.description!==void 0&&this.description(t.description),t.timezone!==void 0&&this.timezone(t.timezone),t.source!==void 0&&this.source(t.source),t.url!==void 0&&this.url(t.url),t.scale!==void 0&&this.scale(t.scale),t.ttl!==void 0&&this.ttl(t.ttl),t.events!==void 0&&this.events(t.events),t.x!==void 0&&this.x(t.x)}clear(){return this.data.events=[],this}createEvent(t){let e=t instanceof J?t:new J(t,this);return this.data.events.push(e),e}description(t){return t===void 0?this.data.description:(this.data.description=t?String(t):null,this)}events(t){return t?(t.forEach(e=>this.createEvent(e)),this):this.data.events}length(){return this.data.events.length}method(t){return t===void 0?this.data.method:t?(this.data.method=d(Y,t),this):(this.data.method=null,this)}name(t){return t===void 0?this.data.name:(this.data.name=t?String(t):null,this)}prodId(t){if(!t)return this.data.prodId;if(typeof t=="string")return this.data.prodId=t,this;if(typeof t!="object")throw new Error("`prodid` needs to be a string or an object!");if(!t.company)throw new Error("`prodid.company` is a mandatory item!");if(!t.product)throw new Error("`prodid.product` is a mandatory item!");let e=(t.language||"EN").toUpperCase();return this.data.prodId="//"+t.company+"//"+t.product+"//"+e,this}scale(t){return t===void 0?this.data.scale:(t===null?this.data.scale=null:this.data.scale=t.toUpperCase(),this)}source(t){return t===void 0?this.data.source:(this.data.source=t||null,this)}timezone(t){return t===void 0?this.data.timezone?.name||null:(t==="UTC"?this.data.timezone=null:typeof t=="string"?this.data.timezone={name:t}:t===null?this.data.timezone=null:this.data.timezone=t,this)}toJSON(){return Object.assign({},this.data,{events:this.data.events.map(t=>t.toJSON()),timezone:this.timezone(),x:this.x()})}toString(){let t="";return t=`BEGIN:VCALENDAR\r
VERSION:2.0\r
`,t+="PRODID:-"+this.data.prodId+`\r
`,this.data.url&&(t+="URL:"+this.data.url+`\r
`),this.data.source&&(t+="SOURCE;VALUE=URI:"+this.data.source+`\r
`),this.data.scale&&(t+="CALSCALE:"+this.data.scale+`\r
`),this.data.method&&(t+="METHOD:"+this.data.method+`\r
`),this.data.name&&(t+="NAME:"+this.data.name+`\r
`,t+="X-WR-CALNAME:"+this.data.name+`\r
`),this.data.description&&(t+="X-WR-CALDESC:"+this.data.description+`\r
`),this.data.timezone?.generator&&[...new Set([this.timezone(),...this.data.events.map(e=>e.timezone())])].filter(e=>e!==null&&!e.startsWith("/")).forEach(e=>{if(!this.data.timezone?.generator)return;let a=this.data.timezone.generator(e);a&&(t+=a.replace(/\r\n/g,`
`).replace(/\n/g,`\r
`).trim()+`\r
`)}),this.data.timezone?.name&&(t+="TIMEZONE-ID:"+this.data.timezone.name+`\r
`,t+="X-WR-TIMEZONE:"+this.data.timezone.name+`\r
`),this.data.ttl&&(t+="REFRESH-INTERVAL;VALUE=DURATION:"+T(this.data.ttl)+`\r
`,t+="X-PUBLISHED-TTL:"+T(this.data.ttl)+`\r
`),this.data.events.forEach(e=>t+=e.toString()),t+=P(this.data),t+="END:VCALENDAR",wt(t)}ttl(t){return t===void 0?this.data.ttl:(Ct(t)?this.data.ttl=t.asSeconds():t&&t>0?this.data.ttl=t:this.data.ttl=null,this)}url(t){return t===void 0?this.data.url:(this.data.url=t||null,this)}x(t,e){if(t===void 0)return l(this.data);if(typeof t=="string"&&typeof e=="string")l(this.data,t,e);else if(typeof t=="object")l(this.data,t);else throw new Error("Either key or value is not a string!");return this}};function Mt(t){return new Lt(t)}var zt=Mt;const xt={"mb-2":"",flex:"","items-baseline":"","gap-2":""},_t={flex:"","justify-center":""},Ft={"mt-2":"",flex:"","justify-center":""},ie=ct({__name:"ical-generator",setup(t){const{t:e}=pt(),a=H([{startend:[Date.now(),Date.now()],summary:"An event"}]);function i(h){a.value.length!==1&&a.value.splice(h,1)}function r(){const h=Date.now();a.value.push({startend:[h,h+3600*1e3],summary:"An event"})}const n=L(()=>{try{const h=zt({name:a.value[0]?.summary||"unamed"});h.method(Y.REQUEST);for(const m of a.value)h.createEvent({start:new Date(m.startend[0]).toUTCString(),end:new Date(m.startend[0]).toUTCString(),summary:m.summary,description:m.description,location:m.location,url:m.url});return{ical:h.toString()}}catch(h){return{error:h.toString()}}}),D=L(()=>Dt.encode(n.value?.ical||"")),j=H(""),S=L(()=>j.value?j.value:bt(a.value[0]?.summary||"unamed")),{download:ot}=St({source:D,filename:S,extension:"ics"});return(h,m)=>{const U=Et,O=yt,dt=vt,lt=Tt,B=It,ht=Nt,ut=At;return A(),k("div",null,[M("div",xt,[g(U,{value:o(S),"onUpdate:value":m[0]||(m[0]=c=>mt(S)?S.value=c:null),placeholder:o(e)("tools.ical-generator.texts.placeholder-generated-if-empty"),label:o(e)("tools.ical-generator.texts.label-output-filename"),"label-position":"left","mb-2":""},null,8,["value","placeholder","label"]),o(n).ical?(A(),z(O,{key:0,onClick:o(ot)},{default:v(()=>[I(N(o(e)("tools.ical-generator.texts.tag-download-ics")),1)]),_:1},8,["onClick"])):G("",!0)]),o(n).error?(A(),z(dt,{key:0,"mb-2":""},{default:v(()=>[I(N(o(n).error),1)]),_:1})):G("",!0),(A(!0),k(gt,null,ft(o(a),(c,V)=>(A(),z(ut,{key:V,"mb-2":""},{default:v(()=>[g(B,{label:o(e)("tools.ical-generator.texts.label-title"),"label-placement":"left"},{default:v(()=>[g(lt,{value:c.summary,"onUpdate:value":p=>c.summary=p,"allow-input":p=>!!p},null,8,["value","onUpdate:value","allow-input"])]),_:2},1032,["label"]),g(B,{label:o(e)("tools.ical-generator.texts.label-dates-and-hours"),"label-placement":"left"},{default:v(()=>[g(ht,{value:c.startend,"onUpdate:value":p=>c.startend=p,type:"datetimerange"},null,8,["value","onUpdate:value"])]),_:2},1032,["label"]),g(U,{value:c.description,"onUpdate:value":p=>c.description=p,label:o(e)("tools.ical-generator.texts.label-description"),placeholder:o(e)("tools.ical-generator.texts.placeholder-put-a-description-here"),multiline:"",rows:"2","mb-2":""},null,8,["value","onUpdate:value","label","placeholder"]),g(U,{value:c.url,"onUpdate:value":p=>c.url=p,label:o(e)("tools.ical-generator.texts.label-url"),"label-position":"left",placeholder:o(e)("tools.ical-generator.texts.placeholder-put-an-url-here"),"mb-2":""},null,8,["value","onUpdate:value","label","placeholder"]),M("div",_t,[g(O,{onClick:p=>i(V)},{default:v(()=>[I(N(o(e)("tools.ical-generator.texts.tag-delete")),1)]),_:2},1032,["onClick"])])]),_:2},1024))),128)),M("div",Ft,[g(O,{onClick:r},{default:v(()=>[I(N(o(e)("tools.ical-generator.texts.tag-add-event")),1)]),_:1})])])}}});export{ie as default};
