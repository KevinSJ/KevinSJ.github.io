import{d as D,a0 as V,r as g,o as X,j as q,w as l,k as n,l as r,m as N,a6 as T,G as E,a as G,ah as z,aj as Z,bq as J}from"./index-0c1fde36.js";import{_ as K}from"./FormItem-1b9a5952.js";import{_ as Q}from"./Space-7fc52151.js";import{_ as ee}from"./Form-a433c14f.js";import{_ as te,a as ie}from"./Tabs-1c90a6ea.js";import{N as oe}from"./Upload-98f6b12b.js";import{_ as se}from"./Card-7ba5ce79.js";import"./context-00991937.js";import"./get-slot-1efb97e5.js";import"./debounce-a6b2605e.js";import"./now-e8fe0d27.js";import"./toNumber-29aad22f.js";import"./Progress-cb02197e.js";import"./Image-22bdebd3.js";import"./_arrayReduce-865b0d3f.js";import"./download-953ccaa2.js";function ne(a){if(Array.isArray(a)){for(var e=0,t=Array(a.length);e<a.length;e++)t[e]=a[e];return t}else return Array.from(a)}var I=!1;if(typeof window<"u"){var U={get passive(){I=!0}};window.addEventListener("testPassive",null,U),window.removeEventListener("testPassive",null,U)}var y=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),m=[],x=!1,R=-1,v=void 0,p=void 0,_=void 0,W=function(e){return m.some(function(t){return!!(t.options.allowTouchMove&&t.options.allowTouchMove(e))})},C=function(e){var t=e||window.event;return W(t.target)||t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)},ae=function(e){if(_===void 0){var t=!!e&&e.reserveScrollBarGap===!0,i=window.innerWidth-document.documentElement.clientWidth;if(t&&i>0){var o=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);_=document.body.style.paddingRight,document.body.style.paddingRight=o+i+"px"}}v===void 0&&(v=document.body.style.overflow,document.body.style.overflow="hidden")},le=function(){_!==void 0&&(document.body.style.paddingRight=_,_=void 0),v!==void 0&&(document.body.style.overflow=v,v=void 0)},re=function(){return window.requestAnimationFrame(function(){if(p===void 0){p={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,t=e.scrollY,i=e.scrollX,o=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-i,setTimeout(function(){return window.requestAnimationFrame(function(){var s=o-window.innerHeight;s&&t>=o&&(document.body.style.top=-(t+s))})},300)}})},de=function(){if(p!==void 0){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=p.position,document.body.style.top=p.top,document.body.style.left=p.left,window.scrollTo(t,e),p=void 0}},ce=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},ue=function(e,t){var i=e.targetTouches[0].clientY-R;return W(e.target)?!1:t&&t.scrollTop===0&&i>0||ce(t)&&i<0?C(e):(e.stopPropagation(),!0)},O=function(e,t){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!m.some(function(o){return o.targetElement===e})){var i={targetElement:e,options:t||{}};m=[].concat(ne(m),[i]),y?re():ae(t),y&&(e.ontouchstart=function(o){o.targetTouches.length===1&&(R=o.targetTouches[0].clientY)},e.ontouchmove=function(o){o.targetTouches.length===1&&ue(o,e)},x||(document.addEventListener("touchmove",C,I?{passive:!1}:void 0),x=!0))}},H=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}m=m.filter(function(t){return t.targetElement!==e}),y&&(e.ontouchstart=null,e.ontouchmove=null,x&&m.length===0&&(document.removeEventListener("touchmove",C,I?{passive:!1}:void 0),x=!1)),y?de():le()};class he{constructor(e,t={}){const i={controlColor:"#FFFFFF",controlShadow:!0,addCircle:!1,addCircleBlur:!0,showLabels:!1,labelOptions:{before:"Before",after:"After",onHover:!1},smoothing:!0,smoothingAmount:100,hoverStart:!1,verticalMode:!1,startingPoint:50,fluidMode:!1};this.settings=Object.assign(i,t),this.animationFrameId=null,this.safariAgent=navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1,this.el=e,this.images={},this.wrapper=null,this.control=null,this.arrowContainer=null,this.arrowAnimator=[],this.active=!1,this.slideWidth=50,this.lineWidth=2,this.arrowCoordinates={circle:[5,3],standard:[8,0]}}mount(){this.safariAgent&&(this.settings.smoothing=!1),this._shapeContainer(),this._getImages(),this._buildControl(),this._events()}_events(){this.el.addEventListener("mousedown",e=>{this._activate(!0),document.body.classList.add("icv__body"),O(this.el,{reserveScrollBarGap:!0}),this._slideCompare(e)}),this.el.addEventListener("mousemove",e=>this.active&&this._slideCompare(e)),this.el.addEventListener("mouseup",()=>this._activate(!1)),document.body.addEventListener("mouseup",()=>{document.body.classList.remove("icv__body"),H(this.el),this._activate(!1)}),this.control.addEventListener("touchstart",e=>{this._activate(!0),document.body.classList.add("icv__body"),O(this.el,{reserveScrollBarGap:!0})}),this.el.addEventListener("touchmove",e=>{this.active&&this._slideCompare(e)}),this.el.addEventListener("touchend",()=>{this._activate(!1),document.body.classList.remove("icv__body"),H(this.el)}),this.el.addEventListener("mouseenter",()=>{this.settings.hoverStart&&this._activate(!0);let e=this.settings.addCircle?this.arrowCoordinates.circle:this.arrowCoordinates.standard;this.arrowAnimator.forEach((t,i)=>{t.style.cssText=`
        ${this.settings.verticalMode?`transform: translateY(${e[1]*(i===0?1:-1)}px);`:`transform: translateX(${e[1]*(i===0?1:-1)}px);`}
        `})}),this.el.addEventListener("mouseleave",()=>{let e=this.settings.addCircle?this.arrowCoordinates.circle:this.arrowCoordinates.standard;this.arrowAnimator.forEach((t,i)=>{t.style.cssText=`
        ${this.settings.verticalMode?`transform: translateY(${i===0?`${e[0]}px`:`-${e[0]}px`});`:`transform: translateX(${i===0?`${e[0]}px`:`-${e[0]}px`});`}
        `})})}_slideCompare(e){this.animationFrameId===null&&(this.animationFrameId=requestAnimationFrame(()=>{const t=this.el.getBoundingClientRect(),i=e.touches!==void 0?e.touches[0].clientX-t.left:e.clientX-t.left,o=e.touches!==void 0?e.touches[0].clientY-t.top:e.clientY-t.top,s=this.settings.verticalMode?o/t.height*100:i/t.width*100;s>=0&&s<=100&&(this.settings.verticalMode?this.control.style.top=`calc(${s}% - ${this.slideWidth/2}px)`:this.control.style.left=`calc(${s}% - ${this.slideWidth/2}px)`,this.settings.fluidMode?this.settings.verticalMode?this.wrapper.style.clipPath=`inset(0 0 ${100-s}% 0)`:this.wrapper.style.clipPath=`inset(0 0 0 ${s}%)`:this.settings.verticalMode?this.wrapper.style.height=`calc(${s}%)`:this.wrapper.style.width=`calc(${100-s}%)`),this.animationFrameId=null}))}_activate(e){this.active=e}_shapeContainer(){let e=document.createElement("div"),t=document.createElement("span"),i=document.createElement("span");t.classList.add("icv__label","icv__label-before","keep"),i.classList.add("icv__label","icv__label-after","keep"),this.settings.labelOptions.onHover&&(t.classList.add("on-hover"),i.classList.add("on-hover")),this.settings.verticalMode&&(t.classList.add("vertical"),i.classList.add("vertical")),t.innerHTML=this.settings.labelOptions.before||"Before",i.innerHTML=this.settings.labelOptions.after||"After",this.settings.showLabels&&(this.el.appendChild(t),this.el.appendChild(i)),this.el.classList.add("icv",this.settings.verticalMode?"icv__icv--vertical":"icv__icv--horizontal",this.settings.fluidMode?"icv__is--fluid":"standard"),e.classList.add("icv__imposter"),this.el.appendChild(e)}_buildControl(){let e=document.createElement("div"),t=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div");const s="20";i.classList.add("icv__theme-wrapper");for(var d=0;d<=1;d++){let u=document.createElement("div"),f=`<svg
      height="15"
      width="15"
       style="
       transform: 
       scale(${this.settings.addCircle?.7:1.5})  
       rotateZ(${d===0?this.settings.verticalMode?"-90deg":"180deg":this.settings.verticalMode?"90deg":"0deg"}); height: ${s}px; width: ${s}px;
       
       ${this.settings.controlShadow?`
       -webkit-filter: drop-shadow( 0px 3px 5px rgba(0, 0, 0, .33));
       filter: drop-shadow( 0px ${d===0?"-3px":"3px"} 5px rgba(0, 0, 0, .33));
       `:""}
       "
       xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 15 15">
       <path ${this.settings.addCircle?'fill="transparent"':`fill="${this.settings.controlColor}"`}
       stroke="${this.settings.controlColor}"
       stroke-linecap="round"
       stroke-width="${this.settings.addCircle?3:0}"
       d="M4.5 1.9L10 7.65l-5.5 5.4"
       />
     </svg>`;u.innerHTML+=f,this.arrowAnimator.push(u),i.appendChild(u)}let h=this.settings.addCircle?this.arrowCoordinates.circle:this.arrowCoordinates.standard;this.arrowAnimator.forEach((u,f)=>{u.classList.add("icv__arrow-wrapper"),u.style.cssText=`
      ${this.settings.verticalMode?`transform: translateY(${f===0?`${h[0]}px`:`-${h[0]}px`});`:`transform: translateX(${f===0?`${h[0]}px`:`-${h[0]}px`});`}
      `}),e.classList.add("icv__control"),e.style.cssText=`
    ${this.settings.verticalMode?"height":"width "}: ${this.slideWidth}px;
    ${this.settings.verticalMode?"top":"left "}: calc(${this.settings.startingPoint}% - ${this.slideWidth/2}px);
    ${"ontouchstart"in document.documentElement?"":this.settings.smoothing?`transition: ${this.settings.smoothingAmount}ms ease-out;`:""}
    `,t.classList.add("icv__control-line"),t.style.cssText=`
      ${this.settings.verticalMode?"height":"width "}: ${this.lineWidth}px;
      background: ${this.settings.controlColor};
        ${this.settings.controlShadow?"box-shadow: 0px 0px 15px rgba(0,0,0,0.33);":""}
    `;let $=t.cloneNode(!0);o.classList.add("icv__circle"),o.style.cssText=`

      ${this.settings.addCircleBlur&&"-webkit-backdrop-filter: blur(5px); backdrop-filter: blur(5px)"};
      
      border: ${this.lineWidth}px solid ${this.settings.controlColor};
      ${this.settings.controlShadow&&"box-shadow: 0px 0px 15px rgba(0,0,0,0.33)"};
    `,e.appendChild(t),this.settings.addCircle&&e.appendChild(o),e.appendChild(i),e.appendChild($),this.arrowContainer=i,this.control=e,this.el.appendChild(e)}_getImages(){let e=this.el.querySelectorAll("img, video, .keep");this.el.innerHTML="",e.forEach(i=>{this.el.appendChild(i)});let t=[...e].filter(i=>["img","video"].includes(i.nodeName.toLowerCase()));this.settings.verticalMode&&t.reverse();for(let i=0;i<=1;i++){let o=t[i];if(o.classList.add("icv__img"),o.classList.add(i===0?"icv__img-a":"icv__img-b"),i===1){let s=document.createElement("div"),d=t[1].src;s.classList.add("icv__wrapper"),s.style.cssText=`
            width: ${100-this.settings.startingPoint}%; 
            height: ${this.settings.startingPoint}%;

            ${"ontouchstart"in document.documentElement?"":this.settings.smoothing?`transition: ${this.settings.smoothingAmount}ms ease-out;`:""}
            ${this.settings.fluidMode&&`background-image: url(${d}); clip-path: inset(${this.settings.verticalMode?` 0 0 ${100-this.settings.startingPoint}% 0`:`0 0 0 ${this.settings.startingPoint}%`})`}
        `,s.appendChild(o),this.wrapper=s,this.el.appendChild(this.wrapper)}}if(this.settings.fluidMode){let i=t[0].src,o=document.createElement("div");o.classList.add("icv__fluidwrapper"),o.style.cssText=`
 
        background-image: url(${i});
        
      `,this.el.appendChild(o)}}}const pe=D({__name:"image-comparer",setup(a){const{t:e}=V(),t=g(""),i=g(""),o=g(null),s=g(null),d=g(null);let h=null;function $(){o.value=t.value,s.value=i.value,L()}function u({file:c}){o.value=URL.createObjectURL(c.file),L()}function f({file:c}){s.value=URL.createObjectURL(c.file),L()}function L(){if(!o.value||!s.value||!d.value)return;d.value.innerHTML="";const c=document.createElement("div");c.className="image-compare",c.innerHTML=`
    <img src="${o.value}" alt="Left Image" />
    <img src="${s.value}" alt="Right Image" />
  `,d.value.appendChild(c),h=new he(c,{controlColor:"#409EFF",smoothing:!0,addCircle:!0}),h.mount()}return(c,w)=>{const A=z,b=K,M=Z,B=Q,P=ee,F=te,k=oe,Y=ie,j=se;return X(),q(j,{title:r(e)("tools.image-comparer.texts.title-image-compare-viewer"),style:{"max-width":"800px",margin:"auto"}},{default:l(()=>[n(Y,{type:"segment"},{default:l(()=>[n(F,{name:"url",tab:"Compare by URL"},{default:l(()=>[n(P,{"label-placement":"left","label-width":"150px"},{default:l(()=>[n(b,{label:r(e)("tools.image-comparer.texts.label-left-image-url")},{default:l(()=>[n(A,{value:r(t),"onUpdate:value":w[0]||(w[0]=S=>N(t)?t.value=S:null),placeholder:r(e)("tools.image-comparer.texts.placeholder-enter-left-image-url")},null,8,["value","placeholder"])]),_:1},8,["label"]),n(b,{label:r(e)("tools.image-comparer.texts.label-right-image-url")},{default:l(()=>[n(A,{value:r(i),"onUpdate:value":w[1]||(w[1]=S=>N(i)?i.value=S:null),placeholder:r(e)("tools.image-comparer.texts.placeholder-enter-right-image-url")},null,8,["value","placeholder"])]),_:1},8,["label"]),n(B,{justify:"center"},{default:l(()=>[n(M,{type:"primary",onClick:$},{default:l(()=>[T(E(r(e)("tools.image-comparer.texts.tag-compare")),1)]),_:1})]),_:1})]),_:1})]),_:1}),n(F,{name:"upload",tab:"Compare by Upload"},{default:l(()=>[n(P,{"label-placement":"left"},{default:l(()=>[n(B,{justify:"space-evenly"},{default:l(()=>[n(b,{label:r(e)("tools.image-comparer.texts.label-upload-left-image")},{default:l(()=>[n(k,{"default-upload":!1,accept:"image/*",onChange:u},{default:l(()=>[n(M,null,{default:l(()=>[T(E(r(e)("tools.image-comparer.texts.tag-upload-left")),1)]),_:1})]),_:1})]),_:1},8,["label"]),n(b,{label:r(e)("tools.image-comparer.texts.label-upload-right-image")},{default:l(()=>[n(k,{"default-upload":!1,accept:"image/*",onChange:f},{default:l(()=>[n(M,null,{default:l(()=>[T(E(r(e)("tools.image-comparer.texts.tag-upload-right")),1)]),_:1})]),_:1})]),_:1},8,["label"])]),_:1})]),_:1})]),_:1})]),_:1}),G("div",{ref_key:"viewerContainer",ref:d,"mt-1":""},null,512)]),_:1},8,["title"])}}});const Ie=J(pe,[["__scopeId","data-v-3051d781"]]);export{Ie as default};
