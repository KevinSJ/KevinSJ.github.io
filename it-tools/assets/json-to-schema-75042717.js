import{_ as x}from"./FormatTransformer-bc7b3ed5.js";import{d as q,a0 as k,ac as c,i as N,aX as m,o as i,c as O,k as u,l as t,m as p,j as S,ad as J,ae as w,x as V}from"./index-0c1fde36.js";import{s as n}from"./index-4ec0ff91.js";import{w as B}from"./defaults-4d6daddf.js";import{_ as C}from"./Divider-5fc425b0.js";import"./TextareaCopyable-59231e95.js";import"./base64-ae7cf34b.js";import"./index-a6f01dde.js";import"./downloadBase64-508288e2.js";import"./index-6fddb70d.js";import"./index-cfd4d427.js";import"./Copy-ef9ec73c.js";import"./Scrollbar-54724e22.js";const G=q({__name:"json-to-schema",setup(D){const{t:e}=k(),h=[{value:"generic",label:e("tools.json-to-schema.texts.label-generic")},{value:"json",label:e("tools.json-to-schema.texts.label-json-schema")},{value:"mysql",label:e("tools.json-to-schema.texts.label-mysql-table-schema")},{value:"mongoose",label:e("tools.json-to-schema.texts.label-mongoose-schema")},{value:"bigquery",label:e("tools.json-to-schema.texts.label-google-bigquery-schema")},{value:"clickhouse",label:e("tools.json-to-schema.texts.label-clickhouse-table-schema")}],a=c({name:"table",storageName:"json-to-schema:tbl",defaultValue:"TableName"}),l=c({name:"fmt",storageName:"json-to-schema:fmt",defaultValue:"json"});function b(s){const o=m.parse(s);switch(l.value){case"json":return JSON.stringify(n.json(a.value,o),null,2);case"mysql":return n.mysql(a.value,o);case"mongoose":return JSON.stringify(n.mongoose(o),null,2);case"bigquery":return JSON.stringify(n.bigquery(o),null,2);case"clickhouse":return JSON.stringify(n.clickhouse(a.value,o,"theDateField"),null,2);default:return JSON.stringify(n.generic(o),null,2)}}const g=s=>s.trim()===""?"":B(()=>b(s),""),_=N(()=>{switch(l.value){case"mysql":return"sql";case"mongoose":return"json";case"bigquery":return"json";case"clickhouse":return"json";default:return"json"}}),d=[{validator:s=>s===""||m.parse(s),message:e("tools.json-to-schema.texts.message-provided-json-is-not-valid")}];return(s,o)=>{const j=w,f=V,v=C,y=x;return i(),O("div",null,[u(j,{value:t(l),"onUpdate:value":o[0]||(o[0]=r=>p(l)?l.value=r:null),options:h,placeholder:t(e)("tools.json-to-schema.texts.placeholder-target-schema-format")},null,8,["value","placeholder"]),["clickhouse","json","mysql"].includes(t(l))?(i(),S(f,{key:0,value:t(a),"onUpdate:value":o[1]||(o[1]=r=>p(a)?a.value=r:null),label:t(e)("tools.json-to-schema.texts.label-table-name"),placeholder:t(e)("tools.json-to-schema.texts.placeholder-table-name"),"mb-2":""},null,8,["value","label","placeholder"])):J("",!0),u(v),u(y,{"input-label":t(e)("tools.json-to-schema.texts.input-label-your-json"),"input-placeholder":t(e)("tools.json-to-schema.texts.input-placeholder-paste-your-json-here"),"output-label":t(e)("tools.json-to-schema.texts.output-label-your-schema"),"output-language":t(_),"input-validation-rules":d,transformer:g},null,8,["input-label","input-placeholder","output-label","output-language"])])}}});export{G as default};
