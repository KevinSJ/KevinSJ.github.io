import{Q as ie,p as q,b as pr}from"./index-0c1fde36.js";import{e as Fe,s as Qe}from"./string_decoder-8ac4312e.js";import{s as He,a as jr,b as Pr,c as Dr,i as ae}from"./inherits_browser-6f38ab1b.js";import{r as $e}from"./index-649b5bab.js";import{c as Ge,r as Lr,a as Br}from"./index-0397ab6f.js";var pe={},br={},Nr=He(),Ir=Ge,We=Ir("Object.prototype.toString"),be=function(f){return Nr&&f&&typeof f=="object"&&Symbol.toStringTag in f?!1:We(f)==="[object Arguments]"},gr=function(f){return be(f)?!0:f!==null&&typeof f=="object"&&"length"in f&&typeof f.length=="number"&&f.length>=0&&We(f)!=="[object Array]"&&"callee"in f&&We(f.callee)==="[object Function]"},kr=function(){return be(arguments)}();be.isLegacyArguments=gr;var Cr=kr?be:gr,vr=Ge,Ur=jr,Wr=Ur(/^\s*(?:function)?\*/),_r=He(),we=Lr(),qr=vr("Object.prototype.toString"),Fr=vr("Function.prototype.toString"),Hr=function(){if(!_r)return!1;try{return Function("return function*() {}")()}catch{}},Se,$r=function(f){if(typeof f!="function")return!1;if(Wr(Fr(f)))return!0;if(!_r){var l=qr(f);return l==="[object GeneratorFunction]"}if(!we)return!1;if(typeof Se>"u"){var g=Hr();Se=g?we(g):!1}return we(f)===Se},Gr=Pr,Vr=Object.prototype.toString,wr=Object.prototype.hasOwnProperty,zr=function(f,l,g){for(var S=0,h=f.length;S<h;S++)wr.call(f,S)&&(g==null?l(f[S],S,f):l.call(g,f[S],S,f))},Yr=function(f,l,g){for(var S=0,h=f.length;S<h;S++)g==null?l(f.charAt(S),S,f):l.call(g,f.charAt(S),S,f)},Kr=function(f,l,g){for(var S in f)wr.call(f,S)&&(g==null?l(f[S],S,f):l.call(g,f[S],S,f))},Jr=function(f,l,g){if(!Gr(l))throw new TypeError("iterator must be a function");var S;arguments.length>=3&&(S=g),Vr.call(f)==="[object Array]"?zr(f,l,S):typeof f=="string"?Yr(f,l,S):Kr(f,l,S)},Zr=Jr,Qr=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],me=Qr,Xr=typeof globalThis>"u"?ie:globalThis,xr=function(){for(var f=[],l=0;l<me.length;l++)typeof Xr[me[l]]=="function"&&(f[f.length]=me[l]);return f},he=Zr,et=xr,Xe=Dr,Ve=Ge,ce=Br,rt=Ve("Object.prototype.toString"),Sr=He(),xe=typeof globalThis>"u"?ie:globalThis,qe=et(),ze=Ve("String.prototype.slice"),Ee=Object.getPrototypeOf,tt=Ve("Array.prototype.indexOf",!0)||function(f,l){for(var g=0;g<f.length;g+=1)if(f[g]===l)return g;return-1},ye={__proto__:null};Sr&&ce&&Ee?he(qe,function(i){var f=new xe[i];if(Symbol.toStringTag in f){var l=Ee(f),g=ce(l,Symbol.toStringTag);if(!g){var S=Ee(l);g=ce(S,Symbol.toStringTag)}ye["$"+i]=Xe(g.get)}}):he(qe,function(i){var f=new xe[i],l=f.slice||f.set;l&&(ye["$"+i]=Xe(l))});var nt=function(f){var l=!1;return he(ye,function(g,S){if(!l)try{"$"+g(f)===S&&(l=ze(S,1))}catch{}}),l},it=function(f){var l=!1;return he(ye,function(g,S){if(!l)try{g(f),l=ze(S,1)}catch{}}),l},mr=function(f){if(!f||typeof f!="object")return!1;if(!Sr){var l=ze(rt(f),8,-1);return tt(qe,l)>-1?l:l!=="Object"?!1:it(f)}return ce?nt(f):null},at=mr,ft=function(f){return!!at(f)};(function(i){var f=Cr,l=$r,g=mr,S=ft;function h(c){return c.call.bind(c)}var v=typeof BigInt<"u",d=typeof Symbol<"u",o=h(Object.prototype.toString),p=h(Number.prototype.valueOf),A=h(String.prototype.valueOf),O=h(Boolean.prototype.valueOf);if(v)var m=h(BigInt.prototype.valueOf);if(d)var I=h(Symbol.prototype.valueOf);function E(c,de){if(typeof c!="object")return!1;try{return de(c),!0}catch{return!1}}i.isArgumentsObject=f,i.isGeneratorFunction=l,i.isTypedArray=S;function M(c){return typeof Promise<"u"&&c instanceof Promise||c!==null&&typeof c=="object"&&typeof c.then=="function"&&typeof c.catch=="function"}i.isPromise=M;function _(c){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(c):S(c)||s(c)}i.isArrayBufferView=_;function R(c){return g(c)==="Uint8Array"}i.isUint8Array=R;function D(c){return g(c)==="Uint8ClampedArray"}i.isUint8ClampedArray=D;function L(c){return g(c)==="Uint16Array"}i.isUint16Array=L;function j(c){return g(c)==="Uint32Array"}i.isUint32Array=j;function B(c){return g(c)==="Int8Array"}i.isInt8Array=B;function k(c){return g(c)==="Int16Array"}i.isInt16Array=k;function F(c){return g(c)==="Int32Array"}i.isInt32Array=F;function U(c){return g(c)==="Float32Array"}i.isFloat32Array=U;function N(c){return g(c)==="Float64Array"}i.isFloat64Array=N;function G(c){return g(c)==="BigInt64Array"}i.isBigInt64Array=G;function z(c){return g(c)==="BigUint64Array"}i.isBigUint64Array=z;function Y(c){return o(c)==="[object Map]"}Y.working=typeof Map<"u"&&Y(new Map);function x(c){return typeof Map>"u"?!1:Y.working?Y(c):c instanceof Map}i.isMap=x;function K(c){return o(c)==="[object Set]"}K.working=typeof Set<"u"&&K(new Set);function ee(c){return typeof Set>"u"?!1:K.working?K(c):c instanceof Set}i.isSet=ee;function re(c){return o(c)==="[object WeakMap]"}re.working=typeof WeakMap<"u"&&re(new WeakMap);function Z(c){return typeof WeakMap>"u"?!1:re.working?re(c):c instanceof WeakMap}i.isWeakMap=Z;function Q(c){return o(c)==="[object WeakSet]"}Q.working=typeof WeakSet<"u"&&Q(new WeakSet);function V(c){return Q(c)}i.isWeakSet=V;function X(c){return o(c)==="[object ArrayBuffer]"}X.working=typeof ArrayBuffer<"u"&&X(new ArrayBuffer);function te(c){return typeof ArrayBuffer>"u"?!1:X.working?X(c):c instanceof ArrayBuffer}i.isArrayBuffer=te;function a(c){return o(c)==="[object DataView]"}a.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&a(new DataView(new ArrayBuffer(1),0,1));function s(c){return typeof DataView>"u"?!1:a.working?a(c):c instanceof DataView}i.isDataView=s;var b=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function C(c){return o(c)==="[object SharedArrayBuffer]"}function n(c){return typeof b>"u"?!1:(typeof C.working>"u"&&(C.working=C(new b)),C.working?C(c):c instanceof b)}i.isSharedArrayBuffer=n;function t(c){return o(c)==="[object AsyncFunction]"}i.isAsyncFunction=t;function u(c){return o(c)==="[object Map Iterator]"}i.isMapIterator=u;function w(c){return o(c)==="[object Set Iterator]"}i.isSetIterator=w;function P(c){return o(c)==="[object Generator]"}i.isGeneratorObject=P;function e(c){return o(c)==="[object WebAssembly.Module]"}i.isWebAssemblyCompiledModule=e;function r(c){return E(c,p)}i.isNumberObject=r;function y(c){return E(c,A)}i.isStringObject=y;function T(c){return E(c,O)}i.isBooleanObject=T;function $(c){return v&&E(c,m)}i.isBigIntObject=$;function W(c){return d&&E(c,I)}i.isSymbolObject=W;function H(c){return r(c)||y(c)||T(c)||$(c)||W(c)}i.isBoxedPrimitive=H;function ne(c){return typeof Uint8Array<"u"&&(te(c)||n(c))}i.isAnyArrayBuffer=ne,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(c){Object.defineProperty(i,c,{enumerable:!1,value:function(){throw new Error(c+" is not supported in userland")}})})})(br);var ot=function(f){return f&&typeof f=="object"&&typeof f.copy=="function"&&typeof f.fill=="function"&&typeof f.readUInt8=="function"};(function(i){var f=Object.getOwnPropertyDescriptors||function(s){for(var b=Object.keys(s),C={},n=0;n<b.length;n++)C[b[n]]=Object.getOwnPropertyDescriptor(s,b[n]);return C},l=/%[sdj%]/g;i.format=function(a){if(!B(a)){for(var s=[],b=0;b<arguments.length;b++)s.push(v(arguments[b]));return s.join(" ")}for(var b=1,C=arguments,n=C.length,t=String(a).replace(l,function(w){if(w==="%%")return"%";if(b>=n)return w;switch(w){case"%s":return String(C[b++]);case"%d":return Number(C[b++]);case"%j":try{return JSON.stringify(C[b++])}catch{return"[Circular]"}default:return w}}),u=C[b];b<n;u=C[++b])D(u)||!N(u)?t+=" "+u:t+=" "+v(u);return t},i.deprecate=function(a,s){if(typeof q<"u"&&q.noDeprecation===!0)return a;if(typeof q>"u")return function(){return i.deprecate(a,s).apply(this,arguments)};var b=!1;function C(){if(!b){if(q.throwDeprecation)throw new Error(s);q.traceDeprecation?console.trace(s):console.error(s),b=!0}return a.apply(this,arguments)}return C};var g={},S=/^$/;if({}.NODE_DEBUG){var h={}.NODE_DEBUG;h=h.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),S=new RegExp("^"+h+"$","i")}i.debuglog=function(a){if(a=a.toUpperCase(),!g[a])if(S.test(a)){var s=q.pid;g[a]=function(){var b=i.format.apply(i,arguments);console.error("%s %d: %s",a,s,b)}}else g[a]=function(){};return g[a]};function v(a,s){var b={seen:[],stylize:o};return arguments.length>=3&&(b.depth=arguments[2]),arguments.length>=4&&(b.colors=arguments[3]),R(s)?b.showHidden=s:s&&i._extend(b,s),F(b.showHidden)&&(b.showHidden=!1),F(b.depth)&&(b.depth=2),F(b.colors)&&(b.colors=!1),F(b.customInspect)&&(b.customInspect=!0),b.colors&&(b.stylize=d),A(b,a,b.depth)}i.inspect=v,v.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},v.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function d(a,s){var b=v.styles[s];return b?"\x1B["+v.colors[b][0]+"m"+a+"\x1B["+v.colors[b][1]+"m":a}function o(a,s){return a}function p(a){var s={};return a.forEach(function(b,C){s[b]=!0}),s}function A(a,s,b){if(a.customInspect&&s&&Y(s.inspect)&&s.inspect!==i.inspect&&!(s.constructor&&s.constructor.prototype===s)){var C=s.inspect(b,a);return B(C)||(C=A(a,C,b)),C}var n=O(a,s);if(n)return n;var t=Object.keys(s),u=p(t);if(a.showHidden&&(t=Object.getOwnPropertyNames(s)),z(s)&&(t.indexOf("message")>=0||t.indexOf("description")>=0))return m(s);if(t.length===0){if(Y(s)){var w=s.name?": "+s.name:"";return a.stylize("[Function"+w+"]","special")}if(U(s))return a.stylize(RegExp.prototype.toString.call(s),"regexp");if(G(s))return a.stylize(Date.prototype.toString.call(s),"date");if(z(s))return m(s)}var P="",e=!1,r=["{","}"];if(_(s)&&(e=!0,r=["[","]"]),Y(s)){var y=s.name?": "+s.name:"";P=" [Function"+y+"]"}if(U(s)&&(P=" "+RegExp.prototype.toString.call(s)),G(s)&&(P=" "+Date.prototype.toUTCString.call(s)),z(s)&&(P=" "+m(s)),t.length===0&&(!e||s.length==0))return r[0]+P+r[1];if(b<0)return U(s)?a.stylize(RegExp.prototype.toString.call(s),"regexp"):a.stylize("[Object]","special");a.seen.push(s);var T;return e?T=I(a,s,b,u,t):T=t.map(function($){return E(a,s,b,u,$,e)}),a.seen.pop(),M(T,P,r)}function O(a,s){if(F(s))return a.stylize("undefined","undefined");if(B(s)){var b="'"+JSON.stringify(s).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(b,"string")}if(j(s))return a.stylize(""+s,"number");if(R(s))return a.stylize(""+s,"boolean");if(D(s))return a.stylize("null","null")}function m(a){return"["+Error.prototype.toString.call(a)+"]"}function I(a,s,b,C,n){for(var t=[],u=0,w=s.length;u<w;++u)Q(s,String(u))?t.push(E(a,s,b,C,String(u),!0)):t.push("");return n.forEach(function(P){P.match(/^\d+$/)||t.push(E(a,s,b,C,P,!0))}),t}function E(a,s,b,C,n,t){var u,w,P;if(P=Object.getOwnPropertyDescriptor(s,n)||{value:s[n]},P.get?P.set?w=a.stylize("[Getter/Setter]","special"):w=a.stylize("[Getter]","special"):P.set&&(w=a.stylize("[Setter]","special")),Q(C,n)||(u="["+n+"]"),w||(a.seen.indexOf(P.value)<0?(D(b)?w=A(a,P.value,null):w=A(a,P.value,b-1),w.indexOf(`
`)>-1&&(t?w=w.split(`
`).map(function(e){return"  "+e}).join(`
`).slice(2):w=`
`+w.split(`
`).map(function(e){return"   "+e}).join(`
`))):w=a.stylize("[Circular]","special")),F(u)){if(t&&n.match(/^\d+$/))return w;u=JSON.stringify(""+n),u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.slice(1,-1),u=a.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=a.stylize(u,"string"))}return u+": "+w}function M(a,s,b){var C=a.reduce(function(n,t){return t.indexOf(`
`)>=0,n+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return C>60?b[0]+(s===""?"":s+`
 `)+" "+a.join(`,
  `)+" "+b[1]:b[0]+s+" "+a.join(", ")+" "+b[1]}i.types=br;function _(a){return Array.isArray(a)}i.isArray=_;function R(a){return typeof a=="boolean"}i.isBoolean=R;function D(a){return a===null}i.isNull=D;function L(a){return a==null}i.isNullOrUndefined=L;function j(a){return typeof a=="number"}i.isNumber=j;function B(a){return typeof a=="string"}i.isString=B;function k(a){return typeof a=="symbol"}i.isSymbol=k;function F(a){return a===void 0}i.isUndefined=F;function U(a){return N(a)&&K(a)==="[object RegExp]"}i.isRegExp=U,i.types.isRegExp=U;function N(a){return typeof a=="object"&&a!==null}i.isObject=N;function G(a){return N(a)&&K(a)==="[object Date]"}i.isDate=G,i.types.isDate=G;function z(a){return N(a)&&(K(a)==="[object Error]"||a instanceof Error)}i.isError=z,i.types.isNativeError=z;function Y(a){return typeof a=="function"}i.isFunction=Y;function x(a){return a===null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||typeof a=="symbol"||typeof a>"u"}i.isPrimitive=x,i.isBuffer=ot;function K(a){return Object.prototype.toString.call(a)}function ee(a){return a<10?"0"+a.toString(10):a.toString(10)}var re=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Z(){var a=new Date,s=[ee(a.getHours()),ee(a.getMinutes()),ee(a.getSeconds())].join(":");return[a.getDate(),re[a.getMonth()],s].join(" ")}i.log=function(){console.log("%s - %s",Z(),i.format.apply(i,arguments))},i.inherits=ae,i._extend=function(a,s){if(!s||!N(s))return a;for(var b=Object.keys(s),C=b.length;C--;)a[b[C]]=s[b[C]];return a};function Q(a,s){return Object.prototype.hasOwnProperty.call(a,s)}var V=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;i.promisify=function(s){if(typeof s!="function")throw new TypeError('The "original" argument must be of type Function');if(V&&s[V]){var b=s[V];if(typeof b!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(b,V,{value:b,enumerable:!1,writable:!1,configurable:!0}),b}function b(){for(var C,n,t=new Promise(function(P,e){C=P,n=e}),u=[],w=0;w<arguments.length;w++)u.push(arguments[w]);u.push(function(P,e){P?n(P):C(e)});try{s.apply(this,u)}catch(P){n(P)}return t}return Object.setPrototypeOf(b,Object.getPrototypeOf(s)),V&&Object.defineProperty(b,V,{value:b,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(b,f(s))},i.promisify.custom=V;function X(a,s){if(!a){var b=new Error("Promise was rejected with a falsy value");b.reason=a,a=b}return s(a)}function te(a){if(typeof a!="function")throw new TypeError('The "original" argument must be of type Function');function s(){for(var b=[],C=0;C<arguments.length;C++)b.push(arguments[C]);var n=b.pop();if(typeof n!="function")throw new TypeError("The last argument must be of type Function");var t=this,u=function(){return n.apply(t,arguments)};a.apply(this,b).then(function(w){q.nextTick(u.bind(null,null,w))},function(w){q.nextTick(X.bind(null,w,u))})}return Object.setPrototypeOf(s,Object.getPrototypeOf(a)),Object.defineProperties(s,f(a)),s}i.callbackify=te})(pe);const St=pr(pe);var Re,er;function Er(){return er||(er=1,Re=Fe.EventEmitter),Re}var Ae,rr;function ut(){if(rr)return Ae;rr=1;function i(E,M){var _=Object.keys(E);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(E);M&&(R=R.filter(function(D){return Object.getOwnPropertyDescriptor(E,D).enumerable})),_.push.apply(_,R)}return _}function f(E){for(var M=1;M<arguments.length;M++){var _=arguments[M]!=null?arguments[M]:{};M%2?i(Object(_),!0).forEach(function(R){l(E,R,_[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(_)):i(Object(_)).forEach(function(R){Object.defineProperty(E,R,Object.getOwnPropertyDescriptor(_,R))})}return E}function l(E,M,_){return M=v(M),M in E?Object.defineProperty(E,M,{value:_,enumerable:!0,configurable:!0,writable:!0}):E[M]=_,E}function g(E,M){if(!(E instanceof M))throw new TypeError("Cannot call a class as a function")}function S(E,M){for(var _=0;_<M.length;_++){var R=M[_];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(E,v(R.key),R)}}function h(E,M,_){return M&&S(E.prototype,M),_&&S(E,_),Object.defineProperty(E,"prototype",{writable:!1}),E}function v(E){var M=d(E,"string");return typeof M=="symbol"?M:String(M)}function d(E,M){if(typeof E!="object"||E===null)return E;var _=E[Symbol.toPrimitive];if(_!==void 0){var R=_.call(E,M||"default");if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(E)}var o=$e,p=o.Buffer,A=pe,O=A.inspect,m=O&&O.custom||"inspect";function I(E,M,_){p.prototype.copy.call(E,M,_)}return Ae=function(){function E(){g(this,E),this.head=null,this.tail=null,this.length=0}return h(E,[{key:"push",value:function(_){var R={data:_,next:null};this.length>0?this.tail.next=R:this.head=R,this.tail=R,++this.length}},{key:"unshift",value:function(_){var R={data:_,next:this.head};this.length===0&&(this.tail=R),this.head=R,++this.length}},{key:"shift",value:function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(_){if(this.length===0)return"";for(var R=this.head,D=""+R.data;R=R.next;)D+=_+R.data;return D}},{key:"concat",value:function(_){if(this.length===0)return p.alloc(0);for(var R=p.allocUnsafe(_>>>0),D=this.head,L=0;D;)I(D.data,R,L),L+=D.data.length,D=D.next;return R}},{key:"consume",value:function(_,R){var D;return _<this.head.data.length?(D=this.head.data.slice(0,_),this.head.data=this.head.data.slice(_)):_===this.head.data.length?D=this.shift():D=R?this._getString(_):this._getBuffer(_),D}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(_){var R=this.head,D=1,L=R.data;for(_-=L.length;R=R.next;){var j=R.data,B=_>j.length?j.length:_;if(B===j.length?L+=j:L+=j.slice(0,_),_-=B,_===0){B===j.length?(++D,R.next?this.head=R.next:this.head=this.tail=null):(this.head=R,R.data=j.slice(B));break}++D}return this.length-=D,L}},{key:"_getBuffer",value:function(_){var R=p.allocUnsafe(_),D=this.head,L=1;for(D.data.copy(R),_-=D.data.length;D=D.next;){var j=D.data,B=_>j.length?j.length:_;if(j.copy(R,R.length-_,0,B),_-=B,_===0){B===j.length?(++L,D.next?this.head=D.next:this.head=this.tail=null):(this.head=D,D.data=j.slice(B));break}++L}return this.length-=L,R}},{key:m,value:function(_,R){return O(this,f(f({},R),{},{depth:0,customInspect:!1}))}}]),E}(),Ae}var Te,tr;function Rr(){if(tr)return Te;tr=1;function i(v,d){var o=this,p=this._readableState&&this._readableState.destroyed,A=this._writableState&&this._writableState.destroyed;return p||A?(d?d(v):v&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,q.nextTick(S,this,v)):q.nextTick(S,this,v)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(v||null,function(O){!d&&O?o._writableState?o._writableState.errorEmitted?q.nextTick(l,o):(o._writableState.errorEmitted=!0,q.nextTick(f,o,O)):q.nextTick(f,o,O):d?(q.nextTick(l,o),d(O)):q.nextTick(l,o)}),this)}function f(v,d){S(v,d),l(v)}function l(v){v._writableState&&!v._writableState.emitClose||v._readableState&&!v._readableState.emitClose||v.emit("close")}function g(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function S(v,d){v.emit("error",d)}function h(v,d){var o=v._readableState,p=v._writableState;o&&o.autoDestroy||p&&p.autoDestroy?v.destroy(d):v.emit("error",d)}return Te={destroy:i,undestroy:g,errorOrDestroy:h},Te}var Oe={},nr;function le(){if(nr)return Oe;nr=1;function i(d,o){d.prototype=Object.create(o.prototype),d.prototype.constructor=d,d.__proto__=o}var f={};function l(d,o,p){p||(p=Error);function A(m,I,E){return typeof o=="string"?o:o(m,I,E)}var O=function(m){i(I,m);function I(E,M,_){return m.call(this,A(E,M,_))||this}return I}(p);O.prototype.name=p.name,O.prototype.code=d,f[d]=O}function g(d,o){if(Array.isArray(d)){var p=d.length;return d=d.map(function(A){return String(A)}),p>2?"one of ".concat(o," ").concat(d.slice(0,p-1).join(", "),", or ")+d[p-1]:p===2?"one of ".concat(o," ").concat(d[0]," or ").concat(d[1]):"of ".concat(o," ").concat(d[0])}else return"of ".concat(o," ").concat(String(d))}function S(d,o,p){return d.substr(!p||p<0?0:+p,o.length)===o}function h(d,o,p){return(p===void 0||p>d.length)&&(p=d.length),d.substring(p-o.length,p)===o}function v(d,o,p){return typeof p!="number"&&(p=0),p+o.length>d.length?!1:d.indexOf(o,p)!==-1}return l("ERR_INVALID_OPT_VALUE",function(d,o){return'The value "'+o+'" is invalid for option "'+d+'"'},TypeError),l("ERR_INVALID_ARG_TYPE",function(d,o,p){var A;typeof o=="string"&&S(o,"not ")?(A="must not be",o=o.replace(/^not /,"")):A="must be";var O;if(h(d," argument"))O="The ".concat(d," ").concat(A," ").concat(g(o,"type"));else{var m=v(d,".")?"property":"argument";O='The "'.concat(d,'" ').concat(m," ").concat(A," ").concat(g(o,"type"))}return O+=". Received type ".concat(typeof p),O},TypeError),l("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),l("ERR_METHOD_NOT_IMPLEMENTED",function(d){return"The "+d+" method is not implemented"}),l("ERR_STREAM_PREMATURE_CLOSE","Premature close"),l("ERR_STREAM_DESTROYED",function(d){return"Cannot call "+d+" after a stream was destroyed"}),l("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),l("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),l("ERR_STREAM_WRITE_AFTER_END","write after end"),l("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),l("ERR_UNKNOWN_ENCODING",function(d){return"Unknown encoding: "+d},TypeError),l("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Oe.codes=f,Oe}var Me,ir;function Ar(){if(ir)return Me;ir=1;var i=le().codes.ERR_INVALID_OPT_VALUE;function f(g,S,h){return g.highWaterMark!=null?g.highWaterMark:S?g[h]:null}function l(g,S,h,v){var d=f(S,v,h);if(d!=null){if(!(isFinite(d)&&Math.floor(d)===d)||d<0){var o=v?h:"highWaterMark";throw new i(o,d)}return Math.floor(d)}return g.objectMode?16:16*1024}return Me={getHighWaterMark:l},Me}var je,ar;function lt(){if(ar)return je;ar=1,je=i;function i(l,g){if(f("noDeprecation"))return l;var S=!1;function h(){if(!S){if(f("throwDeprecation"))throw new Error(g);f("traceDeprecation")?console.trace(g):console.warn(g),S=!0}return l.apply(this,arguments)}return h}function f(l){try{if(!ie.localStorage)return!1}catch{return!1}var g=ie.localStorage[l];return g==null?!1:String(g).toLowerCase()==="true"}return je}var Pe,fr;function Tr(){if(fr)return Pe;fr=1,Pe=U;function i(n){var t=this;this.next=null,this.entry=null,this.finish=function(){C(t,n)}}var f;U.WritableState=k;var l={deprecate:lt()},g=Er(),S=$e.Buffer,h=(typeof ie<"u"?ie:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function v(n){return S.from(n)}function d(n){return S.isBuffer(n)||n instanceof h}var o=Rr(),p=Ar(),A=p.getHighWaterMark,O=le().codes,m=O.ERR_INVALID_ARG_TYPE,I=O.ERR_METHOD_NOT_IMPLEMENTED,E=O.ERR_MULTIPLE_CALLBACK,M=O.ERR_STREAM_CANNOT_PIPE,_=O.ERR_STREAM_DESTROYED,R=O.ERR_STREAM_NULL_VALUES,D=O.ERR_STREAM_WRITE_AFTER_END,L=O.ERR_UNKNOWN_ENCODING,j=o.errorOrDestroy;ae(U,g);function B(){}function k(n,t,u){f=f||ue(),n=n||{},typeof u!="boolean"&&(u=t instanceof f),this.objectMode=!!n.objectMode,u&&(this.objectMode=this.objectMode||!!n.writableObjectMode),this.highWaterMark=A(this,n,"writableHighWaterMark",u),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var w=n.decodeStrings===!1;this.decodeStrings=!w,this.defaultEncoding=n.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(P){re(t,P)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=n.emitClose!==!1,this.autoDestroy=!!n.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}k.prototype.getBuffer=function(){for(var t=this.bufferedRequest,u=[];t;)u.push(t),t=t.next;return u},function(){try{Object.defineProperty(k.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var F;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(F=Function.prototype[Symbol.hasInstance],Object.defineProperty(U,Symbol.hasInstance,{value:function(t){return F.call(this,t)?!0:this!==U?!1:t&&t._writableState instanceof k}})):F=function(t){return t instanceof this};function U(n){f=f||ue();var t=this instanceof f;if(!t&&!F.call(U,this))return new U(n);this._writableState=new k(n,this,t),this.writable=!0,n&&(typeof n.write=="function"&&(this._write=n.write),typeof n.writev=="function"&&(this._writev=n.writev),typeof n.destroy=="function"&&(this._destroy=n.destroy),typeof n.final=="function"&&(this._final=n.final)),g.call(this)}U.prototype.pipe=function(){j(this,new M)};function N(n,t){var u=new D;j(n,u),q.nextTick(t,u)}function G(n,t,u,w){var P;return u===null?P=new R:typeof u!="string"&&!t.objectMode&&(P=new m("chunk",["string","Buffer"],u)),P?(j(n,P),q.nextTick(w,P),!1):!0}U.prototype.write=function(n,t,u){var w=this._writableState,P=!1,e=!w.objectMode&&d(n);return e&&!S.isBuffer(n)&&(n=v(n)),typeof t=="function"&&(u=t,t=null),e?t="buffer":t||(t=w.defaultEncoding),typeof u!="function"&&(u=B),w.ending?N(this,u):(e||G(this,w,n,u))&&(w.pendingcb++,P=Y(this,w,e,n,t,u)),P},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){var n=this._writableState;n.corked&&(n.corked--,!n.writing&&!n.corked&&!n.bufferProcessing&&n.bufferedRequest&&V(this,n))},U.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new L(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(U.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function z(n,t,u){return!n.objectMode&&n.decodeStrings!==!1&&typeof t=="string"&&(t=S.from(t,u)),t}Object.defineProperty(U.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Y(n,t,u,w,P,e){if(!u){var r=z(t,w,P);w!==r&&(u=!0,P="buffer",w=r)}var y=t.objectMode?1:w.length;t.length+=y;var T=t.length<t.highWaterMark;if(T||(t.needDrain=!0),t.writing||t.corked){var $=t.lastBufferedRequest;t.lastBufferedRequest={chunk:w,encoding:P,isBuf:u,callback:e,next:null},$?$.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(n,t,!1,y,w,P,e);return T}function x(n,t,u,w,P,e,r){t.writelen=w,t.writecb=r,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new _("write")):u?n._writev(P,t.onwrite):n._write(P,e,t.onwrite),t.sync=!1}function K(n,t,u,w,P){--t.pendingcb,u?(q.nextTick(P,w),q.nextTick(s,n,t),n._writableState.errorEmitted=!0,j(n,w)):(P(w),n._writableState.errorEmitted=!0,j(n,w),s(n,t))}function ee(n){n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0}function re(n,t){var u=n._writableState,w=u.sync,P=u.writecb;if(typeof P!="function")throw new E;if(ee(u),t)K(n,u,w,t,P);else{var e=X(u)||n.destroyed;!e&&!u.corked&&!u.bufferProcessing&&u.bufferedRequest&&V(n,u),w?q.nextTick(Z,n,u,e,P):Z(n,u,e,P)}}function Z(n,t,u,w){u||Q(n,t),t.pendingcb--,w(),s(n,t)}function Q(n,t){t.length===0&&t.needDrain&&(t.needDrain=!1,n.emit("drain"))}function V(n,t){t.bufferProcessing=!0;var u=t.bufferedRequest;if(n._writev&&u&&u.next){var w=t.bufferedRequestCount,P=new Array(w),e=t.corkedRequestsFree;e.entry=u;for(var r=0,y=!0;u;)P[r]=u,u.isBuf||(y=!1),u=u.next,r+=1;P.allBuffers=y,x(n,t,!0,t.length,P,"",e.finish),t.pendingcb++,t.lastBufferedRequest=null,e.next?(t.corkedRequestsFree=e.next,e.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;u;){var T=u.chunk,$=u.encoding,W=u.callback,H=t.objectMode?1:T.length;if(x(n,t,!1,H,T,$,W),u=u.next,t.bufferedRequestCount--,t.writing)break}u===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=u,t.bufferProcessing=!1}U.prototype._write=function(n,t,u){u(new I("_write()"))},U.prototype._writev=null,U.prototype.end=function(n,t,u){var w=this._writableState;return typeof n=="function"?(u=n,n=null,t=null):typeof t=="function"&&(u=t,t=null),n!=null&&this.write(n,t),w.corked&&(w.corked=1,this.uncork()),w.ending||b(this,w,u),this},Object.defineProperty(U.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function X(n){return n.ending&&n.length===0&&n.bufferedRequest===null&&!n.finished&&!n.writing}function te(n,t){n._final(function(u){t.pendingcb--,u&&j(n,u),t.prefinished=!0,n.emit("prefinish"),s(n,t)})}function a(n,t){!t.prefinished&&!t.finalCalled&&(typeof n._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,q.nextTick(te,n,t)):(t.prefinished=!0,n.emit("prefinish")))}function s(n,t){var u=X(t);if(u&&(a(n,t),t.pendingcb===0&&(t.finished=!0,n.emit("finish"),t.autoDestroy))){var w=n._readableState;(!w||w.autoDestroy&&w.endEmitted)&&n.destroy()}return u}function b(n,t,u){t.ending=!0,s(n,t),u&&(t.finished?q.nextTick(u):n.once("finish",u)),t.ended=!0,n.writable=!1}function C(n,t,u){var w=n.entry;for(n.entry=null;w;){var P=w.callback;t.pendingcb--,P(u),w=w.next}t.corkedRequestsFree.next=n}return Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),U.prototype.destroy=o.destroy,U.prototype._undestroy=o.undestroy,U.prototype._destroy=function(n,t){t(n)},Pe}var De,or;function ue(){if(or)return De;or=1;var i=Object.keys||function(p){var A=[];for(var O in p)A.push(O);return A};De=v;var f=Or(),l=Tr();ae(v,f);for(var g=i(l.prototype),S=0;S<g.length;S++){var h=g[S];v.prototype[h]||(v.prototype[h]=l.prototype[h])}function v(p){if(!(this instanceof v))return new v(p);f.call(this,p),l.call(this,p),this.allowHalfOpen=!0,p&&(p.readable===!1&&(this.readable=!1),p.writable===!1&&(this.writable=!1),p.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(v.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(v.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function d(){this._writableState.ended||q.nextTick(o,this)}function o(p){p.end()}return Object.defineProperty(v.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(A){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=A,this._writableState.destroyed=A)}}),De}var Le,ur;function Ye(){if(ur)return Le;ur=1;var i=le().codes.ERR_STREAM_PREMATURE_CLOSE;function f(h){var v=!1;return function(){if(!v){v=!0;for(var d=arguments.length,o=new Array(d),p=0;p<d;p++)o[p]=arguments[p];h.apply(this,o)}}}function l(){}function g(h){return h.setHeader&&typeof h.abort=="function"}function S(h,v,d){if(typeof v=="function")return S(h,null,v);v||(v={}),d=f(d||l);var o=v.readable||v.readable!==!1&&h.readable,p=v.writable||v.writable!==!1&&h.writable,A=function(){h.writable||m()},O=h._writableState&&h._writableState.finished,m=function(){p=!1,O=!0,o||d.call(h)},I=h._readableState&&h._readableState.endEmitted,E=function(){o=!1,I=!0,p||d.call(h)},M=function(L){d.call(h,L)},_=function(){var L;if(o&&!I)return(!h._readableState||!h._readableState.ended)&&(L=new i),d.call(h,L);if(p&&!O)return(!h._writableState||!h._writableState.ended)&&(L=new i),d.call(h,L)},R=function(){h.req.on("finish",m)};return g(h)?(h.on("complete",m),h.on("abort",_),h.req?R():h.on("request",R)):p&&!h._writableState&&(h.on("end",A),h.on("close",A)),h.on("end",E),h.on("finish",m),v.error!==!1&&h.on("error",M),h.on("close",_),function(){h.removeListener("complete",m),h.removeListener("abort",_),h.removeListener("request",R),h.req&&h.req.removeListener("finish",m),h.removeListener("end",A),h.removeListener("close",A),h.removeListener("finish",m),h.removeListener("end",E),h.removeListener("error",M),h.removeListener("close",_)}}return Le=S,Le}var Be,lr;function st(){if(lr)return Be;lr=1;var i;function f(L,j,B){return j=l(j),j in L?Object.defineProperty(L,j,{value:B,enumerable:!0,configurable:!0,writable:!0}):L[j]=B,L}function l(L){var j=g(L,"string");return typeof j=="symbol"?j:String(j)}function g(L,j){if(typeof L!="object"||L===null)return L;var B=L[Symbol.toPrimitive];if(B!==void 0){var k=B.call(L,j||"default");if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(L)}var S=Ye(),h=Symbol("lastResolve"),v=Symbol("lastReject"),d=Symbol("error"),o=Symbol("ended"),p=Symbol("lastPromise"),A=Symbol("handlePromise"),O=Symbol("stream");function m(L,j){return{value:L,done:j}}function I(L){var j=L[h];if(j!==null){var B=L[O].read();B!==null&&(L[p]=null,L[h]=null,L[v]=null,j(m(B,!1)))}}function E(L){q.nextTick(I,L)}function M(L,j){return function(B,k){L.then(function(){if(j[o]){B(m(void 0,!0));return}j[A](B,k)},k)}}var _=Object.getPrototypeOf(function(){}),R=Object.setPrototypeOf((i={get stream(){return this[O]},next:function(){var j=this,B=this[d];if(B!==null)return Promise.reject(B);if(this[o])return Promise.resolve(m(void 0,!0));if(this[O].destroyed)return new Promise(function(N,G){q.nextTick(function(){j[d]?G(j[d]):N(m(void 0,!0))})});var k=this[p],F;if(k)F=new Promise(M(k,this));else{var U=this[O].read();if(U!==null)return Promise.resolve(m(U,!1));F=new Promise(this[A])}return this[p]=F,F}},f(i,Symbol.asyncIterator,function(){return this}),f(i,"return",function(){var j=this;return new Promise(function(B,k){j[O].destroy(null,function(F){if(F){k(F);return}B(m(void 0,!0))})})}),i),_),D=function(j){var B,k=Object.create(R,(B={},f(B,O,{value:j,writable:!0}),f(B,h,{value:null,writable:!0}),f(B,v,{value:null,writable:!0}),f(B,d,{value:null,writable:!0}),f(B,o,{value:j._readableState.endEmitted,writable:!0}),f(B,A,{value:function(U,N){var G=k[O].read();G?(k[p]=null,k[h]=null,k[v]=null,U(m(G,!1))):(k[h]=U,k[v]=N)},writable:!0}),B));return k[p]=null,S(j,function(F){if(F&&F.code!=="ERR_STREAM_PREMATURE_CLOSE"){var U=k[v];U!==null&&(k[p]=null,k[h]=null,k[v]=null,U(F)),k[d]=F;return}var N=k[h];N!==null&&(k[p]=null,k[h]=null,k[v]=null,N(m(void 0,!0))),k[o]=!0}),j.on("readable",E.bind(null,k)),k};return Be=D,Be}var Ne,sr;function dt(){return sr||(sr=1,Ne=function(){throw new Error("Readable.from is not available in the browser")}),Ne}var Ie,dr;function Or(){if(dr)return Ie;dr=1,Ie=N;var i;N.ReadableState=U,Fe.EventEmitter;var f=function(r,y){return r.listeners(y).length},l=Er(),g=$e.Buffer,S=(typeof ie<"u"?ie:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function h(e){return g.from(e)}function v(e){return g.isBuffer(e)||e instanceof S}var d=pe,o;d&&d.debuglog?o=d.debuglog("stream"):o=function(){};var p=ut(),A=Rr(),O=Ar(),m=O.getHighWaterMark,I=le().codes,E=I.ERR_INVALID_ARG_TYPE,M=I.ERR_STREAM_PUSH_AFTER_EOF,_=I.ERR_METHOD_NOT_IMPLEMENTED,R=I.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,D,L,j;ae(N,l);var B=A.errorOrDestroy,k=["error","close","destroy","pause","resume"];function F(e,r,y){if(typeof e.prependListener=="function")return e.prependListener(r,y);!e._events||!e._events[r]?e.on(r,y):Array.isArray(e._events[r])?e._events[r].unshift(y):e._events[r]=[y,e._events[r]]}function U(e,r,y){i=i||ue(),e=e||{},typeof y!="boolean"&&(y=r instanceof i),this.objectMode=!!e.objectMode,y&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",y),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(D||(D=Qe.StringDecoder),this.decoder=new D(e.encoding),this.encoding=e.encoding)}function N(e){if(i=i||ue(),!(this instanceof N))return new N(e);var r=this instanceof i;this._readableState=new U(e,this,r),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),l.call(this)}Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(r){this._readableState&&(this._readableState.destroyed=r)}}),N.prototype.destroy=A.destroy,N.prototype._undestroy=A.undestroy,N.prototype._destroy=function(e,r){r(e)},N.prototype.push=function(e,r){var y=this._readableState,T;return y.objectMode?T=!0:typeof e=="string"&&(r=r||y.defaultEncoding,r!==y.encoding&&(e=g.from(e,r),r=""),T=!0),G(this,e,r,!1,T)},N.prototype.unshift=function(e){return G(this,e,null,!0,!1)};function G(e,r,y,T,$){o("readableAddChunk",r);var W=e._readableState;if(r===null)W.reading=!1,re(e,W);else{var H;if($||(H=Y(W,r)),H)B(e,H);else if(W.objectMode||r&&r.length>0)if(typeof r!="string"&&!W.objectMode&&Object.getPrototypeOf(r)!==g.prototype&&(r=h(r)),T)W.endEmitted?B(e,new R):z(e,W,r,!0);else if(W.ended)B(e,new M);else{if(W.destroyed)return!1;W.reading=!1,W.decoder&&!y?(r=W.decoder.write(r),W.objectMode||r.length!==0?z(e,W,r,!1):V(e,W)):z(e,W,r,!1)}else T||(W.reading=!1,V(e,W))}return!W.ended&&(W.length<W.highWaterMark||W.length===0)}function z(e,r,y,T){r.flowing&&r.length===0&&!r.sync?(r.awaitDrain=0,e.emit("data",y)):(r.length+=r.objectMode?1:y.length,T?r.buffer.unshift(y):r.buffer.push(y),r.needReadable&&Z(e)),V(e,r)}function Y(e,r){var y;return!v(r)&&typeof r!="string"&&r!==void 0&&!e.objectMode&&(y=new E("chunk",["string","Buffer","Uint8Array"],r)),y}N.prototype.isPaused=function(){return this._readableState.flowing===!1},N.prototype.setEncoding=function(e){D||(D=Qe.StringDecoder);var r=new D(e);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var y=this._readableState.buffer.head,T="";y!==null;)T+=r.write(y.data),y=y.next;return this._readableState.buffer.clear(),T!==""&&this._readableState.buffer.push(T),this._readableState.length=T.length,this};var x=1073741824;function K(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function ee(e,r){return e<=0||r.length===0&&r.ended?0:r.objectMode?1:e!==e?r.flowing&&r.length?r.buffer.head.data.length:r.length:(e>r.highWaterMark&&(r.highWaterMark=K(e)),e<=r.length?e:r.ended?r.length:(r.needReadable=!0,0))}N.prototype.read=function(e){o("read",e),e=parseInt(e,10);var r=this._readableState,y=e;if(e!==0&&(r.emittedReadable=!1),e===0&&r.needReadable&&((r.highWaterMark!==0?r.length>=r.highWaterMark:r.length>0)||r.ended))return o("read: emitReadable",r.length,r.ended),r.length===0&&r.ended?u(this):Z(this),null;if(e=ee(e,r),e===0&&r.ended)return r.length===0&&u(this),null;var T=r.needReadable;o("need readable",T),(r.length===0||r.length-e<r.highWaterMark)&&(T=!0,o("length less than watermark",T)),r.ended||r.reading?(T=!1,o("reading or ended",T)):T&&(o("do read"),r.reading=!0,r.sync=!0,r.length===0&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=ee(y,r)));var $;return e>0?$=t(e,r):$=null,$===null?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.awaitDrain=0),r.length===0&&(r.ended||(r.needReadable=!0),y!==e&&r.ended&&u(this)),$!==null&&this.emit("data",$),$};function re(e,r){if(o("onEofChunk"),!r.ended){if(r.decoder){var y=r.decoder.end();y&&y.length&&(r.buffer.push(y),r.length+=r.objectMode?1:y.length)}r.ended=!0,r.sync?Z(e):(r.needReadable=!1,r.emittedReadable||(r.emittedReadable=!0,Q(e)))}}function Z(e){var r=e._readableState;o("emitReadable",r.needReadable,r.emittedReadable),r.needReadable=!1,r.emittedReadable||(o("emitReadable",r.flowing),r.emittedReadable=!0,q.nextTick(Q,e))}function Q(e){var r=e._readableState;o("emitReadable_",r.destroyed,r.length,r.ended),!r.destroyed&&(r.length||r.ended)&&(e.emit("readable"),r.emittedReadable=!1),r.needReadable=!r.flowing&&!r.ended&&r.length<=r.highWaterMark,n(e)}function V(e,r){r.readingMore||(r.readingMore=!0,q.nextTick(X,e,r))}function X(e,r){for(;!r.reading&&!r.ended&&(r.length<r.highWaterMark||r.flowing&&r.length===0);){var y=r.length;if(o("maybeReadMore read 0"),e.read(0),y===r.length)break}r.readingMore=!1}N.prototype._read=function(e){B(this,new _("_read()"))},N.prototype.pipe=function(e,r){var y=this,T=this._readableState;switch(T.pipesCount){case 0:T.pipes=e;break;case 1:T.pipes=[T.pipes,e];break;default:T.pipes.push(e);break}T.pipesCount+=1,o("pipe count=%d opts=%j",T.pipesCount,r);var $=(!r||r.end!==!1)&&e!==q.stdout&&e!==q.stderr,W=$?ne:se;T.endEmitted?q.nextTick(W):y.once("end",W),e.on("unpipe",H);function H(fe,oe){o("onunpipe"),fe===y&&oe&&oe.hasUnpiped===!1&&(oe.hasUnpiped=!0,Je())}function ne(){o("onend"),e.end()}var c=te(y);e.on("drain",c);var de=!1;function Je(){o("cleanup"),e.removeListener("close",ve),e.removeListener("finish",_e),e.removeListener("drain",c),e.removeListener("error",ge),e.removeListener("unpipe",H),y.removeListener("end",ne),y.removeListener("end",se),y.removeListener("data",Ze),de=!0,T.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&c()}y.on("data",Ze);function Ze(fe){o("ondata");var oe=e.write(fe);o("dest.write",oe),oe===!1&&((T.pipesCount===1&&T.pipes===e||T.pipesCount>1&&P(T.pipes,e)!==-1)&&!de&&(o("false write response, pause",T.awaitDrain),T.awaitDrain++),y.pause())}function ge(fe){o("onerror",fe),se(),e.removeListener("error",ge),f(e,"error")===0&&B(e,fe)}F(e,"error",ge);function ve(){e.removeListener("finish",_e),se()}e.once("close",ve);function _e(){o("onfinish"),e.removeListener("close",ve),se()}e.once("finish",_e);function se(){o("unpipe"),y.unpipe(e)}return e.emit("pipe",y),T.flowing||(o("pipe resume"),y.resume()),e};function te(e){return function(){var y=e._readableState;o("pipeOnDrain",y.awaitDrain),y.awaitDrain&&y.awaitDrain--,y.awaitDrain===0&&f(e,"data")&&(y.flowing=!0,n(e))}}N.prototype.unpipe=function(e){var r=this._readableState,y={hasUnpiped:!1};if(r.pipesCount===0)return this;if(r.pipesCount===1)return e&&e!==r.pipes?this:(e||(e=r.pipes),r.pipes=null,r.pipesCount=0,r.flowing=!1,e&&e.emit("unpipe",this,y),this);if(!e){var T=r.pipes,$=r.pipesCount;r.pipes=null,r.pipesCount=0,r.flowing=!1;for(var W=0;W<$;W++)T[W].emit("unpipe",this,{hasUnpiped:!1});return this}var H=P(r.pipes,e);return H===-1?this:(r.pipes.splice(H,1),r.pipesCount-=1,r.pipesCount===1&&(r.pipes=r.pipes[0]),e.emit("unpipe",this,y),this)},N.prototype.on=function(e,r){var y=l.prototype.on.call(this,e,r),T=this._readableState;return e==="data"?(T.readableListening=this.listenerCount("readable")>0,T.flowing!==!1&&this.resume()):e==="readable"&&!T.endEmitted&&!T.readableListening&&(T.readableListening=T.needReadable=!0,T.flowing=!1,T.emittedReadable=!1,o("on readable",T.length,T.reading),T.length?Z(this):T.reading||q.nextTick(s,this)),y},N.prototype.addListener=N.prototype.on,N.prototype.removeListener=function(e,r){var y=l.prototype.removeListener.call(this,e,r);return e==="readable"&&q.nextTick(a,this),y},N.prototype.removeAllListeners=function(e){var r=l.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&q.nextTick(a,this),r};function a(e){var r=e._readableState;r.readableListening=e.listenerCount("readable")>0,r.resumeScheduled&&!r.paused?r.flowing=!0:e.listenerCount("data")>0&&e.resume()}function s(e){o("readable nexttick read 0"),e.read(0)}N.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,b(this,e)),e.paused=!1,this};function b(e,r){r.resumeScheduled||(r.resumeScheduled=!0,q.nextTick(C,e,r))}function C(e,r){o("resume",r.reading),r.reading||e.read(0),r.resumeScheduled=!1,e.emit("resume"),n(e),r.flowing&&!r.reading&&e.read(0)}N.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function n(e){var r=e._readableState;for(o("flow",r.flowing);r.flowing&&e.read()!==null;);}N.prototype.wrap=function(e){var r=this,y=this._readableState,T=!1;e.on("end",function(){if(o("wrapped end"),y.decoder&&!y.ended){var H=y.decoder.end();H&&H.length&&r.push(H)}r.push(null)}),e.on("data",function(H){if(o("wrapped data"),y.decoder&&(H=y.decoder.write(H)),!(y.objectMode&&H==null)&&!(!y.objectMode&&(!H||!H.length))){var ne=r.push(H);ne||(T=!0,e.pause())}});for(var $ in e)this[$]===void 0&&typeof e[$]=="function"&&(this[$]=function(ne){return function(){return e[ne].apply(e,arguments)}}($));for(var W=0;W<k.length;W++)e.on(k[W],this.emit.bind(this,k[W]));return this._read=function(H){o("wrapped _read",H),T&&(T=!1,e.resume())},this},typeof Symbol=="function"&&(N.prototype[Symbol.asyncIterator]=function(){return L===void 0&&(L=st()),L(this)}),Object.defineProperty(N.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(N.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(N.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(r){this._readableState&&(this._readableState.flowing=r)}}),N._fromList=t,Object.defineProperty(N.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function t(e,r){if(r.length===0)return null;var y;return r.objectMode?y=r.buffer.shift():!e||e>=r.length?(r.decoder?y=r.buffer.join(""):r.buffer.length===1?y=r.buffer.first():y=r.buffer.concat(r.length),r.buffer.clear()):y=r.buffer.consume(e,r.decoder),y}function u(e){var r=e._readableState;o("endReadable",r.endEmitted),r.endEmitted||(r.ended=!0,q.nextTick(w,r,e))}function w(e,r){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,r.readable=!1,r.emit("end"),e.autoDestroy)){var y=r._writableState;(!y||y.autoDestroy&&y.finished)&&r.destroy()}}typeof Symbol=="function"&&(N.from=function(e,r){return j===void 0&&(j=dt()),j(N,e,r)});function P(e,r){for(var y=0,T=e.length;y<T;y++)if(e[y]===r)return y;return-1}return Ie}var ke,cr;function Mr(){if(cr)return ke;cr=1,ke=d;var i=le().codes,f=i.ERR_METHOD_NOT_IMPLEMENTED,l=i.ERR_MULTIPLE_CALLBACK,g=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,S=i.ERR_TRANSFORM_WITH_LENGTH_0,h=ue();ae(d,h);function v(A,O){var m=this._transformState;m.transforming=!1;var I=m.writecb;if(I===null)return this.emit("error",new l);m.writechunk=null,m.writecb=null,O!=null&&this.push(O),I(A);var E=this._readableState;E.reading=!1,(E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}function d(A){if(!(this instanceof d))return new d(A);h.call(this,A),this._transformState={afterTransform:v.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,A&&(typeof A.transform=="function"&&(this._transform=A.transform),typeof A.flush=="function"&&(this._flush=A.flush)),this.on("prefinish",o)}function o(){var A=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(O,m){p(A,O,m)}):p(this,null,null)}d.prototype.push=function(A,O){return this._transformState.needTransform=!1,h.prototype.push.call(this,A,O)},d.prototype._transform=function(A,O,m){m(new f("_transform()"))},d.prototype._write=function(A,O,m){var I=this._transformState;if(I.writecb=m,I.writechunk=A,I.writeencoding=O,!I.transforming){var E=this._readableState;(I.needTransform||E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}},d.prototype._read=function(A){var O=this._transformState;O.writechunk!==null&&!O.transforming?(O.transforming=!0,this._transform(O.writechunk,O.writeencoding,O.afterTransform)):O.needTransform=!0},d.prototype._destroy=function(A,O){h.prototype._destroy.call(this,A,function(m){O(m)})};function p(A,O,m){if(O)return A.emit("error",O);if(m!=null&&A.push(m),A._writableState.length)throw new S;if(A._transformState.transforming)throw new g;return A.push(null)}return ke}var Ce,hr;function ct(){if(hr)return Ce;hr=1,Ce=f;var i=Mr();ae(f,i);function f(l){if(!(this instanceof f))return new f(l);i.call(this,l)}return f.prototype._transform=function(l,g,S){S(null,l)},Ce}var Ue,yr;function ht(){if(yr)return Ue;yr=1;var i;function f(m){var I=!1;return function(){I||(I=!0,m.apply(void 0,arguments))}}var l=le().codes,g=l.ERR_MISSING_ARGS,S=l.ERR_STREAM_DESTROYED;function h(m){if(m)throw m}function v(m){return m.setHeader&&typeof m.abort=="function"}function d(m,I,E,M){M=f(M);var _=!1;m.on("close",function(){_=!0}),i===void 0&&(i=Ye()),i(m,{readable:I,writable:E},function(D){if(D)return M(D);_=!0,M()});var R=!1;return function(D){if(!_&&!R){if(R=!0,v(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();M(D||new S("pipe"))}}}function o(m){m()}function p(m,I){return m.pipe(I)}function A(m){return!m.length||typeof m[m.length-1]!="function"?h:m.pop()}function O(){for(var m=arguments.length,I=new Array(m),E=0;E<m;E++)I[E]=arguments[E];var M=A(I);if(Array.isArray(I[0])&&(I=I[0]),I.length<2)throw new g("streams");var _,R=I.map(function(D,L){var j=L<I.length-1,B=L>0;return d(D,j,B,function(k){_||(_=k),k&&R.forEach(o),!j&&(R.forEach(o),M(_))})});return I.reduce(p)}return Ue=O,Ue}var yt=J,Ke=Fe.EventEmitter,pt=ae;pt(J,Ke);J.Readable=Or();J.Writable=Tr();J.Duplex=ue();J.Transform=Mr();J.PassThrough=ct();J.finished=Ye();J.pipeline=ht();J.Stream=J;function J(){Ke.call(this)}J.prototype.pipe=function(i,f){var l=this;function g(A){i.writable&&i.write(A)===!1&&l.pause&&l.pause()}l.on("data",g);function S(){l.readable&&l.resume&&l.resume()}i.on("drain",S),!i._isStdio&&(!f||f.end!==!1)&&(l.on("end",v),l.on("close",d));var h=!1;function v(){h||(h=!0,i.end())}function d(){h||(h=!0,typeof i.destroy=="function"&&i.destroy())}function o(A){if(p(),Ke.listenerCount(this,"error")===0)throw A}l.on("error",o),i.on("error",o);function p(){l.removeListener("data",g),i.removeListener("drain",S),l.removeListener("end",v),l.removeListener("close",d),l.removeListener("error",o),i.removeListener("error",o),l.removeListener("end",p),l.removeListener("close",p),i.removeListener("close",p)}return l.on("end",p),l.on("close",p),i.on("close",p),i.emit("pipe",l),i};const mt=pr(yt);export{mt as J,St as U,lt as r,yt as s,pe as u};
