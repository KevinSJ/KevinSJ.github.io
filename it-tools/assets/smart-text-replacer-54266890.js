import{d as H,a0 as K,r as c,i as W,O as j,D as I,f as G,o as U,c as P,k as n,l as t,m as d,a as s,G as v,cb as S,w as p,j as z,ad as F,b$ as A,x as J,s as Q,ae as X,ak as Y,q as Z,af as ee}from"./index-0c1fde36.js";import{_ as te}from"./Checkbox-ba7202eb.js";import{_ as le}from"./Space-7fc52151.js";import{_ as ae}from"./Divider-5fc425b0.js";import{_ as ne}from"./FormItem-1b9a5952.js";import"./get-slot-1efb97e5.js";import"./context-00991937.js";const oe={"mt-4":"","w-full":"",flex:"","gap-10px":""},se={"flex-1":""},re={"flex-1":""},ue={"mt-4":"","w-full":"",flex:"","items-baseline":"","gap-10px":""},ie={"mt-4":"","w-full":"",flex:"","items-baseline":"","gap-10px":""},ce=["innerHTML"],he=H({__name:"smart-text-replacer",setup(pe){const{t:a}=K(),y=c("Lorem ipsum dolor sit amet DOLOR Lorem ipsum dolor sit amet DOLOR"),$=c(""),f=c(""),_=c(!1),C=c(!0),x=c("before"),g=c(""),h=c(0),r=c(0),b=c(0),L=W(()=>{const o=$.value;let e=y.value;if(!e)return e;if(C.value||(e=e.replace(/\r?\n/g,"")),g.value){const i=new RegExp(g.value,_.value?"g":"gi");x.value==="before"?e=e.replace(i,w=>`
${w}`):x.value==="after"?e=e.replace(i,w=>`${w}
`):x.value==="place"&&(e=e.replace(i,`
`))}if(h.value&&(e=e.replace(new RegExp(`[^
]{${h.value}}`,"g"),i=>`${i}
`)),!o)return e;const u=new RegExp(o,_.value?"g":"gi");let m=0;const R=e.replace(u,i=>(m++,`<span class="${i===o?"highlight":"outline"}">${i}</span>`));return b.value=m,r.value=-1,R});j(async()=>{L.value&&(await A(),k())}),I(_,()=>{A().then(()=>{const o=document.querySelectorAll(".outline, .highlight");o.length===0?(r.value=-1,b.value=0):((o.length<=r.value||r.value===-1)&&(r.value=0),k())})});function k(){r.value=(r.value+1)%b.value,document.querySelectorAll(".outline, .highlight").forEach((e,u)=>{e.className=u===r.value?"highlight":"outline"})}function B(){const o=document.querySelectorAll(".outline, .highlight");if(o.length>r.value){const e=o[r.value];if(e){const u=f.value;e.textContent=u,e.classList.remove("highlight"),r.value--,b.value--}}k()}function T(){const o=document.querySelectorAll(".outline, .highlight");o.forEach(e=>{e.textContent=f.value,e.classList.remove("highlight"),e.classList.remove("outline")}),r.value=-1,b.value=o.length}function E(){k()}const{copy:q}=G({source:L});return(o,e)=>{const u=J,m=Q,R=te,i=le,w=ae,N=X,O=Y,V=ne,D=Z,M=ee;return U(),P("div",null,[n(u,{value:t(y),"onUpdate:value":e[0]||(e[0]=l=>d(y)?y.value=l:null),"raw-text":"",placeholder:t(a)("tools.smart-text-replacer.texts.placeholder-enter-text-here"),label:t(a)("tools.smart-text-replacer.texts.label-text-to-search-and-replace"),clearable:"",multiline:"",rows:"10"},null,8,["value","placeholder","label"]),s("div",oe,[s("div",se,[s("div",null,v(t(a)("tools.smart-text-replacer.texts.tag-find-what")),1),n(u,{value:t($),"onUpdate:value":e[1]||(e[1]=l=>d($)?$.value=l:null),placeholder:t(a)("tools.smart-text-replacer.texts.placeholder-search-regex"),onKeyup:e[2]||(e[2]=S(l=>E(),["enter"]))},null,8,["value","placeholder"])]),s("div",re,[s("div",null,v(t(a)("tools.smart-text-replacer.texts.tag-replace-with")),1),n(u,{value:t(f),"onUpdate:value":e[3]||(e[3]=l=>d(f)?f.value=l:null),placeholder:t(a)("tools.smart-text-replacer.texts.placeholder-replacement-expression"),onKeyup:e[4]||(e[4]=S(l=>B(),["enter"]))},null,8,["value","placeholder"])])]),n(i,{"mt-4":"","gap-1":"",align:"baseline",justify:"space-between"},{default:p(()=>[n(m,{onClick:e[5]||(e[5]=l=>E())},{default:p(()=>[s("label",null,v(t(a)("tools.smart-text-replacer.texts.tag-find-next")),1)]),_:1}),n(m,{onClick:e[6]||(e[6]=l=>B())},{default:p(()=>[s("label",null,v(t(a)("tools.smart-text-replacer.texts.tag-replace")),1)]),_:1}),n(m,{onClick:e[7]||(e[7]=l=>T())},{default:p(()=>[s("label",null,v(t(a)("tools.smart-text-replacer.texts.tag-replace-all")),1)]),_:1}),n(R,{checked:t(_),"onUpdate:checked":e[8]||(e[8]=l=>d(_)?_.value=l:null)},{default:p(()=>[s("label",null,v(t(a)("tools.smart-text-replacer.texts.tag-match-case")),1)]),_:1},8,["checked"]),n(R,{checked:t(C),"onUpdate:checked":e[9]||(e[9]=l=>d(C)?C.value=l:null)},{default:p(()=>[s("label",null,v(t(a)("tools.smart-text-replacer.texts.tag-keep-linebreaks")),1)]),_:1},8,["checked"])]),_:1}),n(w),s("div",ue,[n(N,{value:t(x),"onUpdate:value":e[10]||(e[10]=l=>d(x)?x.value=l:null),options:[{value:"before",label:t(a)("tools.smart-text-replacer.texts.label-add-linebreak-before")},{value:"after",label:t(a)("tools.smart-text-replacer.texts.label-add-linebreak-after")},{value:"place",label:t(a)("tools.smart-text-replacer.texts.label-add-linebreak-in-place-of")}]},null,8,["value","options"]),n(u,{value:t(g),"onUpdate:value":e[11]||(e[11]=l=>d(g)?g.value=l:null),placeholder:t(a)("tools.smart-text-replacer.texts.placeholder-split-text-regex")},null,8,["value","placeholder"])]),s("div",ie,[n(V,{label:t(a)("tools.smart-text-replacer.texts.label-split-every-characters"),"label-placement":"left"},{default:p(()=>[n(O,{value:t(h),"onUpdate:value":e[12]||(e[12]=l=>d(h)?h.value=l:null),min:0},null,8,["value"])]),_:1},8,["label"])]),t(L)?(U(),z(M,{key:0,"mt-60px":"",flex:"","items-center":"","gap-5px":"","font-mono":""},{default:p(()=>[s("div",{"flex-1":"","break-anywhere":"","text-wrap":"",style:{"white-space":"pre-wrap"},innerHTML:t(L)},null,8,ce),n(m,{onClick:e[13]||(e[13]=l=>t(q)())},{default:p(()=>[n(D)]),_:1})]),_:1})):F("",!0)])}}});export{he as default};
