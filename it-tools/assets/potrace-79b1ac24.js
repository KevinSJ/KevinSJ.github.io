import{Q as He,b as Xt,d as Qt,a0 as Kt,r as Rt,E as Jt,i as $t,o as qt,c as er,k as st,l as at,a as ft,w as tr,a6 as rr,G as Ct,m as ir,aW as nr,bq as ar}from"./index-0c1fde36.js";import{a as or}from"./index-a6f01dde.js";import{c as ht}from"./_commonjs-dynamic-modules-302442b1.js";import{g as sr}from"./base64-ae7cf34b.js";import{_ as fr}from"./TextareaCopyable-59231e95.js";import{_ as lr}from"./Checkbox-ba7202eb.js";import{_ as ur}from"./Divider-5fc425b0.js";import"./downloadBase64-508288e2.js";import"./index-6fddb70d.js";import"./index-cfd4d427.js";import"./Copy-ef9ec73c.js";import"./Scrollbar-54724e22.js";var Ut={exports:{}};(function(_e,ge){if((typeof xe>"u"||!xe)&&typeof self<"u")var xe=self;(function(E){_e.exports=E()})(function(){return function(){function E(j,w,x){function m(s,a){if(!w[s]){if(!j[s]){var r=typeof ht=="function"&&ht;if(!a&&r)return r(s,!0);if(p)return p(s,!0);var t=new Error("Cannot find module '"+s+"'");throw t.code="MODULE_NOT_FOUND",t}var e=w[s]={exports:{}};j[s][0].call(e.exports,function(o){var l=j[s][1][o];return m(l||o)},e,e.exports,E,j,w,x)}return w[s].exports}for(var p=typeof ht=="function"&&ht,d=0;d<x.length;d++)m(x[d]);return m}return E}()({1:[function(E,j,w){function x(m){if(Array.isArray(m))return m}j.exports=x},{}],2:[function(E,j,w){function x(m){if(Array.isArray(m)){for(var p=0,d=new Array(m.length);p<m.length;p++)d[p]=m[p];return d}}j.exports=x},{}],3:[function(E,j,w){function x(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}j.exports=x},{}],4:[function(E,j,w){function x(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}j.exports=x},{}],5:[function(E,j,w){var x=E("./setPrototypeOf");function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function p(d,s,a){return m()?j.exports=p=Reflect.construct:j.exports=p=function(t,e,o){var l=[null];l.push.apply(l,e);var n=Function.bind.apply(t,l),f=new n;return o&&x(f,o.prototype),f},p.apply(null,arguments)}j.exports=p},{"./setPrototypeOf":18}],6:[function(E,j,w){function x(p,d){for(var s=0;s<d.length;s++){var a=d[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(p,a.key,a)}}function m(p,d,s){return d&&x(p.prototype,d),s&&x(p,s),p}j.exports=m},{}],7:[function(E,j,w){function x(m,p,d){return p in m?Object.defineProperty(m,p,{value:d,enumerable:!0,configurable:!0,writable:!0}):m[p]=d,m}j.exports=x},{}],8:[function(E,j,w){function x(){return j.exports=x=Object.assign||function(m){for(var p=1;p<arguments.length;p++){var d=arguments[p];for(var s in d)Object.prototype.hasOwnProperty.call(d,s)&&(m[s]=d[s])}return m},x.apply(this,arguments)}j.exports=x},{}],9:[function(E,j,w){function x(m){return j.exports=x=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},x(m)}j.exports=x},{}],10:[function(E,j,w){var x=E("./setPrototypeOf");function m(p,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),d&&x(p,d)}j.exports=m},{"./setPrototypeOf":18}],11:[function(E,j,w){function x(m){return m&&m.__esModule?m:{default:m}}j.exports=x},{}],12:[function(E,j,w){var x=E("../helpers/typeof");function m(){if(typeof WeakMap!="function")return null;var d=new WeakMap;return m=function(){return d},d}function p(d){if(d&&d.__esModule)return d;if(d===null||x(d)!=="object"&&typeof d!="function")return{default:d};var s=m();if(s&&s.has(d))return s.get(d);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var t in d)if(Object.prototype.hasOwnProperty.call(d,t)){var e=r?Object.getOwnPropertyDescriptor(d,t):null;e&&(e.get||e.set)?Object.defineProperty(a,t,e):a[t]=d[t]}return a.default=d,s&&s.set(d,a),a}j.exports=p},{"../helpers/typeof":21}],13:[function(E,j,w){function x(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}j.exports=x},{}],14:[function(E,j,w){function x(m,p){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]"){var d=[],s=!0,a=!1,r=void 0;try{for(var t=m[Symbol.iterator](),e;!(s=(e=t.next()).done)&&(d.push(e.value),!(p&&d.length===p));s=!0);}catch(o){a=!0,r=o}finally{try{!s&&t.return!=null&&t.return()}finally{if(a)throw r}}return d}}j.exports=x},{}],15:[function(E,j,w){function x(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}j.exports=x},{}],16:[function(E,j,w){function x(){throw new TypeError("Invalid attempt to spread non-iterable instance")}j.exports=x},{}],17:[function(E,j,w){var x=E("../helpers/typeof"),m=E("./assertThisInitialized");function p(d,s){return s&&(x(s)==="object"||typeof s=="function")?s:m(d)}j.exports=p},{"../helpers/typeof":21,"./assertThisInitialized":3}],18:[function(E,j,w){function x(m,p){return j.exports=x=Object.setPrototypeOf||function(s,a){return s.__proto__=a,s},x(m,p)}j.exports=x},{}],19:[function(E,j,w){var x=E("./arrayWithHoles"),m=E("./iterableToArrayLimit"),p=E("./nonIterableRest");function d(s,a){return x(s)||m(s,a)||p()}j.exports=d},{"./arrayWithHoles":1,"./iterableToArrayLimit":14,"./nonIterableRest":15}],20:[function(E,j,w){var x=E("./arrayWithoutHoles"),m=E("./iterableToArray"),p=E("./nonIterableSpread");function d(s){return x(s)||m(s)||p()}j.exports=d},{"./arrayWithoutHoles":2,"./iterableToArray":13,"./nonIterableSpread":16}],21:[function(E,j,w){function x(p){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x=function(s){return typeof s}:x=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},x(p)}function m(p){return typeof Symbol=="function"&&x(Symbol.iterator)==="symbol"?j.exports=m=function(s){return x(s)}:j.exports=m=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":x(s)},m(p)}j.exports=m},{}],22:[function(E,j,w){j.exports=E("regenerator-runtime")},{"regenerator-runtime":153}],23:[function(E,j,w){var x=E("./src/converter");function m(p,d){var s=new x(p,d);return function(a){return s.convert(a)}}m.BIN="01",m.OCT="01234567",m.DEC="0123456789",m.HEX="0123456789abcdef",j.exports=m},{"./src/converter":24}],24:[function(E,j,w){function x(m,p){if(!m||!p||!m.length||!p.length)throw new Error("Bad alphabet");this.srcAlphabet=m,this.dstAlphabet=p}x.prototype.convert=function(m){var p,d,s,a={},r=this.srcAlphabet.length,t=this.dstAlphabet.length,e=m.length,o=typeof m=="string"?"":[];if(!this.isValid(m))throw new Error('Number "'+m+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return m;for(p=0;p<e;p++)a[p]=this.srcAlphabet.indexOf(m[p]);do{for(d=0,s=0,p=0;p<e;p++)d=d*r+a[p],d>=t?(a[s++]=parseInt(d/t,10),d=d%t):s>0&&(a[s++]=0);e=s,o=this.dstAlphabet.slice(d,d+1).concat(o)}while(s!==0);return o},x.prototype.isValid=function(m){for(var p=0;p<m.length;++p)if(this.srcAlphabet.indexOf(m[p])===-1)return!1;return!0},j.exports=x},{}],25:[function(E,j,w){(function(x){var m=E("object-assign");/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function p(D,O){if(D===O)return 0;for(var k=D.length,Z=O.length,$=0,te=Math.min(k,Z);$<te;++$)if(D[$]!==O[$]){k=D[$],Z=O[$];break}return k<Z?-1:Z<k?1:0}function d(D){return x.Buffer&&typeof x.Buffer.isBuffer=="function"?x.Buffer.isBuffer(D):!!(D!=null&&D._isBuffer)}var s=E("util/"),a=Object.prototype.hasOwnProperty,r=Array.prototype.slice,t=function(){return function(){}.name==="foo"}();function e(D){return Object.prototype.toString.call(D)}function o(D){return d(D)||typeof x.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(D):D?!!(D instanceof DataView||D.buffer&&D.buffer instanceof ArrayBuffer):!1}var l=j.exports=_,n=/\s*function\s+([^\(\s]*)\s*/;function f(D){if(s.isFunction(D)){if(t)return D.name;var O=D.toString(),k=O.match(n);return k&&k[1]}}l.AssertionError=function(O){this.name="AssertionError",this.actual=O.actual,this.expected=O.expected,this.operator=O.operator,O.message?(this.message=O.message,this.generatedMessage=!1):(this.message=h(this),this.generatedMessage=!0);var k=O.stackStartFunction||c;if(Error.captureStackTrace)Error.captureStackTrace(this,k);else{var Z=new Error;if(Z.stack){var $=Z.stack,te=f(k),q=$.indexOf(`
`+te);if(q>=0){var U=$.indexOf(`
`,q+1);$=$.substring(U+1)}this.stack=$}}},s.inherits(l.AssertionError,Error);function i(D,O){return typeof D=="string"?D.length<O?D:D.slice(0,O):D}function u(D){if(t||!s.isFunction(D))return s.inspect(D);var O=f(D),k=O?": "+O:"";return"[Function"+k+"]"}function h(D){return i(u(D.actual),128)+" "+D.operator+" "+i(u(D.expected),128)}function c(D,O,k,Z,$){throw new l.AssertionError({message:k,actual:D,expected:O,operator:Z,stackStartFunction:$})}l.fail=c;function _(D,O){D||c(D,!0,O,"==",l.ok)}l.ok=_,l.equal=function(O,k,Z){O!=k&&c(O,k,Z,"==",l.equal)},l.notEqual=function(O,k,Z){O==k&&c(O,k,Z,"!=",l.notEqual)},l.deepEqual=function(O,k,Z){g(O,k,!1)||c(O,k,Z,"deepEqual",l.deepEqual)},l.deepStrictEqual=function(O,k,Z){g(O,k,!0)||c(O,k,Z,"deepStrictEqual",l.deepStrictEqual)};function g(D,O,k,Z){if(D===O)return!0;if(d(D)&&d(O))return p(D,O)===0;if(s.isDate(D)&&s.isDate(O))return D.getTime()===O.getTime();if(s.isRegExp(D)&&s.isRegExp(O))return D.source===O.source&&D.global===O.global&&D.multiline===O.multiline&&D.lastIndex===O.lastIndex&&D.ignoreCase===O.ignoreCase;if((D===null||typeof D!="object")&&(O===null||typeof O!="object"))return k?D===O:D==O;if(o(D)&&o(O)&&e(D)===e(O)&&!(D instanceof Float32Array||D instanceof Float64Array))return p(new Uint8Array(D.buffer),new Uint8Array(O.buffer))===0;if(d(D)!==d(O))return!1;Z=Z||{actual:[],expected:[]};var $=Z.actual.indexOf(D);return $!==-1&&$===Z.expected.indexOf(O)?!0:(Z.actual.push(D),Z.expected.push(O),y(D,O,k,Z))}function b(D){return Object.prototype.toString.call(D)=="[object Arguments]"}function y(D,O,k,Z){if(D==null||O===null||O===void 0)return!1;if(s.isPrimitive(D)||s.isPrimitive(O))return D===O;if(k&&Object.getPrototypeOf(D)!==Object.getPrototypeOf(O))return!1;var $=b(D),te=b(O);if($&&!te||!$&&te)return!1;if($)return D=r.call(D),O=r.call(O),g(D,O,k);var q=z(D),U=z(O),W,G;if(q.length!==U.length)return!1;for(q.sort(),U.sort(),G=q.length-1;G>=0;G--)if(q[G]!==U[G])return!1;for(G=q.length-1;G>=0;G--)if(W=q[G],!g(D[W],O[W],k,Z))return!1;return!0}l.notDeepEqual=function(O,k,Z){g(O,k,!1)&&c(O,k,Z,"notDeepEqual",l.notDeepEqual)},l.notDeepStrictEqual=A;function A(D,O,k){g(D,O,!0)&&c(D,O,k,"notDeepStrictEqual",A)}l.strictEqual=function(O,k,Z){O!==k&&c(O,k,Z,"===",l.strictEqual)},l.notStrictEqual=function(O,k,Z){O===k&&c(O,k,Z,"!==",l.notStrictEqual)};function M(D,O){if(!D||!O)return!1;if(Object.prototype.toString.call(O)=="[object RegExp]")return O.test(D);try{if(D instanceof O)return!0}catch{}return Error.isPrototypeOf(O)?!1:O.call({},D)===!0}function I(D){var O;try{D()}catch(k){O=k}return O}function R(D,O,k,Z){var $;if(typeof O!="function")throw new TypeError('"block" argument must be a function');typeof k=="string"&&(Z=k,k=null),$=I(O),Z=(k&&k.name?" ("+k.name+").":".")+(Z?" "+Z:"."),D&&!$&&c($,k,"Missing expected exception"+Z);var te=typeof Z=="string",q=!D&&s.isError($),U=!D&&$&&!k;if((q&&te&&M($,k)||U)&&c($,k,"Got unwanted exception"+Z),D&&$&&k&&!M($,k)||!D&&$)throw $}l.throws=function(D,O,k){R(!0,D,O,k)},l.doesNotThrow=function(D,O,k){R(!1,D,O,k)},l.ifError=function(D){if(D)throw D};function F(D,O){D||c(D,!0,O,"==",F)}l.strict=m(F,l,{equal:l.strictEqual,deepEqual:l.deepStrictEqual,notEqual:l.notStrictEqual,notDeepEqual:l.notDeepStrictEqual}),l.strict.strict=l.strict;var z=Object.keys||function(D){var O=[];for(var k in D)a.call(D,k)&&O.push(k);return O}}).call(this,typeof He<"u"?He:typeof self<"u"?self:typeof xe<"u"?xe:{})},{"object-assign":84,"util/":28}],26:[function(E,j,w){typeof Object.create=="function"?j.exports=function(m,p){m.super_=p,m.prototype=Object.create(p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}})}:j.exports=function(m,p){m.super_=p;var d=function(){};d.prototype=p.prototype,m.prototype=new d,m.prototype.constructor=m}},{}],27:[function(E,j,w){j.exports=function(m){return m&&typeof m=="object"&&typeof m.copy=="function"&&typeof m.fill=="function"&&typeof m.readUInt8=="function"}},{}],28:[function(E,j,w){(function(x,m){var p=/%[sdj%]/g;w.format=function(U){if(!y(U)){for(var W=[],G=0;G<arguments.length;G++)W.push(a(arguments[G]));return W.join(" ")}for(var G=1,V=arguments,re=V.length,se=String(U).replace(p,function(ue){if(ue==="%%")return"%";if(G>=re)return ue;switch(ue){case"%s":return String(V[G++]);case"%d":return Number(V[G++]);case"%j":try{return JSON.stringify(V[G++])}catch{return"[Circular]"}default:return ue}}),fe=V[G];G<re;fe=V[++G])_(fe)||!R(fe)?se+=" "+fe:se+=" "+a(fe);return se},w.deprecate=function(U,W){if(M(m.process))return function(){return w.deprecate(U,W).apply(this,arguments)};if(x.noDeprecation===!0)return U;var G=!1;function V(){if(!G){if(x.throwDeprecation)throw new Error(W);x.traceDeprecation?console.trace(W):console.error(W),G=!0}return U.apply(this,arguments)}return V};var d={},s;w.debuglog=function(U){if(M(s)&&(s={}.NODE_DEBUG||""),U=U.toUpperCase(),!d[U])if(new RegExp("\\b"+U+"\\b","i").test(s)){var W=x.pid;d[U]=function(){var G=w.format.apply(w,arguments);console.error("%s %d: %s",U,W,G)}}else d[U]=function(){};return d[U]};function a(U,W){var G={seen:[],stylize:t};return arguments.length>=3&&(G.depth=arguments[2]),arguments.length>=4&&(G.colors=arguments[3]),c(W)?G.showHidden=W:W&&w._extend(G,W),M(G.showHidden)&&(G.showHidden=!1),M(G.depth)&&(G.depth=2),M(G.colors)&&(G.colors=!1),M(G.customInspect)&&(G.customInspect=!0),G.colors&&(G.stylize=r),o(G,U,G.depth)}w.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r(U,W){var G=a.styles[W];return G?"\x1B["+a.colors[G][0]+"m"+U+"\x1B["+a.colors[G][1]+"m":U}function t(U,W){return U}function e(U){var W={};return U.forEach(function(G,V){W[G]=!0}),W}function o(U,W,G){if(U.customInspect&&W&&D(W.inspect)&&W.inspect!==w.inspect&&!(W.constructor&&W.constructor.prototype===W)){var V=W.inspect(G,U);return y(V)||(V=o(U,V,G)),V}var re=l(U,W);if(re)return re;var se=Object.keys(W),fe=e(se);if(U.showHidden&&(se=Object.getOwnPropertyNames(W)),z(W)&&(se.indexOf("message")>=0||se.indexOf("description")>=0))return n(W);if(se.length===0){if(D(W)){var ue=W.name?": "+W.name:"";return U.stylize("[Function"+ue+"]","special")}if(I(W))return U.stylize(RegExp.prototype.toString.call(W),"regexp");if(F(W))return U.stylize(Date.prototype.toString.call(W),"date");if(z(W))return n(W)}var pe="",ne=!1,ie=["{","}"];if(h(W)&&(ne=!0,ie=["[","]"]),D(W)){var X=W.name?": "+W.name:"";pe=" [Function"+X+"]"}if(I(W)&&(pe=" "+RegExp.prototype.toString.call(W)),F(W)&&(pe=" "+Date.prototype.toUTCString.call(W)),z(W)&&(pe=" "+n(W)),se.length===0&&(!ne||W.length==0))return ie[0]+pe+ie[1];if(G<0)return I(W)?U.stylize(RegExp.prototype.toString.call(W),"regexp"):U.stylize("[Object]","special");U.seen.push(W);var J;return ne?J=f(U,W,G,fe,se):J=se.map(function(ee){return i(U,W,G,fe,ee,ne)}),U.seen.pop(),u(J,pe,ie)}function l(U,W){if(M(W))return U.stylize("undefined","undefined");if(y(W)){var G="'"+JSON.stringify(W).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return U.stylize(G,"string")}if(b(W))return U.stylize(""+W,"number");if(c(W))return U.stylize(""+W,"boolean");if(_(W))return U.stylize("null","null")}function n(U){return"["+Error.prototype.toString.call(U)+"]"}function f(U,W,G,V,re){for(var se=[],fe=0,ue=W.length;fe<ue;++fe)q(W,String(fe))?se.push(i(U,W,G,V,String(fe),!0)):se.push("");return re.forEach(function(pe){pe.match(/^\d+$/)||se.push(i(U,W,G,V,pe,!0))}),se}function i(U,W,G,V,re,se){var fe,ue,pe;if(pe=Object.getOwnPropertyDescriptor(W,re)||{value:W[re]},pe.get?pe.set?ue=U.stylize("[Getter/Setter]","special"):ue=U.stylize("[Getter]","special"):pe.set&&(ue=U.stylize("[Setter]","special")),q(V,re)||(fe="["+re+"]"),ue||(U.seen.indexOf(pe.value)<0?(_(G)?ue=o(U,pe.value,null):ue=o(U,pe.value,G-1),ue.indexOf(`
`)>-1&&(se?ue=ue.split(`
`).map(function(ne){return"  "+ne}).join(`
`).substr(2):ue=`
`+ue.split(`
`).map(function(ne){return"   "+ne}).join(`
`))):ue=U.stylize("[Circular]","special")),M(fe)){if(se&&re.match(/^\d+$/))return ue;fe=JSON.stringify(""+re),fe.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(fe=fe.substr(1,fe.length-2),fe=U.stylize(fe,"name")):(fe=fe.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),fe=U.stylize(fe,"string"))}return fe+": "+ue}function u(U,W,G){var V=U.reduce(function(re,se){return se.indexOf(`
`)>=0,re+se.replace(/\u001b\[\d\d?m/g,"").length+1},0);return V>60?G[0]+(W===""?"":W+`
 `)+" "+U.join(`,
  `)+" "+G[1]:G[0]+W+" "+U.join(", ")+" "+G[1]}function h(U){return Array.isArray(U)}w.isArray=h;function c(U){return typeof U=="boolean"}w.isBoolean=c;function _(U){return U===null}w.isNull=_;function g(U){return U==null}w.isNullOrUndefined=g;function b(U){return typeof U=="number"}w.isNumber=b;function y(U){return typeof U=="string"}w.isString=y;function A(U){return typeof U=="symbol"}w.isSymbol=A;function M(U){return U===void 0}w.isUndefined=M;function I(U){return R(U)&&k(U)==="[object RegExp]"}w.isRegExp=I;function R(U){return typeof U=="object"&&U!==null}w.isObject=R;function F(U){return R(U)&&k(U)==="[object Date]"}w.isDate=F;function z(U){return R(U)&&(k(U)==="[object Error]"||U instanceof Error)}w.isError=z;function D(U){return typeof U=="function"}w.isFunction=D;function O(U){return U===null||typeof U=="boolean"||typeof U=="number"||typeof U=="string"||typeof U=="symbol"||typeof U>"u"}w.isPrimitive=O,w.isBuffer=E("./support/isBuffer");function k(U){return Object.prototype.toString.call(U)}function Z(U){return U<10?"0"+U.toString(10):U.toString(10)}var $=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function te(){var U=new Date,W=[Z(U.getHours()),Z(U.getMinutes()),Z(U.getSeconds())].join(":");return[U.getDate(),$[U.getMonth()],W].join(" ")}w.log=function(){console.log("%s - %s",te(),w.format.apply(w,arguments))},w.inherits=E("inherits"),w._extend=function(U,W){if(!W||!R(W))return U;for(var G=Object.keys(W),V=G.length;V--;)U[G[V]]=W[G[V]];return U};function q(U,W){return Object.prototype.hasOwnProperty.call(U,W)}}).call(this,E("_process"),typeof He<"u"?He:typeof self<"u"?self:typeof xe<"u"?xe:{})},{"./support/isBuffer":27,_process:133,inherits:26}],29:[function(E,j,w){w.byteLength=t,w.toByteArray=o,w.fromByteArray=f;for(var x=[],m=[],p=typeof Uint8Array<"u"?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=d.length;s<a;++s)x[s]=d[s],m[d.charCodeAt(s)]=s;m["-".charCodeAt(0)]=62,m["_".charCodeAt(0)]=63;function r(i){var u=i.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=i.indexOf("=");h===-1&&(h=u);var c=h===u?0:4-h%4;return[h,c]}function t(i){var u=r(i),h=u[0],c=u[1];return(h+c)*3/4-c}function e(i,u,h){return(u+h)*3/4-h}function o(i){var u,h=r(i),c=h[0],_=h[1],g=new p(e(i,c,_)),b=0,y=_>0?c-4:c,A;for(A=0;A<y;A+=4)u=m[i.charCodeAt(A)]<<18|m[i.charCodeAt(A+1)]<<12|m[i.charCodeAt(A+2)]<<6|m[i.charCodeAt(A+3)],g[b++]=u>>16&255,g[b++]=u>>8&255,g[b++]=u&255;return _===2&&(u=m[i.charCodeAt(A)]<<2|m[i.charCodeAt(A+1)]>>4,g[b++]=u&255),_===1&&(u=m[i.charCodeAt(A)]<<10|m[i.charCodeAt(A+1)]<<4|m[i.charCodeAt(A+2)]>>2,g[b++]=u>>8&255,g[b++]=u&255),g}function l(i){return x[i>>18&63]+x[i>>12&63]+x[i>>6&63]+x[i&63]}function n(i,u,h){for(var c,_=[],g=u;g<h;g+=3)c=(i[g]<<16&16711680)+(i[g+1]<<8&65280)+(i[g+2]&255),_.push(l(c));return _.join("")}function f(i){for(var u,h=i.length,c=h%3,_=[],g=16383,b=0,y=h-c;b<y;b+=g)_.push(n(i,b,b+g>y?y:b+g));return c===1?(u=i[h-1],_.push(x[u>>2]+x[u<<4&63]+"==")):c===2&&(u=(i[h-2]<<8)+i[h-1],_.push(x[u>>10]+x[u>>4&63]+x[u<<2&63]+"=")),_.join("")}},{}],30:[function(E,j,w){var x=E("./lib/encoder"),m=E("./lib/decoder");j.exports={encode:x,decode:m}},{"./lib/decoder":31,"./lib/encoder":32}],31:[function(E,j,w){(function(x){function m(p,d){if(this.pos=0,this.buffer=p,this.is_with_alpha=!!d,this.bottom_up=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),this.flag!="BM")throw new Error("Invalid BMP File");this.parseHeader(),this.parseRGBA()}m.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var p=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(p);for(var d=0;d<p;d++){var s=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++);this.palette[d]={red:r,green:a,blue:s,quad:t}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},m.prototype.parseRGBA=function(){var p="bit"+this.bitPP,d=this.width*this.height*4;this.data=new x(d),this[p]()},m.prototype.bit1=function(){for(var p=Math.ceil(this.width/8),d=p%4,s=this.height>=0?this.height-1:-this.height,s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,r=0;r<p;r++)for(var t=this.buffer.readUInt8(this.pos++),e=a*this.width*4+r*8*4,o=0;o<8&&r*8+o<this.width;o++){var l=this.palette[t>>7-o&1];this.data[e+o*4]=0,this.data[e+o*4+1]=l.blue,this.data[e+o*4+2]=l.green,this.data[e+o*4+3]=l.red}d!=0&&(this.pos+=4-d)}},m.prototype.bit4=function(){if(this.compress==2){let _=function(g){var b=this.palette[g];this.data[p]=0,this.data[p+1]=b.blue,this.data[p+2]=b.green,this.data[p+3]=b.red,p+=4};this.data.fill(255);for(var p=0,d=this.bottom_up?this.height-1:0,s=!1;p<this.data.length;){var a=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++);if(a==0)if(r==0){this.bottom_up?d--:d++,p=d*this.width*4,s=!1;continue}else{if(r==1)break;if(r==2){var t=this.buffer.readUInt8(this.pos++),e=this.buffer.readUInt8(this.pos++);this.bottom_up?d-=e:d+=e,p+=e*this.width*4+t*4}else{for(var o=this.buffer.readUInt8(this.pos++),l=0;l<r;l++)s?_.call(this,o&15):_.call(this,(o&240)>>4),l&1&&l+1<r&&(o=this.buffer.readUInt8(this.pos++)),s=!s;(r+1>>1&1)==1&&this.pos++}}else for(var l=0;l<a;l++)s?_.call(this,r&15):_.call(this,(r&240)>>4),s=!s}}else for(var n=Math.ceil(this.width/2),f=n%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,t=0;t<n;t++){var r=this.buffer.readUInt8(this.pos++),p=i*this.width*4+t*2*4,u=r>>4,h=r&15,c=this.palette[u];if(this.data[p]=0,this.data[p+1]=c.blue,this.data[p+2]=c.green,this.data[p+3]=c.red,t*2+1>=this.width)break;c=this.palette[h],this.data[p+4]=0,this.data[p+4+1]=c.blue,this.data[p+4+2]=c.green,this.data[p+4+3]=c.red}f!=0&&(this.pos+=4-f)}},m.prototype.bit8=function(){if(this.compress==1){let i=function(u){var h=this.palette[u];this.data[p]=0,this.data[p+1]=h.blue,this.data[p+2]=h.green,this.data[p+3]=h.red,p+=4};this.data.fill(255);for(var p=0,d=this.bottom_up?this.height-1:0;p<this.data.length;){var s=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);if(s==0)if(a==0){this.bottom_up?d--:d++,p=d*this.width*4;continue}else{if(a==1)break;if(a==2){var r=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++);this.bottom_up?d-=t:d+=t,p+=t*this.width*4+r*4}else{for(var e=0;e<a;e++){var o=this.buffer.readUInt8(this.pos++);i.call(this,o)}a&!0&&this.pos++}}else for(var e=0;e<s;e++)i.call(this,a)}}else for(var l=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.buffer.readUInt8(this.pos++),p=n*this.width*4+r*4;if(a<this.palette.length){var f=this.palette[a];this.data[p]=0,this.data[p+1]=f.blue,this.data[p+2]=f.green,this.data[p+3]=f.red}else this.data[p]=0,this.data[p+1]=255,this.data[p+2]=255,this.data[p+3]=255}l!=0&&(this.pos+=4-l)}},m.prototype.bit15=function(){for(var p=this.width%3,d=parseInt("11111",2),s=d,a=this.height-1;a>=0;a--){for(var r=this.bottom_up?a:this.height-1-a,t=0;t<this.width;t++){var e=this.buffer.readUInt16LE(this.pos);this.pos+=2;var o=(e&s)/s*255|0,l=(e>>5&s)/s*255|0,n=(e>>10&s)/s*255|0,f=e>>15?255:0,i=r*this.width*4+t*4;this.data[i]=f,this.data[i+1]=o,this.data[i+2]=l,this.data[i+3]=n}this.pos+=p}},m.prototype.bit16=function(){var p=this.width%2*2;this.maskRed=31744,this.maskGreen=992,this.maskBlue=31,this.mask0=0,this.compress==3&&(this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4);for(var d=[0,0,0],s=0;s<16;s++)this.maskRed>>s&1&&d[0]++,this.maskGreen>>s&1&&d[1]++,this.maskBlue>>s&1&&d[2]++;d[1]+=d[0],d[2]+=d[1],d[0]=8-d[0],d[1]-=8,d[2]-=8;for(var a=this.height-1;a>=0;a--){for(var r=this.bottom_up?a:this.height-1-a,t=0;t<this.width;t++){var e=this.buffer.readUInt16LE(this.pos);this.pos+=2;var o=(e&this.maskBlue)<<d[0],l=(e&this.maskGreen)>>d[1],n=(e&this.maskRed)>>d[2],f=r*this.width*4+t*4;this.data[f]=0,this.data[f+1]=o,this.data[f+2]=l,this.data[f+3]=n}this.pos+=p}},m.prototype.bit24=function(){for(var p=this.height-1;p>=0;p--){for(var d=this.bottom_up?p:this.height-1-p,s=0;s<this.width;s++){var a=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++),e=d*this.width*4+s*4;this.data[e]=0,this.data[e+1]=a,this.data[e+2]=r,this.data[e+3]=t}this.pos+=this.width%4}},m.prototype.bit32=function(){if(this.compress==3){this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;for(var p=this.height-1;p>=0;p--)for(var d=this.bottom_up?p:this.height-1-p,s=0;s<this.width;s++){var a=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++),e=this.buffer.readUInt8(this.pos++),o=d*this.width*4+s*4;this.data[o]=a,this.data[o+1]=r,this.data[o+2]=t,this.data[o+3]=e}}else for(var p=this.height-1;p>=0;p--)for(var d=this.bottom_up?p:this.height-1-p,s=0;s<this.width;s++){var r=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++),e=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),o=d*this.width*4+s*4;this.data[o]=a,this.data[o+1]=r,this.data[o+2]=t,this.data[o+3]=e}},m.prototype.getData=function(){return this.data},j.exports=function(p){var d=new m(p);return d}}).call(this,E("buffer").Buffer)},{buffer:48}],32:[function(E,j,w){(function(x){function m(p){this.buffer=p.data,this.width=p.width,this.height=p.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag="BM",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0}m.prototype.encode=function(){var p=new x(this.offset+this.rgbSize);this.pos=0,p.write(this.flag,this.pos,2),this.pos+=2,p.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,p.writeUInt32LE(this.reserved,this.pos),this.pos+=4,p.writeUInt32LE(this.offset,this.pos),this.pos+=4,p.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,p.writeUInt32LE(this.width,this.pos),this.pos+=4,p.writeInt32LE(-this.height,this.pos),this.pos+=4,p.writeUInt16LE(this.planes,this.pos),this.pos+=2,p.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,p.writeUInt32LE(this.compress,this.pos),this.pos+=4,p.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,p.writeUInt32LE(this.hr,this.pos),this.pos+=4,p.writeUInt32LE(this.vr,this.pos),this.pos+=4,p.writeUInt32LE(this.colors,this.pos),this.pos+=4,p.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;for(var d=0,s=3*this.width+this.extraBytes,a=0;a<this.height;a++){for(var r=0;r<this.width;r++){var t=this.pos+a*s+r*3;d++,p[t]=this.buffer[d++],p[t+1]=this.buffer[d++],p[t+2]=this.buffer[d++]}if(this.extraBytes>0){var e=this.pos+a*s+this.width*3;p.fill(0,e,e+this.extraBytes)}}return p},j.exports=function(p,d){var s=new m(p),a=s.encode();return{data:a,width:p.width,height:p.height}}}).call(this,E("buffer").Buffer)},{buffer:48}],33:[function(E,j,w){},{}],34:[function(E,j,w){(function(x,m){var p=E("assert"),d=E("pako/lib/zlib/zstream"),s=E("pako/lib/zlib/deflate.js"),a=E("pako/lib/zlib/inflate.js"),r=E("pako/lib/zlib/constants");for(var t in r)w[t]=r[t];w.NONE=0,w.DEFLATE=1,w.INFLATE=2,w.GZIP=3,w.GUNZIP=4,w.DEFLATERAW=5,w.INFLATERAW=6,w.UNZIP=7;var e=31,o=139;function l(n){if(typeof n!="number"||n<w.DEFLATE||n>w.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=n,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}l.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,p(this.init_done,"close before init"),p(this.mode<=w.UNZIP),this.mode===w.DEFLATE||this.mode===w.GZIP||this.mode===w.DEFLATERAW?s.deflateEnd(this.strm):(this.mode===w.INFLATE||this.mode===w.GUNZIP||this.mode===w.INFLATERAW||this.mode===w.UNZIP)&&a.inflateEnd(this.strm),this.mode=w.NONE,this.dictionary=null},l.prototype.write=function(n,f,i,u,h,c,_){return this._write(!0,n,f,i,u,h,c,_)},l.prototype.writeSync=function(n,f,i,u,h,c,_){return this._write(!1,n,f,i,u,h,c,_)},l.prototype._write=function(n,f,i,u,h,c,_,g){if(p.equal(arguments.length,8),p(this.init_done,"write before init"),p(this.mode!==w.NONE,"already finalized"),p.equal(!1,this.write_in_progress,"write already in progress"),p.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,p.equal(!1,f===void 0,"must provide flush value"),this.write_in_progress=!0,f!==w.Z_NO_FLUSH&&f!==w.Z_PARTIAL_FLUSH&&f!==w.Z_SYNC_FLUSH&&f!==w.Z_FULL_FLUSH&&f!==w.Z_FINISH&&f!==w.Z_BLOCK)throw new Error("Invalid flush value");if(i==null&&(i=m.alloc(0),h=0,u=0),this.strm.avail_in=h,this.strm.input=i,this.strm.next_in=u,this.strm.avail_out=g,this.strm.output=c,this.strm.next_out=_,this.flush=f,!n)return this._process(),this._checkError()?this._afterSync():void 0;var b=this;return x.nextTick(function(){b._process(),b._after()}),this},l.prototype._afterSync=function(){var n=this.strm.avail_out,f=this.strm.avail_in;return this.write_in_progress=!1,[f,n]},l.prototype._process=function(){var n=null;switch(this.mode){case w.DEFLATE:case w.GZIP:case w.DEFLATERAW:this.err=s.deflate(this.strm,this.flush);break;case w.UNZIP:switch(this.strm.avail_in>0&&(n=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(n===null)break;if(this.strm.input[n]===e){if(this.gzip_id_bytes_read=1,n++,this.strm.avail_in===1)break}else{this.mode=w.INFLATE;break}case 1:if(n===null)break;this.strm.input[n]===o?(this.gzip_id_bytes_read=2,this.mode=w.GUNZIP):this.mode=w.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case w.INFLATE:case w.GUNZIP:case w.INFLATERAW:for(this.err=a.inflate(this.strm,this.flush),this.err===w.Z_NEED_DICT&&this.dictionary&&(this.err=a.inflateSetDictionary(this.strm,this.dictionary),this.err===w.Z_OK?this.err=a.inflate(this.strm,this.flush):this.err===w.Z_DATA_ERROR&&(this.err=w.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===w.GUNZIP&&this.err===w.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=a.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},l.prototype._checkError=function(){switch(this.err){case w.Z_OK:case w.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===w.Z_FINISH)return this._error("unexpected end of file"),!1;break;case w.Z_STREAM_END:break;case w.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},l.prototype._after=function(){if(this._checkError()){var n=this.strm.avail_out,f=this.strm.avail_in;this.write_in_progress=!1,this.callback(f,n),this.pending_close&&this.close()}},l.prototype._error=function(n){this.strm.msg&&(n=this.strm.msg),this.onerror(n,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},l.prototype.init=function(n,f,i,u,h){p(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),p(n>=8&&n<=15,"invalid windowBits"),p(f>=-1&&f<=9,"invalid compression level"),p(i>=1&&i<=9,"invalid memlevel"),p(u===w.Z_FILTERED||u===w.Z_HUFFMAN_ONLY||u===w.Z_RLE||u===w.Z_FIXED||u===w.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(f,n,i,u,h),this._setDictionary()},l.prototype.params=function(){throw new Error("deflateParams Not supported")},l.prototype.reset=function(){this._reset(),this._setDictionary()},l.prototype._init=function(n,f,i,u,h){switch(this.level=n,this.windowBits=f,this.memLevel=i,this.strategy=u,this.flush=w.Z_NO_FLUSH,this.err=w.Z_OK,(this.mode===w.GZIP||this.mode===w.GUNZIP)&&(this.windowBits+=16),this.mode===w.UNZIP&&(this.windowBits+=32),(this.mode===w.DEFLATERAW||this.mode===w.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new d,this.mode){case w.DEFLATE:case w.GZIP:case w.DEFLATERAW:this.err=s.deflateInit2(this.strm,this.level,w.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case w.INFLATE:case w.GUNZIP:case w.INFLATERAW:case w.UNZIP:this.err=a.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==w.Z_OK&&this._error("Init error"),this.dictionary=h,this.write_in_progress=!1,this.init_done=!0},l.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=w.Z_OK,this.mode){case w.DEFLATE:case w.DEFLATERAW:this.err=s.deflateSetDictionary(this.strm,this.dictionary);break}this.err!==w.Z_OK&&this._error("Failed to set dictionary")}},l.prototype._reset=function(){switch(this.err=w.Z_OK,this.mode){case w.DEFLATE:case w.DEFLATERAW:case w.GZIP:this.err=s.deflateReset(this.strm);break;case w.INFLATE:case w.INFLATERAW:case w.GUNZIP:this.err=a.inflateReset(this.strm);break}this.err!==w.Z_OK&&this._error("Failed to reset stream")},w.Zlib=l}).call(this,E("_process"),E("buffer").Buffer)},{_process:133,assert:25,buffer:48,"pako/lib/zlib/constants":38,"pako/lib/zlib/deflate.js":40,"pako/lib/zlib/inflate.js":42,"pako/lib/zlib/zstream":46}],35:[function(E,j,w){(function(x){var m=E("buffer").Buffer,p=E("stream").Transform,d=E("./binding"),s=E("util"),a=E("assert").ok,r=E("buffer").kMaxLength,t="Cannot create final Buffer. It would be larger than 0x"+r.toString(16)+" bytes";d.Z_MIN_WINDOWBITS=8,d.Z_MAX_WINDOWBITS=15,d.Z_DEFAULT_WINDOWBITS=15,d.Z_MIN_CHUNK=64,d.Z_MAX_CHUNK=1/0,d.Z_DEFAULT_CHUNK=16*1024,d.Z_MIN_MEMLEVEL=1,d.Z_MAX_MEMLEVEL=9,d.Z_DEFAULT_MEMLEVEL=8,d.Z_MIN_LEVEL=-1,d.Z_MAX_LEVEL=9,d.Z_DEFAULT_LEVEL=d.Z_DEFAULT_COMPRESSION;for(var e=Object.keys(d),o=0;o<e.length;o++){var l=e[o];l.match(/^Z/)&&Object.defineProperty(w,l,{enumerable:!0,value:d[l],writable:!1})}for(var n={Z_OK:d.Z_OK,Z_STREAM_END:d.Z_STREAM_END,Z_NEED_DICT:d.Z_NEED_DICT,Z_ERRNO:d.Z_ERRNO,Z_STREAM_ERROR:d.Z_STREAM_ERROR,Z_DATA_ERROR:d.Z_DATA_ERROR,Z_MEM_ERROR:d.Z_MEM_ERROR,Z_BUF_ERROR:d.Z_BUF_ERROR,Z_VERSION_ERROR:d.Z_VERSION_ERROR},f=Object.keys(n),i=0;i<f.length;i++){var u=f[i];n[n[u]]=u}Object.defineProperty(w,"codes",{enumerable:!0,value:Object.freeze(n),writable:!1}),w.Deflate=_,w.Inflate=g,w.Gzip=b,w.Gunzip=y,w.DeflateRaw=A,w.InflateRaw=M,w.Unzip=I,w.createDeflate=function(O){return new _(O)},w.createInflate=function(O){return new g(O)},w.createDeflateRaw=function(O){return new A(O)},w.createInflateRaw=function(O){return new M(O)},w.createGzip=function(O){return new b(O)},w.createGunzip=function(O){return new y(O)},w.createUnzip=function(O){return new I(O)},w.deflate=function(O,k,Z){return typeof k=="function"&&(Z=k,k={}),h(new _(k),O,Z)},w.deflateSync=function(O,k){return c(new _(k),O)},w.gzip=function(O,k,Z){return typeof k=="function"&&(Z=k,k={}),h(new b(k),O,Z)},w.gzipSync=function(O,k){return c(new b(k),O)},w.deflateRaw=function(O,k,Z){return typeof k=="function"&&(Z=k,k={}),h(new A(k),O,Z)},w.deflateRawSync=function(O,k){return c(new A(k),O)},w.unzip=function(O,k,Z){return typeof k=="function"&&(Z=k,k={}),h(new I(k),O,Z)},w.unzipSync=function(O,k){return c(new I(k),O)},w.inflate=function(O,k,Z){return typeof k=="function"&&(Z=k,k={}),h(new g(k),O,Z)},w.inflateSync=function(O,k){return c(new g(k),O)},w.gunzip=function(O,k,Z){return typeof k=="function"&&(Z=k,k={}),h(new y(k),O,Z)},w.gunzipSync=function(O,k){return c(new y(k),O)},w.inflateRaw=function(O,k,Z){return typeof k=="function"&&(Z=k,k={}),h(new M(k),O,Z)},w.inflateRawSync=function(O,k){return c(new M(k),O)};function h(O,k,Z){var $=[],te=0;O.on("error",U),O.on("end",W),O.end(k),q();function q(){for(var G;(G=O.read())!==null;)$.push(G),te+=G.length;O.once("readable",q)}function U(G){O.removeListener("end",W),O.removeListener("readable",q),Z(G)}function W(){var G,V=null;te>=r?V=new RangeError(t):G=m.concat($,te),$=[],O.close(),Z(V,G)}}function c(O,k){if(typeof k=="string"&&(k=m.from(k)),!m.isBuffer(k))throw new TypeError("Not a string or buffer");var Z=O._finishFlushFlag;return O._processChunk(k,Z)}function _(O){if(!(this instanceof _))return new _(O);F.call(this,O,d.DEFLATE)}function g(O){if(!(this instanceof g))return new g(O);F.call(this,O,d.INFLATE)}function b(O){if(!(this instanceof b))return new b(O);F.call(this,O,d.GZIP)}function y(O){if(!(this instanceof y))return new y(O);F.call(this,O,d.GUNZIP)}function A(O){if(!(this instanceof A))return new A(O);F.call(this,O,d.DEFLATERAW)}function M(O){if(!(this instanceof M))return new M(O);F.call(this,O,d.INFLATERAW)}function I(O){if(!(this instanceof I))return new I(O);F.call(this,O,d.UNZIP)}function R(O){return O===d.Z_NO_FLUSH||O===d.Z_PARTIAL_FLUSH||O===d.Z_SYNC_FLUSH||O===d.Z_FULL_FLUSH||O===d.Z_FINISH||O===d.Z_BLOCK}function F(O,k){var Z=this;if(this._opts=O=O||{},this._chunkSize=O.chunkSize||w.Z_DEFAULT_CHUNK,p.call(this,O),O.flush&&!R(O.flush))throw new Error("Invalid flush flag: "+O.flush);if(O.finishFlush&&!R(O.finishFlush))throw new Error("Invalid flush flag: "+O.finishFlush);if(this._flushFlag=O.flush||d.Z_NO_FLUSH,this._finishFlushFlag=typeof O.finishFlush<"u"?O.finishFlush:d.Z_FINISH,O.chunkSize&&(O.chunkSize<w.Z_MIN_CHUNK||O.chunkSize>w.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+O.chunkSize);if(O.windowBits&&(O.windowBits<w.Z_MIN_WINDOWBITS||O.windowBits>w.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+O.windowBits);if(O.level&&(O.level<w.Z_MIN_LEVEL||O.level>w.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+O.level);if(O.memLevel&&(O.memLevel<w.Z_MIN_MEMLEVEL||O.memLevel>w.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+O.memLevel);if(O.strategy&&O.strategy!=w.Z_FILTERED&&O.strategy!=w.Z_HUFFMAN_ONLY&&O.strategy!=w.Z_RLE&&O.strategy!=w.Z_FIXED&&O.strategy!=w.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+O.strategy);if(O.dictionary&&!m.isBuffer(O.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new d.Zlib(k);var $=this;this._hadError=!1,this._handle.onerror=function(U,W){z($),$._hadError=!0;var G=new Error(U);G.errno=W,G.code=w.codes[W],$.emit("error",G)};var te=w.Z_DEFAULT_COMPRESSION;typeof O.level=="number"&&(te=O.level);var q=w.Z_DEFAULT_STRATEGY;typeof O.strategy=="number"&&(q=O.strategy),this._handle.init(O.windowBits||w.Z_DEFAULT_WINDOWBITS,te,O.memLevel||w.Z_DEFAULT_MEMLEVEL,q,O.dictionary),this._buffer=m.allocUnsafe(this._chunkSize),this._offset=0,this._level=te,this._strategy=q,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!Z._handle},configurable:!0,enumerable:!0})}s.inherits(F,p),F.prototype.params=function(O,k,Z){if(O<w.Z_MIN_LEVEL||O>w.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+O);if(k!=w.Z_FILTERED&&k!=w.Z_HUFFMAN_ONLY&&k!=w.Z_RLE&&k!=w.Z_FIXED&&k!=w.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+k);if(this._level!==O||this._strategy!==k){var $=this;this.flush(d.Z_SYNC_FLUSH,function(){a($._handle,"zlib binding closed"),$._handle.params(O,k),$._hadError||($._level=O,$._strategy=k,Z&&Z())})}else x.nextTick(Z)},F.prototype.reset=function(){return a(this._handle,"zlib binding closed"),this._handle.reset()},F.prototype._flush=function(O){this._transform(m.alloc(0),"",O)},F.prototype.flush=function(O,k){var Z=this,$=this._writableState;(typeof O=="function"||O===void 0&&!k)&&(k=O,O=d.Z_FULL_FLUSH),$.ended?k&&x.nextTick(k):$.ending?k&&this.once("end",k):$.needDrain?k&&this.once("drain",function(){return Z.flush(O,k)}):(this._flushFlag=O,this.write(m.alloc(0),"",k))},F.prototype.close=function(O){z(this,O),x.nextTick(D,this)};function z(O,k){k&&x.nextTick(k),O._handle&&(O._handle.close(),O._handle=null)}function D(O){O.emit("close")}F.prototype._transform=function(O,k,Z){var $,te=this._writableState,q=te.ending||te.ended,U=q&&(!O||te.length===O.length);if(O!==null&&!m.isBuffer(O))return Z(new Error("invalid input"));if(!this._handle)return Z(new Error("zlib binding closed"));U?$=this._finishFlushFlag:($=this._flushFlag,O.length>=te.length&&(this._flushFlag=this._opts.flush||d.Z_NO_FLUSH)),this._processChunk(O,$,Z)},F.prototype._processChunk=function(O,k,Z){var $=O&&O.length,te=this._chunkSize-this._offset,q=0,U=this,W=typeof Z=="function";if(!W){var G=[],V=0,re;this.on("error",function(ne){re=ne}),a(this._handle,"zlib binding closed");do var se=this._handle.writeSync(k,O,q,$,this._buffer,this._offset,te);while(!this._hadError&&pe(se[0],se[1]));if(this._hadError)throw re;if(V>=r)throw z(this),new RangeError(t);var fe=m.concat(G,V);return z(this),fe}a(this._handle,"zlib binding closed");var ue=this._handle.write(k,O,q,$,this._buffer,this._offset,te);ue.buffer=O,ue.callback=pe;function pe(ne,ie){if(this&&(this.buffer=null,this.callback=null),!U._hadError){var X=te-ie;if(a(X>=0,"have should not go down"),X>0){var J=U._buffer.slice(U._offset,U._offset+X);U._offset+=X,W?U.push(J):(G.push(J),V+=J.length)}if((ie===0||U._offset>=U._chunkSize)&&(te=U._chunkSize,U._offset=0,U._buffer=m.allocUnsafe(U._chunkSize)),ie===0){if(q+=$-ne,$=ne,!W)return!0;var ee=U._handle.write(k,O,q,$,U._buffer,U._offset,U._chunkSize);ee.callback=pe,ee.buffer=O;return}if(!W)return!1;Z()}}},s.inherits(_,F),s.inherits(g,F),s.inherits(b,F),s.inherits(y,F),s.inherits(A,F),s.inherits(M,F),s.inherits(I,F)}).call(this,E("_process"))},{"./binding":34,_process:133,assert:25,buffer:48,stream:155,util:186}],36:[function(E,j,w){var x=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function m(s,a){return Object.prototype.hasOwnProperty.call(s,a)}w.assign=function(s){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var r=a.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(var t in r)m(r,t)&&(s[t]=r[t])}}return s},w.shrinkBuf=function(s,a){return s.length===a?s:s.subarray?s.subarray(0,a):(s.length=a,s)};var p={arraySet:function(s,a,r,t,e){if(a.subarray&&s.subarray){s.set(a.subarray(r,r+t),e);return}for(var o=0;o<t;o++)s[e+o]=a[r+o]},flattenChunks:function(s){var a,r,t,e,o,l;for(t=0,a=0,r=s.length;a<r;a++)t+=s[a].length;for(l=new Uint8Array(t),e=0,a=0,r=s.length;a<r;a++)o=s[a],l.set(o,e),e+=o.length;return l}},d={arraySet:function(s,a,r,t,e){for(var o=0;o<t;o++)s[e+o]=a[r+o]},flattenChunks:function(s){return[].concat.apply([],s)}};w.setTyped=function(s){s?(w.Buf8=Uint8Array,w.Buf16=Uint16Array,w.Buf32=Int32Array,w.assign(w,p)):(w.Buf8=Array,w.Buf16=Array,w.Buf32=Array,w.assign(w,d))},w.setTyped(x)},{}],37:[function(E,j,w){function x(m,p,d,s){for(var a=m&65535|0,r=m>>>16&65535|0,t=0;d!==0;){t=d>2e3?2e3:d,d-=t;do a=a+p[s++]|0,r=r+a|0;while(--t);a%=65521,r%=65521}return a|r<<16|0}j.exports=x},{}],38:[function(E,j,w){j.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],39:[function(E,j,w){function x(){for(var d,s=[],a=0;a<256;a++){d=a;for(var r=0;r<8;r++)d=d&1?3988292384^d>>>1:d>>>1;s[a]=d}return s}var m=x();function p(d,s,a,r){var t=m,e=r+a;d^=-1;for(var o=r;o<e;o++)d=d>>>8^t[(d^s[o])&255];return d^-1}j.exports=p},{}],40:[function(E,j,w){var x=E("../utils/common"),m=E("./trees"),p=E("./adler32"),d=E("./crc32"),s=E("./messages"),a=0,r=1,t=3,e=4,o=5,l=0,n=1,f=-2,i=-3,u=-5,h=-1,c=1,_=2,g=3,b=4,y=0,A=2,M=8,I=9,R=15,F=8,z=29,D=256,O=D+1+z,k=30,Z=19,$=2*O+1,te=15,q=3,U=258,W=U+q+1,G=32,V=42,re=69,se=73,fe=91,ue=103,pe=113,ne=666,ie=1,X=2,J=3,ee=4,H=3;function P(v,le){return v.msg=s[le],le}function T(v){return(v<<1)-(v>4?9:0)}function Y(v){for(var le=v.length;--le>=0;)v[le]=0}function N(v){var le=v.state,me=le.pending;me>v.avail_out&&(me=v.avail_out),me!==0&&(x.arraySet(v.output,le.pending_buf,le.pending_out,me,v.next_out),v.next_out+=me,le.pending_out+=me,v.total_out+=me,v.avail_out-=me,le.pending-=me,le.pending===0&&(le.pending_out=0))}function C(v,le){m._tr_flush_block(v,v.block_start>=0?v.block_start:-1,v.strstart-v.block_start,le),v.block_start=v.strstart,N(v.strm)}function S(v,le){v.pending_buf[v.pending++]=le}function Q(v,le){v.pending_buf[v.pending++]=le>>>8&255,v.pending_buf[v.pending++]=le&255}function oe(v,le,me,L){var ae=v.avail_in;return ae>L&&(ae=L),ae===0?0:(v.avail_in-=ae,x.arraySet(le,v.input,v.next_in,ae,me),v.state.wrap===1?v.adler=p(v.adler,le,ae,me):v.state.wrap===2&&(v.adler=d(v.adler,le,ae,me)),v.next_in+=ae,v.total_in+=ae,ae)}function ve(v,le){var me=v.max_chain_length,L=v.strstart,ae,we,Ce=v.prev_length,Re=v.nice_match,De=v.strstart>v.w_size-W?v.strstart-(v.w_size-W):0,Ne=v.window,Xe=v.w_mask,Ue=v.prev,ze=v.strstart+U,Ge=Ne[L+Ce-1],We=Ne[L+Ce];v.prev_length>=v.good_match&&(me>>=2),Re>v.lookahead&&(Re=v.lookahead);do if(ae=le,!(Ne[ae+Ce]!==We||Ne[ae+Ce-1]!==Ge||Ne[ae]!==Ne[L]||Ne[++ae]!==Ne[L+1])){L+=2,ae++;do;while(Ne[++L]===Ne[++ae]&&Ne[++L]===Ne[++ae]&&Ne[++L]===Ne[++ae]&&Ne[++L]===Ne[++ae]&&Ne[++L]===Ne[++ae]&&Ne[++L]===Ne[++ae]&&Ne[++L]===Ne[++ae]&&Ne[++L]===Ne[++ae]&&L<ze);if(we=U-(ze-L),L=ze-U,we>Ce){if(v.match_start=le,Ce=we,we>=Re)break;Ge=Ne[L+Ce-1],We=Ne[L+Ce]}}while((le=Ue[le&Xe])>De&&--me!==0);return Ce<=v.lookahead?Ce:v.lookahead}function ye(v){var le=v.w_size,me,L,ae,we,Ce;do{if(we=v.window_size-v.lookahead-v.strstart,v.strstart>=le+(le-W)){x.arraySet(v.window,v.window,le,le,0),v.match_start-=le,v.strstart-=le,v.block_start-=le,L=v.hash_size,me=L;do ae=v.head[--me],v.head[me]=ae>=le?ae-le:0;while(--L);L=le,me=L;do ae=v.prev[--me],v.prev[me]=ae>=le?ae-le:0;while(--L);we+=le}if(v.strm.avail_in===0)break;if(L=oe(v.strm,v.window,v.strstart+v.lookahead,we),v.lookahead+=L,v.lookahead+v.insert>=q)for(Ce=v.strstart-v.insert,v.ins_h=v.window[Ce],v.ins_h=(v.ins_h<<v.hash_shift^v.window[Ce+1])&v.hash_mask;v.insert&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[Ce+q-1])&v.hash_mask,v.prev[Ce&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=Ce,Ce++,v.insert--,!(v.lookahead+v.insert<q)););}while(v.lookahead<W&&v.strm.avail_in!==0)}function Ae(v,le){var me=65535;for(me>v.pending_buf_size-5&&(me=v.pending_buf_size-5);;){if(v.lookahead<=1){if(ye(v),v.lookahead===0&&le===a)return ie;if(v.lookahead===0)break}v.strstart+=v.lookahead,v.lookahead=0;var L=v.block_start+me;if((v.strstart===0||v.strstart>=L)&&(v.lookahead=v.strstart-L,v.strstart=L,C(v,!1),v.strm.avail_out===0)||v.strstart-v.block_start>=v.w_size-W&&(C(v,!1),v.strm.avail_out===0))return ie}return v.insert=0,le===e?(C(v,!0),v.strm.avail_out===0?J:ee):(v.strstart>v.block_start&&(C(v,!1),v.strm.avail_out===0),ie)}function ke(v,le){for(var me,L;;){if(v.lookahead<W){if(ye(v),v.lookahead<W&&le===a)return ie;if(v.lookahead===0)break}if(me=0,v.lookahead>=q&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+q-1])&v.hash_mask,me=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),me!==0&&v.strstart-me<=v.w_size-W&&(v.match_length=ve(v,me)),v.match_length>=q)if(L=m._tr_tally(v,v.strstart-v.match_start,v.match_length-q),v.lookahead-=v.match_length,v.match_length<=v.max_lazy_match&&v.lookahead>=q){v.match_length--;do v.strstart++,v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+q-1])&v.hash_mask,me=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart;while(--v.match_length!==0);v.strstart++}else v.strstart+=v.match_length,v.match_length=0,v.ins_h=v.window[v.strstart],v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+1])&v.hash_mask;else L=m._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++;if(L&&(C(v,!1),v.strm.avail_out===0))return ie}return v.insert=v.strstart<q-1?v.strstart:q-1,le===e?(C(v,!0),v.strm.avail_out===0?J:ee):v.last_lit&&(C(v,!1),v.strm.avail_out===0)?ie:X}function Pe(v,le){for(var me,L,ae;;){if(v.lookahead<W){if(ye(v),v.lookahead<W&&le===a)return ie;if(v.lookahead===0)break}if(me=0,v.lookahead>=q&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+q-1])&v.hash_mask,me=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),v.prev_length=v.match_length,v.prev_match=v.match_start,v.match_length=q-1,me!==0&&v.prev_length<v.max_lazy_match&&v.strstart-me<=v.w_size-W&&(v.match_length=ve(v,me),v.match_length<=5&&(v.strategy===c||v.match_length===q&&v.strstart-v.match_start>4096)&&(v.match_length=q-1)),v.prev_length>=q&&v.match_length<=v.prev_length){ae=v.strstart+v.lookahead-q,L=m._tr_tally(v,v.strstart-1-v.prev_match,v.prev_length-q),v.lookahead-=v.prev_length-1,v.prev_length-=2;do++v.strstart<=ae&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+q-1])&v.hash_mask,me=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart);while(--v.prev_length!==0);if(v.match_available=0,v.match_length=q-1,v.strstart++,L&&(C(v,!1),v.strm.avail_out===0))return ie}else if(v.match_available){if(L=m._tr_tally(v,0,v.window[v.strstart-1]),L&&C(v,!1),v.strstart++,v.lookahead--,v.strm.avail_out===0)return ie}else v.match_available=1,v.strstart++,v.lookahead--}return v.match_available&&(L=m._tr_tally(v,0,v.window[v.strstart-1]),v.match_available=0),v.insert=v.strstart<q-1?v.strstart:q-1,le===e?(C(v,!0),v.strm.avail_out===0?J:ee):v.last_lit&&(C(v,!1),v.strm.avail_out===0)?ie:X}function Oe(v,le){for(var me,L,ae,we,Ce=v.window;;){if(v.lookahead<=U){if(ye(v),v.lookahead<=U&&le===a)return ie;if(v.lookahead===0)break}if(v.match_length=0,v.lookahead>=q&&v.strstart>0&&(ae=v.strstart-1,L=Ce[ae],L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae])){we=v.strstart+U;do;while(L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae]&&ae<we);v.match_length=U-(we-ae),v.match_length>v.lookahead&&(v.match_length=v.lookahead)}if(v.match_length>=q?(me=m._tr_tally(v,1,v.match_length-q),v.lookahead-=v.match_length,v.strstart+=v.match_length,v.match_length=0):(me=m._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++),me&&(C(v,!1),v.strm.avail_out===0))return ie}return v.insert=0,le===e?(C(v,!0),v.strm.avail_out===0?J:ee):v.last_lit&&(C(v,!1),v.strm.avail_out===0)?ie:X}function Te(v,le){for(var me;;){if(v.lookahead===0&&(ye(v),v.lookahead===0)){if(le===a)return ie;break}if(v.match_length=0,me=m._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++,me&&(C(v,!1),v.strm.avail_out===0))return ie}return v.insert=0,le===e?(C(v,!0),v.strm.avail_out===0?J:ee):v.last_lit&&(C(v,!1),v.strm.avail_out===0)?ie:X}function Me(v,le,me,L,ae){this.good_length=v,this.max_lazy=le,this.nice_length=me,this.max_chain=L,this.func=ae}var Fe;Fe=[new Me(0,0,0,0,Ae),new Me(4,4,8,4,ke),new Me(4,5,16,8,ke),new Me(4,6,32,32,ke),new Me(4,4,16,16,Pe),new Me(8,16,32,32,Pe),new Me(8,16,128,128,Pe),new Me(8,32,128,256,Pe),new Me(32,128,258,1024,Pe),new Me(32,258,258,4096,Pe)];function Le(v){v.window_size=2*v.w_size,Y(v.head),v.max_lazy_match=Fe[v.level].max_lazy,v.good_match=Fe[v.level].good_length,v.nice_match=Fe[v.level].nice_length,v.max_chain_length=Fe[v.level].max_chain,v.strstart=0,v.block_start=0,v.lookahead=0,v.insert=0,v.match_length=v.prev_length=q-1,v.match_available=0,v.ins_h=0}function B(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=M,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new x.Buf16($*2),this.dyn_dtree=new x.Buf16((2*k+1)*2),this.bl_tree=new x.Buf16((2*Z+1)*2),Y(this.dyn_ltree),Y(this.dyn_dtree),Y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new x.Buf16(te+1),this.heap=new x.Buf16(2*O+1),Y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new x.Buf16(2*O+1),Y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ce(v){var le;return!v||!v.state?P(v,f):(v.total_in=v.total_out=0,v.data_type=A,le=v.state,le.pending=0,le.pending_out=0,le.wrap<0&&(le.wrap=-le.wrap),le.status=le.wrap?V:pe,v.adler=le.wrap===2?0:1,le.last_flush=a,m._tr_init(le),l)}function de(v){var le=ce(v);return le===l&&Le(v.state),le}function Ee(v,le){return!v||!v.state||v.state.wrap!==2?f:(v.state.gzhead=le,l)}function he(v,le,me,L,ae,we){if(!v)return f;var Ce=1;if(le===h&&(le=6),L<0?(Ce=0,L=-L):L>15&&(Ce=2,L-=16),ae<1||ae>I||me!==M||L<8||L>15||le<0||le>9||we<0||we>b)return P(v,f);L===8&&(L=9);var Re=new B;return v.state=Re,Re.strm=v,Re.wrap=Ce,Re.gzhead=null,Re.w_bits=L,Re.w_size=1<<Re.w_bits,Re.w_mask=Re.w_size-1,Re.hash_bits=ae+7,Re.hash_size=1<<Re.hash_bits,Re.hash_mask=Re.hash_size-1,Re.hash_shift=~~((Re.hash_bits+q-1)/q),Re.window=new x.Buf8(Re.w_size*2),Re.head=new x.Buf16(Re.hash_size),Re.prev=new x.Buf16(Re.w_size),Re.lit_bufsize=1<<ae+6,Re.pending_buf_size=Re.lit_bufsize*4,Re.pending_buf=new x.Buf8(Re.pending_buf_size),Re.d_buf=1*Re.lit_bufsize,Re.l_buf=(1+2)*Re.lit_bufsize,Re.level=le,Re.strategy=we,Re.method=me,de(v)}function be(v,le){return he(v,le,M,R,F,y)}function K(v,le){var me,L,ae,we;if(!v||!v.state||le>o||le<0)return v?P(v,f):f;if(L=v.state,!v.output||!v.input&&v.avail_in!==0||L.status===ne&&le!==e)return P(v,v.avail_out===0?u:f);if(L.strm=v,me=L.last_flush,L.last_flush=le,L.status===V)if(L.wrap===2)v.adler=0,S(L,31),S(L,139),S(L,8),L.gzhead?(S(L,(L.gzhead.text?1:0)+(L.gzhead.hcrc?2:0)+(L.gzhead.extra?4:0)+(L.gzhead.name?8:0)+(L.gzhead.comment?16:0)),S(L,L.gzhead.time&255),S(L,L.gzhead.time>>8&255),S(L,L.gzhead.time>>16&255),S(L,L.gzhead.time>>24&255),S(L,L.level===9?2:L.strategy>=_||L.level<2?4:0),S(L,L.gzhead.os&255),L.gzhead.extra&&L.gzhead.extra.length&&(S(L,L.gzhead.extra.length&255),S(L,L.gzhead.extra.length>>8&255)),L.gzhead.hcrc&&(v.adler=d(v.adler,L.pending_buf,L.pending,0)),L.gzindex=0,L.status=re):(S(L,0),S(L,0),S(L,0),S(L,0),S(L,0),S(L,L.level===9?2:L.strategy>=_||L.level<2?4:0),S(L,H),L.status=pe);else{var Ce=M+(L.w_bits-8<<4)<<8,Re=-1;L.strategy>=_||L.level<2?Re=0:L.level<6?Re=1:L.level===6?Re=2:Re=3,Ce|=Re<<6,L.strstart!==0&&(Ce|=G),Ce+=31-Ce%31,L.status=pe,Q(L,Ce),L.strstart!==0&&(Q(L,v.adler>>>16),Q(L,v.adler&65535)),v.adler=1}if(L.status===re)if(L.gzhead.extra){for(ae=L.pending;L.gzindex<(L.gzhead.extra.length&65535)&&!(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>ae&&(v.adler=d(v.adler,L.pending_buf,L.pending-ae,ae)),N(v),ae=L.pending,L.pending===L.pending_buf_size));)S(L,L.gzhead.extra[L.gzindex]&255),L.gzindex++;L.gzhead.hcrc&&L.pending>ae&&(v.adler=d(v.adler,L.pending_buf,L.pending-ae,ae)),L.gzindex===L.gzhead.extra.length&&(L.gzindex=0,L.status=se)}else L.status=se;if(L.status===se)if(L.gzhead.name){ae=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>ae&&(v.adler=d(v.adler,L.pending_buf,L.pending-ae,ae)),N(v),ae=L.pending,L.pending===L.pending_buf_size)){we=1;break}L.gzindex<L.gzhead.name.length?we=L.gzhead.name.charCodeAt(L.gzindex++)&255:we=0,S(L,we)}while(we!==0);L.gzhead.hcrc&&L.pending>ae&&(v.adler=d(v.adler,L.pending_buf,L.pending-ae,ae)),we===0&&(L.gzindex=0,L.status=fe)}else L.status=fe;if(L.status===fe)if(L.gzhead.comment){ae=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>ae&&(v.adler=d(v.adler,L.pending_buf,L.pending-ae,ae)),N(v),ae=L.pending,L.pending===L.pending_buf_size)){we=1;break}L.gzindex<L.gzhead.comment.length?we=L.gzhead.comment.charCodeAt(L.gzindex++)&255:we=0,S(L,we)}while(we!==0);L.gzhead.hcrc&&L.pending>ae&&(v.adler=d(v.adler,L.pending_buf,L.pending-ae,ae)),we===0&&(L.status=ue)}else L.status=ue;if(L.status===ue&&(L.gzhead.hcrc?(L.pending+2>L.pending_buf_size&&N(v),L.pending+2<=L.pending_buf_size&&(S(L,v.adler&255),S(L,v.adler>>8&255),v.adler=0,L.status=pe)):L.status=pe),L.pending!==0){if(N(v),v.avail_out===0)return L.last_flush=-1,l}else if(v.avail_in===0&&T(le)<=T(me)&&le!==e)return P(v,u);if(L.status===ne&&v.avail_in!==0)return P(v,u);if(v.avail_in!==0||L.lookahead!==0||le!==a&&L.status!==ne){var De=L.strategy===_?Te(L,le):L.strategy===g?Oe(L,le):Fe[L.level].func(L,le);if((De===J||De===ee)&&(L.status=ne),De===ie||De===J)return v.avail_out===0&&(L.last_flush=-1),l;if(De===X&&(le===r?m._tr_align(L):le!==o&&(m._tr_stored_block(L,0,0,!1),le===t&&(Y(L.head),L.lookahead===0&&(L.strstart=0,L.block_start=0,L.insert=0))),N(v),v.avail_out===0))return L.last_flush=-1,l}return le!==e?l:L.wrap<=0?n:(L.wrap===2?(S(L,v.adler&255),S(L,v.adler>>8&255),S(L,v.adler>>16&255),S(L,v.adler>>24&255),S(L,v.total_in&255),S(L,v.total_in>>8&255),S(L,v.total_in>>16&255),S(L,v.total_in>>24&255)):(Q(L,v.adler>>>16),Q(L,v.adler&65535)),N(v),L.wrap>0&&(L.wrap=-L.wrap),L.pending!==0?l:n)}function Se(v){var le;return!v||!v.state?f:(le=v.state.status,le!==V&&le!==re&&le!==se&&le!==fe&&le!==ue&&le!==pe&&le!==ne?P(v,f):(v.state=null,le===pe?P(v,i):l))}function Be(v,le){var me=le.length,L,ae,we,Ce,Re,De,Ne,Xe;if(!v||!v.state||(L=v.state,Ce=L.wrap,Ce===2||Ce===1&&L.status!==V||L.lookahead))return f;for(Ce===1&&(v.adler=p(v.adler,le,me,0)),L.wrap=0,me>=L.w_size&&(Ce===0&&(Y(L.head),L.strstart=0,L.block_start=0,L.insert=0),Xe=new x.Buf8(L.w_size),x.arraySet(Xe,le,me-L.w_size,L.w_size,0),le=Xe,me=L.w_size),Re=v.avail_in,De=v.next_in,Ne=v.input,v.avail_in=me,v.next_in=0,v.input=le,ye(L);L.lookahead>=q;){ae=L.strstart,we=L.lookahead-(q-1);do L.ins_h=(L.ins_h<<L.hash_shift^L.window[ae+q-1])&L.hash_mask,L.prev[ae&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=ae,ae++;while(--we);L.strstart=ae,L.lookahead=q-1,ye(L)}return L.strstart+=L.lookahead,L.block_start=L.strstart,L.insert=L.lookahead,L.lookahead=0,L.match_length=L.prev_length=q-1,L.match_available=0,v.next_in=De,v.input=Ne,v.avail_in=Re,L.wrap=Ce,l}w.deflateInit=be,w.deflateInit2=he,w.deflateReset=de,w.deflateResetKeep=ce,w.deflateSetHeader=Ee,w.deflate=K,w.deflateEnd=Se,w.deflateSetDictionary=Be,w.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./messages":44,"./trees":45}],41:[function(E,j,w){var x=30,m=12;j.exports=function(d,s){var a,r,t,e,o,l,n,f,i,u,h,c,_,g,b,y,A,M,I,R,F,z,D,O,k;a=d.state,r=d.next_in,O=d.input,t=r+(d.avail_in-5),e=d.next_out,k=d.output,o=e-(s-d.avail_out),l=e+(d.avail_out-257),n=a.dmax,f=a.wsize,i=a.whave,u=a.wnext,h=a.window,c=a.hold,_=a.bits,g=a.lencode,b=a.distcode,y=(1<<a.lenbits)-1,A=(1<<a.distbits)-1;e:do{_<15&&(c+=O[r++]<<_,_+=8,c+=O[r++]<<_,_+=8),M=g[c&y];t:for(;;){if(I=M>>>24,c>>>=I,_-=I,I=M>>>16&255,I===0)k[e++]=M&65535;else if(I&16){R=M&65535,I&=15,I&&(_<I&&(c+=O[r++]<<_,_+=8),R+=c&(1<<I)-1,c>>>=I,_-=I),_<15&&(c+=O[r++]<<_,_+=8,c+=O[r++]<<_,_+=8),M=b[c&A];r:for(;;){if(I=M>>>24,c>>>=I,_-=I,I=M>>>16&255,I&16){if(F=M&65535,I&=15,_<I&&(c+=O[r++]<<_,_+=8,_<I&&(c+=O[r++]<<_,_+=8)),F+=c&(1<<I)-1,F>n){d.msg="invalid distance too far back",a.mode=x;break e}if(c>>>=I,_-=I,I=e-o,F>I){if(I=F-I,I>i&&a.sane){d.msg="invalid distance too far back",a.mode=x;break e}if(z=0,D=h,u===0){if(z+=f-I,I<R){R-=I;do k[e++]=h[z++];while(--I);z=e-F,D=k}}else if(u<I){if(z+=f+u-I,I-=u,I<R){R-=I;do k[e++]=h[z++];while(--I);if(z=0,u<R){I=u,R-=I;do k[e++]=h[z++];while(--I);z=e-F,D=k}}}else if(z+=u-I,I<R){R-=I;do k[e++]=h[z++];while(--I);z=e-F,D=k}for(;R>2;)k[e++]=D[z++],k[e++]=D[z++],k[e++]=D[z++],R-=3;R&&(k[e++]=D[z++],R>1&&(k[e++]=D[z++]))}else{z=e-F;do k[e++]=k[z++],k[e++]=k[z++],k[e++]=k[z++],R-=3;while(R>2);R&&(k[e++]=k[z++],R>1&&(k[e++]=k[z++]))}}else if(I&64){d.msg="invalid distance code",a.mode=x;break e}else{M=b[(M&65535)+(c&(1<<I)-1)];continue r}break}}else if(I&64)if(I&32){a.mode=m;break e}else{d.msg="invalid literal/length code",a.mode=x;break e}else{M=g[(M&65535)+(c&(1<<I)-1)];continue t}break}}while(r<t&&e<l);R=_>>3,r-=R,_-=R<<3,c&=(1<<_)-1,d.next_in=r,d.next_out=e,d.avail_in=r<t?5+(t-r):5-(r-t),d.avail_out=e<l?257+(l-e):257-(e-l),a.hold=c,a.bits=_}},{}],42:[function(E,j,w){var x=E("../utils/common"),m=E("./adler32"),p=E("./crc32"),d=E("./inffast"),s=E("./inftrees"),a=0,r=1,t=2,e=4,o=5,l=6,n=0,f=1,i=2,u=-2,h=-3,c=-4,_=-5,g=8,b=1,y=2,A=3,M=4,I=5,R=6,F=7,z=8,D=9,O=10,k=11,Z=12,$=13,te=14,q=15,U=16,W=17,G=18,V=19,re=20,se=21,fe=22,ue=23,pe=24,ne=25,ie=26,X=27,J=28,ee=29,H=30,P=31,T=32,Y=852,N=592,C=15,S=C;function Q(he){return(he>>>24&255)+(he>>>8&65280)+((he&65280)<<8)+((he&255)<<24)}function oe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new x.Buf16(320),this.work=new x.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ve(he){var be;return!he||!he.state?u:(be=he.state,he.total_in=he.total_out=be.total=0,he.msg="",be.wrap&&(he.adler=be.wrap&1),be.mode=b,be.last=0,be.havedict=0,be.dmax=32768,be.head=null,be.hold=0,be.bits=0,be.lencode=be.lendyn=new x.Buf32(Y),be.distcode=be.distdyn=new x.Buf32(N),be.sane=1,be.back=-1,n)}function ye(he){var be;return!he||!he.state?u:(be=he.state,be.wsize=0,be.whave=0,be.wnext=0,ve(he))}function Ae(he,be){var K,Se;return!he||!he.state||(Se=he.state,be<0?(K=0,be=-be):(K=(be>>4)+1,be<48&&(be&=15)),be&&(be<8||be>15))?u:(Se.window!==null&&Se.wbits!==be&&(Se.window=null),Se.wrap=K,Se.wbits=be,ye(he))}function ke(he,be){var K,Se;return he?(Se=new oe,he.state=Se,Se.window=null,K=Ae(he,be),K!==n&&(he.state=null),K):u}function Pe(he){return ke(he,S)}var Oe=!0,Te,Me;function Fe(he){if(Oe){var be;for(Te=new x.Buf32(512),Me=new x.Buf32(32),be=0;be<144;)he.lens[be++]=8;for(;be<256;)he.lens[be++]=9;for(;be<280;)he.lens[be++]=7;for(;be<288;)he.lens[be++]=8;for(s(r,he.lens,0,288,Te,0,he.work,{bits:9}),be=0;be<32;)he.lens[be++]=5;s(t,he.lens,0,32,Me,0,he.work,{bits:5}),Oe=!1}he.lencode=Te,he.lenbits=9,he.distcode=Me,he.distbits=5}function Le(he,be,K,Se){var Be,v=he.state;return v.window===null&&(v.wsize=1<<v.wbits,v.wnext=0,v.whave=0,v.window=new x.Buf8(v.wsize)),Se>=v.wsize?(x.arraySet(v.window,be,K-v.wsize,v.wsize,0),v.wnext=0,v.whave=v.wsize):(Be=v.wsize-v.wnext,Be>Se&&(Be=Se),x.arraySet(v.window,be,K-Se,Be,v.wnext),Se-=Be,Se?(x.arraySet(v.window,be,K-Se,Se,0),v.wnext=Se,v.whave=v.wsize):(v.wnext+=Be,v.wnext===v.wsize&&(v.wnext=0),v.whave<v.wsize&&(v.whave+=Be))),0}function B(he,be){var K,Se,Be,v,le,me,L,ae,we,Ce,Re,De,Ne,Xe,Ue=0,ze,Ge,We,Ke,it,nt,Ze,Qe,Ye=new x.Buf8(4),$e,Je,ot=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!he||!he.state||!he.output||!he.input&&he.avail_in!==0)return u;K=he.state,K.mode===Z&&(K.mode=$),le=he.next_out,Be=he.output,L=he.avail_out,v=he.next_in,Se=he.input,me=he.avail_in,ae=K.hold,we=K.bits,Ce=me,Re=L,Qe=n;e:for(;;)switch(K.mode){case b:if(K.wrap===0){K.mode=$;break}for(;we<16;){if(me===0)break e;me--,ae+=Se[v++]<<we,we+=8}if(K.wrap&2&&ae===35615){K.check=0,Ye[0]=ae&255,Ye[1]=ae>>>8&255,K.check=p(K.check,Ye,2,0),ae=0,we=0,K.mode=y;break}if(K.flags=0,K.head&&(K.head.done=!1),!(K.wrap&1)||(((ae&255)<<8)+(ae>>8))%31){he.msg="incorrect header check",K.mode=H;break}if((ae&15)!==g){he.msg="unknown compression method",K.mode=H;break}if(ae>>>=4,we-=4,Ze=(ae&15)+8,K.wbits===0)K.wbits=Ze;else if(Ze>K.wbits){he.msg="invalid window size",K.mode=H;break}K.dmax=1<<Ze,he.adler=K.check=1,K.mode=ae&512?O:Z,ae=0,we=0;break;case y:for(;we<16;){if(me===0)break e;me--,ae+=Se[v++]<<we,we+=8}if(K.flags=ae,(K.flags&255)!==g){he.msg="unknown compression method",K.mode=H;break}if(K.flags&57344){he.msg="unknown header flags set",K.mode=H;break}K.head&&(K.head.text=ae>>8&1),K.flags&512&&(Ye[0]=ae&255,Ye[1]=ae>>>8&255,K.check=p(K.check,Ye,2,0)),ae=0,we=0,K.mode=A;case A:for(;we<32;){if(me===0)break e;me--,ae+=Se[v++]<<we,we+=8}K.head&&(K.head.time=ae),K.flags&512&&(Ye[0]=ae&255,Ye[1]=ae>>>8&255,Ye[2]=ae>>>16&255,Ye[3]=ae>>>24&255,K.check=p(K.check,Ye,4,0)),ae=0,we=0,K.mode=M;case M:for(;we<16;){if(me===0)break e;me--,ae+=Se[v++]<<we,we+=8}K.head&&(K.head.xflags=ae&255,K.head.os=ae>>8),K.flags&512&&(Ye[0]=ae&255,Ye[1]=ae>>>8&255,K.check=p(K.check,Ye,2,0)),ae=0,we=0,K.mode=I;case I:if(K.flags&1024){for(;we<16;){if(me===0)break e;me--,ae+=Se[v++]<<we,we+=8}K.length=ae,K.head&&(K.head.extra_len=ae),K.flags&512&&(Ye[0]=ae&255,Ye[1]=ae>>>8&255,K.check=p(K.check,Ye,2,0)),ae=0,we=0}else K.head&&(K.head.extra=null);K.mode=R;case R:if(K.flags&1024&&(De=K.length,De>me&&(De=me),De&&(K.head&&(Ze=K.head.extra_len-K.length,K.head.extra||(K.head.extra=new Array(K.head.extra_len)),x.arraySet(K.head.extra,Se,v,De,Ze)),K.flags&512&&(K.check=p(K.check,Se,De,v)),me-=De,v+=De,K.length-=De),K.length))break e;K.length=0,K.mode=F;case F:if(K.flags&2048){if(me===0)break e;De=0;do Ze=Se[v+De++],K.head&&Ze&&K.length<65536&&(K.head.name+=String.fromCharCode(Ze));while(Ze&&De<me);if(K.flags&512&&(K.check=p(K.check,Se,De,v)),me-=De,v+=De,Ze)break e}else K.head&&(K.head.name=null);K.length=0,K.mode=z;case z:if(K.flags&4096){if(me===0)break e;De=0;do Ze=Se[v+De++],K.head&&Ze&&K.length<65536&&(K.head.comment+=String.fromCharCode(Ze));while(Ze&&De<me);if(K.flags&512&&(K.check=p(K.check,Se,De,v)),me-=De,v+=De,Ze)break e}else K.head&&(K.head.comment=null);K.mode=D;case D:if(K.flags&512){for(;we<16;){if(me===0)break e;me--,ae+=Se[v++]<<we,we+=8}if(ae!==(K.check&65535)){he.msg="header crc mismatch",K.mode=H;break}ae=0,we=0}K.head&&(K.head.hcrc=K.flags>>9&1,K.head.done=!0),he.adler=K.check=0,K.mode=Z;break;case O:for(;we<32;){if(me===0)break e;me--,ae+=Se[v++]<<we,we+=8}he.adler=K.check=Q(ae),ae=0,we=0,K.mode=k;case k:if(K.havedict===0)return he.next_out=le,he.avail_out=L,he.next_in=v,he.avail_in=me,K.hold=ae,K.bits=we,i;he.adler=K.check=1,K.mode=Z;case Z:if(be===o||be===l)break e;case $:if(K.last){ae>>>=we&7,we-=we&7,K.mode=X;break}for(;we<3;){if(me===0)break e;me--,ae+=Se[v++]<<we,we+=8}switch(K.last=ae&1,ae>>>=1,we-=1,ae&3){case 0:K.mode=te;break;case 1:if(Fe(K),K.mode=re,be===l){ae>>>=2,we-=2;break e}break;case 2:K.mode=W;break;case 3:he.msg="invalid block type",K.mode=H}ae>>>=2,we-=2;break;case te:for(ae>>>=we&7,we-=we&7;we<32;){if(me===0)break e;me--,ae+=Se[v++]<<we,we+=8}if((ae&65535)!==(ae>>>16^65535)){he.msg="invalid stored block lengths",K.mode=H;break}if(K.length=ae&65535,ae=0,we=0,K.mode=q,be===l)break e;case q:K.mode=U;case U:if(De=K.length,De){if(De>me&&(De=me),De>L&&(De=L),De===0)break e;x.arraySet(Be,Se,v,De,le),me-=De,v+=De,L-=De,le+=De,K.length-=De;break}K.mode=Z;break;case W:for(;we<14;){if(me===0)break e;me--,ae+=Se[v++]<<we,we+=8}if(K.nlen=(ae&31)+257,ae>>>=5,we-=5,K.ndist=(ae&31)+1,ae>>>=5,we-=5,K.ncode=(ae&15)+4,ae>>>=4,we-=4,K.nlen>286||K.ndist>30){he.msg="too many length or distance symbols",K.mode=H;break}K.have=0,K.mode=G;case G:for(;K.have<K.ncode;){for(;we<3;){if(me===0)break e;me--,ae+=Se[v++]<<we,we+=8}K.lens[ot[K.have++]]=ae&7,ae>>>=3,we-=3}for(;K.have<19;)K.lens[ot[K.have++]]=0;if(K.lencode=K.lendyn,K.lenbits=7,$e={bits:K.lenbits},Qe=s(a,K.lens,0,19,K.lencode,0,K.work,$e),K.lenbits=$e.bits,Qe){he.msg="invalid code lengths set",K.mode=H;break}K.have=0,K.mode=V;case V:for(;K.have<K.nlen+K.ndist;){for(;Ue=K.lencode[ae&(1<<K.lenbits)-1],ze=Ue>>>24,Ge=Ue>>>16&255,We=Ue&65535,!(ze<=we);){if(me===0)break e;me--,ae+=Se[v++]<<we,we+=8}if(We<16)ae>>>=ze,we-=ze,K.lens[K.have++]=We;else{if(We===16){for(Je=ze+2;we<Je;){if(me===0)break e;me--,ae+=Se[v++]<<we,we+=8}if(ae>>>=ze,we-=ze,K.have===0){he.msg="invalid bit length repeat",K.mode=H;break}Ze=K.lens[K.have-1],De=3+(ae&3),ae>>>=2,we-=2}else if(We===17){for(Je=ze+3;we<Je;){if(me===0)break e;me--,ae+=Se[v++]<<we,we+=8}ae>>>=ze,we-=ze,Ze=0,De=3+(ae&7),ae>>>=3,we-=3}else{for(Je=ze+7;we<Je;){if(me===0)break e;me--,ae+=Se[v++]<<we,we+=8}ae>>>=ze,we-=ze,Ze=0,De=11+(ae&127),ae>>>=7,we-=7}if(K.have+De>K.nlen+K.ndist){he.msg="invalid bit length repeat",K.mode=H;break}for(;De--;)K.lens[K.have++]=Ze}}if(K.mode===H)break;if(K.lens[256]===0){he.msg="invalid code -- missing end-of-block",K.mode=H;break}if(K.lenbits=9,$e={bits:K.lenbits},Qe=s(r,K.lens,0,K.nlen,K.lencode,0,K.work,$e),K.lenbits=$e.bits,Qe){he.msg="invalid literal/lengths set",K.mode=H;break}if(K.distbits=6,K.distcode=K.distdyn,$e={bits:K.distbits},Qe=s(t,K.lens,K.nlen,K.ndist,K.distcode,0,K.work,$e),K.distbits=$e.bits,Qe){he.msg="invalid distances set",K.mode=H;break}if(K.mode=re,be===l)break e;case re:K.mode=se;case se:if(me>=6&&L>=258){he.next_out=le,he.avail_out=L,he.next_in=v,he.avail_in=me,K.hold=ae,K.bits=we,d(he,Re),le=he.next_out,Be=he.output,L=he.avail_out,v=he.next_in,Se=he.input,me=he.avail_in,ae=K.hold,we=K.bits,K.mode===Z&&(K.back=-1);break}for(K.back=0;Ue=K.lencode[ae&(1<<K.lenbits)-1],ze=Ue>>>24,Ge=Ue>>>16&255,We=Ue&65535,!(ze<=we);){if(me===0)break e;me--,ae+=Se[v++]<<we,we+=8}if(Ge&&!(Ge&240)){for(Ke=ze,it=Ge,nt=We;Ue=K.lencode[nt+((ae&(1<<Ke+it)-1)>>Ke)],ze=Ue>>>24,Ge=Ue>>>16&255,We=Ue&65535,!(Ke+ze<=we);){if(me===0)break e;me--,ae+=Se[v++]<<we,we+=8}ae>>>=Ke,we-=Ke,K.back+=Ke}if(ae>>>=ze,we-=ze,K.back+=ze,K.length=We,Ge===0){K.mode=ie;break}if(Ge&32){K.back=-1,K.mode=Z;break}if(Ge&64){he.msg="invalid literal/length code",K.mode=H;break}K.extra=Ge&15,K.mode=fe;case fe:if(K.extra){for(Je=K.extra;we<Je;){if(me===0)break e;me--,ae+=Se[v++]<<we,we+=8}K.length+=ae&(1<<K.extra)-1,ae>>>=K.extra,we-=K.extra,K.back+=K.extra}K.was=K.length,K.mode=ue;case ue:for(;Ue=K.distcode[ae&(1<<K.distbits)-1],ze=Ue>>>24,Ge=Ue>>>16&255,We=Ue&65535,!(ze<=we);){if(me===0)break e;me--,ae+=Se[v++]<<we,we+=8}if(!(Ge&240)){for(Ke=ze,it=Ge,nt=We;Ue=K.distcode[nt+((ae&(1<<Ke+it)-1)>>Ke)],ze=Ue>>>24,Ge=Ue>>>16&255,We=Ue&65535,!(Ke+ze<=we);){if(me===0)break e;me--,ae+=Se[v++]<<we,we+=8}ae>>>=Ke,we-=Ke,K.back+=Ke}if(ae>>>=ze,we-=ze,K.back+=ze,Ge&64){he.msg="invalid distance code",K.mode=H;break}K.offset=We,K.extra=Ge&15,K.mode=pe;case pe:if(K.extra){for(Je=K.extra;we<Je;){if(me===0)break e;me--,ae+=Se[v++]<<we,we+=8}K.offset+=ae&(1<<K.extra)-1,ae>>>=K.extra,we-=K.extra,K.back+=K.extra}if(K.offset>K.dmax){he.msg="invalid distance too far back",K.mode=H;break}K.mode=ne;case ne:if(L===0)break e;if(De=Re-L,K.offset>De){if(De=K.offset-De,De>K.whave&&K.sane){he.msg="invalid distance too far back",K.mode=H;break}De>K.wnext?(De-=K.wnext,Ne=K.wsize-De):Ne=K.wnext-De,De>K.length&&(De=K.length),Xe=K.window}else Xe=Be,Ne=le-K.offset,De=K.length;De>L&&(De=L),L-=De,K.length-=De;do Be[le++]=Xe[Ne++];while(--De);K.length===0&&(K.mode=se);break;case ie:if(L===0)break e;Be[le++]=K.length,L--,K.mode=se;break;case X:if(K.wrap){for(;we<32;){if(me===0)break e;me--,ae|=Se[v++]<<we,we+=8}if(Re-=L,he.total_out+=Re,K.total+=Re,Re&&(he.adler=K.check=K.flags?p(K.check,Be,Re,le-Re):m(K.check,Be,Re,le-Re)),Re=L,(K.flags?ae:Q(ae))!==K.check){he.msg="incorrect data check",K.mode=H;break}ae=0,we=0}K.mode=J;case J:if(K.wrap&&K.flags){for(;we<32;){if(me===0)break e;me--,ae+=Se[v++]<<we,we+=8}if(ae!==(K.total&4294967295)){he.msg="incorrect length check",K.mode=H;break}ae=0,we=0}K.mode=ee;case ee:Qe=f;break e;case H:Qe=h;break e;case P:return c;case T:default:return u}return he.next_out=le,he.avail_out=L,he.next_in=v,he.avail_in=me,K.hold=ae,K.bits=we,(K.wsize||Re!==he.avail_out&&K.mode<H&&(K.mode<X||be!==e))&&Le(he,he.output,he.next_out,Re-he.avail_out),Ce-=he.avail_in,Re-=he.avail_out,he.total_in+=Ce,he.total_out+=Re,K.total+=Re,K.wrap&&Re&&(he.adler=K.check=K.flags?p(K.check,Be,Re,he.next_out-Re):m(K.check,Be,Re,he.next_out-Re)),he.data_type=K.bits+(K.last?64:0)+(K.mode===Z?128:0)+(K.mode===re||K.mode===q?256:0),(Ce===0&&Re===0||be===e)&&Qe===n&&(Qe=_),Qe}function ce(he){if(!he||!he.state)return u;var be=he.state;return be.window&&(be.window=null),he.state=null,n}function de(he,be){var K;return!he||!he.state||(K=he.state,!(K.wrap&2))?u:(K.head=be,be.done=!1,n)}function Ee(he,be){var K=be.length,Se,Be,v;return!he||!he.state||(Se=he.state,Se.wrap!==0&&Se.mode!==k)?u:Se.mode===k&&(Be=1,Be=m(Be,be,K,0),Be!==Se.check)?h:(v=Le(he,be,K,K),v?(Se.mode=P,c):(Se.havedict=1,n))}w.inflateReset=ye,w.inflateReset2=Ae,w.inflateResetKeep=ve,w.inflateInit=Pe,w.inflateInit2=ke,w.inflate=B,w.inflateEnd=ce,w.inflateGetHeader=de,w.inflateSetDictionary=Ee,w.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./inffast":41,"./inftrees":43}],43:[function(E,j,w){var x=E("../utils/common"),m=15,p=852,d=592,s=0,a=1,r=2,t=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],e=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];j.exports=function(f,i,u,h,c,_,g,b){var y=b.bits,A=0,M=0,I=0,R=0,F=0,z=0,D=0,O=0,k=0,Z=0,$,te,q,U,W,G=null,V=0,re,se=new x.Buf16(m+1),fe=new x.Buf16(m+1),ue=null,pe=0,ne,ie,X;for(A=0;A<=m;A++)se[A]=0;for(M=0;M<h;M++)se[i[u+M]]++;for(F=y,R=m;R>=1&&se[R]===0;R--);if(F>R&&(F=R),R===0)return c[_++]=1<<24|64<<16|0,c[_++]=1<<24|64<<16|0,b.bits=1,0;for(I=1;I<R&&se[I]===0;I++);for(F<I&&(F=I),O=1,A=1;A<=m;A++)if(O<<=1,O-=se[A],O<0)return-1;if(O>0&&(f===s||R!==1))return-1;for(fe[1]=0,A=1;A<m;A++)fe[A+1]=fe[A]+se[A];for(M=0;M<h;M++)i[u+M]!==0&&(g[fe[i[u+M]]++]=M);if(f===s?(G=ue=g,re=19):f===a?(G=t,V-=257,ue=e,pe-=257,re=256):(G=o,ue=l,re=-1),Z=0,M=0,A=I,W=_,z=F,D=0,q=-1,k=1<<F,U=k-1,f===a&&k>p||f===r&&k>d)return 1;for(;;){ne=A-D,g[M]<re?(ie=0,X=g[M]):g[M]>re?(ie=ue[pe+g[M]],X=G[V+g[M]]):(ie=32+64,X=0),$=1<<A-D,te=1<<z,I=te;do te-=$,c[W+(Z>>D)+te]=ne<<24|ie<<16|X|0;while(te!==0);for($=1<<A-1;Z&$;)$>>=1;if($!==0?(Z&=$-1,Z+=$):Z=0,M++,--se[A]===0){if(A===R)break;A=i[u+g[M]]}if(A>F&&(Z&U)!==q){for(D===0&&(D=F),W+=I,z=A-D,O=1<<z;z+D<R&&(O-=se[z+D],!(O<=0));)z++,O<<=1;if(k+=1<<z,f===a&&k>p||f===r&&k>d)return 1;q=Z&U,c[q]=F<<24|z<<16|W-_|0}}return Z!==0&&(c[W+Z]=A-D<<24|64<<16|0),b.bits=F,0}},{"../utils/common":36}],44:[function(E,j,w){j.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],45:[function(E,j,w){var x=E("../utils/common"),m=4,p=0,d=1,s=2;function a(B){for(var ce=B.length;--ce>=0;)B[ce]=0}var r=0,t=1,e=2,o=3,l=258,n=29,f=256,i=f+1+n,u=30,h=19,c=2*i+1,_=15,g=16,b=7,y=256,A=16,M=17,I=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=512,k=new Array((i+2)*2);a(k);var Z=new Array(u*2);a(Z);var $=new Array(O);a($);var te=new Array(l-o+1);a(te);var q=new Array(n);a(q);var U=new Array(u);a(U);function W(B,ce,de,Ee,he){this.static_tree=B,this.extra_bits=ce,this.extra_base=de,this.elems=Ee,this.max_length=he,this.has_stree=B&&B.length}var G,V,re;function se(B,ce){this.dyn_tree=B,this.max_code=0,this.stat_desc=ce}function fe(B){return B<256?$[B]:$[256+(B>>>7)]}function ue(B,ce){B.pending_buf[B.pending++]=ce&255,B.pending_buf[B.pending++]=ce>>>8&255}function pe(B,ce,de){B.bi_valid>g-de?(B.bi_buf|=ce<<B.bi_valid&65535,ue(B,B.bi_buf),B.bi_buf=ce>>g-B.bi_valid,B.bi_valid+=de-g):(B.bi_buf|=ce<<B.bi_valid&65535,B.bi_valid+=de)}function ne(B,ce,de){pe(B,de[ce*2],de[ce*2+1])}function ie(B,ce){var de=0;do de|=B&1,B>>>=1,de<<=1;while(--ce>0);return de>>>1}function X(B){B.bi_valid===16?(ue(B,B.bi_buf),B.bi_buf=0,B.bi_valid=0):B.bi_valid>=8&&(B.pending_buf[B.pending++]=B.bi_buf&255,B.bi_buf>>=8,B.bi_valid-=8)}function J(B,ce){var de=ce.dyn_tree,Ee=ce.max_code,he=ce.stat_desc.static_tree,be=ce.stat_desc.has_stree,K=ce.stat_desc.extra_bits,Se=ce.stat_desc.extra_base,Be=ce.stat_desc.max_length,v,le,me,L,ae,we,Ce=0;for(L=0;L<=_;L++)B.bl_count[L]=0;for(de[B.heap[B.heap_max]*2+1]=0,v=B.heap_max+1;v<c;v++)le=B.heap[v],L=de[de[le*2+1]*2+1]+1,L>Be&&(L=Be,Ce++),de[le*2+1]=L,!(le>Ee)&&(B.bl_count[L]++,ae=0,le>=Se&&(ae=K[le-Se]),we=de[le*2],B.opt_len+=we*(L+ae),be&&(B.static_len+=we*(he[le*2+1]+ae)));if(Ce!==0){do{for(L=Be-1;B.bl_count[L]===0;)L--;B.bl_count[L]--,B.bl_count[L+1]+=2,B.bl_count[Be]--,Ce-=2}while(Ce>0);for(L=Be;L!==0;L--)for(le=B.bl_count[L];le!==0;)me=B.heap[--v],!(me>Ee)&&(de[me*2+1]!==L&&(B.opt_len+=(L-de[me*2+1])*de[me*2],de[me*2+1]=L),le--)}}function ee(B,ce,de){var Ee=new Array(_+1),he=0,be,K;for(be=1;be<=_;be++)Ee[be]=he=he+de[be-1]<<1;for(K=0;K<=ce;K++){var Se=B[K*2+1];Se!==0&&(B[K*2]=ie(Ee[Se]++,Se))}}function H(){var B,ce,de,Ee,he,be=new Array(_+1);for(de=0,Ee=0;Ee<n-1;Ee++)for(q[Ee]=de,B=0;B<1<<R[Ee];B++)te[de++]=Ee;for(te[de-1]=Ee,he=0,Ee=0;Ee<16;Ee++)for(U[Ee]=he,B=0;B<1<<F[Ee];B++)$[he++]=Ee;for(he>>=7;Ee<u;Ee++)for(U[Ee]=he<<7,B=0;B<1<<F[Ee]-7;B++)$[256+he++]=Ee;for(ce=0;ce<=_;ce++)be[ce]=0;for(B=0;B<=143;)k[B*2+1]=8,B++,be[8]++;for(;B<=255;)k[B*2+1]=9,B++,be[9]++;for(;B<=279;)k[B*2+1]=7,B++,be[7]++;for(;B<=287;)k[B*2+1]=8,B++,be[8]++;for(ee(k,i+1,be),B=0;B<u;B++)Z[B*2+1]=5,Z[B*2]=ie(B,5);G=new W(k,R,f+1,i,_),V=new W(Z,F,0,u,_),re=new W(new Array(0),z,0,h,b)}function P(B){var ce;for(ce=0;ce<i;ce++)B.dyn_ltree[ce*2]=0;for(ce=0;ce<u;ce++)B.dyn_dtree[ce*2]=0;for(ce=0;ce<h;ce++)B.bl_tree[ce*2]=0;B.dyn_ltree[y*2]=1,B.opt_len=B.static_len=0,B.last_lit=B.matches=0}function T(B){B.bi_valid>8?ue(B,B.bi_buf):B.bi_valid>0&&(B.pending_buf[B.pending++]=B.bi_buf),B.bi_buf=0,B.bi_valid=0}function Y(B,ce,de,Ee){T(B),Ee&&(ue(B,de),ue(B,~de)),x.arraySet(B.pending_buf,B.window,ce,de,B.pending),B.pending+=de}function N(B,ce,de,Ee){var he=ce*2,be=de*2;return B[he]<B[be]||B[he]===B[be]&&Ee[ce]<=Ee[de]}function C(B,ce,de){for(var Ee=B.heap[de],he=de<<1;he<=B.heap_len&&(he<B.heap_len&&N(ce,B.heap[he+1],B.heap[he],B.depth)&&he++,!N(ce,Ee,B.heap[he],B.depth));)B.heap[de]=B.heap[he],de=he,he<<=1;B.heap[de]=Ee}function S(B,ce,de){var Ee,he,be=0,K,Se;if(B.last_lit!==0)do Ee=B.pending_buf[B.d_buf+be*2]<<8|B.pending_buf[B.d_buf+be*2+1],he=B.pending_buf[B.l_buf+be],be++,Ee===0?ne(B,he,ce):(K=te[he],ne(B,K+f+1,ce),Se=R[K],Se!==0&&(he-=q[K],pe(B,he,Se)),Ee--,K=fe(Ee),ne(B,K,de),Se=F[K],Se!==0&&(Ee-=U[K],pe(B,Ee,Se)));while(be<B.last_lit);ne(B,y,ce)}function Q(B,ce){var de=ce.dyn_tree,Ee=ce.stat_desc.static_tree,he=ce.stat_desc.has_stree,be=ce.stat_desc.elems,K,Se,Be=-1,v;for(B.heap_len=0,B.heap_max=c,K=0;K<be;K++)de[K*2]!==0?(B.heap[++B.heap_len]=Be=K,B.depth[K]=0):de[K*2+1]=0;for(;B.heap_len<2;)v=B.heap[++B.heap_len]=Be<2?++Be:0,de[v*2]=1,B.depth[v]=0,B.opt_len--,he&&(B.static_len-=Ee[v*2+1]);for(ce.max_code=Be,K=B.heap_len>>1;K>=1;K--)C(B,de,K);v=be;do K=B.heap[1],B.heap[1]=B.heap[B.heap_len--],C(B,de,1),Se=B.heap[1],B.heap[--B.heap_max]=K,B.heap[--B.heap_max]=Se,de[v*2]=de[K*2]+de[Se*2],B.depth[v]=(B.depth[K]>=B.depth[Se]?B.depth[K]:B.depth[Se])+1,de[K*2+1]=de[Se*2+1]=v,B.heap[1]=v++,C(B,de,1);while(B.heap_len>=2);B.heap[--B.heap_max]=B.heap[1],J(B,ce),ee(de,Be,B.bl_count)}function oe(B,ce,de){var Ee,he=-1,be,K=ce[0*2+1],Se=0,Be=7,v=4;for(K===0&&(Be=138,v=3),ce[(de+1)*2+1]=65535,Ee=0;Ee<=de;Ee++)be=K,K=ce[(Ee+1)*2+1],!(++Se<Be&&be===K)&&(Se<v?B.bl_tree[be*2]+=Se:be!==0?(be!==he&&B.bl_tree[be*2]++,B.bl_tree[A*2]++):Se<=10?B.bl_tree[M*2]++:B.bl_tree[I*2]++,Se=0,he=be,K===0?(Be=138,v=3):be===K?(Be=6,v=3):(Be=7,v=4))}function ve(B,ce,de){var Ee,he=-1,be,K=ce[0*2+1],Se=0,Be=7,v=4;for(K===0&&(Be=138,v=3),Ee=0;Ee<=de;Ee++)if(be=K,K=ce[(Ee+1)*2+1],!(++Se<Be&&be===K)){if(Se<v)do ne(B,be,B.bl_tree);while(--Se!==0);else be!==0?(be!==he&&(ne(B,be,B.bl_tree),Se--),ne(B,A,B.bl_tree),pe(B,Se-3,2)):Se<=10?(ne(B,M,B.bl_tree),pe(B,Se-3,3)):(ne(B,I,B.bl_tree),pe(B,Se-11,7));Se=0,he=be,K===0?(Be=138,v=3):be===K?(Be=6,v=3):(Be=7,v=4)}}function ye(B){var ce;for(oe(B,B.dyn_ltree,B.l_desc.max_code),oe(B,B.dyn_dtree,B.d_desc.max_code),Q(B,B.bl_desc),ce=h-1;ce>=3&&B.bl_tree[D[ce]*2+1]===0;ce--);return B.opt_len+=3*(ce+1)+5+5+4,ce}function Ae(B,ce,de,Ee){var he;for(pe(B,ce-257,5),pe(B,de-1,5),pe(B,Ee-4,4),he=0;he<Ee;he++)pe(B,B.bl_tree[D[he]*2+1],3);ve(B,B.dyn_ltree,ce-1),ve(B,B.dyn_dtree,de-1)}function ke(B){var ce=4093624447,de;for(de=0;de<=31;de++,ce>>>=1)if(ce&1&&B.dyn_ltree[de*2]!==0)return p;if(B.dyn_ltree[9*2]!==0||B.dyn_ltree[10*2]!==0||B.dyn_ltree[13*2]!==0)return d;for(de=32;de<f;de++)if(B.dyn_ltree[de*2]!==0)return d;return p}var Pe=!1;function Oe(B){Pe||(H(),Pe=!0),B.l_desc=new se(B.dyn_ltree,G),B.d_desc=new se(B.dyn_dtree,V),B.bl_desc=new se(B.bl_tree,re),B.bi_buf=0,B.bi_valid=0,P(B)}function Te(B,ce,de,Ee){pe(B,(r<<1)+(Ee?1:0),3),Y(B,ce,de,!0)}function Me(B){pe(B,t<<1,3),ne(B,y,k),X(B)}function Fe(B,ce,de,Ee){var he,be,K=0;B.level>0?(B.strm.data_type===s&&(B.strm.data_type=ke(B)),Q(B,B.l_desc),Q(B,B.d_desc),K=ye(B),he=B.opt_len+3+7>>>3,be=B.static_len+3+7>>>3,be<=he&&(he=be)):he=be=de+5,de+4<=he&&ce!==-1?Te(B,ce,de,Ee):B.strategy===m||be===he?(pe(B,(t<<1)+(Ee?1:0),3),S(B,k,Z)):(pe(B,(e<<1)+(Ee?1:0),3),Ae(B,B.l_desc.max_code+1,B.d_desc.max_code+1,K+1),S(B,B.dyn_ltree,B.dyn_dtree)),P(B),Ee&&T(B)}function Le(B,ce,de){return B.pending_buf[B.d_buf+B.last_lit*2]=ce>>>8&255,B.pending_buf[B.d_buf+B.last_lit*2+1]=ce&255,B.pending_buf[B.l_buf+B.last_lit]=de&255,B.last_lit++,ce===0?B.dyn_ltree[de*2]++:(B.matches++,ce--,B.dyn_ltree[(te[de]+f+1)*2]++,B.dyn_dtree[fe(ce)*2]++),B.last_lit===B.lit_bufsize-1}w._tr_init=Oe,w._tr_stored_block=Te,w._tr_flush_block=Fe,w._tr_tally=Le,w._tr_align=Me},{"../utils/common":36}],46:[function(E,j,w){function x(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}j.exports=x},{}],47:[function(E,j,w){arguments[4][33][0].apply(w,arguments)},{dup:33}],48:[function(E,j,w){(function(t){var m=E("base64-js"),p=E("ieee754"),d=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;w.Buffer=t,w.SlowBuffer=_,w.INSPECT_MAX_BYTES=50;var s=2147483647;w.kMaxLength=s,t.TYPED_ARRAY_SUPPORT=a(),!t.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{var N=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(N,C),N.foo()===42}catch{return!1}}Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}});function r(N){if(N>s)throw new RangeError('The value "'+N+'" is invalid for option "size"');var C=new Uint8Array(N);return Object.setPrototypeOf(C,t.prototype),C}function t(N,C,S){if(typeof N=="number"){if(typeof C=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return n(N)}return e(N,C,S)}typeof Symbol<"u"&&Symbol.species!=null&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192;function e(N,C,S){if(typeof N=="string")return f(N,C);if(ArrayBuffer.isView(N))return i(N);if(N==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(P(N,ArrayBuffer)||N&&P(N.buffer,ArrayBuffer))return u(N,C,S);if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Q=N.valueOf&&N.valueOf();if(Q!=null&&Q!==N)return t.from(Q,C,S);var oe=h(N);if(oe)return oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return t.from(N[Symbol.toPrimitive]("string"),C,S);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}t.from=function(N,C,S){return e(N,C,S)},Object.setPrototypeOf(t.prototype,Uint8Array.prototype),Object.setPrototypeOf(t,Uint8Array);function o(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function l(N,C,S){return o(N),N<=0?r(N):C!==void 0?typeof S=="string"?r(N).fill(C,S):r(N).fill(C):r(N)}t.alloc=function(N,C,S){return l(N,C,S)};function n(N){return o(N),r(N<0?0:c(N)|0)}t.allocUnsafe=function(N){return n(N)},t.allocUnsafeSlow=function(N){return n(N)};function f(N,C){if((typeof C!="string"||C==="")&&(C="utf8"),!t.isEncoding(C))throw new TypeError("Unknown encoding: "+C);var S=g(N,C)|0,Q=r(S),oe=Q.write(N,C);return oe!==S&&(Q=Q.slice(0,oe)),Q}function i(N){for(var C=N.length<0?0:c(N.length)|0,S=r(C),Q=0;Q<C;Q+=1)S[Q]=N[Q]&255;return S}function u(N,C,S){if(C<0||N.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<C+(S||0))throw new RangeError('"length" is outside of buffer bounds');var Q;return C===void 0&&S===void 0?Q=new Uint8Array(N):S===void 0?Q=new Uint8Array(N,C):Q=new Uint8Array(N,C,S),Object.setPrototypeOf(Q,t.prototype),Q}function h(N){if(t.isBuffer(N)){var C=c(N.length)|0,S=r(C);return S.length===0||N.copy(S,0,0,C),S}if(N.length!==void 0)return typeof N.length!="number"||T(N.length)?r(0):i(N);if(N.type==="Buffer"&&Array.isArray(N.data))return i(N.data)}function c(N){if(N>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return N|0}function _(N){return+N!=N&&(N=0),t.alloc(+N)}t.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==t.prototype},t.compare=function(C,S){if(P(C,Uint8Array)&&(C=t.from(C,C.offset,C.byteLength)),P(S,Uint8Array)&&(S=t.from(S,S.offset,S.byteLength)),!t.isBuffer(C)||!t.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===S)return 0;for(var Q=C.length,oe=S.length,ve=0,ye=Math.min(Q,oe);ve<ye;++ve)if(C[ve]!==S[ve]){Q=C[ve],oe=S[ve];break}return Q<oe?-1:oe<Q?1:0},t.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(C,S){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return t.alloc(0);var Q;if(S===void 0)for(S=0,Q=0;Q<C.length;++Q)S+=C[Q].length;var oe=t.allocUnsafe(S),ve=0;for(Q=0;Q<C.length;++Q){var ye=C[Q];if(P(ye,Uint8Array)&&(ye=t.from(ye)),!t.isBuffer(ye))throw new TypeError('"list" argument must be an Array of Buffers');ye.copy(oe,ve),ve+=ye.length}return oe};function g(N,C){if(t.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||P(N,ArrayBuffer))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);var S=N.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&S===0)return 0;for(var oe=!1;;)switch(C){case"ascii":case"latin1":case"binary":return S;case"utf8":case"utf-8":return ie(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S*2;case"hex":return S>>>1;case"base64":return ee(N).length;default:if(oe)return Q?-1:ie(N).length;C=(""+C).toLowerCase(),oe=!0}}t.byteLength=g;function b(N,C,S){var Q=!1;if((C===void 0||C<0)&&(C=0),C>this.length||((S===void 0||S>this.length)&&(S=this.length),S<=0)||(S>>>=0,C>>>=0,S<=C))return"";for(N||(N="utf8");;)switch(N){case"hex":return W(this,C,S);case"utf8":case"utf-8":return Z(this,C,S);case"ascii":return q(this,C,S);case"latin1":case"binary":return U(this,C,S);case"base64":return k(this,C,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,C,S);default:if(Q)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),Q=!0}}t.prototype._isBuffer=!0;function y(N,C,S){var Q=N[C];N[C]=N[S],N[S]=Q}t.prototype.swap16=function(){var C=this.length;if(C%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var S=0;S<C;S+=2)y(this,S,S+1);return this},t.prototype.swap32=function(){var C=this.length;if(C%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var S=0;S<C;S+=4)y(this,S,S+3),y(this,S+1,S+2);return this},t.prototype.swap64=function(){var C=this.length;if(C%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var S=0;S<C;S+=8)y(this,S,S+7),y(this,S+1,S+6),y(this,S+2,S+5),y(this,S+3,S+4);return this},t.prototype.toString=function(){var C=this.length;return C===0?"":arguments.length===0?Z(this,0,C):b.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(C){if(!t.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:t.compare(this,C)===0},t.prototype.inspect=function(){var C="",S=w.INSPECT_MAX_BYTES;return C=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(C+=" ... "),"<Buffer "+C+">"},d&&(t.prototype[d]=t.prototype.inspect),t.prototype.compare=function(C,S,Q,oe,ve){if(P(C,Uint8Array)&&(C=t.from(C,C.offset,C.byteLength)),!t.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(S===void 0&&(S=0),Q===void 0&&(Q=C?C.length:0),oe===void 0&&(oe=0),ve===void 0&&(ve=this.length),S<0||Q>C.length||oe<0||ve>this.length)throw new RangeError("out of range index");if(oe>=ve&&S>=Q)return 0;if(oe>=ve)return-1;if(S>=Q)return 1;if(S>>>=0,Q>>>=0,oe>>>=0,ve>>>=0,this===C)return 0;for(var ye=ve-oe,Ae=Q-S,ke=Math.min(ye,Ae),Pe=this.slice(oe,ve),Oe=C.slice(S,Q),Te=0;Te<ke;++Te)if(Pe[Te]!==Oe[Te]){ye=Pe[Te],Ae=Oe[Te];break}return ye<Ae?-1:Ae<ye?1:0};function A(N,C,S,Q,oe){if(N.length===0)return-1;if(typeof S=="string"?(Q=S,S=0):S>2147483647?S=2147483647:S<-2147483648&&(S=-2147483648),S=+S,T(S)&&(S=oe?0:N.length-1),S<0&&(S=N.length+S),S>=N.length){if(oe)return-1;S=N.length-1}else if(S<0)if(oe)S=0;else return-1;if(typeof C=="string"&&(C=t.from(C,Q)),t.isBuffer(C))return C.length===0?-1:M(N,C,S,Q,oe);if(typeof C=="number")return C=C&255,typeof Uint8Array.prototype.indexOf=="function"?oe?Uint8Array.prototype.indexOf.call(N,C,S):Uint8Array.prototype.lastIndexOf.call(N,C,S):M(N,[C],S,Q,oe);throw new TypeError("val must be string, number or Buffer")}function M(N,C,S,Q,oe){var ve=1,ye=N.length,Ae=C.length;if(Q!==void 0&&(Q=String(Q).toLowerCase(),Q==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(N.length<2||C.length<2)return-1;ve=2,ye/=2,Ae/=2,S/=2}function ke(Fe,Le){return ve===1?Fe[Le]:Fe.readUInt16BE(Le*ve)}var Pe;if(oe){var Oe=-1;for(Pe=S;Pe<ye;Pe++)if(ke(N,Pe)===ke(C,Oe===-1?0:Pe-Oe)){if(Oe===-1&&(Oe=Pe),Pe-Oe+1===Ae)return Oe*ve}else Oe!==-1&&(Pe-=Pe-Oe),Oe=-1}else for(S+Ae>ye&&(S=ye-Ae),Pe=S;Pe>=0;Pe--){for(var Te=!0,Me=0;Me<Ae;Me++)if(ke(N,Pe+Me)!==ke(C,Me)){Te=!1;break}if(Te)return Pe}return-1}t.prototype.includes=function(C,S,Q){return this.indexOf(C,S,Q)!==-1},t.prototype.indexOf=function(C,S,Q){return A(this,C,S,Q,!0)},t.prototype.lastIndexOf=function(C,S,Q){return A(this,C,S,Q,!1)};function I(N,C,S,Q){S=Number(S)||0;var oe=N.length-S;Q?(Q=Number(Q),Q>oe&&(Q=oe)):Q=oe;var ve=C.length;Q>ve/2&&(Q=ve/2);for(var ye=0;ye<Q;++ye){var Ae=parseInt(C.substr(ye*2,2),16);if(T(Ae))return ye;N[S+ye]=Ae}return ye}function R(N,C,S,Q){return H(ie(C,N.length-S),N,S,Q)}function F(N,C,S,Q){return H(X(C),N,S,Q)}function z(N,C,S,Q){return F(N,C,S,Q)}function D(N,C,S,Q){return H(ee(C),N,S,Q)}function O(N,C,S,Q){return H(J(C,N.length-S),N,S,Q)}t.prototype.write=function(C,S,Q,oe){if(S===void 0)oe="utf8",Q=this.length,S=0;else if(Q===void 0&&typeof S=="string")oe=S,Q=this.length,S=0;else if(isFinite(S))S=S>>>0,isFinite(Q)?(Q=Q>>>0,oe===void 0&&(oe="utf8")):(oe=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ve=this.length-S;if((Q===void 0||Q>ve)&&(Q=ve),C.length>0&&(Q<0||S<0)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");oe||(oe="utf8");for(var ye=!1;;)switch(oe){case"hex":return I(this,C,S,Q);case"utf8":case"utf-8":return R(this,C,S,Q);case"ascii":return F(this,C,S,Q);case"latin1":case"binary":return z(this,C,S,Q);case"base64":return D(this,C,S,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,C,S,Q);default:if(ye)throw new TypeError("Unknown encoding: "+oe);oe=(""+oe).toLowerCase(),ye=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(N,C,S){return C===0&&S===N.length?m.fromByteArray(N):m.fromByteArray(N.slice(C,S))}function Z(N,C,S){S=Math.min(N.length,S);for(var Q=[],oe=C;oe<S;){var ve=N[oe],ye=null,Ae=ve>239?4:ve>223?3:ve>191?2:1;if(oe+Ae<=S){var ke,Pe,Oe,Te;switch(Ae){case 1:ve<128&&(ye=ve);break;case 2:ke=N[oe+1],(ke&192)===128&&(Te=(ve&31)<<6|ke&63,Te>127&&(ye=Te));break;case 3:ke=N[oe+1],Pe=N[oe+2],(ke&192)===128&&(Pe&192)===128&&(Te=(ve&15)<<12|(ke&63)<<6|Pe&63,Te>2047&&(Te<55296||Te>57343)&&(ye=Te));break;case 4:ke=N[oe+1],Pe=N[oe+2],Oe=N[oe+3],(ke&192)===128&&(Pe&192)===128&&(Oe&192)===128&&(Te=(ve&15)<<18|(ke&63)<<12|(Pe&63)<<6|Oe&63,Te>65535&&Te<1114112&&(ye=Te))}}ye===null?(ye=65533,Ae=1):ye>65535&&(ye-=65536,Q.push(ye>>>10&1023|55296),ye=56320|ye&1023),Q.push(ye),oe+=Ae}return te(Q)}var $=4096;function te(N){var C=N.length;if(C<=$)return String.fromCharCode.apply(String,N);for(var S="",Q=0;Q<C;)S+=String.fromCharCode.apply(String,N.slice(Q,Q+=$));return S}function q(N,C,S){var Q="";S=Math.min(N.length,S);for(var oe=C;oe<S;++oe)Q+=String.fromCharCode(N[oe]&127);return Q}function U(N,C,S){var Q="";S=Math.min(N.length,S);for(var oe=C;oe<S;++oe)Q+=String.fromCharCode(N[oe]);return Q}function W(N,C,S){var Q=N.length;(!C||C<0)&&(C=0),(!S||S<0||S>Q)&&(S=Q);for(var oe="",ve=C;ve<S;++ve)oe+=Y[N[ve]];return oe}function G(N,C,S){for(var Q=N.slice(C,S),oe="",ve=0;ve<Q.length;ve+=2)oe+=String.fromCharCode(Q[ve]+Q[ve+1]*256);return oe}t.prototype.slice=function(C,S){var Q=this.length;C=~~C,S=S===void 0?Q:~~S,C<0?(C+=Q,C<0&&(C=0)):C>Q&&(C=Q),S<0?(S+=Q,S<0&&(S=0)):S>Q&&(S=Q),S<C&&(S=C);var oe=this.subarray(C,S);return Object.setPrototypeOf(oe,t.prototype),oe};function V(N,C,S){if(N%1!==0||N<0)throw new RangeError("offset is not uint");if(N+C>S)throw new RangeError("Trying to access beyond buffer length")}t.prototype.readUIntLE=function(C,S,Q){C=C>>>0,S=S>>>0,Q||V(C,S,this.length);for(var oe=this[C],ve=1,ye=0;++ye<S&&(ve*=256);)oe+=this[C+ye]*ve;return oe},t.prototype.readUIntBE=function(C,S,Q){C=C>>>0,S=S>>>0,Q||V(C,S,this.length);for(var oe=this[C+--S],ve=1;S>0&&(ve*=256);)oe+=this[C+--S]*ve;return oe},t.prototype.readUInt8=function(C,S){return C=C>>>0,S||V(C,1,this.length),this[C]},t.prototype.readUInt16LE=function(C,S){return C=C>>>0,S||V(C,2,this.length),this[C]|this[C+1]<<8},t.prototype.readUInt16BE=function(C,S){return C=C>>>0,S||V(C,2,this.length),this[C]<<8|this[C+1]},t.prototype.readUInt32LE=function(C,S){return C=C>>>0,S||V(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+this[C+3]*16777216},t.prototype.readUInt32BE=function(C,S){return C=C>>>0,S||V(C,4,this.length),this[C]*16777216+(this[C+1]<<16|this[C+2]<<8|this[C+3])},t.prototype.readIntLE=function(C,S,Q){C=C>>>0,S=S>>>0,Q||V(C,S,this.length);for(var oe=this[C],ve=1,ye=0;++ye<S&&(ve*=256);)oe+=this[C+ye]*ve;return ve*=128,oe>=ve&&(oe-=Math.pow(2,8*S)),oe},t.prototype.readIntBE=function(C,S,Q){C=C>>>0,S=S>>>0,Q||V(C,S,this.length);for(var oe=S,ve=1,ye=this[C+--oe];oe>0&&(ve*=256);)ye+=this[C+--oe]*ve;return ve*=128,ye>=ve&&(ye-=Math.pow(2,8*S)),ye},t.prototype.readInt8=function(C,S){return C=C>>>0,S||V(C,1,this.length),this[C]&128?(255-this[C]+1)*-1:this[C]},t.prototype.readInt16LE=function(C,S){C=C>>>0,S||V(C,2,this.length);var Q=this[C]|this[C+1]<<8;return Q&32768?Q|4294901760:Q},t.prototype.readInt16BE=function(C,S){C=C>>>0,S||V(C,2,this.length);var Q=this[C+1]|this[C]<<8;return Q&32768?Q|4294901760:Q},t.prototype.readInt32LE=function(C,S){return C=C>>>0,S||V(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},t.prototype.readInt32BE=function(C,S){return C=C>>>0,S||V(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},t.prototype.readFloatLE=function(C,S){return C=C>>>0,S||V(C,4,this.length),p.read(this,C,!0,23,4)},t.prototype.readFloatBE=function(C,S){return C=C>>>0,S||V(C,4,this.length),p.read(this,C,!1,23,4)},t.prototype.readDoubleLE=function(C,S){return C=C>>>0,S||V(C,8,this.length),p.read(this,C,!0,52,8)},t.prototype.readDoubleBE=function(C,S){return C=C>>>0,S||V(C,8,this.length),p.read(this,C,!1,52,8)};function re(N,C,S,Q,oe,ve){if(!t.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>oe||C<ve)throw new RangeError('"value" argument is out of bounds');if(S+Q>N.length)throw new RangeError("Index out of range")}t.prototype.writeUIntLE=function(C,S,Q,oe){if(C=+C,S=S>>>0,Q=Q>>>0,!oe){var ve=Math.pow(2,8*Q)-1;re(this,C,S,Q,ve,0)}var ye=1,Ae=0;for(this[S]=C&255;++Ae<Q&&(ye*=256);)this[S+Ae]=C/ye&255;return S+Q},t.prototype.writeUIntBE=function(C,S,Q,oe){if(C=+C,S=S>>>0,Q=Q>>>0,!oe){var ve=Math.pow(2,8*Q)-1;re(this,C,S,Q,ve,0)}var ye=Q-1,Ae=1;for(this[S+ye]=C&255;--ye>=0&&(Ae*=256);)this[S+ye]=C/Ae&255;return S+Q},t.prototype.writeUInt8=function(C,S,Q){return C=+C,S=S>>>0,Q||re(this,C,S,1,255,0),this[S]=C&255,S+1},t.prototype.writeUInt16LE=function(C,S,Q){return C=+C,S=S>>>0,Q||re(this,C,S,2,65535,0),this[S]=C&255,this[S+1]=C>>>8,S+2},t.prototype.writeUInt16BE=function(C,S,Q){return C=+C,S=S>>>0,Q||re(this,C,S,2,65535,0),this[S]=C>>>8,this[S+1]=C&255,S+2},t.prototype.writeUInt32LE=function(C,S,Q){return C=+C,S=S>>>0,Q||re(this,C,S,4,4294967295,0),this[S+3]=C>>>24,this[S+2]=C>>>16,this[S+1]=C>>>8,this[S]=C&255,S+4},t.prototype.writeUInt32BE=function(C,S,Q){return C=+C,S=S>>>0,Q||re(this,C,S,4,4294967295,0),this[S]=C>>>24,this[S+1]=C>>>16,this[S+2]=C>>>8,this[S+3]=C&255,S+4},t.prototype.writeIntLE=function(C,S,Q,oe){if(C=+C,S=S>>>0,!oe){var ve=Math.pow(2,8*Q-1);re(this,C,S,Q,ve-1,-ve)}var ye=0,Ae=1,ke=0;for(this[S]=C&255;++ye<Q&&(Ae*=256);)C<0&&ke===0&&this[S+ye-1]!==0&&(ke=1),this[S+ye]=(C/Ae>>0)-ke&255;return S+Q},t.prototype.writeIntBE=function(C,S,Q,oe){if(C=+C,S=S>>>0,!oe){var ve=Math.pow(2,8*Q-1);re(this,C,S,Q,ve-1,-ve)}var ye=Q-1,Ae=1,ke=0;for(this[S+ye]=C&255;--ye>=0&&(Ae*=256);)C<0&&ke===0&&this[S+ye+1]!==0&&(ke=1),this[S+ye]=(C/Ae>>0)-ke&255;return S+Q},t.prototype.writeInt8=function(C,S,Q){return C=+C,S=S>>>0,Q||re(this,C,S,1,127,-128),C<0&&(C=255+C+1),this[S]=C&255,S+1},t.prototype.writeInt16LE=function(C,S,Q){return C=+C,S=S>>>0,Q||re(this,C,S,2,32767,-32768),this[S]=C&255,this[S+1]=C>>>8,S+2},t.prototype.writeInt16BE=function(C,S,Q){return C=+C,S=S>>>0,Q||re(this,C,S,2,32767,-32768),this[S]=C>>>8,this[S+1]=C&255,S+2},t.prototype.writeInt32LE=function(C,S,Q){return C=+C,S=S>>>0,Q||re(this,C,S,4,2147483647,-2147483648),this[S]=C&255,this[S+1]=C>>>8,this[S+2]=C>>>16,this[S+3]=C>>>24,S+4},t.prototype.writeInt32BE=function(C,S,Q){return C=+C,S=S>>>0,Q||re(this,C,S,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[S]=C>>>24,this[S+1]=C>>>16,this[S+2]=C>>>8,this[S+3]=C&255,S+4};function se(N,C,S,Q,oe,ve){if(S+Q>N.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("Index out of range")}function fe(N,C,S,Q,oe){return C=+C,S=S>>>0,oe||se(N,C,S,4),p.write(N,C,S,Q,23,4),S+4}t.prototype.writeFloatLE=function(C,S,Q){return fe(this,C,S,!0,Q)},t.prototype.writeFloatBE=function(C,S,Q){return fe(this,C,S,!1,Q)};function ue(N,C,S,Q,oe){return C=+C,S=S>>>0,oe||se(N,C,S,8),p.write(N,C,S,Q,52,8),S+8}t.prototype.writeDoubleLE=function(C,S,Q){return ue(this,C,S,!0,Q)},t.prototype.writeDoubleBE=function(C,S,Q){return ue(this,C,S,!1,Q)},t.prototype.copy=function(C,S,Q,oe){if(!t.isBuffer(C))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!oe&&oe!==0&&(oe=this.length),S>=C.length&&(S=C.length),S||(S=0),oe>0&&oe<Q&&(oe=Q),oe===Q||C.length===0||this.length===0)return 0;if(S<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("sourceEnd out of bounds");oe>this.length&&(oe=this.length),C.length-S<oe-Q&&(oe=C.length-S+Q);var ve=oe-Q;if(this===C&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(S,Q,oe);else if(this===C&&Q<S&&S<oe)for(var ye=ve-1;ye>=0;--ye)C[ye+S]=this[ye+Q];else Uint8Array.prototype.set.call(C,this.subarray(Q,oe),S);return ve},t.prototype.fill=function(C,S,Q,oe){if(typeof C=="string"){if(typeof S=="string"?(oe=S,S=0,Q=this.length):typeof Q=="string"&&(oe=Q,Q=this.length),oe!==void 0&&typeof oe!="string")throw new TypeError("encoding must be a string");if(typeof oe=="string"&&!t.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);if(C.length===1){var ve=C.charCodeAt(0);(oe==="utf8"&&ve<128||oe==="latin1")&&(C=ve)}}else typeof C=="number"?C=C&255:typeof C=="boolean"&&(C=Number(C));if(S<0||this.length<S||this.length<Q)throw new RangeError("Out of range index");if(Q<=S)return this;S=S>>>0,Q=Q===void 0?this.length:Q>>>0,C||(C=0);var ye;if(typeof C=="number")for(ye=S;ye<Q;++ye)this[ye]=C;else{var Ae=t.isBuffer(C)?C:t.from(C,oe),ke=Ae.length;if(ke===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(ye=0;ye<Q-S;++ye)this[ye+S]=Ae[ye%ke]}return this};var pe=/[^+/0-9A-Za-z-_]/g;function ne(N){if(N=N.split("=")[0],N=N.trim().replace(pe,""),N.length<2)return"";for(;N.length%4!==0;)N=N+"=";return N}function ie(N,C){C=C||1/0;for(var S,Q=N.length,oe=null,ve=[],ye=0;ye<Q;++ye){if(S=N.charCodeAt(ye),S>55295&&S<57344){if(!oe){if(S>56319){(C-=3)>-1&&ve.push(239,191,189);continue}else if(ye+1===Q){(C-=3)>-1&&ve.push(239,191,189);continue}oe=S;continue}if(S<56320){(C-=3)>-1&&ve.push(239,191,189),oe=S;continue}S=(oe-55296<<10|S-56320)+65536}else oe&&(C-=3)>-1&&ve.push(239,191,189);if(oe=null,S<128){if((C-=1)<0)break;ve.push(S)}else if(S<2048){if((C-=2)<0)break;ve.push(S>>6|192,S&63|128)}else if(S<65536){if((C-=3)<0)break;ve.push(S>>12|224,S>>6&63|128,S&63|128)}else if(S<1114112){if((C-=4)<0)break;ve.push(S>>18|240,S>>12&63|128,S>>6&63|128,S&63|128)}else throw new Error("Invalid code point")}return ve}function X(N){for(var C=[],S=0;S<N.length;++S)C.push(N.charCodeAt(S)&255);return C}function J(N,C){for(var S,Q,oe,ve=[],ye=0;ye<N.length&&!((C-=2)<0);++ye)S=N.charCodeAt(ye),Q=S>>8,oe=S%256,ve.push(oe),ve.push(Q);return ve}function ee(N){return m.toByteArray(ne(N))}function H(N,C,S,Q){for(var oe=0;oe<Q&&!(oe+S>=C.length||oe>=N.length);++oe)C[oe+S]=N[oe];return oe}function P(N,C){return N instanceof C||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===C.name}function T(N){return N!==N}var Y=function(){for(var N="0123456789abcdef",C=new Array(256),S=0;S<16;++S)for(var Q=S*16,oe=0;oe<16;++oe)C[Q+oe]=N[S]+N[oe];return C}()}).call(this,E("buffer").Buffer)},{"base64-js":29,buffer:48,ieee754:73}],49:[function(E,j,w){var x=E("buffer").Buffer;j.exports=function(m,p){if(x.isBuffer(m)&&x.isBuffer(p)){if(typeof m.equals=="function")return m.equals(p);if(m.length!==p.length)return!1;for(var d=0;d<m.length;d++)if(m[d]!==p[d])return!1;return!0}}},{buffer:48}],50:[function(E,j,w){j.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],51:[function(E,j,w){(function(x){function m(c){return Array.isArray?Array.isArray(c):h(c)==="[object Array]"}w.isArray=m;function p(c){return typeof c=="boolean"}w.isBoolean=p;function d(c){return c===null}w.isNull=d;function s(c){return c==null}w.isNullOrUndefined=s;function a(c){return typeof c=="number"}w.isNumber=a;function r(c){return typeof c=="string"}w.isString=r;function t(c){return typeof c=="symbol"}w.isSymbol=t;function e(c){return c===void 0}w.isUndefined=e;function o(c){return h(c)==="[object RegExp]"}w.isRegExp=o;function l(c){return typeof c=="object"&&c!==null}w.isObject=l;function n(c){return h(c)==="[object Date]"}w.isDate=n;function f(c){return h(c)==="[object Error]"||c instanceof Error}w.isError=f;function i(c){return typeof c=="function"}w.isFunction=i;function u(c){return c===null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||typeof c=="symbol"||typeof c>"u"}w.isPrimitive=u,w.isBuffer=x.isBuffer;function h(c){return Object.prototype.toString.call(c)}}).call(this,{isBuffer:E("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76}],52:[function(E,j,w){var x=Object.create||A,m=Object.keys||M,p=Function.prototype.bind||I;function d(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=x(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}j.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0;var s=10,a;try{var r={};Object.defineProperty&&Object.defineProperty(r,"x",{value:0}),a=r.x===0}catch{a=!1}a?Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(R){if(typeof R!="number"||R<0||R!==R)throw new TypeError('"defaultMaxListeners" must be a positive number');s=R}}):d.defaultMaxListeners=s,d.prototype.setMaxListeners=function(F){if(typeof F!="number"||F<0||isNaN(F))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=F,this};function t(R){return R._maxListeners===void 0?d.defaultMaxListeners:R._maxListeners}d.prototype.getMaxListeners=function(){return t(this)};function e(R,F,z){if(F)R.call(z);else for(var D=R.length,O=b(R,D),k=0;k<D;++k)O[k].call(z)}function o(R,F,z,D){if(F)R.call(z,D);else for(var O=R.length,k=b(R,O),Z=0;Z<O;++Z)k[Z].call(z,D)}function l(R,F,z,D,O){if(F)R.call(z,D,O);else for(var k=R.length,Z=b(R,k),$=0;$<k;++$)Z[$].call(z,D,O)}function n(R,F,z,D,O,k){if(F)R.call(z,D,O,k);else for(var Z=R.length,$=b(R,Z),te=0;te<Z;++te)$[te].call(z,D,O,k)}function f(R,F,z,D){if(F)R.apply(z,D);else for(var O=R.length,k=b(R,O),Z=0;Z<O;++Z)k[Z].apply(z,D)}d.prototype.emit=function(F){var z,D,O,k,Z,$,te=F==="error";if($=this._events,$)te=te&&$.error==null;else if(!te)return!1;if(te){if(arguments.length>1&&(z=arguments[1]),z instanceof Error)throw z;var q=new Error('Unhandled "error" event. ('+z+")");throw q.context=z,q}if(D=$[F],!D)return!1;var U=typeof D=="function";switch(O=arguments.length,O){case 1:e(D,U,this);break;case 2:o(D,U,this,arguments[1]);break;case 3:l(D,U,this,arguments[1],arguments[2]);break;case 4:n(D,U,this,arguments[1],arguments[2],arguments[3]);break;default:for(k=new Array(O-1),Z=1;Z<O;Z++)k[Z-1]=arguments[Z];f(D,U,this,k)}return!0};function i(R,F,z,D){var O,k,Z;if(typeof z!="function")throw new TypeError('"listener" argument must be a function');if(k=R._events,k?(k.newListener&&(R.emit("newListener",F,z.listener?z.listener:z),k=R._events),Z=k[F]):(k=R._events=x(null),R._eventsCount=0),!Z)Z=k[F]=z,++R._eventsCount;else if(typeof Z=="function"?Z=k[F]=D?[z,Z]:[Z,z]:D?Z.unshift(z):Z.push(z),!Z.warned&&(O=t(R),O&&O>0&&Z.length>O)){Z.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+Z.length+' "'+String(F)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');$.name="MaxListenersExceededWarning",$.emitter=R,$.type=F,$.count=Z.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",$.name,$.message)}return R}d.prototype.addListener=function(F,z){return i(this,F,z,!1)},d.prototype.on=d.prototype.addListener,d.prototype.prependListener=function(F,z){return i(this,F,z,!0)};function u(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var R=new Array(arguments.length),F=0;F<R.length;++F)R[F]=arguments[F];this.listener.apply(this.target,R)}}function h(R,F,z){var D={fired:!1,wrapFn:void 0,target:R,type:F,listener:z},O=p.call(u,D);return O.listener=z,D.wrapFn=O,O}d.prototype.once=function(F,z){if(typeof z!="function")throw new TypeError('"listener" argument must be a function');return this.on(F,h(this,F,z)),this},d.prototype.prependOnceListener=function(F,z){if(typeof z!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(F,h(this,F,z)),this},d.prototype.removeListener=function(F,z){var D,O,k,Z,$;if(typeof z!="function")throw new TypeError('"listener" argument must be a function');if(O=this._events,!O)return this;if(D=O[F],!D)return this;if(D===z||D.listener===z)--this._eventsCount===0?this._events=x(null):(delete O[F],O.removeListener&&this.emit("removeListener",F,D.listener||z));else if(typeof D!="function"){for(k=-1,Z=D.length-1;Z>=0;Z--)if(D[Z]===z||D[Z].listener===z){$=D[Z].listener,k=Z;break}if(k<0)return this;k===0?D.shift():g(D,k),D.length===1&&(O[F]=D[0]),O.removeListener&&this.emit("removeListener",F,$||z)}return this},d.prototype.removeAllListeners=function(F){var z,D,O;if(D=this._events,!D)return this;if(!D.removeListener)return arguments.length===0?(this._events=x(null),this._eventsCount=0):D[F]&&(--this._eventsCount===0?this._events=x(null):delete D[F]),this;if(arguments.length===0){var k=m(D),Z;for(O=0;O<k.length;++O)Z=k[O],Z!=="removeListener"&&this.removeAllListeners(Z);return this.removeAllListeners("removeListener"),this._events=x(null),this._eventsCount=0,this}if(z=D[F],typeof z=="function")this.removeListener(F,z);else if(z)for(O=z.length-1;O>=0;O--)this.removeListener(F,z[O]);return this};function c(R,F,z){var D=R._events;if(!D)return[];var O=D[F];return O?typeof O=="function"?z?[O.listener||O]:[O]:z?y(O):b(O,O.length):[]}d.prototype.listeners=function(F){return c(this,F,!0)},d.prototype.rawListeners=function(F){return c(this,F,!1)},d.listenerCount=function(R,F){return typeof R.listenerCount=="function"?R.listenerCount(F):_.call(R,F)},d.prototype.listenerCount=_;function _(R){var F=this._events;if(F){var z=F[R];if(typeof z=="function")return 1;if(z)return z.length}return 0}d.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function g(R,F){for(var z=F,D=z+1,O=R.length;D<O;z+=1,D+=1)R[z]=R[D];R.pop()}function b(R,F){for(var z=new Array(F),D=0;D<F;++D)z[D]=R[D];return z}function y(R){for(var F=new Array(R.length),z=0;z<F.length;++z)F[z]=R[z].listener||R[z];return F}function A(R){var F=function(){};return F.prototype=R,new F}function M(R){for(var F in R)Object.prototype.hasOwnProperty.call(R,F);return F}function I(R){var F=this;return function(){return F.apply(R,arguments)}}},{}],53:[function(E,j,w){var x=E("./lib/parser");function m(){return(0,eval)("this")}j.exports={create:function(p,d){if(d=d||m(),p instanceof d.ArrayBuffer){var s=E("./lib/dom-bufferstream");return new x(new s(p,0,p.byteLength,!0,d))}else{var a=E("./lib/bufferstream");return new x(new a(p,0,p.length,!0))}}}},{"./lib/bufferstream":54,"./lib/dom-bufferstream":56,"./lib/parser":60}],54:[function(E,j,w){function x(m,p,d,s){this.buffer=m,this.offset=p||0,d=typeof d=="number"?d:m.length,this.endPosition=this.offset+d,this.setBigEndian(s)}x.prototype={setBigEndian:function(m){this.bigEndian=!!m},nextUInt8:function(){var m=this.buffer.readUInt8(this.offset);return this.offset+=1,m},nextInt8:function(){var m=this.buffer.readInt8(this.offset);return this.offset+=1,m},nextUInt16:function(){var m=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,m},nextUInt32:function(){var m=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,m},nextInt16:function(){var m=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,m},nextInt32:function(){var m=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,m},nextFloat:function(){var m=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,m},nextDouble:function(){var m=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,m},nextBuffer:function(m){var p=this.buffer.slice(this.offset,this.offset+m);return this.offset+=m,p},remainingLength:function(){return this.endPosition-this.offset},nextString:function(m){var p=this.buffer.toString("utf8",this.offset,this.offset+m);return this.offset+=m,p},mark:function(){var m=this;return{openWithOffset:function(p){return p=(p||0)+this.offset,new x(m.buffer,p,m.endPosition-p,m.bigEndian)},offset:this.offset}},offsetFrom:function(m){return this.offset-m.offset},skip:function(m){this.offset+=m},branch:function(m,p){return p=typeof p=="number"?p:this.endPosition-(this.offset+m),new x(this.buffer,this.offset+m,p,this.bigEndian)}},j.exports=x},{}],55:[function(E,j,w){function x(t){return parseInt(t,10)}var m=3600,p=60;function d(t,e){t=t.map(x),e=e.map(x);var o=t[0],l=t[1]-1,n=t[2],f=e[0],i=e[1],u=e[2],h=Date.UTC(o,l,n,f,i,u,0),c=h/1e3;return c}function s(t){var e=t.substr(0,10).split("-"),o=t.substr(11,8).split(":"),l=t.substr(19,6),n=l.split(":").map(x),f=n[0]*m+n[1]*p,i=d(e,o);if(i-=f,typeof i=="number"&&!isNaN(i))return i}function a(t){var e=t.split(" "),o=e[0].split(":"),l=e[1].split(":"),n=d(o,l);if(typeof n=="number"&&!isNaN(n))return n}function r(t){var e=t.length===19&&t.charAt(4)===":",o=t.length===25&&t.charAt(10)==="T";if(o)return s(t);if(e)return a(t)}j.exports={parseDateWithSpecFormat:a,parseDateWithTimezoneFormat:s,parseExifDate:r}},{}],56:[function(E,j,w){function x(m,p,d,s,a,r){this.global=a,p=p||0,d=d||m.byteLength-p,this.arrayBuffer=m.slice(p,p+d),this.view=new a.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(s),this.offset=0,this.parentOffset=(r||0)+p}x.prototype={setBigEndian:function(m){this.littleEndian=!m},nextUInt8:function(){var m=this.view.getUint8(this.offset);return this.offset+=1,m},nextInt8:function(){var m=this.view.getInt8(this.offset);return this.offset+=1,m},nextUInt16:function(){var m=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,m},nextUInt32:function(){var m=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,m},nextInt16:function(){var m=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,m},nextInt32:function(){var m=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,m},nextFloat:function(){var m=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,m},nextDouble:function(){var m=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,m},nextBuffer:function(m){var p=this.arrayBuffer.slice(this.offset,this.offset+m);return this.offset+=m,p},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(m){var p=this.arrayBuffer.slice(this.offset,this.offset+m);return p=String.fromCharCode.apply(null,new this.global.Uint8Array(p)),this.offset+=m,p},mark:function(){var m=this;return{openWithOffset:function(p){return p=(p||0)+this.offset,new x(m.arrayBuffer,p,m.arrayBuffer.byteLength-p,!m.littleEndian,m.global,m.parentOffset)},offset:this.offset,getParentOffset:function(){return m.parentOffset}}},offsetFrom:function(m){return this.parentOffset+this.offset-(m.offset+m.getParentOffset())},skip:function(m){this.offset+=m},branch:function(m,p){return p=typeof p=="number"?p:this.arrayBuffer.byteLength-(this.offset+m),new x(this.arrayBuffer,this.offset+m,p,!this.littleEndian,this.global,this.parentOffset)}},j.exports=x},{}],57:[function(E,j,w){j.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},{}],58:[function(E,j,w){function x(a,r){switch(a){case 1:return r.nextUInt8();case 3:return r.nextUInt16();case 4:return r.nextUInt32();case 5:return[r.nextUInt32(),r.nextUInt32()];case 6:return r.nextInt8();case 8:return r.nextUInt16();case 9:return r.nextUInt32();case 10:return[r.nextInt32(),r.nextInt32()];case 11:return r.nextFloat();case 12:return r.nextDouble();default:throw new Error("Invalid format while decoding: "+a)}}function m(a){switch(a){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function p(a,r){var t=r.nextUInt16(),e=r.nextUInt16(),o=m(e),l=r.nextUInt32(),n=o*l,f,i;if(n>4&&(r=a.openWithOffset(r.nextUInt32())),e===2){f=r.nextString(l);var u=f.indexOf("\0");u!==-1&&(f=f.substr(0,u))}else if(e===7)f=r.nextBuffer(l);else if(e!==0)for(f=[],i=0;i<l;++i)f.push(x(e,r));return n<4&&r.skip(4-n),[t,f,e]}function d(a,r,t){var e=r.nextUInt16(),o,l;for(l=0;l<e;++l)o=p(a,r),t(o[0],o[1],o[2])}function s(a){var r=a.nextString(6);if(r!=="Exif\0\0")throw new Error("Invalid EXIF header");var t=a.mark(),e=a.nextUInt16();if(e===18761)a.setBigEndian(!1);else if(e===19789)a.setBigEndian(!0);else throw new Error("Invalid TIFF header");if(a.nextUInt16()!==42)throw new Error("Invalid TIFF data");return t}j.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(a,r){var t;try{t=s(a)}catch{return!1}var e,o,l,n=t.openWithOffset(a.nextUInt32()),f=this.IFD0;d(t,n,function(b,y,A){switch(b){case 34853:o=y[0];break;case 34665:e=y[0];break;default:r(f,b,y,A);break}});var i=n.nextUInt32();if(i!==0){var u=t.openWithOffset(i);d(t,u,r.bind(null,this.IFD1))}if(o){var h=t.openWithOffset(o);d(t,h,r.bind(null,this.GPSIFD))}if(e){var c=t.openWithOffset(e),_=this.InteropIFD;d(t,c,function(b,y,A){b===40965?l=y[0]:r(_,b,y,A)})}if(l){var g=t.openWithOffset(l);d(t,g,r.bind(null,this.InteropIFD))}return!0}}},{}],59:[function(E,j,w){j.exports={parseSections:function(x,m){var p,d;for(x.setBigEndian(!0);x.remainingLength()>0&&d!==218;){if(x.nextUInt8()!==255)throw new Error("Invalid JPEG section offset");d=x.nextUInt8(),d>=208&&d<=217||d===218?p=0:p=x.nextUInt16()-2,m(d,x.branch(0,p)),x.skip(p)}},getSizeFromSOFSection:function(x){return x.skip(1),{height:x.nextUInt16(),width:x.nextUInt16()}},getSectionName:function(x){var m,p;switch(x){case 216:m="SOI";break;case 196:m="DHT";break;case 219:m="DQT";break;case 221:m="DRI";break;case 218:m="SOS";break;case 254:m="COM";break;case 217:m="EOI";break;default:x>=224&&x<=239?(m="APP",p=x-224):x>=192&&x<=207&&x!==196&&x!==200&&x!==204?(m="SOF",p=x-192):x>=208&&x<=215&&(m="RST",p=x-208);break}var d={name:m};return typeof p=="number"&&(d.index=p),d}}},{}],60:[function(E,j,w){var x=E("./jpeg"),m=E("./exif"),p=E("./simplify");function d(a,r,t,e,o,l,n){this.startMarker=a,this.tags=r,this.imageSize=t,this.thumbnailOffset=e,this.thumbnailLength=o,this.thumbnailType=l,this.app1Offset=n}d.prototype={hasThumbnail:function(a){return!this.thumbnailOffset||!this.thumbnailLength?!1:typeof a!="string"?!0:a.toLowerCase().trim()==="image/jpeg"?this.thumbnailType===6:a.toLowerCase().trim()==="image/tiff"?this.thumbnailType===1:!1},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var a=this._getThumbnailStream(),r;return x.parseSections(a,function(t,e){x.getSectionName(t).name==="SOF"&&(r=x.getSizeFromSOFSection(e))}),r}};function s(a){this.stream=a,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}s.prototype={enableBinaryFields:function(a){return this.flags.readBinaryTags=!!a,this},enablePointers:function(a){return this.flags.hidePointers=!a,this},enableTagNames:function(a){return this.flags.resolveTagNames=!!a,this},enableImageSize:function(a){return this.flags.imageSize=!!a,this},enableReturnTags:function(a){return this.flags.returnTags=!!a,this},enableSimpleValues:function(a){return this.flags.simplifyValues=!!a,this},parse:function(){var a=this.stream.mark(),r=a.openWithOffset(0),t=this.flags,e,o,l,n,f,i,u,h,c;return t.resolveTagNames&&(u=E("./exif-tags")),t.resolveTagNames?(e={},h=function(_){return e[_.name]},c=function(_,g){e[_.name]=g}):(e=[],h=function(_){var g;for(g=0;g<e.length;++g)if(e[g].type===_.type&&e[g].section===_.section)return e.value},c=function(_,g){var b;for(b=0;b<e.length;++b)if(e[b].type===_.type&&e[b].section===_.section){e.value=g;return}}),x.parseSections(r,function(_,g){var b,y=g.offsetFrom(a);_===225?(b=m.parseTags(g,function(A,M,I,R){if(!(!t.readBinaryTags&&R===7)){if(M===513){if(l=I[0],t.hidePointers)return}else if(M===514){if(n=I[0],t.hidePointers)return}else if(M===259&&(f=I[0],t.hidePointers))return;if(t.returnTags)if(t.simplifyValues&&(I=p.simplifyValue(I,R)),t.resolveTagNames){var F=A===m.GPSIFD?u.gps:u.exif,z=F[M];z||(z=u.exif[M]),e.hasOwnProperty(z)||(e[z]=I)}else e.push({section:A,type:M,value:I})}}),b&&(i=y)):t.imageSize&&x.getSectionName(_).name==="SOF"&&(o=x.getSizeFromSOFSection(g))}),t.simplifyValues&&(p.castDegreeValues(h,c),p.castDateValues(h,c)),new d(a,e,o,l,n,f,i)}},j.exports=s},{"./exif":58,"./exif-tags":57,"./jpeg":59,"./simplify":61}],61:[function(E,j,w){var x=E("./exif"),m=E("./date"),p=[{section:x.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:x.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],d=[{section:x.SubIFD,type:306,name:"ModifyDate"},{section:x.SubIFD,type:36867,name:"DateTimeOriginal"},{section:x.SubIFD,type:36868,name:"CreateDate"},{section:x.SubIFD,type:306,name:"ModifyDate"}];j.exports={castDegreeValues:function(s,a){p.forEach(function(r){var t=s(r);if(t){var e=s({section:r.section,type:r.refType,name:r.refName}),o=e===r.posVal?1:-1,l=(t[0]+t[1]/60+t[2]/3600)*o;a(r,l)}})},castDateValues:function(s,a){d.forEach(function(r){var t=s(r);if(t){var e=m.parseExifDate(t);typeof e<"u"&&a(r,e)}})},simplifyValue:function(s,a){return Array.isArray(s)&&(s=s.map(function(r){return a===10||a===5?r[0]/r[1]:r}),s.length===1&&(s=s[0])),s}}},{"./date":55,"./exif":58}],62:[function(E,j,w){var x=E("@babel/runtime/helpers/interopRequireDefault"),m=x(E("@babel/runtime/helpers/toConsumableArray")),p=function(t){return(0,m.default)(t).map(function(e){return e.charCodeAt(0)})},d=p("META-INF/mozilla.rsa"),s=p("[Content_Types].xml"),a=p("_rels/.rels");j.exports=function(r){var t=r instanceof Uint8Array?r:new Uint8Array(r);if(!(t&&t.length>1))return null;var e=function(A,M){M=Object.assign({offset:0},M);for(var I=0;I<A.length;I++)if(M.mask){if(A[I]!==(M.mask[I]&t[I+M.offset]))return!1}else if(A[I]!==t[I+M.offset])return!1;return!0},o=function(A,M){return e(p(A),M)};if(e([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(e([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(e([71,73,70]))return{ext:"gif",mime:"image/gif"};if(e([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(e([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((e([73,73,42,0])||e([77,77,0,42]))&&e([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(e([73,73,42,0])||e([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(e([66,77]))return{ext:"bmp",mime:"image/bmp"};if(e([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(e([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(e([80,75,3,4])){if(e([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(e(d,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(o("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(o("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(o("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};var l=function(A){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return A.findIndex(function(I,R,F){return R>=M&&F[R]===80&&F[R+1]===75&&F[R+2]===3&&F[R+3]===4})},n=0,f=!1,i=null;do{var u=n+30;if(f||(f=e(s,{offset:u})||e(a,{offset:u})),i||(o("word/",{offset:u})?i={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:o("ppt/",{offset:u})?i={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:o("xl/",{offset:u})&&(i={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),f&&i)return i;n=l(t,u)}while(n>=0);if(i)return i}if(e([80,75])&&(t[2]===3||t[2]===5||t[2]===7)&&(t[3]===4||t[3]===6||t[3]===8))return{ext:"zip",mime:"application/zip"};if(e([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(e([82,97,114,33,26,7])&&(t[6]===0||t[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(e([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(e([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(e([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(e([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(e([51,103,112,53])||e([0,0,0])&&e([102,116,121,112],{offset:4})&&(e([109,112,52,49],{offset:8})||e([109,112,52,50],{offset:8})||e([105,115,111,109],{offset:8})||e([105,115,111,50],{offset:8})||e([109,109,112,52],{offset:8})||e([77,52,86],{offset:8})||e([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(e([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(e([26,69,223,163])){var h=t.subarray(4,4100),c=h.findIndex(function(y,A,M){return M[A]===66&&M[A+1]===130});if(c!==-1){var _=c+3,g=function(A){return(0,m.default)(A).every(function(M,I){return h[_+I]===M.charCodeAt(0)})};if(g("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(g("webm"))return{ext:"webm",mime:"video/webm"}}}if(e([0,0,0,20,102,116,121,112,113,116,32,32])||e([102,114,101,101],{offset:4})||e([102,116,121,112,113,116,32,32],{offset:4})||e([109,100,97,116],{offset:4})||e([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(e([82,73,70,70])){if(e([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(e([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(e([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(e([48,38,178,117,142,102,207,17,166,217]))return{ext:"wmv",mime:"video/x-ms-wmv"};if(e([0,0,1,186])||e([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(e([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(var b=0;b<2&&b<t.length-16;b++){if(e([73,68,51],{offset:b})||e([255,226],{offset:b,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(e([255,228],{offset:b,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(e([255,248],{offset:b,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(e([255,240],{offset:b,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(e([102,116,121,112,77,52,65],{offset:4})||e([77,52,65,32]))return{ext:"m4a",mime:"audio/mp4"};if(e([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(e([79,103,103,83]))return e([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:e([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:e([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:e([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:e([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(e([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(e([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(e([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(e([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(e([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(e([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((t[0]===67||t[0]===70)&&e([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(e([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(e([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(e([119,79,70,70])&&(e([0,1,0,0],{offset:4})||e([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(e([119,79,70,50])&&(e([0,1,0,0],{offset:4})||e([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(e([76,80],{offset:34})&&(e([0,0,1],{offset:8})||e([1,0,2],{offset:8})||e([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(e([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(e([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(e([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(e([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(e([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(e([37,33]))return{ext:"ps",mime:"application/postscript"};if(e([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(e([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(e([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(e([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(e([77,83,67,70])||e([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(e([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(e([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(e([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(e([31,160])||e([31,157]))return{ext:"Z",mime:"application/x-compress"};if(e([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(e([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(e([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(e([71],{offset:4})&&(e([71],{offset:192})||e([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(e([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(e([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(e([0,0,0,12,106,80,32,32,13,10,135,10])){if(e([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(e([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(e([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(e([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(e([70,79,82,77,0]))return{ext:"aif",mime:"audio/aiff"};if(o("<?xml "))return{ext:"xml",mime:"application/xml"};if(e([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(e([102,116,121,112],{offset:4})){if(e([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(e([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(e([104,101,105,99],{offset:8})||e([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(e([104,101,118,99],{offset:8})||e([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return e([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:null}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20}],63:[function(E,j,w){var x=E("is-callable"),m=Object.prototype.toString,p=Object.prototype.hasOwnProperty,d=function(e,o,l){for(var n=0,f=e.length;n<f;n++)p.call(e,n)&&(l==null?o(e[n],n,e):o.call(l,e[n],n,e))},s=function(e,o,l){for(var n=0,f=e.length;n<f;n++)l==null?o(e.charAt(n),n,e):o.call(l,e.charAt(n),n,e)},a=function(e,o,l){for(var n in e)p.call(e,n)&&(l==null?o(e[n],n,e):o.call(l,e[n],n,e))},r=function(e,o,l){if(!x(o))throw new TypeError("iterator must be a function");var n;arguments.length>=3&&(n=l),m.call(e)==="[object Array]"?d(e,o,n):typeof e=="string"?s(e,o,n):a(e,o,n)};j.exports=r},{"is-callable":77}],64:[function(E,j,w){function x(s,a,r,o){var e=0,o=o===void 0?{}:o,l=o.loop===void 0?null:o.loop,n=o.palette===void 0?null:o.palette;if(a<=0||r<=0||a>65535||r>65535)throw new Error("Width/Height invalid.");function f(y){var A=y.length;if(A<2||A>256||A&A-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return A}s[e++]=71,s[e++]=73,s[e++]=70,s[e++]=56,s[e++]=57,s[e++]=97;var i=0,u=0;if(n!==null){for(var h=f(n);h>>=1;)++i;if(h=1<<i,--i,o.background!==void 0){if(u=o.background,u>=h)throw new Error("Background index out of range.");if(u===0)throw new Error("Background index explicitly passed as 0.")}}if(s[e++]=a&255,s[e++]=a>>8&255,s[e++]=r&255,s[e++]=r>>8&255,s[e++]=(n!==null?128:0)|i,s[e++]=u,s[e++]=0,n!==null)for(var c=0,_=n.length;c<_;++c){var g=n[c];s[e++]=g>>16&255,s[e++]=g>>8&255,s[e++]=g&255}if(l!==null){if(l<0||l>65535)throw new Error("Loop count invalid.");s[e++]=33,s[e++]=255,s[e++]=11,s[e++]=78,s[e++]=69,s[e++]=84,s[e++]=83,s[e++]=67,s[e++]=65,s[e++]=80,s[e++]=69,s[e++]=50,s[e++]=46,s[e++]=48,s[e++]=3,s[e++]=1,s[e++]=l&255,s[e++]=l>>8&255,s[e++]=0}var b=!1;this.addFrame=function(y,A,M,I,R,F){if(b===!0&&(--e,b=!1),F=F===void 0?{}:F,y<0||A<0||y>65535||A>65535)throw new Error("x/y invalid.");if(M<=0||I<=0||M>65535||I>65535)throw new Error("Width/Height invalid.");if(R.length<M*I)throw new Error("Not enough pixels for the frame size.");var z=!0,D=F.palette;if(D==null&&(z=!1,D=n),D==null)throw new Error("Must supply either a local or global palette.");for(var O=f(D),k=0;O>>=1;)++k;O=1<<k;var Z=F.delay===void 0?0:F.delay,$=F.disposal===void 0?0:F.disposal;if($<0||$>3)throw new Error("Disposal out of range.");var te=!1,q=0;if(F.transparent!==void 0&&F.transparent!==null&&(te=!0,q=F.transparent,q<0||q>=O))throw new Error("Transparent color index.");if(($!==0||te||Z!==0)&&(s[e++]=33,s[e++]=249,s[e++]=4,s[e++]=$<<2|(te===!0?1:0),s[e++]=Z&255,s[e++]=Z>>8&255,s[e++]=q,s[e++]=0),s[e++]=44,s[e++]=y&255,s[e++]=y>>8&255,s[e++]=A&255,s[e++]=A>>8&255,s[e++]=M&255,s[e++]=M>>8&255,s[e++]=I&255,s[e++]=I>>8&255,s[e++]=z===!0?128|k-1:0,z===!0)for(var U=0,W=D.length;U<W;++U){var G=D[U];s[e++]=G>>16&255,s[e++]=G>>8&255,s[e++]=G&255}return e=m(s,e,k<2?2:k,R),e},this.end=function(){return b===!1&&(s[e++]=59,b=!0),e},this.getOutputBuffer=function(){return s},this.setOutputBuffer=function(y){s=y},this.getOutputBufferPosition=function(){return e},this.setOutputBufferPosition=function(y){e=y}}function m(s,a,r,t){s[a++]=r;var e=a++,o=1<<r,l=o-1,n=o+1,f=n+1,i=r+1,u=0,h=0;function c(F){for(;u>=F;)s[a++]=h&255,h>>=8,u-=8,a===e+256&&(s[e]=255,e=a++)}function _(F){h|=F<<u,u+=i,c(8)}var g=t[0]&l,b={};_(o);for(var y=1,A=t.length;y<A;++y){var M=t[y]&l,I=g<<8|M,R=b[I];if(R===void 0){for(h|=g<<u,u+=i;u>=8;)s[a++]=h&255,h>>=8,u-=8,a===e+256&&(s[e]=255,e=a++);f===4096?(_(o),f=n+1,i=r+1,b={}):(f>=1<<i&&++i,b[I]=f++),g=M}else g=R}return _(g),_(n),c(1),e+1===a?s[e]=0:(s[e]=a-e-1,s[a++]=0),a}function p(s){var a=0;if(s[a++]!==71||s[a++]!==73||s[a++]!==70||s[a++]!==56||(s[a++]+1&253)!==56||s[a++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=s[a++]|s[a++]<<8,t=s[a++]|s[a++]<<8,e=s[a++],o=e>>7,l=e&7,n=1<<l+1;s[a++],s[a++];var f=null,i=null;o&&(f=a,i=n,a+=n*3);var u=!0,h=[],c=0,_=null,g=0,b=null;for(this.width=r,this.height=t;u&&a<s.length;)switch(s[a++]){case 33:switch(s[a++]){case 255:if(s[a]!==11||s[a+1]==78&&s[a+2]==69&&s[a+3]==84&&s[a+4]==83&&s[a+5]==67&&s[a+6]==65&&s[a+7]==80&&s[a+8]==69&&s[a+9]==50&&s[a+10]==46&&s[a+11]==48&&s[a+12]==3&&s[a+13]==1&&s[a+16]==0)a+=14,b=s[a++]|s[a++]<<8,a++;else for(a+=12;;){var y=s[a++];if(!(y>=0))throw Error("Invalid block size");if(y===0)break;a+=y}break;case 249:if(s[a++]!==4||s[a+4]!==0)throw new Error("Invalid graphics extension block.");var A=s[a++];c=s[a++]|s[a++]<<8,_=s[a++],A&1||(_=null),g=A>>2&7,a++;break;case 254:for(;;){var y=s[a++];if(!(y>=0))throw Error("Invalid block size");if(y===0)break;a+=y}break;default:throw new Error("Unknown graphic control label: 0x"+s[a-1].toString(16))}break;case 44:var M=s[a++]|s[a++]<<8,I=s[a++]|s[a++]<<8,R=s[a++]|s[a++]<<8,F=s[a++]|s[a++]<<8,z=s[a++],D=z>>7,O=z>>6&1,k=z&7,Z=1<<k+1,$=f,te=i,q=!1;if(D){var q=!0;$=a,te=Z,a+=Z*3}var U=a;for(a++;;){var y=s[a++];if(!(y>=0))throw Error("Invalid block size");if(y===0)break;a+=y}h.push({x:M,y:I,width:R,height:F,has_local_palette:q,palette_offset:$,palette_size:te,data_offset:U,data_length:a-U,transparent_index:_,interlaced:!!O,delay:c,disposal:g});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+s[a-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return b},this.frameInfo=function(W){if(W<0||W>=h.length)throw new Error("Frame index out of range.");return h[W]},this.decodeAndBlitFrameBGRA=function(W,G){var V=this.frameInfo(W),re=V.width*V.height,se=new Uint8Array(re);d(s,V.data_offset,se,re);var fe=V.palette_offset,ue=V.transparent_index;ue===null&&(ue=256);var pe=V.width,ne=r-pe,ie=pe,X=(V.y*r+V.x)*4,J=((V.y+V.height)*r+V.x)*4,ee=X,H=ne*4;V.interlaced===!0&&(H+=r*4*7);for(var P=8,T=0,Y=se.length;T<Y;++T){var N=se[T];if(ie===0&&(ee+=H,ie=pe,ee>=J&&(H=ne*4+r*4*(P-1),ee=X+(pe+ne)*(P<<1),P>>=1)),N===ue)ee+=4;else{var C=s[fe+N*3],S=s[fe+N*3+1],Q=s[fe+N*3+2];G[ee++]=Q,G[ee++]=S,G[ee++]=C,G[ee++]=255}--ie}},this.decodeAndBlitFrameRGBA=function(W,G){var V=this.frameInfo(W),re=V.width*V.height,se=new Uint8Array(re);d(s,V.data_offset,se,re);var fe=V.palette_offset,ue=V.transparent_index;ue===null&&(ue=256);var pe=V.width,ne=r-pe,ie=pe,X=(V.y*r+V.x)*4,J=((V.y+V.height)*r+V.x)*4,ee=X,H=ne*4;V.interlaced===!0&&(H+=r*4*7);for(var P=8,T=0,Y=se.length;T<Y;++T){var N=se[T];if(ie===0&&(ee+=H,ie=pe,ee>=J&&(H=ne*4+r*4*(P-1),ee=X+(pe+ne)*(P<<1),P>>=1)),N===ue)ee+=4;else{var C=s[fe+N*3],S=s[fe+N*3+1],Q=s[fe+N*3+2];G[ee++]=C,G[ee++]=S,G[ee++]=Q,G[ee++]=255}--ie}}}function d(s,a,r,t){for(var e=s[a++],o=1<<e,l=o+1,n=l+1,f=e+1,i=(1<<f)-1,u=0,h=0,c=0,_=s[a++],g=new Int32Array(4096),b=null;;){for(;u<16&&_!==0;)h|=s[a++]<<u,u+=8,_===1?_=s[a++]:--_;if(u<f)break;var y=h&i;if(h>>=f,u-=f,y===o){n=l+1,f=e+1,i=(1<<f)-1,b=null;continue}else if(y===l)break;for(var A=y<n?y:b,M=0,I=A;I>o;)I=g[I]>>8,++M;var R=I,F=c+M+(A!==y?1:0);if(F>t){console.log("Warning, gif stream longer than expected.");return}r[c++]=R,c+=M;var z=c;for(A!==y&&(r[c++]=R),I=A;M--;)I=g[I],r[--z]=I&255,I>>=8;b!==null&&n<4096&&(g[n++]=b<<8|R,n>=i+1&&f<12&&(++f,i=i<<1|1)),b=y}return c!==t&&console.log("Warning, gif stream shorter than expected."),r}try{w.GifWriter=x,w.GifReader=p}catch{}},{}],65:[function(E,j,w){(function(x){class m{constructor(...d){if(d.length===0)throw new Error("constructor requires parameters");const s=d[0];if(s!==null&&typeof s=="object")if(s instanceof m){const a=s.bitmap;this.bitmap={width:a.width,height:a.height,data:new x(a.width*a.height*4)},a.data.copy(this.bitmap.data)}else if(s.width&&s.height&&s.data)this.bitmap=s;else throw new Error("unrecognized constructor parameters");else if(typeof s=="number"&&typeof d[1]=="number"){const a=s,r=d[1],t=d[2];this.bitmap={width:a,height:r},x.isBuffer(t)?this.bitmap.data=t:(this.bitmap.data=new x(a*r*4),typeof t=="number"&&this.fillRGBA(t))}else throw new Error("unrecognized constructor parameters")}blit(d,s,a,r,t,e,o){if(r+e>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(s+e>d.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(t+o>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(a+o>d.bitmap.height)throw new Erro("copy exceeds height of target bitmap");const l=this.bitmap.data,n=d.bitmap.data,f=this.bitmap.width*4,i=d.bitmap.width*4,u=e*4;let h=t*f+r*4,c=a*i+s*4;for(;--o>=0;)l.copy(n,c,h,h+u),h+=f,c+=i;return this}fillRGBA(d){const s=this.bitmap.data,a=this.bitmap.height*4;let r=0;for(;r<a;)s.writeUInt32BE(d,r),r+=4;for(;r<s.length;)s.copy(s,r,0,a),r+=a;return this}getRGBA(d,s){const a=(s*this.bitmap.width+d)*4;return this.bitmap.data.readUInt32BE(a)}getRGBASet(){const d=new Set,s=this.bitmap.data;for(let a=0;a<s.length;a+=4)d.add(s.readUInt32BE(a,!0));return d}greyscale(){const d=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(s,a,r)=>{const t=Math.round(.299*d[r]+.587*d[r+1]+.114*d[r+2]);d[r]=t,d[r+1]=t,d[r+2]=t}),this}reframe(d,s,a,r,t){const e=d<0?0:d,o=s<0?0:s,l=a+e>this.bitmap.width?this.bitmap.width-e:a,n=r+o>this.bitmap.height?this.bitmap.height-o:r,f=d<0?-d:0,i=s<0?-s:0;let u;if(t===void 0){if(e!==d||o!=s||l!==a||n!==r)throw new GifError("fillRGBA required for this reframing");u=new m(a,r)}else u=new m(a,r,t);return this.blit(u,f,i,e,o,l,n),this.bitmap=u.bitmap,this}scale(d){if(d===1)return;if(!Number.isInteger(d)||d<1)throw new Error("the scale must be an integer >= 1");const s=this.bitmap.width,a=this.bitmap.height,r=s*d*4,t=this.bitmap.data,e=new x(a*r*d);let o=0,l,n=0;for(let f=0;f<a;++f){l=n;for(let i=0;i<s;++i){const u=t.readUInt32BE(o,!0);for(let h=0;h<d;++h)e.writeUInt32BE(u,n),n+=4;o+=4}for(let i=1;i<d;++i)e.copy(e,n,l,n),n+=r,l+=r}return this.bitmap={width:s*d,height:a*d,data:e},this}scanAllCoords(d){const s=this.bitmap.width,a=this.bitmap.data.length;let r=0,t=0;for(let e=0;e<a;e+=4)d(r,t,e),++r===s&&(r=0,++t)}scanAllIndexes(d){const s=this.bitmap.data.length;for(let a=0;a<s;a+=4)d(a)}}j.exports=m}).call(this,E("buffer").Buffer)},{buffer:48}],66:[function(E,j,w){class x{constructor(d,s,a){this.width=a.width,this.height=a.height,this.loops=a.loops,this.usesTransparency=a.usesTransparency,this.colorScope=a.colorScope,this.frames=s,this.buffer=d}}x.GlobalColorsPreferred=0,x.GlobalColorsOnly=1,x.LocalColorsOnly=2;class m extends Error{constructor(d){super(d),d instanceof Error&&(this.stack="Gif"+d.stack)}}w.Gif=x,w.GifError=m},{}],67:[function(E,j,w){(function(x,m){const p=E("omggif"),{Gif:d,GifError:s}=E("./gif");let a;x.nextTick(()=>{a=E("./gifutil")});const{GifFrame:r}=E("./gifframe"),t=200,e=100;class o{constructor(y={}){this._transparentRGB=null,typeof y.transparentRGB=="number"&&y.transparentRGB!==0&&(this._transparentRGBA=y.transparentRGB*256),this._testInitialBufferSize=0}decodeGif(y){try{let A;try{A=new p.GifReader(y)}catch(F){throw new s(F)}const M=A.numFrames(),I=[],R={width:A.width,height:A.height,loops:A.loopCount()};R.usesTransparency=!1;for(let F=0;F<M;++F){const z=this._decodeFrame(A,F,R.usesTransparency);I.push(z.frame),z.usesTransparency&&(R.usesTransparency=!0)}return Promise.resolve(new d(y,I,R))}catch(A){return Promise.reject(A)}}encodeGif(y,A={}){try{if(y===null||y.length===0)throw new s("there are no frames");const M=a.getMaxDimensions(y);return A=Object.assign({},A),A.width=M.maxWidth,A.height=M.maxHeight,A.loops=A.loops||0,A.colorScope=A.colorScope||d.GlobalColorsPreferred,Promise.resolve(this._encodeGif(y,A))}catch(M){return Promise.reject(M)}}_decodeFrame(y,A,M){let I,R;try{if(I=y.frameInfo(A),R=new m(y.width*y.height*4),y.decodeAndBlitFrameRGBA(A,R),I.width!==y.width||I.height!==y.height){if(I.y&&(R=R.slice(I.y*y.width*4)),y.width>I.width)for(let D=0;D<I.height;++D)R.copy(R,D*I.width*4,(I.x+D*y.width)*4,(I.x+D*y.width)*4+I.width*4);R=R.slice(0,I.width*I.height*4)}}catch(D){throw new s(D)}let F=!1;if(this._transparentRGBA===null){if(!M)for(let D=3;D<R.length;D+=4)R[D]===0&&(F=!0,D=R.length)}else for(let D=3;D<R.length;D+=4)R[D]===0&&(R.writeUInt32BE(this._transparentRGBA,D-3),F=!0);return{frame:new r(I.width,I.height,R,{xOffset:I.x,yOffset:I.y,disposalMethod:I.disposal,interlaced:I.interlaced,delayCentisecs:I.delay}),usesTransparency:F}}_encodeGif(y,A){let M;if(A.colorScope===d.LocalColorsOnly)M=a.getColorInfo(y,0);else if(M=a.getColorInfo(y,256),!M.colors){if(A.colorScope===d.GlobalColorsOnly)throw new s("Too many color indexes for global color table");A.colorScope=d.LocalColorsOnly}A.usesTransparency=M.usesTransparency;const I=M.palettes;return A.colorScope===d.LocalColorsOnly?i(y,A,2e3,I):f(y,A,2e3,M)}_getSizeEstimateGlobal(y,A){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let M=t+3*256;const I=_(y);return A.forEach(R=>{M+=h(R,I)}),M}_getSizeEstimateLocal(y,A){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let M=t;for(let I=0;I<A.length;++I){const R=y[I],F=_(R);M+=h(A[I],F)}return M}}w.GifCodec=o;function l(b,y){const A=b.indexOf(y);return A===-1?null:A}function n(b,y){for(var A=0,M=b.length-1,I;A<=M;)if(I=Math.floor((A+M)/2),b[I]>y)M=I-1;else if(b[I]<y)A=I+1;else return I;return null}function f(b,y,A,M){const I={colors:M.colors.slice(),usesTransparency:M.usesTransparency};u(I);const R={palette:I.colors,loop:y.loops};let F=new m(A),z;try{z=new p.GifWriter(F,y.width,y.height,R)}catch(D){throw new s(D)}for(let D=0;D<b.length;++D)F=g(z,D,b[D],M,!1);return new d(F.slice(0,z.end()),b,y)}function i(b,y,A,M){const I={loop:y.loops};let R=new m(A),F;try{F=new p.GifWriter(R,y.width,y.height,I)}catch(z){throw new s(z)}for(let z=0;z<b.length;++z)R=g(F,z,b[z],M[z],!0);return new d(R.slice(0,F.end()),b,y)}function u(b){const y=b.colors;b.usesTransparency&&y.push(0);const A=y.length;let M=2;for(;A>M;)M<<=1;y.length=M,y.fill(0,A)}function h(b,y){let A=b.bitmap.width*b.bitmap.height;return A=Math.ceil(A*y/8),A+=Math.ceil(A/255),e+A+3*256}function c(b,y,A){const M=A.colors,I=M.length<=8?l:n,R=y.bitmap.data,F=new m(R.length/4);let z=M.length,D=0,O=0;for(;D<R.length;){if(R[D+3]!==0){const k=R.readUInt32BE(D,!0)>>8&16777215;F[O]=I(M,k)}else F[O]=z;D+=4,++O}if(A.usesTransparency){if(z===256)throw new s(`Frame ${b} already has 256 colorsand so can't use transparency`)}else z=null;return{buffer:F,transparentIndex:z}}function _(b){let y=b.indexCount,A=0;for(--y;y;)++A,y>>=1;return A>0?A:1}function g(b,y,A,M,I){if(A.interlaced)throw new s("writing interlaced GIFs is not supported");const R=c(y,A,M),F={delay:A.delayCentisecs,disposal:A.disposalMethod,transparent:R.transparentIndex};I&&(u(M),F.palette=M.colors);try{let z=b.getOutputBuffer(),D=b.getOutputBufferPosition(),O,k=!0;for(;k;)if(O=b.addFrame(A.xOffset,A.yOffset,A.bitmap.width,A.bitmap.height,R.buffer,F),k=!1,O>=z.length-1){const Z=new m(z.length*1.5);z.copy(Z),b.setOutputBuffer(Z),b.setOutputBufferPosition(D),z=Z,k=!0}return z}catch(z){throw new s(z)}}}).call(this,E("_process"),E("buffer").Buffer)},{"./gif":66,"./gifframe":68,"./gifutil":69,_process:133,buffer:48,omggif:64}],68:[function(E,j,w){const x=E("./bitmapimage");E("./gif");class m extends x{constructor(...d){if(super(...d),d[0]instanceof m){const s=d[0];this.xOffset=s.xOffset,this.yOffset=s.yOffset,this.disposalMethod=s.disposalMethod,this.delayCentisecs=s.delayCentisecs,this.interlaced=s.interlaced}else{const s=d[d.length-1];let a={};typeof s=="object"&&!(s instanceof x)&&(a=s),this.xOffset=a.xOffset||0,this.yOffset=a.yOffset||0,this.disposalMethod=a.disposalMethod!==void 0?a.disposalMethod:m.DisposeToBackgroundColor,this.delayCentisecs=a.delayCentisecs||8,this.interlaced=a.interlaced||!1}}getPalette(){const d=new Set,s=this.bitmap.data;let a=0,r=!1;for(;a<s.length;){if(s[a+3]===0)r=!0;else{const l=s.readUInt32BE(a,!0)>>8&16777215;d.add(l)}a+=4}const t=new Array(d.size),e=d.values();for(a=0;a<t.length;++a)t[a]=e.next().value;t.sort((l,n)=>l-n);let o=t.length;return r&&++o,{colors:t,usesTransparency:r,indexCount:o}}}m.DisposeToAnything=0,m.DisposeNothing=1,m.DisposeToBackgroundColor=2,m.DisposeToPrevious=3,w.GifFrame=m},{"./bitmapimage":65,"./gif":66}],69:[function(E,j,w){(function(x){const m=E("fs"),p=E("image-q"),d=E("./bitmapimage"),{GifFrame:s}=E("./gifframe"),{GifError:a}=E("./gif"),{GifCodec:r}=E("./gifcodec"),t=[".jpg",".jpeg",".png",".bmp"],e=new r;w.cloneFrames=function(f){let i=[];return f.forEach(u=>{i.push(new s(u))}),i},w.getColorInfo=function(f,i){let u=!1;const h=[];for(let y=0;y<f.length;++y){let A=f[y].getPalette();if(A.usesTransparency&&(u=!0),A.indexCount>256)throw new a(`Frame ${y} uses more than 256 color indexes`);h.push(A)}if(i===0)return{usesTransparency:u,palettes:h};const c=new Set;h.forEach(y=>{y.colors.forEach(A=>{c.add(A)})});let _=c.size;if(u&&++_,i&&_>i)return{usesTransparency:u,palettes:h};const g=new Array(c.size),b=c.values();for(let y=0;y<g.length;++y)g[y]=b.next().value;return g.sort((y,A)=>y-A),{colors:g,indexCount:_,usesTransparency:u,palettes:h}},w.copyAsJimp=function(f,i){return w.shareAsJimp(f,new d(i))},w.getMaxDimensions=function(f){let i=0,u=0;return f.forEach(h=>{const c=h.xOffset+h.bitmap.width;c>i&&(i=c);const _=h.yOffset+h.bitmap.height;_>u&&(u=_)}),{maxWidth:i,maxHeight:u}},w.quantizeDekker=function(f,i,u){i=i||256,o(f,"NeuQuantFloat",i,0,u)},w.quantizeSorokin=function(f,i,u,h){i=i||256,u=u||"min-pop";let c;switch(u){case"min-pop":c=2;break;case"top-pop":c=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${u}'`)}o(f,"RGBQuant",i,c,h)},w.quantizeWu=function(f,i,u,h){if(i=i||256,u=u||5,u<1||u>8)throw new Error("Invalid quantization quality");o(f,"WuQuant",i,u,h)},w.read=function(f,i){return i=i||e,x.isBuffer(f)?i.decodeGif(f):l(f).then(u=>i.decodeGif(u))},w.shareAsJimp=function(f,i){const u=new f(i.bitmap.width,i.bitmap.height,0);return u.bitmap.data=i.bitmap.data,u},w.write=function(f,i,u,h){h=h||e;const c=f.match(/\.[a-zA-Z]+$/);if(c!==null&&t.includes(c[0].toLowerCase()))throw new Error(`GIF '${f}' has an unexpected suffix`);return h.encodeGif(i,u).then(_=>n(f,_.buffer).then(()=>_))};function o(f,i,u,h,c){const _=Array.isArray(f)?f:[f],g=["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"];if(c){if(g.indexOf(c.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${c.ditherAlgorithm}'`);c.serpentine===void 0&&(c.serpentine=!0),c.minimumColorDistanceToDither===void 0&&(c.minimumColorDistanceToDither=0),c.calculateErrorLikeGIMP===void 0&&(c.calculateErrorLikeGIMP=!1)}const b=new p.distance.Euclidean,y=new p.palette[i](b,u,h);let A;c?A=new p.image.ErrorDiffusionArray(b,p.image.ErrorDiffusionArrayKernel[c.ditherAlgorithm],c.serpentine,c.minimumColorDistanceToDither,c.calculateErrorLikeGIMP):A=new p.image.NearestColor(b);const M=[];_.forEach(R=>{const F=R.bitmap.data,z=new ArrayBuffer(F.length),D=new Uint32Array(z);for(let k=0,Z=0;k<F.length;k+=4,++Z)D[Z]=F.readUInt32LE(k,!0);const O=p.utils.PointContainer.fromUint32Array(D,R.bitmap.width,R.bitmap.height);y.sample(O),M.push(O)});const I=y.quantize();for(let R=0;R<_.length;++R){const F=_[R].bitmap.data,D=A.quantize(M[R],I).toUint32Array();for(let O=0,k=0;O<F.length;O+=4,++k)F.writeUInt32LE(D[k],O)}}function l(f){return new Promise((i,u)=>{m.readFile(f,(h,c)=>h?u(h):i(c))})}function n(f,i){return new Promise((u,h)=>{m.writeFile(f,i,c=>c?h(c):u())})}}).call(this,{isBuffer:E("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76,"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,fs:47,"image-q":74}],70:[function(E,j,w){const x=E("./bitmapimage"),{Gif:m,GifError:p}=E("./gif"),{GifCodec:d}=E("./gifcodec"),{GifFrame:s}=E("./gifframe"),a=E("./gifutil");j.exports={BitmapImage:x,Gif:m,GifCodec:d,GifFrame:s,GifUtil:a,GifError:p}},{"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,"./gifutil":69}],71:[function(E,j,w){(function(x){var m;typeof xe<"u"?m=xe:typeof x<"u"?m=x:typeof self<"u"?m=self:m={},j.exports=m}).call(this,typeof He<"u"?He:typeof self<"u"?self:typeof xe<"u"?xe:{})},{}],72:[function(E,j,w){var x=E("http"),m=E("url"),p=j.exports;for(var d in x)x.hasOwnProperty(d)&&(p[d]=x[d]);p.request=function(a,r){return a=s(a),x.request.call(this,a,r)},p.get=function(a,r){return a=s(a),x.get.call(this,a,r)};function s(a){if(typeof a=="string"&&(a=m.parse(a)),a.protocol||(a.protocol="https:"),a.protocol!=="https:")throw new Error('Protocol "'+a.protocol+'" not supported. Expected "https:"');return a}},{http:156,url:180}],73:[function(E,j,w){w.read=function(x,m,p,d,s){var a,r,t=s*8-d-1,e=(1<<t)-1,o=e>>1,l=-7,n=p?s-1:0,f=p?-1:1,i=x[m+n];for(n+=f,a=i&(1<<-l)-1,i>>=-l,l+=t;l>0;a=a*256+x[m+n],n+=f,l-=8);for(r=a&(1<<-l)-1,a>>=-l,l+=d;l>0;r=r*256+x[m+n],n+=f,l-=8);if(a===0)a=1-o;else{if(a===e)return r?NaN:(i?-1:1)*(1/0);r=r+Math.pow(2,d),a=a-o}return(i?-1:1)*r*Math.pow(2,a-d)},w.write=function(x,m,p,d,s,a){var r,t,e,o=a*8-s-1,l=(1<<o)-1,n=l>>1,f=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,i=d?0:a-1,u=d?1:-1,h=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(t=isNaN(m)?1:0,r=l):(r=Math.floor(Math.log(m)/Math.LN2),m*(e=Math.pow(2,-r))<1&&(r--,e*=2),r+n>=1?m+=f/e:m+=f*Math.pow(2,1-n),m*e>=2&&(r++,e/=2),r+n>=l?(t=0,r=l):r+n>=1?(t=(m*e-1)*Math.pow(2,s),r=r+n):(t=m*Math.pow(2,n-1)*Math.pow(2,s),r=0));s>=8;x[p+i]=t&255,i+=u,t/=256,s-=8);for(r=r<<s|t,o+=s;o>0;x[p+i]=r&255,i+=u,r/=256,o-=8);x[p+i-u]|=h*128}},{}],74:[function(E,j,w){(function(m,p){typeof w=="object"&&typeof j=="object"?j.exports=p():typeof w=="object"?w.iq=p():m.iq=p()})(this,function(){return function(x){var m={};function p(d){if(m[d])return m[d].exports;var s=m[d]={exports:{},id:d,loaded:!1};return x[d].call(s.exports,s,s.exports,p),s.loaded=!0,s.exports}return p.m=x,p.c=m,p.p="",p(0)}([function(x,m,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var d=p(1);m.constants=d;var s=p(3);m.conversion=s;var a=p(12);m.distance=a;var r=p(20);m.palette=r;var t=p(30);m.image=t;var e=p(35);m.quality=e;var o=p(37);m.utils=o},function(x,m,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * constants.ts - part of Image Quantization Library
 */var d=p(2);m.bt709=d},function(x,m){var p;(function(a){a[a.RED=.2126]="RED",a[a.GREEN=.7152]="GREEN",a[a.BLUE=.0722]="BLUE",a[a.WHITE=1]="WHITE"})(p||(p={})),m.Y=p;var d;(function(a){a[a.RED=.64]="RED",a[a.GREEN=.3]="GREEN",a[a.BLUE=.15]="BLUE",a[a.WHITE=.3127]="WHITE"})(d||(d={})),m.x=d;var s;(function(a){a[a.RED=.33]="RED",a[a.GREEN=.6]="GREEN",a[a.BLUE=.06]="BLUE",a[a.WHITE=.329]="WHITE"})(s||(s={})),m.y=s},function(x,m,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var d=p(4);m.rgb2xyz=d.rgb2xyz;var s=p(5);m.rgb2hsl=s.rgb2hsl;var a=p(7);m.rgb2lab=a.rgb2lab;var r=p(9);m.lab2xyz=r.lab2xyz;var t=p(10);m.lab2rgb=t.lab2rgb;var e=p(8);m.xyz2lab=e.xyz2lab;var o=p(11);m.xyz2rgb=o.xyz2rgb},function(x,m){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2xyz.ts - part of Image Quantization Library
 */function p(s){return s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92}function d(s,a,r){return s=p(s/255),a=p(a/255),r=p(r/255),{x:s*.4124+a*.3576+r*.1805,y:s*.2126+a*.7152+r*.0722,z:s*.0193+a*.1192+r*.9505}}m.rgb2xyz=d},function(x,m,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2hsl.ts - part of Image Quantization Library
 */var d=p(6);function s(a,r,t){var e=d.min3(a,r,t),o=d.max3(a,r,t),l=o-e,n=(e+o)/510,f=0;n>0&&n<1&&(f=l/(n<.5?o+e:510-o-e));var i=0;return l>0&&(o===a?i=(r-t)/l:o===r?i=2+(t-a)/l:i=4+(a-r)/l,i*=60,i<0&&(i+=360)),{h:i,s:f,l:n}}m.rgb2hsl=s},function(x,m){function p(o){return o*(Math.PI/180)}m.degrees2radians=p;function d(o,l,n){var f=o;return f<l&&(f=l),f<n&&(f=n),f}m.max3=d;function s(o,l,n){var f=o;return f>l&&(f=l),f>n&&(f=n),f}m.min3=s;function a(o,l,n){return o>n&&(o=n),o<l&&(o=l),o|0}m.intInRange=a;function r(o){return o=Math.round(o),o>255?o=255:o<0&&(o=0),o}m.inRange0to255Rounded=r;function t(o){return o>255?o=255:o<0&&(o=0),o}m.inRange0to255=t;function e(o,l){var n=typeof o[0],f;if(n==="number"||n==="string"){for(var i=Object.create(null),u=0,h=o.length;u<h;u++){var c=o[u];i[c]||i[c]===0||(i[c]=u)}f=o.sort(function(g,b){return l(g,b)||i[g]-i[b]})}else{var _=o.slice(0);f=o.sort(function(g,b){return l(g,b)||_.indexOf(g)-_.indexOf(b)})}return f}m.stableSort=e},function(x,m,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2lab.ts - part of Image Quantization Library
 */var d=p(4),s=p(8);function a(r,t,e){var o=d.rgb2xyz(r,t,e);return s.xyz2lab(o.x,o.y,o.z)}m.rgb2lab=a},function(x,m){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2lab.ts - part of Image Quantization Library
 */var p=.95047,d=1,s=1.08883;function a(t){return t>.008856?Math.pow(t,1/3):7.787*t+16/116}function r(t,e,o){if(t=a(t/p),e=a(e/d),o=a(o/s),116*e-16<0)throw new Error("xxx");return{L:Math.max(0,116*e-16),a:500*(t-e),b:200*(e-o)}}m.xyz2lab=r},function(x,m){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2xyz.ts - part of Image Quantization Library
 */var p=.95047,d=1,s=1.08883;function a(t){return t>.206893034?Math.pow(t,3):(t-16/116)/7.787}function r(t,e,o){var l=(t+16)/116,n=e/500+l,f=l-o/200;return{x:p*a(n),y:d*a(l),z:s*a(f)}}m.lab2xyz=r},function(x,m,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2rgb.ts - part of Image Quantization Library
 */var d=p(9),s=p(11);function a(r,t,e){var o=d.lab2xyz(r,t,e);return s.xyz2rgb(o.x,o.y,o.z)}m.lab2rgb=a},function(x,m,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2rgb.ts - part of Image Quantization Library
 */var d=p(6);function s(r){return r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r}function a(r,t,e){var o=s(r*3.2406+t*-1.5372+e*-.4986),l=s(r*-.9689+t*1.8758+e*.0415),n=s(r*.0557+t*-.204+e*1.057);return{r:d.inRange0to255Rounded(o*255),g:d.inRange0to255Rounded(l*255),b:d.inRange0to255Rounded(n*255)}}m.xyz2rgb=a},function(x,m,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var d=p(13);m.AbstractDistanceCalculator=d.AbstractDistanceCalculator;var s=p(14);m.CIE94Textiles=s.CIE94Textiles,m.CIE94GraphicArts=s.CIE94GraphicArts;var a=p(15);m.CIEDE2000=a.CIEDE2000;var r=p(16);m.CMETRIC=r.CMETRIC;var t=p(17);m.AbstractEuclidean=t.AbstractEuclidean,m.Euclidean=t.Euclidean,m.EuclideanRgbQuantWOAlpha=t.EuclideanRgbQuantWOAlpha,m.EuclideanRgbQuantWithAlpha=t.EuclideanRgbQuantWithAlpha;var e=p(18);m.AbstractManhattan=e.AbstractManhattan,m.Manhattan=e.Manhattan,m.ManhattanSRGB=e.ManhattanSRGB,m.ManhattanNommyde=e.ManhattanNommyde;var o=p(19);m.PNGQUANT=o.PNGQUANT},function(x,m){var p=function(){function d(){this._setDefaults(),this.setWhitePoint(255,255,255,255)}return d.prototype.setWhitePoint=function(s,a,r,t){this._whitePoint={r:s>0?255/s:0,g:a>0?255/a:0,b:r>0?255/r:0,a:t>0?255/t:0},this._maxDistance=this.calculateRaw(s,a,r,t,0,0,0,0)},d.prototype.calculateNormalized=function(s,a){return this.calculateRaw(s.r,s.g,s.b,s.a,a.r,a.g,a.b,a.a)/this._maxDistance},d.prototype._setDefaults=function(){},d}();m.AbstractDistanceCalculator=p},function(x,m,p){var d=this&&this.__extends||function(l,n){for(var f in n)n.hasOwnProperty(f)&&(l[f]=n[f]);function i(){this.constructor=l}l.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cie94.ts - part of Image Quantization Library
 */var s=p(13),a=p(7),r=p(6),t=function(l){d(n,l);function n(){l.apply(this,arguments)}return n.prototype.calculateRaw=function(f,i,u,h,c,_,g,b){var y=a.rgb2lab(r.inRange0to255(f*this._whitePoint.r),r.inRange0to255(i*this._whitePoint.g),r.inRange0to255(u*this._whitePoint.b)),A=a.rgb2lab(r.inRange0to255(c*this._whitePoint.r),r.inRange0to255(_*this._whitePoint.g),r.inRange0to255(g*this._whitePoint.b)),M=y.L-A.L,I=y.a-A.a,R=y.b-A.b,F=Math.sqrt(y.a*y.a+y.b*y.b),z=Math.sqrt(A.a*A.a+A.b*A.b),D=F-z,O=I*I+R*R-D*D;O=O<0?0:Math.sqrt(O);var k=(b-h)*this._whitePoint.a*this._kA;return Math.sqrt(Math.pow(M/this._Kl,2)+Math.pow(D/(1+this._K1*F),2)+Math.pow(O/(1+this._K2*F),2)+Math.pow(k,2))},n}(s.AbstractDistanceCalculator);m.AbstractCIE94=t;var e=function(l){d(n,l);function n(){l.apply(this,arguments)}return n.prototype._setDefaults=function(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=.25*50/255},n}(t);m.CIE94Textiles=e;var o=function(l){d(n,l);function n(){l.apply(this,arguments)}return n.prototype._setDefaults=function(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=.25*100/255},n}(t);m.CIE94GraphicArts=o},function(x,m,p){var d=this&&this.__extends||function(e,o){for(var l in o)o.hasOwnProperty(l)&&(e[l]=o[l]);function n(){this.constructor=e}e.prototype=o===null?Object.create(o):(n.prototype=o.prototype,new n)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ciede2000.ts - part of Image Quantization Library
 */var s=p(13),a=p(7),r=p(6),t=function(e){d(o,e);function o(){e.apply(this,arguments)}return o.prototype.calculateRaw=function(l,n,f,i,u,h,c,_){var g=a.rgb2lab(r.inRange0to255(l*this._whitePoint.r),r.inRange0to255(n*this._whitePoint.g),r.inRange0to255(f*this._whitePoint.b)),b=a.rgb2lab(r.inRange0to255(u*this._whitePoint.r),r.inRange0to255(h*this._whitePoint.g),r.inRange0to255(c*this._whitePoint.b)),y=(_-i)*this._whitePoint.a*o._kA,A=this.calculateRawInLab(g,b);return Math.sqrt(A+y*y)},o.prototype.calculateRawInLab=function(l,n){var f=l.L,i=l.a,u=l.b,h=n.L,c=n.a,_=n.b,g=Math.sqrt(i*i+u*u),b=Math.sqrt(c*c+_*_),y=Math.pow((g+b)/2,7),A=.5*(1-Math.sqrt(y/(y+o._pow25to7))),M=(1+A)*i,I=(1+A)*c,R=Math.sqrt(M*M+u*u),F=Math.sqrt(I*I+_*_),z=R*F,D=o._calculatehp(u,M),O=o._calculatehp(_,I),k=Math.abs(D-O),Z=h-f,$=F-R,te=o._calculate_dHp(z,k,O,D),q=o._calculate_ahp(z,k,D,O),U=o._calculateT(q),W=(R+F)/2,G=Math.pow((f+h)/2-50,2),V=1+.015*G/Math.sqrt(20+G),re=1+.045*W,se=1+.015*U*W,fe=o._calculateRT(q,W),ue=Z/V,pe=$/re,ne=te/se;return Math.pow(ue,2)+Math.pow(pe,2)+Math.pow(ne,2)+fe*pe*ne},o._calculatehp=function(l,n){var f=Math.atan2(l,n);return f>=0?f:f+o._deg360InRad},o._calculateRT=function(l,n){var f=Math.pow(n,7),i=2*Math.sqrt(f/(f+o._pow25to7)),u=o._deg30InRad*Math.exp(-Math.pow((l-o._deg275InRad)/o._deg25InRad,2));return-Math.sin(2*u)*i},o._calculateT=function(l){return 1-.17*Math.cos(l-o._deg30InRad)+.24*Math.cos(l*2)+.32*Math.cos(l*3+o._deg6InRad)-.2*Math.cos(l*4-o._deg63InRad)},o._calculate_ahp=function(l,n,f,i){var u=f+i;return l==0?u:n<=o._deg180InRad?u/2:u<o._deg360InRad?(u+o._deg360InRad)/2:(u-o._deg360InRad)/2},o._calculate_dHp=function(l,n,f,i){var u;return l==0?u=0:n<=o._deg180InRad?u=f-i:f<=i?u=f-i+o._deg360InRad:u=f-i-o._deg360InRad,2*Math.sqrt(l)*Math.sin(u/2)},o._kA=.25*100/255,o._pow25to7=Math.pow(25,7),o._deg360InRad=r.degrees2radians(360),o._deg180InRad=r.degrees2radians(180),o._deg30InRad=r.degrees2radians(30),o._deg6InRad=r.degrees2radians(6),o._deg63InRad=r.degrees2radians(63),o._deg275InRad=r.degrees2radians(275),o._deg25InRad=r.degrees2radians(25),o}(s.AbstractDistanceCalculator);m.CIEDE2000=t},function(x,m,p){var d=this&&this.__extends||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);function o(){this.constructor=r}r.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cmetric.ts - part of Image Quantization Library
 */var s=p(13),a=function(r){d(t,r);function t(){r.apply(this,arguments)}return t.prototype.calculateRaw=function(e,o,l,n,f,i,u,h){var c=(e+f)/2*this._whitePoint.r,_=(e-f)*this._whitePoint.r,g=(o-i)*this._whitePoint.g,b=(l-u)*this._whitePoint.b,y=((512+c)*_*_>>8)+4*g*g+((767-c)*b*b>>8),A=(h-n)*this._whitePoint.a;return Math.sqrt(y+A*A)},t}(s.AbstractDistanceCalculator);m.CMETRIC=a},function(x,m,p){var d=this&&this.__extends||function(l,n){for(var f in n)n.hasOwnProperty(f)&&(l[f]=n[f]);function i(){this.constructor=l}l.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * euclidean.ts - part of Image Quantization Library
 */var s=p(13),a=p(2),r=function(l){d(n,l);function n(){l.apply(this,arguments)}return n.prototype.calculateRaw=function(f,i,u,h,c,_,g,b){var y=c-f,A=_-i,M=g-u,I=b-h;return Math.sqrt(this._kR*y*y+this._kG*A*A+this._kB*M*M+this._kA*I*I)},n}(s.AbstractDistanceCalculator);m.AbstractEuclidean=r;var t=function(l){d(n,l);function n(){l.apply(this,arguments)}return n.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},n}(r);m.Euclidean=t;var e=function(l){d(n,l);function n(){l.apply(this,arguments)}return n.prototype._setDefaults=function(){this._kR=a.Y.RED,this._kG=a.Y.GREEN,this._kB=a.Y.BLUE,this._kA=1},n}(r);m.EuclideanRgbQuantWithAlpha=e;var o=function(l){d(n,l);function n(){l.apply(this,arguments)}return n.prototype._setDefaults=function(){this._kR=a.Y.RED,this._kG=a.Y.GREEN,this._kB=a.Y.BLUE,this._kA=0},n}(r);m.EuclideanRgbQuantWOAlpha=o},function(x,m,p){var d=this&&this.__extends||function(l,n){for(var f in n)n.hasOwnProperty(f)&&(l[f]=n[f]);function i(){this.constructor=l}l.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * manhattanNeuQuant.ts - part of Image Quantization Library
 */var s=p(13),a=p(2),r=function(l){d(n,l);function n(){l.apply(this,arguments)}return n.prototype.calculateRaw=function(f,i,u,h,c,_,g,b){var y=c-f,A=_-i,M=g-u,I=b-h;return y<0&&(y=0-y),A<0&&(A=0-A),M<0&&(M=0-M),I<0&&(I=0-I),this._kR*y+this._kG*A+this._kB*M+this._kA*I},n}(s.AbstractDistanceCalculator);m.AbstractManhattan=r;var t=function(l){d(n,l);function n(){l.apply(this,arguments)}return n.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},n}(r);m.Manhattan=t;var e=function(l){d(n,l);function n(){l.apply(this,arguments)}return n.prototype._setDefaults=function(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1},n}(r);m.ManhattanNommyde=e;var o=function(l){d(n,l);function n(){l.apply(this,arguments)}return n.prototype._setDefaults=function(){this._kR=a.Y.RED,this._kG=a.Y.GREEN,this._kB=a.Y.BLUE,this._kA=1},n}(r);m.ManhattanSRGB=o},function(x,m,p){var d=this&&this.__extends||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);function o(){this.constructor=r}r.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pngQuant.ts - part of Image Quantization Library
 */var s=p(13),a=function(r){d(t,r);function t(){r.apply(this,arguments)}return t.prototype.calculateRaw=function(e,o,l,n,f,i,u,h){var c=(h-n)*this._whitePoint.a;return this._colordifference_ch(e*this._whitePoint.r,f*this._whitePoint.r,c)+this._colordifference_ch(o*this._whitePoint.g,i*this._whitePoint.g,c)+this._colordifference_ch(l*this._whitePoint.b,u*this._whitePoint.b,c)},t.prototype._colordifference_ch=function(e,o,l){var n=e-o,f=n+l;return n*n+f*f},t}(s.AbstractDistanceCalculator);m.PNGQUANT=a},function(x,m,p){var d=p(21);m.NeuQuant=d.NeuQuant;var s=p(25);m.NeuQuantFloat=s.NeuQuantFloat;var a=p(26);m.RGBQuant=a.RGBQuant;var r=p(27);m.ColorHistogram=r.ColorHistogram;var t=p(29);m.WuQuant=t.WuQuant,m.WuColorCube=t.WuColorCube},function(x,m,p){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 */var d=p(22),s=p(24),a=3,r=function(){function e(o){this.r=this.g=this.b=this.a=o}return e.prototype.toPoint=function(){return s.Point.createByRGBA(this.r>>a,this.g>>a,this.b>>a,this.a>>a)},e.prototype.subtract=function(o,l,n,f){this.r-=o|0,this.g-=l|0,this.b-=n|0,this.a-=f|0},e}(),t=function(){function e(o,l){l===void 0&&(l=256),this._distance=o,this._pointArray=[],this._sampleFactor=1,this._networkSize=l,this._distance.setWhitePoint(255<<a,255<<a,255<<a,255<<a)}return e.prototype.sample=function(o){this._pointArray=this._pointArray.concat(o.getPointArray())},e.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},e.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var o=0;o<this._networkSize;o++)this._network[o]=new r((o<<a+8)/this._networkSize|0),this._freq[o]=e._initialBias/this._networkSize|0,this._bias[o]=0},e.prototype._learn=function(){var o=this._sampleFactor,l=this._pointArray.length;l<e._minpicturebytes&&(o=1);var n=30+(o-1)/3|0,f=l/o|0,i=f/e._nCycles|0,u=e._initAlpha,h=(this._networkSize>>3)*e._radiusBias,c=h>>e._radiusBiasShift;c<=1&&(c=0);for(var _=0;_<c;_++)this._radPower[_]=u*((c*c-_*_)*e._radBias/(c*c))>>>0;var g;l<e._minpicturebytes?g=1:l%e._prime1!=0?g=e._prime1:l%e._prime2!=0?g=e._prime2:l%e._prime3!=0?g=e._prime3:g=e._prime4;for(var _=0,b=0;_<f;){var y=this._pointArray[b],A=y.b<<a,M=y.g<<a,I=y.r<<a,R=y.a<<a,F=this._contest(A,M,I,R);if(this._alterSingle(u,F,A,M,I,R),c!==0&&this._alterNeighbour(c,F,A,M,I,R),b+=g,b>=l&&(b-=l),_++,i===0&&(i=1),_%i===0){u-=u/n|0,h-=h/e._radiusDecrease|0,c=h>>e._radiusBiasShift,c<=1&&(c=0);for(var z=0;z<c;z++)this._radPower[z]=u*((c*c-z*z)*e._radBias/(c*c))>>>0}}},e.prototype._buildPalette=function(){var o=new d.Palette;return this._network.forEach(function(l){o.add(l.toPoint())}),o.sort(),o},e.prototype._alterNeighbour=function(o,l,n,f,i,u){var h=l-o;h<-1&&(h=-1);var c=l+o;c>this._networkSize&&(c=this._networkSize);for(var _=l+1,g=l-1,b=1;_<c||g>h;){var y=this._radPower[b++]/e._alphaRadBias;if(_<c){var A=this._network[_++];A.subtract(y*(A.r-i),y*(A.g-f),y*(A.b-n),y*(A.a-u))}if(g>h){var A=this._network[g--];A.subtract(y*(A.r-i),y*(A.g-f),y*(A.b-n),y*(A.a-u))}}},e.prototype._alterSingle=function(o,l,n,f,i,u){o/=e._initAlpha;var h=this._network[l];h.subtract(o*(h.r-i),o*(h.g-f),o*(h.b-n),o*(h.a-u))},e.prototype._contest=function(o,l,n,f){for(var i=1020<<a,u=~(1<<31),h=u,c=-1,_=c,g=0;g<this._networkSize;g++){var b=this._network[g],y=this._distance.calculateNormalized(b,{r:n,g:l,b:o,a:f})*i|0;y<u&&(u=y,c=g);var A=y-(this._bias[g]>>e._initialBiasShift-a);A<h&&(h=A,_=g);var M=this._freq[g]>>e._betaShift;this._freq[g]-=M,this._bias[g]+=M<<e._gammaShift}return this._freq[c]+=e._beta,this._bias[c]-=e._betaGamma,_},e._prime1=499,e._prime2=491,e._prime3=487,e._prime4=503,e._minpicturebytes=e._prime4,e._nCycles=100,e._initialBiasShift=16,e._initialBias=1<<e._initialBiasShift,e._gammaShift=10,e._betaShift=10,e._beta=e._initialBias>>e._betaShift,e._betaGamma=e._initialBias<<e._gammaShift-e._betaShift,e._radiusBiasShift=6,e._radiusBias=1<<e._radiusBiasShift,e._radiusDecrease=30,e._alphaBiasShift=10,e._initAlpha=1<<e._alphaBiasShift,e._radBiasShift=8,e._radBias=1<<e._radBiasShift,e._alphaRadBiasShift=e._alphaBiasShift+e._radBiasShift,e._alphaRadBias=1<<e._alphaRadBiasShift,e}();m.NeuQuant=t},function(x,m,p){var d=p(23),s=p(5),a=10;function r(e,o){for(var l=360,n=l/o,f=n/2,i=1,u=n-f;i<o;i++,u+=n)if(e>=u&&e<u+n)return i;return 0}m.hueGroup=r;var t=function(){function e(){this._pointArray=[],this._i32idx={},this._pointContainer=new d.PointContainer,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}return e.prototype.add=function(o){this._pointArray.push(o),this._pointContainer.setWidth(this._pointArray.length)},e.prototype.has=function(o){for(var l=this._pointArray.length-1;l>=0;l--)if(o.uint32===this._pointArray[l].uint32)return!0;return!1},e.prototype.getNearestColor=function(o,l){return this._pointArray[this.getNearestIndex(o,l)|0]},e.prototype.getPointContainer=function(){return this._pointContainer},e.prototype._nearestPointFromCache=function(o){return typeof this._i32idx[o]=="number"?this._i32idx[o]:-1},e.prototype.getNearestIndex=function(o,l){var n=this._nearestPointFromCache(""+l.uint32);if(n>=0)return n;var f=Number.MAX_VALUE;n=0;for(var i=0,u=this._pointArray.length;i<u;i++){var h=this._pointArray[i],c=o.calculateRaw(l.r,l.g,l.b,l.a,h.r,h.g,h.b,h.a);c<f&&(f=c,n=i)}return this._i32idx[l.uint32]=n,n},e.prototype.sort=function(){this._i32idx={},this._pointArray.sort(function(o,l){var n=s.rgb2hsl(o.r,o.g,o.b),f=s.rgb2hsl(l.r,l.g,l.b),i=o.r===o.g&&o.g===o.b?0:1+r(n.h,a),u=l.r===l.g&&l.g===l.b?0:1+r(f.h,a),h=u-i;if(h)return-h;var c=o.getLuminosity(!0),_=l.getLuminosity(!0);if(_-c!==0)return _-c;var g=(f.s*100|0)-(n.s*100|0);return g?-g:0})},e}();m.Palette=t},function(x,m,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pointContainer.ts - part of Image Quantization Library
 */var d=p(24),s=function(){function a(){this._width=0,this._height=0,this._pointArray=[]}return a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a.prototype.setWidth=function(r){this._width=r},a.prototype.setHeight=function(r){this._height=r},a.prototype.getPointArray=function(){return this._pointArray},a.prototype.clone=function(){var r=new a;r._width=this._width,r._height=this._height;for(var t=0,e=this._pointArray.length;t<e;t++)r._pointArray[t]=d.Point.createByUint32(this._pointArray[t].uint32|0);return r},a.prototype.toUint32Array=function(){for(var r=this._pointArray.length,t=new Uint32Array(r),e=0;e<r;e++)t[e]=this._pointArray[e].uint32;return t},a.prototype.toUint8Array=function(){return new Uint8Array(this.toUint32Array().buffer)},a.fromHTMLImageElement=function(r){var t=r.naturalWidth,e=r.naturalHeight,o=document.createElement("canvas");o.width=t,o.height=e;var l=o.getContext("2d");return l.drawImage(r,0,0,t,e,0,0,t,e),a.fromHTMLCanvasElement(o)},a.fromHTMLCanvasElement=function(r){var t=r.width,e=r.height,o=r.getContext("2d"),l=o.getImageData(0,0,t,e);return a.fromImageData(l)},a.fromNodeCanvas=function(r){return a.fromHTMLCanvasElement(r)},a.fromImageData=function(r){var t=r.width,e=r.height;return a.fromCanvasPixelArray(r.data,t,e)},a.fromArray=function(r,t,e){var o=new Uint8Array(r);return a.fromUint8Array(o,t,e)},a.fromCanvasPixelArray=function(r,t,e){return a.fromArray(r,t,e)},a.fromUint8Array=function(r,t,e){return a.fromUint32Array(new Uint32Array(r.buffer),t,e)},a.fromUint32Array=function(r,t,e){var o=new a;o._width=t,o._height=e;for(var l=0,n=r.length;l<n;l++)o._pointArray[l]=d.Point.createByUint32(r[l]|0);return o},a}();m.PointContainer=s},function(x,m,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * point.ts - part of Image Quantization Library
 */var d=p(2),s=function(){function a(){this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}return a.createByQuadruplet=function(r){var t=new a;return t.r=r[0]|0,t.g=r[1]|0,t.b=r[2]|0,t.a=r[3]|0,t._loadUINT32(),t._loadQuadruplet(),t},a.createByRGBA=function(r,t,e,o){var l=new a;return l.r=r|0,l.g=t|0,l.b=e|0,l.a=o|0,l._loadUINT32(),l._loadQuadruplet(),l},a.createByUint32=function(r){var t=new a;return t.uint32=r>>>0,t._loadRGBA(),t._loadQuadruplet(),t},a.prototype.from=function(r){this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.uint32=r.uint32,this.rgba[0]=r.r,this.rgba[1]=r.g,this.rgba[2]=r.b,this.rgba[3]=r.a},a.prototype.getLuminosity=function(r){var t=this.r,e=this.g,o=this.b;return r&&(t=Math.min(255,255-this.a+this.a*t/255),e=Math.min(255,255-this.a+this.a*e/255),o=Math.min(255,255-this.a+this.a*o/255)),t*d.Y.RED+e*d.Y.GREEN+o*d.Y.BLUE},a.prototype._loadUINT32=function(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0},a.prototype._loadRGBA=function(){this.r=this.uint32&255,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255},a.prototype._loadQuadruplet=function(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a},a}();m.Point=s},function(x,m,p){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 */var d=p(22),s=p(24),a=3,r=function(){function e(o){this.r=this.g=this.b=this.a=o}return e.prototype.toPoint=function(){return s.Point.createByRGBA(this.r>>a,this.g>>a,this.b>>a,this.a>>a)},e.prototype.subtract=function(o,l,n,f){this.r-=o,this.g-=l,this.b-=n,this.a-=f},e}(),t=function(){function e(o,l){l===void 0&&(l=256),this._distance=o,this._pointArray=[],this._sampleFactor=1,this._networkSize=l,this._distance.setWhitePoint(255<<a,255<<a,255<<a,255<<a)}return e.prototype.sample=function(o){this._pointArray=this._pointArray.concat(o.getPointArray())},e.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},e.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var o=0;o<this._networkSize;o++)this._network[o]=new r((o<<a+8)/this._networkSize),this._freq[o]=e._initialBias/this._networkSize,this._bias[o]=0},e.prototype._learn=function(){var o=this._sampleFactor,l=this._pointArray.length;l<e._minpicturebytes&&(o=1);var n=30+(o-1)/3,f=l/o,i=f/e._nCycles|0,u=e._initAlpha,h=(this._networkSize>>3)*e._radiusBias,c=h>>e._radiusBiasShift;c<=1&&(c=0);for(var _=0;_<c;_++)this._radPower[_]=u*((c*c-_*_)*e._radBias/(c*c));var g;l<e._minpicturebytes?g=1:l%e._prime1!=0?g=e._prime1:l%e._prime2!=0?g=e._prime2:l%e._prime3!=0?g=e._prime3:g=e._prime4;for(var _=0,b=0;_<f;){var y=this._pointArray[b],A=y.b<<a,M=y.g<<a,I=y.r<<a,R=y.a<<a,F=this._contest(A,M,I,R);if(this._alterSingle(u,F,A,M,I,R),c!=0&&this._alterNeighbour(c,F,A,M,I,R),b+=g,b>=l&&(b-=l),_++,i==0&&(i=1),_%i==0){u-=u/n,h-=h/e._radiusDecrease,c=h>>e._radiusBiasShift,c<=1&&(c=0);for(var z=0;z<c;z++)this._radPower[z]=u*((c*c-z*z)*e._radBias/(c*c))}}},e.prototype._buildPalette=function(){var o=new d.Palette;return this._network.forEach(function(l){o.add(l.toPoint())}),o.sort(),o},e.prototype._alterNeighbour=function(o,l,n,f,i,u){var h=l-o;h<-1&&(h=-1);var c=l+o;c>this._networkSize&&(c=this._networkSize);for(var _=l+1,g=l-1,b=1;_<c||g>h;){var y=this._radPower[b++]/e._alphaRadBias;if(_<c){var A=this._network[_++];A.subtract(y*(A.r-i),y*(A.g-f),y*(A.b-n),y*(A.a-u))}if(g>h){var A=this._network[g--];A.subtract(y*(A.r-i),y*(A.g-f),y*(A.b-n),y*(A.a-u))}}},e.prototype._alterSingle=function(o,l,n,f,i,u){o/=e._initAlpha;var h=this._network[l];h.subtract(o*(h.r-i),o*(h.g-f),o*(h.b-n),o*(h.a-u))},e.prototype._contest=function(o,l,n,f){for(var i=1020<<a,u=~(1<<31),h=u,c=-1,_=c,g=0;g<this._networkSize;g++){var b=this._network[g],y=this._distance.calculateNormalized(b,{r:n,g:l,b:o,a:f})*i;y<u&&(u=y,c=g);var A=y-(this._bias[g]>>e._initialBiasShift-a);A<h&&(h=A,_=g);var M=this._freq[g]>>e._betaShift;this._freq[g]-=M,this._bias[g]+=M<<e._gammaShift}return this._freq[c]+=e._beta,this._bias[c]-=e._betaGamma,_},e._prime1=499,e._prime2=491,e._prime3=487,e._prime4=503,e._minpicturebytes=e._prime4,e._nCycles=100,e._initialBiasShift=16,e._initialBias=1<<e._initialBiasShift,e._gammaShift=10,e._betaShift=10,e._beta=e._initialBias>>e._betaShift,e._betaGamma=e._initialBias<<e._gammaShift-e._betaShift,e._radiusBiasShift=6,e._radiusBias=1<<e._radiusBiasShift,e._radiusDecrease=30,e._alphaBiasShift=10,e._initAlpha=1<<e._alphaBiasShift,e._radBiasShift=8,e._radBias=1<<e._radBiasShift,e._alphaRadBiasShift=e._alphaBiasShift+e._radBiasShift,e._alphaRadBias=1<<e._alphaRadBiasShift,e}();m.NeuQuantFloat=t},function(x,m,p){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgbquant.ts - part of Image Quantization Library
 */var d=p(22),s=p(24),a=p(27),r=p(6),t=function(){function o(l,n,f){this.index=l,this.color=n,this.distance=f}return o}(),e=function(){function o(l,n,f){n===void 0&&(n=256),f===void 0&&(f=2),this._distance=l,this._colors=n,this._histogram=new a.ColorHistogram(f,n),this._initialDistance=.01,this._distanceIncrement=.005}return o.prototype.sample=function(l){this._histogram.sample(l)},o.prototype.quantize=function(){var l=this._histogram.getImportanceSortedColorsIDXI32();if(l.length===0)throw new Error("No colors in image");var n=this._buildPalette(l);return n.sort(),n},o.prototype._buildPalette=function(l){for(var n=new d.Palette,f=n.getPointContainer().getPointArray(),i=new Array(l.length),u=0;u<l.length;u++)f.push(s.Point.createByUint32(l[u])),i[u]=1;for(var h=f.length,c=[],_=h,g=this._initialDistance;_>this._colors;){c.length=0;for(var u=0;u<h;u++)if(i[u]!==0){for(var b=f[u],y=u+1;y<h;y++)if(i[y]!==0){var A=f[y],M=this._distance.calculateNormalized(b,A);M<g&&(c.push(new t(y,A,M)),i[y]=0,_--)}}g+=_>this._colors*3?this._initialDistance:this._distanceIncrement}if(_<this._colors){r.stableSort(c,function(D,O){return O.distance-D.distance});for(var I=0;_<this._colors&&I<c.length;){var R=c[I];i[R.index]=1,_++,I++}}for(var F=f.length,z=F-1;z>=0;z--)i[z]===0&&(z!==F-1&&(f[z]=f[F-1]),--F);return f.length=F,n},o}();m.RGBQuant=e},function(x,m,p){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * colorHistogram.ts - part of Image Quantization Library
 */var d=p(28),s=p(6),a=function(){function r(t,e){this._method=t,this._minHueCols=e<<2,this._initColors=e<<2,this._hueStats=new d.HueStatistics(r._hueGroups,this._minHueCols),this._histogram=Object.create(null)}return r.prototype.sample=function(t){switch(this._method){case 1:this._colorStats1D(t);break;case 2:this._colorStats2D(t);break}},r.prototype.getImportanceSortedColorsIDXI32=function(){var t=this,e=s.stableSort(Object.keys(this._histogram),function(h,c){return t._histogram[c]-t._histogram[h]});if(e.length===0)return[];var o;switch(this._method){case 1:var l=Math.min(e.length,this._initColors),n=e[l-1],f=this._histogram[n];o=e.slice(0,l);for(var i=l,u=e.length;i<u&&this._histogram[e[i]]==f;)o.push(e[i++]);this._hueStats.injectIntoArray(o);break;case 2:o=e;break;default:throw new Error("Incorrect method")}return o.map(function(h){return+h})},r.prototype._colorStats1D=function(t){for(var e=this._histogram,o=t.getPointArray(),l=o.length,n=0;n<l;n++){var f=o[n].uint32;this._hueStats.check(f),f in e?e[f]++:e[f]=1}},r.prototype._colorStats2D=function(t){var e=this,o=t.getWidth(),l=t.getHeight(),n=t.getPointArray(),f=r._boxSize[0],i=r._boxSize[1],u=f*i,h=this._makeBoxes(o,l,f,i),c=this._histogram;h.forEach(function(_){var g=Math.round(_.w*_.h/u)*r._boxPixels;g<2&&(g=2);var b={};e._iterateBox(_,o,function(y){var A=n[y].uint32;e._hueStats.check(A),A in c?c[A]++:A in b?++b[A]>=g&&(c[A]=b[A]):b[A]=1})}),this._hueStats.injectIntoDictionary(c)},r.prototype._iterateBox=function(t,e,o){var l=t,n=l.y*e+l.x,f=(l.y+l.h-1)*e+(l.x+l.w-1),i=e-l.w+1,u=0,h=n;do o.call(this,h),h+=++u%l.w==0?i:1;while(h<=f)},r.prototype._makeBoxes=function(t,e,o,l){for(var n=t%o,f=e%l,i=t-n,u=e-f,h=[],c=0;c<e;c+=l)for(var _=0;_<t;_+=o)h.push({x:_,y:c,w:_==i?n:o,h:c==u?f:l});return h},r._boxSize=[64,64],r._boxPixels=2,r._hueGroups=10,r}();m.ColorHistogram=a},function(x,m,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * hueStatistics.ts - part of Image Quantization Library
 */var d=p(5),s=p(22),a=function(){function t(){this.num=0,this.cols=[]}return t}(),r=function(){function t(e,o){this._numGroups=e,this._minCols=o,this._stats=[];for(var l=0;l<=e;l++)this._stats[l]=new a;this._groupsFull=0}return t.prototype.check=function(e){this._groupsFull==this._numGroups+1&&(this.check=function(){});var o=e&255,l=e>>>8&255,n=e>>>16&255,f=o==l&&l==n?0:1+s.hueGroup(d.rgb2hsl(o,l,n).h,this._numGroups),i=this._stats[f],u=this._minCols;i.num++,!(i.num>u)&&(i.num==u&&this._groupsFull++,i.num<=u&&this._stats[f].cols.push(e))},t.prototype.injectIntoDictionary=function(e){for(var o=0;o<=this._numGroups;o++)this._stats[o].num<=this._minCols&&this._stats[o].cols.forEach(function(l){e[l]?e[l]++:e[l]=1})},t.prototype.injectIntoArray=function(e){for(var o=0;o<=this._numGroups;o++)this._stats[o].num<=this._minCols&&this._stats[o].cols.forEach(function(l){e.indexOf(l)==-1&&e.push(l)})},t}();m.HueStatistics=r},function(x,m,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * wuQuant.ts - part of Image Quantization Library
 */var d=p(22),s=p(24);function a(f){for(var i=[],u=0;u<f;u++)i[u]=0;return i}function r(f,i,u,h){for(var c=new Array(f),_=0;_<f;_++){c[_]=new Array(i);for(var g=0;g<i;g++){c[_][g]=new Array(u);for(var b=0;b<u;b++){c[_][g][b]=new Array(h);for(var y=0;y<h;y++)c[_][g][b][y]=0}}}return c}function t(f,i,u){for(var h=new Array(f),c=0;c<f;c++){h[c]=new Array(i);for(var _=0;_<i;_++){h[c][_]=new Array(u);for(var g=0;g<u;g++)h[c][_][g]=0}}return h}function e(f,i,u,h,c){for(var _=0;_<i;_++){f[_]=[];for(var g=0;g<u;g++){f[_][g]=[];for(var b=0;b<h;b++)f[_][g][b]=c}}}function o(f,i,u){for(var h=0;h<i;h++)f[h]=u}var l=function(){function f(){}return f}();m.WuColorCube=l;var n=function(){function f(i,u,h){u===void 0&&(u=256),h===void 0&&(h=5),this._distance=i,this._setQuality(h),this._initialize(u)}return f.prototype.sample=function(i){for(var u=i.getPointArray(),h=0,c=u.length;h<c;h++)this._addColor(u[h]);this._pixels=this._pixels.concat(u)},f.prototype.quantize=function(){this._preparePalette();for(var i=new d.Palette,u=0;u<this._colors;u++)if(this._sums[u]>0){var h=this._sums[u],c=this._reds[u]/h,_=this._greens[u]/h,g=this._blues[u]/h,b=this._alphas[u]/h,y=s.Point.createByRGBA(c|0,_|0,g|0,b|0);i.add(y)}return i.sort(),i},f.prototype._preparePalette=function(){this._calculateMoments();for(var i=0,u=a(this._colors),h=1;h<this._colors;++h){this._cut(this._cubes[i],this._cubes[h])?(u[i]=this._cubes[i].volume>1?this._calculateVariance(this._cubes[i]):0,u[h]=this._cubes[h].volume>1?this._calculateVariance(this._cubes[h]):0):(u[i]=0,h--),i=0;for(var c=u[0],_=1;_<=h;++_)u[_]>c&&(c=u[_],i=_);if(c<=0){this._colors=h+1;break}}for(var g=[],b=[],y=[],A=[],M=0;M<this._colors;++M){var I=f._volume(this._cubes[M],this._weights);I>0?(g[M]=f._volume(this._cubes[M],this._momentsRed)/I|0,b[M]=f._volume(this._cubes[M],this._momentsGreen)/I|0,y[M]=f._volume(this._cubes[M],this._momentsBlue)/I|0,A[M]=f._volume(this._cubes[M],this._momentsAlpha)/I|0):(g[M]=0,b[M]=0,y[M]=0,A[M]=0)}this._reds=a(this._colors+1),this._greens=a(this._colors+1),this._blues=a(this._colors+1),this._alphas=a(this._colors+1),this._sums=a(this._colors+1);for(var _=0,R=this._pixels.length;_<R;_++){for(var F=this._pixels[_],z=-1,D=z,O=Number.MAX_VALUE,k=0;k<this._colors;k++){var Z=g[k],$=b[k],te=y[k],q=A[k],U=this._distance.calculateRaw(Z,$,te,q,F.r,F.g,F.b,F.a);U<O&&(O=U,D=k)}this._reds[D]+=F.r,this._greens[D]+=F.g,this._blues[D]+=F.b,this._alphas[D]+=F.a,this._sums[D]++}},f.prototype._addColor=function(i){var u=8-this._significantBitsPerChannel,h=(i.r>>u)+1,c=(i.g>>u)+1,_=(i.b>>u)+1,g=(i.a>>u)+1;this._weights[g][h][c][_]++,this._momentsRed[g][h][c][_]+=i.r,this._momentsGreen[g][h][c][_]+=i.g,this._momentsBlue[g][h][c][_]+=i.b,this._momentsAlpha[g][h][c][_]+=i.a,this._moments[g][h][c][_]+=this._table[i.r]+this._table[i.g]+this._table[i.b]+this._table[i.a]},f.prototype._calculateMoments=function(){for(var i=[],u=[],h=[],c=[],_=[],g=[],b=t(this._sideSize,this._sideSize,this._sideSize),y=t(this._sideSize,this._sideSize,this._sideSize),A=t(this._sideSize,this._sideSize,this._sideSize),M=t(this._sideSize,this._sideSize,this._sideSize),I=t(this._sideSize,this._sideSize,this._sideSize),R=t(this._sideSize,this._sideSize,this._sideSize),F=1;F<=this._alphaMaxSideIndex;++F){e(b,this._sideSize,this._sideSize,this._sideSize,0),e(y,this._sideSize,this._sideSize,this._sideSize,0),e(A,this._sideSize,this._sideSize,this._sideSize,0),e(M,this._sideSize,this._sideSize,this._sideSize,0),e(I,this._sideSize,this._sideSize,this._sideSize,0),e(R,this._sideSize,this._sideSize,this._sideSize,0);for(var z=1;z<=this._maxSideIndex;++z){o(i,this._sideSize,0),o(u,this._sideSize,0),o(h,this._sideSize,0),o(c,this._sideSize,0),o(_,this._sideSize,0),o(g,this._sideSize,0);for(var D=1;D<=this._maxSideIndex;++D)for(var O=0,k=0,Z=0,$=0,te=0,q=0,U=1;U<=this._maxSideIndex;++U)O+=this._weights[F][z][D][U],k+=this._momentsRed[F][z][D][U],Z+=this._momentsGreen[F][z][D][U],$+=this._momentsBlue[F][z][D][U],te+=this._momentsAlpha[F][z][D][U],q+=this._moments[F][z][D][U],i[U]+=O,u[U]+=k,h[U]+=Z,c[U]+=$,_[U]+=te,g[U]+=q,b[z][D][U]=b[z-1][D][U]+i[U],y[z][D][U]=y[z-1][D][U]+u[U],A[z][D][U]=A[z-1][D][U]+h[U],M[z][D][U]=M[z-1][D][U]+c[U],I[z][D][U]=I[z-1][D][U]+_[U],R[z][D][U]=R[z-1][D][U]+g[U],this._weights[F][z][D][U]=this._weights[F-1][z][D][U]+b[z][D][U],this._momentsRed[F][z][D][U]=this._momentsRed[F-1][z][D][U]+y[z][D][U],this._momentsGreen[F][z][D][U]=this._momentsGreen[F-1][z][D][U]+A[z][D][U],this._momentsBlue[F][z][D][U]=this._momentsBlue[F-1][z][D][U]+M[z][D][U],this._momentsAlpha[F][z][D][U]=this._momentsAlpha[F-1][z][D][U]+I[z][D][U],this._moments[F][z][D][U]=this._moments[F-1][z][D][U]+R[z][D][U]}}},f._volumeFloat=function(i,u){return u[i.alphaMaximum][i.redMaximum][i.greenMaximum][i.blueMaximum]-u[i.alphaMaximum][i.redMaximum][i.greenMinimum][i.blueMaximum]-u[i.alphaMaximum][i.redMinimum][i.greenMaximum][i.blueMaximum]+u[i.alphaMaximum][i.redMinimum][i.greenMinimum][i.blueMaximum]-u[i.alphaMinimum][i.redMaximum][i.greenMaximum][i.blueMaximum]+u[i.alphaMinimum][i.redMaximum][i.greenMinimum][i.blueMaximum]+u[i.alphaMinimum][i.redMinimum][i.greenMaximum][i.blueMaximum]-u[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMaximum]-(u[i.alphaMaximum][i.redMaximum][i.greenMaximum][i.blueMinimum]-u[i.alphaMinimum][i.redMaximum][i.greenMaximum][i.blueMinimum]-u[i.alphaMaximum][i.redMaximum][i.greenMinimum][i.blueMinimum]+u[i.alphaMinimum][i.redMaximum][i.greenMinimum][i.blueMinimum]-u[i.alphaMaximum][i.redMinimum][i.greenMaximum][i.blueMinimum]+u[i.alphaMinimum][i.redMinimum][i.greenMaximum][i.blueMinimum]+u[i.alphaMaximum][i.redMinimum][i.greenMinimum][i.blueMinimum]-u[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMinimum])},f._volume=function(i,u){return f._volumeFloat(i,u)|0},f._top=function(i,u,h,c){var _;switch(u){case f.alpha:_=c[h][i.redMaximum][i.greenMaximum][i.blueMaximum]-c[h][i.redMaximum][i.greenMinimum][i.blueMaximum]-c[h][i.redMinimum][i.greenMaximum][i.blueMaximum]+c[h][i.redMinimum][i.greenMinimum][i.blueMaximum]-(c[h][i.redMaximum][i.greenMaximum][i.blueMinimum]-c[h][i.redMaximum][i.greenMinimum][i.blueMinimum]-c[h][i.redMinimum][i.greenMaximum][i.blueMinimum]+c[h][i.redMinimum][i.greenMinimum][i.blueMinimum]);break;case f.red:_=c[i.alphaMaximum][h][i.greenMaximum][i.blueMaximum]-c[i.alphaMaximum][h][i.greenMinimum][i.blueMaximum]-c[i.alphaMinimum][h][i.greenMaximum][i.blueMaximum]+c[i.alphaMinimum][h][i.greenMinimum][i.blueMaximum]-(c[i.alphaMaximum][h][i.greenMaximum][i.blueMinimum]-c[i.alphaMaximum][h][i.greenMinimum][i.blueMinimum]-c[i.alphaMinimum][h][i.greenMaximum][i.blueMinimum]+c[i.alphaMinimum][h][i.greenMinimum][i.blueMinimum]);break;case f.green:_=c[i.alphaMaximum][i.redMaximum][h][i.blueMaximum]-c[i.alphaMaximum][i.redMinimum][h][i.blueMaximum]-c[i.alphaMinimum][i.redMaximum][h][i.blueMaximum]+c[i.alphaMinimum][i.redMinimum][h][i.blueMaximum]-(c[i.alphaMaximum][i.redMaximum][h][i.blueMinimum]-c[i.alphaMaximum][i.redMinimum][h][i.blueMinimum]-c[i.alphaMinimum][i.redMaximum][h][i.blueMinimum]+c[i.alphaMinimum][i.redMinimum][h][i.blueMinimum]);break;case f.blue:_=c[i.alphaMaximum][i.redMaximum][i.greenMaximum][h]-c[i.alphaMaximum][i.redMaximum][i.greenMinimum][h]-c[i.alphaMaximum][i.redMinimum][i.greenMaximum][h]+c[i.alphaMaximum][i.redMinimum][i.greenMinimum][h]-(c[i.alphaMinimum][i.redMaximum][i.greenMaximum][h]-c[i.alphaMinimum][i.redMaximum][i.greenMinimum][h]-c[i.alphaMinimum][i.redMinimum][i.greenMaximum][h]+c[i.alphaMinimum][i.redMinimum][i.greenMinimum][h]);break;default:throw new Error("impossible")}return _|0},f._bottom=function(i,u,h){switch(u){case f.alpha:return-h[i.alphaMinimum][i.redMaximum][i.greenMaximum][i.blueMaximum]+h[i.alphaMinimum][i.redMaximum][i.greenMinimum][i.blueMaximum]+h[i.alphaMinimum][i.redMinimum][i.greenMaximum][i.blueMaximum]-h[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMaximum]-(-h[i.alphaMinimum][i.redMaximum][i.greenMaximum][i.blueMinimum]+h[i.alphaMinimum][i.redMaximum][i.greenMinimum][i.blueMinimum]+h[i.alphaMinimum][i.redMinimum][i.greenMaximum][i.blueMinimum]-h[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMinimum]);case f.red:return-h[i.alphaMaximum][i.redMinimum][i.greenMaximum][i.blueMaximum]+h[i.alphaMaximum][i.redMinimum][i.greenMinimum][i.blueMaximum]+h[i.alphaMinimum][i.redMinimum][i.greenMaximum][i.blueMaximum]-h[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMaximum]-(-h[i.alphaMaximum][i.redMinimum][i.greenMaximum][i.blueMinimum]+h[i.alphaMaximum][i.redMinimum][i.greenMinimum][i.blueMinimum]+h[i.alphaMinimum][i.redMinimum][i.greenMaximum][i.blueMinimum]-h[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMinimum]);case f.green:return-h[i.alphaMaximum][i.redMaximum][i.greenMinimum][i.blueMaximum]+h[i.alphaMaximum][i.redMinimum][i.greenMinimum][i.blueMaximum]+h[i.alphaMinimum][i.redMaximum][i.greenMinimum][i.blueMaximum]-h[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMaximum]-(-h[i.alphaMaximum][i.redMaximum][i.greenMinimum][i.blueMinimum]+h[i.alphaMaximum][i.redMinimum][i.greenMinimum][i.blueMinimum]+h[i.alphaMinimum][i.redMaximum][i.greenMinimum][i.blueMinimum]-h[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMinimum]);case f.blue:return-h[i.alphaMaximum][i.redMaximum][i.greenMaximum][i.blueMinimum]+h[i.alphaMaximum][i.redMaximum][i.greenMinimum][i.blueMinimum]+h[i.alphaMaximum][i.redMinimum][i.greenMaximum][i.blueMinimum]-h[i.alphaMaximum][i.redMinimum][i.greenMinimum][i.blueMinimum]-(-h[i.alphaMinimum][i.redMaximum][i.greenMaximum][i.blueMinimum]+h[i.alphaMinimum][i.redMaximum][i.greenMinimum][i.blueMinimum]+h[i.alphaMinimum][i.redMinimum][i.greenMaximum][i.blueMinimum]-h[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMinimum]);default:return 0}},f.prototype._calculateVariance=function(i){var u=f._volume(i,this._momentsRed),h=f._volume(i,this._momentsGreen),c=f._volume(i,this._momentsBlue),_=f._volume(i,this._momentsAlpha),g=f._volumeFloat(i,this._moments),b=f._volume(i,this._weights),y=u*u+h*h+c*c+_*_;return g-y/b},f.prototype._maximize=function(i,u,h,c,_,g,b,y,A){for(var M=f._bottom(i,u,this._momentsRed)|0,I=f._bottom(i,u,this._momentsGreen)|0,R=f._bottom(i,u,this._momentsBlue)|0,F=f._bottom(i,u,this._momentsAlpha)|0,z=f._bottom(i,u,this._weights)|0,D=0,O=-1,k=h;k<c;++k){var Z=M+f._top(i,u,k,this._momentsRed),$=I+f._top(i,u,k,this._momentsGreen),te=R+f._top(i,u,k,this._momentsBlue),q=F+f._top(i,u,k,this._momentsAlpha),U=z+f._top(i,u,k,this._weights);if(U!=0){var W=Z*Z+$*$+te*te+q*q,G=W/U;Z=_-Z,$=g-$,te=b-te,q=y-q,U=A-U,U!=0&&(W=Z*Z+$*$+te*te+q*q,G+=W/U,G>D&&(D=G,O=k))}}return{max:D,position:O}},f.prototype._cut=function(i,u){var h,c=f._volume(i,this._momentsRed),_=f._volume(i,this._momentsGreen),g=f._volume(i,this._momentsBlue),b=f._volume(i,this._momentsAlpha),y=f._volume(i,this._weights),A=this._maximize(i,f.red,i.redMinimum+1,i.redMaximum,c,_,g,b,y),M=this._maximize(i,f.green,i.greenMinimum+1,i.greenMaximum,c,_,g,b,y),I=this._maximize(i,f.blue,i.blueMinimum+1,i.blueMaximum,c,_,g,b,y),R=this._maximize(i,f.alpha,i.alphaMinimum+1,i.alphaMaximum,c,_,g,b,y);if(R.max>=A.max&&R.max>=M.max&&R.max>=I.max){if(h=f.alpha,R.position<0)return!1}else A.max>=R.max&&A.max>=M.max&&A.max>=I.max?h=f.red:M.max>=R.max&&M.max>=A.max&&M.max>=I.max?h=f.green:h=f.blue;switch(u.redMaximum=i.redMaximum,u.greenMaximum=i.greenMaximum,u.blueMaximum=i.blueMaximum,u.alphaMaximum=i.alphaMaximum,h){case f.red:u.redMinimum=i.redMaximum=A.position,u.greenMinimum=i.greenMinimum,u.blueMinimum=i.blueMinimum,u.alphaMinimum=i.alphaMinimum;break;case f.green:u.greenMinimum=i.greenMaximum=M.position,u.redMinimum=i.redMinimum,u.blueMinimum=i.blueMinimum,u.alphaMinimum=i.alphaMinimum;break;case f.blue:u.blueMinimum=i.blueMaximum=I.position,u.redMinimum=i.redMinimum,u.greenMinimum=i.greenMinimum,u.alphaMinimum=i.alphaMinimum;break;case f.alpha:u.alphaMinimum=i.alphaMaximum=R.position,u.blueMinimum=i.blueMinimum,u.redMinimum=i.redMinimum,u.greenMinimum=i.greenMinimum;break}return i.volume=(i.redMaximum-i.redMinimum)*(i.greenMaximum-i.greenMinimum)*(i.blueMaximum-i.blueMinimum)*(i.alphaMaximum-i.alphaMinimum),u.volume=(u.redMaximum-u.redMinimum)*(u.greenMaximum-u.greenMinimum)*(u.blueMaximum-u.blueMinimum)*(u.alphaMaximum-u.alphaMinimum),!0},f.prototype._initialize=function(i){this._colors=i,this._cubes=[];for(var u=0;u<i;u++)this._cubes[u]=new l;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=r(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=r(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=r(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=r(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=r(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=r(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(var h=0;h<256;++h)this._table[h]=h*h;this._pixels=[]},f.prototype._setQuality=function(i){i===void 0&&(i=5),this._significantBitsPerChannel=i,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1},f.alpha=3,f.red=2,f.green=1,f.blue=0,f}();m.WuQuant=n},function(x,m,p){var d=p(31);m.NearestColor=d.NearestColor;var s=p(32);m.ErrorDiffusionArray=s.ErrorDiffusionArray,m.ErrorDiffusionArrayKernel=s.ErrorDiffusionArrayKernel;var a=p(33);m.ErrorDiffusionRiemersma=a.ErrorDiffusionRiemersma},function(x,m){var p=function(){function d(s){this._distance=s}return d.prototype.quantize=function(s,a){for(var r=s.getPointArray(),t=s.getWidth(),e=s.getHeight(),o=0;o<e;o++)for(var l=0,n=o*t;l<t;l++,n++){var f=r[n];f.from(a.getNearestColor(this._distance,f))}return s},d}();m.NearestColor=p},function(x,m,p){var d=p(24),s=p(6);(function(t){t[t.FloydSteinberg=0]="FloydSteinberg",t[t.FalseFloydSteinberg=1]="FalseFloydSteinberg",t[t.Stucki=2]="Stucki",t[t.Atkinson=3]="Atkinson",t[t.Jarvis=4]="Jarvis",t[t.Burkes=5]="Burkes",t[t.Sierra=6]="Sierra",t[t.TwoSierra=7]="TwoSierra",t[t.SierraLite=8]="SierraLite"})(m.ErrorDiffusionArrayKernel||(m.ErrorDiffusionArrayKernel={}));var a=m.ErrorDiffusionArrayKernel,r=function(){function t(e,o,l,n,f){l===void 0&&(l=!0),n===void 0&&(n=0),f===void 0&&(f=!1),this._setKernel(o),this._distance=e,this._minColorDistance=n,this._serpentine=l,this._calculateErrorLikeGIMP=f}return t.prototype.quantize=function(e,o){for(var l=e.getPointArray(),n=new d.Point,f=e.getWidth(),i=e.getHeight(),u=[],h=1,c=1,_=0;_<this._kernel.length;_++){var g=this._kernel[_][2]+1;c<g&&(c=g)}for(var _=0;_<c;_++)this._fillErrorLine(u[_]=[],f);for(var b=0;b<i;b++){this._serpentine&&(h=h*-1);var y=b*f,A=h==1?0:f-1,M=h==1?f:-1;this._fillErrorLine(u[0],f),u.push(u.shift());for(var I=u[0],R=A,F=y+A;R!==M;R+=h,F+=h){var z=l[F],D=I[R];n.from(z);var O=d.Point.createByRGBA(s.inRange0to255Rounded(z.r+D[0]),s.inRange0to255Rounded(z.g+D[1]),s.inRange0to255Rounded(z.b+D[2]),s.inRange0to255Rounded(z.a+D[3])),k=o.getNearestColor(this._distance,O);if(z.from(k),this._minColorDistance){var Z=this._distance.calculateNormalized(z,k);if(Z<this._minColorDistance)continue}var $=void 0,te=void 0,q=void 0,U=void 0;this._calculateErrorLikeGIMP?($=O.r-k.r,te=O.g-k.g,q=O.b-k.b,U=O.a-k.a):($=n.r-k.r,te=n.g-k.g,q=n.b-k.b,U=n.a-k.a);for(var W=h==1?0:this._kernel.length-1,G=h==1?this._kernel.length:-1,_=W;_!==G;_+=h){var V=this._kernel[_][1]*h,re=this._kernel[_][2];if(V+R>=0&&V+R<f&&re+b>=0&&re+b<i){var se=this._kernel[_][0],fe=u[re][V+R];fe[0]=fe[0]+$*se,fe[1]=fe[1]+te*se,fe[2]=fe[2]+q*se,fe[3]=fe[3]+U*se}}}}return e},t.prototype._fillErrorLine=function(e,o){e.length>o&&(e.length=o);for(var l=e.length,n=0;n<l;n++){var f=e[n];f[0]=f[1]=f[2]=f[3]=0}for(var n=l;n<o;n++)e[n]=[0,0,0,0]},t.prototype._setKernel=function(e){switch(e){case a.FloydSteinberg:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case a.FalseFloydSteinberg:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case a.Stucki:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case a.Atkinson:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case a.Jarvis:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case a.Burkes:this._kernel=[[8/32,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[8/32,0,1],[4/32,1,1],[2/32,2,1]];break;case a.Sierra:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case a.TwoSierra:this._kernel=[[4/16,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case a.SierraLite:this._kernel=[[2/4,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error("ErrorDiffusionArray: unknown kernel = "+e)}},t}();m.ErrorDiffusionArray=r},function(x,m,p){var d=p(34),s=p(24),a=p(6),r=function(){function t(e,o,l){o===void 0&&(o=16),l===void 0&&(l=1),this._distance=e,this._errorPropagation=l,this._errorQueueSize=o,this._max=this._errorQueueSize,this._createWeights()}return t.prototype.quantize=function(e,o){for(var l=this,n=new d.HilbertCurveBase,f=e.getPointArray(),i=e.getWidth(),u=e.getHeight(),h=[],c=0,_=0;_<this._errorQueueSize;_++)h[_]={r:0,g:0,b:0,a:0};return n.walk(i,u,function(g,b){for(var y=f[g+b*i],A=y.r,M=y.g,I=y.b,R=y.a,F=0;F<l._errorQueueSize;F++){var z=l._weights[F],D=h[(F+c)%l._errorQueueSize];A+=D.r*z,M+=D.g*z,I+=D.b*z,R+=D.a*z}var O=s.Point.createByRGBA(a.inRange0to255Rounded(A),a.inRange0to255Rounded(M),a.inRange0to255Rounded(I),a.inRange0to255Rounded(R)),k=o.getNearestColor(l._distance,O);c=(c+1)%l._errorQueueSize;var Z=(c+l._errorQueueSize-1)%l._errorQueueSize;h[Z].r=y.r-k.r,h[Z].g=y.g-k.g,h[Z].b=y.b-k.b,h[Z].a=y.a-k.a,y.from(k)}),e},t.prototype._createWeights=function(){this._weights=[];for(var e=Math.exp(Math.log(this._max)/(this._errorQueueSize-1)),o=0,l=1;o<this._errorQueueSize;o++)this._weights[o]=(l+.5|0)/this._max*this._errorPropagation,l*=e},t}();m.ErrorDiffusionRiemersma=r},function(x,m){var p;(function(s){s[s.NONE=0]="NONE",s[s.UP=1]="UP",s[s.LEFT=2]="LEFT",s[s.RIGHT=3]="RIGHT",s[s.DOWN=4]="DOWN"})(p||(p={}));var d=function(){function s(){}return s.prototype.walk=function(a,r,t){this._x=0,this._y=0,this._d=0,this._width=a,this._height=r,this._callback=t;var e=Math.max(a,r);this._level=Math.log(e)/Math.log(2)+1|0,this._walkHilbert(p.UP),this._visit(p.NONE)},s.prototype._walkHilbert=function(a){if(!(this._level<1)){switch(this._level--,a){case p.LEFT:this._walkHilbert(p.UP),this._visit(p.RIGHT),this._walkHilbert(p.LEFT),this._visit(p.DOWN),this._walkHilbert(p.LEFT),this._visit(p.LEFT),this._walkHilbert(p.DOWN);break;case p.RIGHT:this._walkHilbert(p.DOWN),this._visit(p.LEFT),this._walkHilbert(p.RIGHT),this._visit(p.UP),this._walkHilbert(p.RIGHT),this._visit(p.RIGHT),this._walkHilbert(p.UP);break;case p.UP:this._walkHilbert(p.LEFT),this._visit(p.DOWN),this._walkHilbert(p.UP),this._visit(p.RIGHT),this._walkHilbert(p.UP),this._visit(p.UP),this._walkHilbert(p.RIGHT);break;case p.DOWN:this._walkHilbert(p.RIGHT),this._visit(p.UP),this._walkHilbert(p.DOWN),this._visit(p.LEFT),this._walkHilbert(p.DOWN),this._visit(p.DOWN),this._walkHilbert(p.LEFT);break}this._level++}},s.prototype._visit=function(a){switch(this._x>=0&&this._x<this._width&&this._y>=0&&this._y<this._height&&(this._callback(this._x,this._y,this._d),this._d++),a){case p.LEFT:this._x--;break;case p.RIGHT:this._x++;break;case p.UP:this._y--;break;case p.DOWN:this._y++;break}},s}();m.HilbertCurveBase=d},function(x,m,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var d=p(36);m.SSIM=d.SSIM},function(x,m,p){var d=p(2),s=.01,a=.03,r=function(){function t(){}return t.prototype.compare=function(e,o){if(e.getHeight()!==o.getHeight()||e.getWidth()!==o.getWidth())throw new Error("Images have different sizes!");var l=8,n=(1<<l)-1,f=Math.pow(s*n,2),i=Math.pow(a*n,2),u=0,h=0;return this._iterate(e,o,function(c,_,g,b){for(var y=0,A=0,M=0,I=0;I<c.length;I++)A+=Math.pow(c[I]-g,2),M+=Math.pow(_[I]-b,2),y+=(c[I]-g)*(_[I]-b);var R=c.length-1;A/=R,M/=R,y/=R;var F=(2*g*b+f)*(2*y+i),z=(Math.pow(g,2)+Math.pow(b,2)+f)*(A+M+i),D=F/z;h+=D,u++}),h/u},t.prototype._iterate=function(e,o,l){for(var n=8,f=e.getWidth(),i=e.getHeight(),u=0;u<i;u+=n)for(var h=0;h<f;h+=n){var c=Math.min(n,f-h),_=Math.min(n,i-u),g=this._calculateLumaValuesForWindow(e,h,u,c,_),b=this._calculateLumaValuesForWindow(o,h,u,c,_),y=this._calculateAverageLuma(g),A=this._calculateAverageLuma(b);l(g,b,y,A)}},t.prototype._calculateLumaValuesForWindow=function(e,o,l,n,f){for(var i=e.getPointArray(),u=[],h=0,c=l;c<l+f;c++)for(var _=c*e.getWidth(),g=o;g<o+n;g++){var b=i[_+g];u[h]=b.r*d.Y.RED+b.g*d.Y.GREEN+b.b*d.Y.BLUE,h++}return u},t.prototype._calculateAverageLuma=function(e){for(var o=0,l=0;l<e.length;l++)o+=e[l];return o/e.length},t}();m.SSIM=r},function(x,m,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var d=p(6);m.arithmetic=d;var s=p(28);m.HueStatistics=s.HueStatistics;var a=p(22);m.Palette=a.Palette;var r=p(24);m.Point=r.Point;var t=p(23);m.PointContainer=t.PointContainer}])})},{}],75:[function(E,j,w){typeof Object.create=="function"?j.exports=function(m,p){p&&(m.super_=p,m.prototype=Object.create(p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}))}:j.exports=function(m,p){if(p){m.super_=p;var d=function(){};d.prototype=p.prototype,m.prototype=new d,m.prototype.constructor=m}}},{}],76:[function(E,j,w){/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */j.exports=function(p){return p!=null&&(x(p)||m(p)||!!p._isBuffer)};function x(p){return!!p.constructor&&typeof p.constructor.isBuffer=="function"&&p.constructor.isBuffer(p)}function m(p){return typeof p.readFloatLE=="function"&&typeof p.slice=="function"&&x(p.slice(0,0))}},{}],77:[function(E,j,w){var x=Function.prototype.toString,m=/^\s*class\b/,p=function(o){try{var l=x.call(o);return m.test(l)}catch{return!1}},d=function(o){try{return p(o)?!1:(x.call(o),!0)}catch{return!1}},s=Object.prototype.toString,a="[object Function]",r="[object GeneratorFunction]",t=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";j.exports=function(o){if(!o||typeof o!="function"&&typeof o!="object")return!1;if(typeof o=="function"&&!o.prototype)return!0;if(t)return d(o);if(p(o))return!1;var l=s.call(o);return l===a||l===r}},{}],78:[function(E,j,w){j.exports=m;var x=Object.prototype.toString;function m(p){var d=x.call(p);return d==="[object Function]"||typeof p=="function"&&d!=="[object RegExp]"||typeof xe<"u"&&(p===xe.setTimeout||p===xe.alert||p===xe.confirm||p===xe.prompt)}},{}],79:[function(E,j,w){var x={}.toString;j.exports=Array.isArray||function(m){return x.call(m)=="[object Array]"}},{}],80:[function(E,j,w){var x=E("./lib/encoder"),m=E("./lib/decoder");j.exports={encode:x,decode:m}},{"./lib/decoder":81,"./lib/encoder":82}],81:[function(E,j,w){(function(x){var m=function(){var s=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),a=4017,r=799,t=3406,e=2276,o=1567,l=3784,n=5793,f=2896;function i(){}function u(A,M){for(var I=0,R=[],F,z,D=16;D>0&&!A[D-1];)D--;R.push({children:[],index:0});var O=R[0],k;for(F=0;F<D;F++){for(z=0;z<A[F];z++){for(O=R.pop(),O.children[O.index]=M[I];O.index>0;){if(R.length===0)throw new Error("Could not recreate Huffman Table");O=R.pop()}for(O.index++,R.push(O);R.length<=F;)R.push(k={children:[],index:0}),O.children[O.index]=k.children,O=k;I++}F+1<D&&(R.push(k={children:[],index:0}),O.children[O.index]=k.children,O=k)}return R[0].children}function h(A,M,I,R,F,z,D,O,k,Z){I.precision,I.samplesPerLine,I.scanLines;var $=I.mcusPerLine,te=I.progressive;I.maxH,I.maxV;var q=M,U=0,W=0;function G(){if(W>0)return W--,U>>W&1;if(U=A[M++],U==255){var Oe=A[M++];if(Oe)throw new Error("unexpected marker: "+(U<<8|Oe).toString(16))}return W=7,U>>>7}function V(Oe){for(var Te=Oe,Me;(Me=G())!==null;){if(Te=Te[Me],typeof Te=="number")return Te;if(typeof Te!="object")throw new Error("invalid huffman sequence")}return null}function re(Oe){for(var Te=0;Oe>0;){var Me=G();if(Me===null)return;Te=Te<<1|Me,Oe--}return Te}function se(Oe){var Te=re(Oe);return Te>=1<<Oe-1?Te:Te+(-1<<Oe)+1}function fe(Oe,Te){var Me=V(Oe.huffmanTableDC),Fe=Me===0?0:se(Me);Te[0]=Oe.pred+=Fe;for(var Le=1;Le<64;){var B=V(Oe.huffmanTableAC),ce=B&15,de=B>>4;if(ce===0){if(de<15)break;Le+=16;continue}Le+=de;var Ee=s[Le];Te[Ee]=se(ce),Le++}}function ue(Oe,Te){var Me=V(Oe.huffmanTableDC),Fe=Me===0?0:se(Me)<<k;Te[0]=Oe.pred+=Fe}function pe(Oe,Te){Te[0]|=G()<<k}var ne=0;function ie(Oe,Te){if(ne>0){ne--;return}for(var Me=z,Fe=D;Me<=Fe;){var Le=V(Oe.huffmanTableAC),B=Le&15,ce=Le>>4;if(B===0){if(ce<15){ne=re(ce)+(1<<ce)-1;break}Me+=16;continue}Me+=ce;var de=s[Me];Te[de]=se(B)*(1<<k),Me++}}var X=0,J;function ee(Oe,Te){for(var Me=z,Fe=D,Le=0;Me<=Fe;){var B=s[Me],ce=Te[B]<0?-1:1;switch(X){case 0:var de=V(Oe.huffmanTableAC),Ee=de&15,Le=de>>4;if(Ee===0)Le<15?(ne=re(Le)+(1<<Le),X=4):(Le=16,X=1);else{if(Ee!==1)throw new Error("invalid ACn encoding");J=se(Ee),X=Le?2:3}continue;case 1:case 2:Te[B]?Te[B]+=(G()<<k)*ce:(Le--,Le===0&&(X=X==2?3:0));break;case 3:Te[B]?Te[B]+=(G()<<k)*ce:(Te[B]=J<<k,X=0);break;case 4:Te[B]&&(Te[B]+=(G()<<k)*ce);break}Me++}X===4&&(ne--,ne===0&&(X=0))}function H(Oe,Te,Me,Fe,Le){var B=Me/$|0,ce=Me%$,de=B*Oe.v+Fe,Ee=ce*Oe.h+Le;Oe.blocks[de]===void 0&&Z.tolerantDecoding||Te(Oe,Oe.blocks[de][Ee])}function P(Oe,Te,Me){var Fe=Me/Oe.blocksPerLine|0,Le=Me%Oe.blocksPerLine;Oe.blocks[Fe]===void 0&&Z.tolerantDecoding||Te(Oe,Oe.blocks[Fe][Le])}var T=R.length,Y,N,C,S,Q,oe;te?z===0?oe=O===0?ue:pe:oe=O===0?ie:ee:oe=fe;var ve=0,ye,Ae;T==1?Ae=R[0].blocksPerLine*R[0].blocksPerColumn:Ae=$*I.mcusPerColumn,F||(F=Ae);for(var ke,Pe;ve<Ae;){for(N=0;N<T;N++)R[N].pred=0;if(ne=0,T==1)for(Y=R[0],Q=0;Q<F;Q++)P(Y,oe,ve),ve++;else for(Q=0;Q<F;Q++){for(N=0;N<T;N++)for(Y=R[N],ke=Y.h,Pe=Y.v,C=0;C<Pe;C++)for(S=0;S<ke;S++)H(Y,oe,ve,C,S);if(ve++,ve===Ae)break}if(ve===Ae)do{if(A[M]===255&&A[M+1]!==0)break;M+=1}while(M<A.length-2);if(W=0,ye=A[M]<<8|A[M+1],ye<65280)throw new Error("marker was not found");if(ye>=65488&&ye<=65495)M+=2;else break}return M-q}function c(A,M){var I=[],R=M.blocksPerLine,F=M.blocksPerColumn,z=R<<3,D=new Int32Array(64),O=new Uint8Array(64);function k(re,se,fe){var ue=M.quantizationTable,pe,ne,ie,X,J,ee,H,P,T,Y=fe,N;for(N=0;N<64;N++)Y[N]=re[N]*ue[N];for(N=0;N<8;++N){var C=8*N;if(Y[1+C]==0&&Y[2+C]==0&&Y[3+C]==0&&Y[4+C]==0&&Y[5+C]==0&&Y[6+C]==0&&Y[7+C]==0){T=n*Y[0+C]+512>>10,Y[0+C]=T,Y[1+C]=T,Y[2+C]=T,Y[3+C]=T,Y[4+C]=T,Y[5+C]=T,Y[6+C]=T,Y[7+C]=T;continue}pe=n*Y[0+C]+128>>8,ne=n*Y[4+C]+128>>8,ie=Y[2+C],X=Y[6+C],J=f*(Y[1+C]-Y[7+C])+128>>8,P=f*(Y[1+C]+Y[7+C])+128>>8,ee=Y[3+C]<<4,H=Y[5+C]<<4,T=pe-ne+1>>1,pe=pe+ne+1>>1,ne=T,T=ie*l+X*o+128>>8,ie=ie*o-X*l+128>>8,X=T,T=J-H+1>>1,J=J+H+1>>1,H=T,T=P+ee+1>>1,ee=P-ee+1>>1,P=T,T=pe-X+1>>1,pe=pe+X+1>>1,X=T,T=ne-ie+1>>1,ne=ne+ie+1>>1,ie=T,T=J*e+P*t+2048>>12,J=J*t-P*e+2048>>12,P=T,T=ee*r+H*a+2048>>12,ee=ee*a-H*r+2048>>12,H=T,Y[0+C]=pe+P,Y[7+C]=pe-P,Y[1+C]=ne+H,Y[6+C]=ne-H,Y[2+C]=ie+ee,Y[5+C]=ie-ee,Y[3+C]=X+J,Y[4+C]=X-J}for(N=0;N<8;++N){var S=N;if(Y[8+S]==0&&Y[16+S]==0&&Y[24+S]==0&&Y[32+S]==0&&Y[40+S]==0&&Y[48+S]==0&&Y[56+S]==0){T=n*fe[N+0]+8192>>14,Y[0+S]=T,Y[8+S]=T,Y[16+S]=T,Y[24+S]=T,Y[32+S]=T,Y[40+S]=T,Y[48+S]=T,Y[56+S]=T;continue}pe=n*Y[0+S]+2048>>12,ne=n*Y[32+S]+2048>>12,ie=Y[16+S],X=Y[48+S],J=f*(Y[8+S]-Y[56+S])+2048>>12,P=f*(Y[8+S]+Y[56+S])+2048>>12,ee=Y[24+S],H=Y[40+S],T=pe-ne+1>>1,pe=pe+ne+1>>1,ne=T,T=ie*l+X*o+2048>>12,ie=ie*o-X*l+2048>>12,X=T,T=J-H+1>>1,J=J+H+1>>1,H=T,T=P+ee+1>>1,ee=P-ee+1>>1,P=T,T=pe-X+1>>1,pe=pe+X+1>>1,X=T,T=ne-ie+1>>1,ne=ne+ie+1>>1,ie=T,T=J*e+P*t+2048>>12,J=J*t-P*e+2048>>12,P=T,T=ee*r+H*a+2048>>12,ee=ee*a-H*r+2048>>12,H=T,Y[0+S]=pe+P,Y[56+S]=pe-P,Y[8+S]=ne+H,Y[48+S]=ne-H,Y[16+S]=ie+ee,Y[40+S]=ie-ee,Y[24+S]=X+J,Y[32+S]=X-J}for(N=0;N<64;++N){var Q=128+(Y[N]+8>>4);se[N]=Q<0?0:Q>255?255:Q}}y(z*F*8);for(var Z,$,te=0;te<F;te++){var q=te<<3;for(Z=0;Z<8;Z++)I.push(new Uint8Array(z));for(var U=0;U<R;U++){k(M.blocks[te][U],O,D);var W=0,G=U<<3;for($=0;$<8;$++){var V=I[q+$];for(Z=0;Z<8;Z++)V[G+Z]=O[W++]}}}return I}function _(A){return A<0?0:A>255?255:A}i.prototype={load:function(M){var I=new XMLHttpRequest;I.open("GET",M,!0),I.responseType="arraybuffer",I.onload=function(){var R=new Uint8Array(I.response||I.mozResponseArrayBuffer);this.parse(R),this.onload&&this.onload()}.bind(this),I.send(null)},parse:function(M){var I=this.opts.maxResolutionInMP*1e3*1e3,R=0;M.length;function F(){var Le=M[R]<<8|M[R+1];return R+=2,Le}function z(){var Le=F(),B=M.subarray(R,R+Le-2);return R+=B.length,B}function D(Le){var B=0,ce=0,de,Ee;for(Ee in Le.components)Le.components.hasOwnProperty(Ee)&&(de=Le.components[Ee],B<de.h&&(B=de.h),ce<de.v&&(ce=de.v));var he=Math.ceil(Le.samplesPerLine/8/B),be=Math.ceil(Le.scanLines/8/ce);for(Ee in Le.components)if(Le.components.hasOwnProperty(Ee)){de=Le.components[Ee];var K=Math.ceil(Math.ceil(Le.samplesPerLine/8)*de.h/B),Se=Math.ceil(Math.ceil(Le.scanLines/8)*de.v/ce),Be=he*de.h,v=be*de.v,le=v*Be,me=[];y(le*256);for(var L=0;L<v;L++){for(var ae=[],we=0;we<Be;we++)ae.push(new Int32Array(64));me.push(ae)}de.blocksPerLine=K,de.blocksPerColumn=Se,de.blocks=me}Le.maxH=B,Le.maxV=ce,Le.mcusPerLine=he,Le.mcusPerColumn=be}var O=null,k=null,Z,$,te=[],q=[],U=[],W=[],G=F();if(G!=65496)throw new Error("SOI not found");for(G=F();G!=65497;){var V,re;switch(G){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var se=z();G===65504&&se[0]===74&&se[1]===70&&se[2]===73&&se[3]===70&&se[4]===0&&(O={version:{major:se[5],minor:se[6]},densityUnits:se[7],xDensity:se[8]<<8|se[9],yDensity:se[10]<<8|se[11],thumbWidth:se[12],thumbHeight:se[13],thumbData:se.subarray(14,14+3*se[12]*se[13])}),G===65505&&se[0]===69&&se[1]===120&&se[2]===105&&se[3]===102&&se[4]===0&&(this.exifBuffer=se.subarray(5,se.length)),G===65518&&se[0]===65&&se[1]===100&&se[2]===111&&se[3]===98&&se[4]===101&&se[5]===0&&(k={version:se[6],flags0:se[7]<<8|se[8],flags1:se[9]<<8|se[10],transformCode:se[11]});break;case 65499:for(var fe=F(),ue=fe+R-2;R<ue;){var pe=M[R++];y(256);var ne=new Int32Array(64);if(pe>>4)if(pe>>4===1)for(re=0;re<64;re++){var ie=s[re];ne[ie]=F()}else throw new Error("DQT: invalid table spec");else for(re=0;re<64;re++){var ie=s[re];ne[ie]=M[R++]}te[pe&15]=ne}break;case 65472:case 65473:case 65474:F(),Z={},Z.extended=G===65473,Z.progressive=G===65474,Z.precision=M[R++],Z.scanLines=F(),Z.samplesPerLine=F(),Z.components={},Z.componentsOrder=[];var X=Z.scanLines*Z.samplesPerLine;if(X>I){var J=Math.ceil((X-I)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${J}MP`)}var ee=M[R++],H;for(V=0;V<ee;V++){H=M[R];var P=M[R+1]>>4,T=M[R+1]&15,Y=M[R+2];Z.componentsOrder.push(H),Z.components[H]={h:P,v:T,quantizationIdx:Y},R+=3}D(Z),q.push(Z);break;case 65476:var N=F();for(V=2;V<N;){var C=M[R++],S=new Uint8Array(16),Q=0;for(re=0;re<16;re++,R++)Q+=S[re]=M[R];y(16+Q);var oe=new Uint8Array(Q);for(re=0;re<Q;re++,R++)oe[re]=M[R];V+=17+Q,(C>>4?U:W)[C&15]=u(S,oe)}break;case 65501:F(),$=F();break;case 65498:F();var ve=M[R++],ye=[],Ae;for(V=0;V<ve;V++){Ae=Z.components[M[R++]];var ke=M[R++];Ae.huffmanTableDC=W[ke>>4],Ae.huffmanTableAC=U[ke&15],ye.push(Ae)}var Pe=M[R++],Oe=M[R++],Te=M[R++],Me=h(M,R,Z,ye,$,Pe,Oe,Te>>4,Te&15,this.opts);R+=Me;break;case 65535:M[R]!==255&&R--;break;default:if(M[R-3]==255&&M[R-2]>=192&&M[R-2]<=254){R-=3;break}throw new Error("unknown JPEG marker "+G.toString(16))}G=F()}if(q.length!=1)throw new Error("only single frame JPEGs supported");for(var V=0;V<q.length;V++){var Fe=q[V].components;for(var re in Fe)Fe[re].quantizationTable=te[Fe[re].quantizationIdx],delete Fe[re].quantizationIdx}this.width=Z.samplesPerLine,this.height=Z.scanLines,this.jfif=O,this.adobe=k,this.components=[];for(var V=0;V<Z.componentsOrder.length;V++){var Ae=Z.components[Z.componentsOrder[V]];this.components.push({lines:c(Z,Ae),scaleX:Ae.h/Z.maxH,scaleY:Ae.v/Z.maxV})}},getData:function(M,I){var R=this.width/M,F=this.height/I,z,D,O,k,Z,$,te,q,U,W,G=0,V,re,se,fe,ue,pe,ne,ie,X,J,ee,H=M*I*this.components.length;y(H);var P=new Uint8Array(H);switch(this.components.length){case 1:for(z=this.components[0],W=0;W<I;W++)for(Z=z.lines[0|W*z.scaleY*F],U=0;U<M;U++)V=Z[0|U*z.scaleX*R],P[G++]=V;break;case 2:for(z=this.components[0],D=this.components[1],W=0;W<I;W++)for(Z=z.lines[0|W*z.scaleY*F],$=D.lines[0|W*D.scaleY*F],U=0;U<M;U++)V=Z[0|U*z.scaleX*R],P[G++]=V,V=$[0|U*D.scaleX*R],P[G++]=V;break;case 3:for(ee=!0,this.adobe&&this.adobe.transformCode?ee=!0:typeof this.opts.colorTransform<"u"&&(ee=!!this.opts.colorTransform),z=this.components[0],D=this.components[1],O=this.components[2],W=0;W<I;W++)for(Z=z.lines[0|W*z.scaleY*F],$=D.lines[0|W*D.scaleY*F],te=O.lines[0|W*O.scaleY*F],U=0;U<M;U++)ee?(V=Z[0|U*z.scaleX*R],re=$[0|U*D.scaleX*R],se=te[0|U*O.scaleX*R],ie=_(V+1.402*(se-128)),X=_(V-.3441363*(re-128)-.71413636*(se-128)),J=_(V+1.772*(re-128))):(ie=Z[0|U*z.scaleX*R],X=$[0|U*D.scaleX*R],J=te[0|U*O.scaleX*R]),P[G++]=ie,P[G++]=X,P[G++]=J;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(ee=!1,this.adobe&&this.adobe.transformCode?ee=!0:typeof this.opts.colorTransform<"u"&&(ee=!!this.opts.colorTransform),z=this.components[0],D=this.components[1],O=this.components[2],k=this.components[3],W=0;W<I;W++)for(Z=z.lines[0|W*z.scaleY*F],$=D.lines[0|W*D.scaleY*F],te=O.lines[0|W*O.scaleY*F],q=k.lines[0|W*k.scaleY*F],U=0;U<M;U++)ee?(V=Z[0|U*z.scaleX*R],re=$[0|U*D.scaleX*R],se=te[0|U*O.scaleX*R],fe=q[0|U*k.scaleX*R],ue=255-_(V+1.402*(se-128)),pe=255-_(V-.3441363*(re-128)-.71413636*(se-128)),ne=255-_(V+1.772*(re-128))):(ue=Z[0|U*z.scaleX*R],pe=$[0|U*D.scaleX*R],ne=te[0|U*O.scaleX*R],fe=q[0|U*k.scaleX*R]),P[G++]=255-ue,P[G++]=255-pe,P[G++]=255-ne,P[G++]=255-fe;break;default:throw new Error("Unsupported color mode")}return P},copyToImageData:function(M,I){var R=M.width,F=M.height,z=M.data,D=this.getData(R,F),O=0,k=0,Z,$,te,q,U,W,G,V,re;switch(this.components.length){case 1:for($=0;$<F;$++)for(Z=0;Z<R;Z++)te=D[O++],z[k++]=te,z[k++]=te,z[k++]=te,I&&(z[k++]=255);break;case 3:for($=0;$<F;$++)for(Z=0;Z<R;Z++)G=D[O++],V=D[O++],re=D[O++],z[k++]=G,z[k++]=V,z[k++]=re,I&&(z[k++]=255);break;case 4:for($=0;$<F;$++)for(Z=0;Z<R;Z++)U=D[O++],W=D[O++],te=D[O++],q=D[O++],G=255-_(U*(1-q/255)+q),V=255-_(W*(1-q/255)+q),re=255-_(te*(1-q/255)+q),z[k++]=G,z[k++]=V,z[k++]=re,I&&(z[k++]=255);break;default:throw new Error("Unsupported color mode")}}};var g=0,b=0;function y(A=0){var M=g+A;if(M>b){var I=Math.ceil((M-b)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${I}MB`)}g=M}return i.resetMaxMemoryUsage=function(A){g=0,b=A},i.getBytesAllocated=function(){return g},i.requestMemoryAllocation=y,i}();typeof j<"u"?j.exports=p:typeof xe<"u"&&(xe["jpeg-js"]=xe["jpeg-js"]||{},xe["jpeg-js"].decode=p);function p(d,s={}){var a={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},r={...a,...s},t=new Uint8Array(d),e=new m;e.opts=r,m.resetMaxMemoryUsage(r.maxMemoryUsageInMB*1024*1024),e.parse(t);var o=r.formatAsRGBA?4:3,l=e.width*e.height*o;try{m.requestMemoryAllocation(l);var n={width:e.width,height:e.height,exifBuffer:e.exifBuffer,data:r.useTArray?new Uint8Array(l):new x(l)}}catch(f){throw f instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+l):f}return e.copyToImageData(n,r.formatAsRGBA),n}}).call(this,E("buffer").Buffer)},{buffer:48}],82:[function(E,j,w){(function(x){function m(d){var s=Math.floor,a=new Array(64),r=new Array(64),t=new Array(64),e=new Array(64),o,l,n,f,i=new Array(65535),u=new Array(65535),h=new Array(64),c=new Array(64),_=[],g=0,b=7,y=new Array(64),A=new Array(64),M=new Array(64),I=new Array(256),R=new Array(2048),F,z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Z=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],$=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],te=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],U=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(S){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var ve=s((Q[oe]*S+50)/100);ve<1?ve=1:ve>255&&(ve=255),a[z[oe]]=ve}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ae=0;Ae<64;Ae++){var ke=s((ye[Ae]*S+50)/100);ke<1?ke=1:ke>255&&(ke=255),r[z[Ae]]=ke}for(var Pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Oe=0,Te=0;Te<8;Te++)for(var Me=0;Me<8;Me++)t[Oe]=1/(a[z[Oe]]*Pe[Te]*Pe[Me]*8),e[Oe]=1/(r[z[Oe]]*Pe[Te]*Pe[Me]*8),Oe++}function G(S,Q){for(var oe=0,ve=0,ye=new Array,Ae=1;Ae<=16;Ae++){for(var ke=1;ke<=S[Ae];ke++)ye[Q[ve]]=[],ye[Q[ve]][0]=oe,ye[Q[ve]][1]=Ae,ve++,oe++;oe*=2}return ye}function V(){o=G(D,O),l=G($,te),n=G(k,Z),f=G(q,U)}function re(){for(var S=1,Q=2,oe=1;oe<=15;oe++){for(var ve=S;ve<Q;ve++)u[32767+ve]=oe,i[32767+ve]=[],i[32767+ve][1]=oe,i[32767+ve][0]=ve;for(var ye=-(Q-1);ye<=-S;ye++)u[32767+ye]=oe,i[32767+ye]=[],i[32767+ye][1]=oe,i[32767+ye][0]=Q-1+ye;S<<=1,Q<<=1}}function se(){for(var S=0;S<256;S++)R[S]=19595*S,R[S+256>>0]=38470*S,R[S+512>>0]=7471*S+32768,R[S+768>>0]=-11059*S,R[S+1024>>0]=-21709*S,R[S+1280>>0]=32768*S+8421375,R[S+1536>>0]=-27439*S,R[S+1792>>0]=-5329*S}function fe(S){for(var Q=S[0],oe=S[1]-1;oe>=0;)Q&1<<oe&&(g|=1<<b),oe--,b--,b<0&&(g==255?(ue(255),ue(0)):ue(g),b=7,g=0)}function ue(S){_.push(S)}function pe(S){ue(S>>8&255),ue(S&255)}function ne(S,Q){var oe,ve,ye,Ae,ke,Pe,Oe,Te,Me=0,Fe,Le=8,B=64;for(Fe=0;Fe<Le;++Fe){oe=S[Me],ve=S[Me+1],ye=S[Me+2],Ae=S[Me+3],ke=S[Me+4],Pe=S[Me+5],Oe=S[Me+6],Te=S[Me+7];var ce=oe+Te,de=oe-Te,Ee=ve+Oe,he=ve-Oe,be=ye+Pe,K=ye-Pe,Se=Ae+ke,Be=Ae-ke,v=ce+Se,le=ce-Se,me=Ee+be,L=Ee-be;S[Me]=v+me,S[Me+4]=v-me;var ae=(L+le)*.707106781;S[Me+2]=le+ae,S[Me+6]=le-ae,v=Be+K,me=K+he,L=he+de;var we=(v-L)*.382683433,Ce=.5411961*v+we,Re=1.306562965*L+we,De=me*.707106781,Ne=de+De,Xe=de-De;S[Me+5]=Xe+Ce,S[Me+3]=Xe-Ce,S[Me+1]=Ne+Re,S[Me+7]=Ne-Re,Me+=8}for(Me=0,Fe=0;Fe<Le;++Fe){oe=S[Me],ve=S[Me+8],ye=S[Me+16],Ae=S[Me+24],ke=S[Me+32],Pe=S[Me+40],Oe=S[Me+48],Te=S[Me+56];var Ue=oe+Te,ze=oe-Te,Ge=ve+Oe,We=ve-Oe,Ke=ye+Pe,it=ye-Pe,nt=Ae+ke,Ze=Ae-ke,Qe=Ue+nt,Ye=Ue-nt,$e=Ge+Ke,Je=Ge-Ke;S[Me]=Qe+$e,S[Me+32]=Qe-$e;var ot=(Je+Ye)*.707106781;S[Me+16]=Ye+ot,S[Me+48]=Ye-ot,Qe=Ze+it,$e=it+We,Je=We+ze;var wt=(Qe-Je)*.382683433,xt=.5411961*Qe+wt,Et=1.306562965*Je+wt,St=$e*.707106781,At=ze+St,Mt=ze-St;S[Me+40]=Mt+xt,S[Me+24]=Mt-xt,S[Me+8]=At+Et,S[Me+56]=At-Et,Me++}var ut;for(Fe=0;Fe<B;++Fe)ut=S[Fe]*Q[Fe],h[Fe]=ut>0?ut+.5|0:ut-.5|0;return h}function ie(){pe(65504),pe(16),ue(74),ue(70),ue(73),ue(70),ue(0),ue(1),ue(1),ue(0),pe(1),pe(1),ue(0),ue(0)}function X(S){if(S){pe(65505),S[0]===69&&S[1]===120&&S[2]===105&&S[3]===102?pe(S.length+2):(pe(S.length+5+2),ue(69),ue(120),ue(105),ue(102),ue(0));for(var Q=0;Q<S.length;Q++)ue(S[Q])}}function J(S,Q){pe(65472),pe(17),ue(8),pe(Q),pe(S),ue(3),ue(1),ue(17),ue(0),ue(2),ue(17),ue(1),ue(3),ue(17),ue(1)}function ee(){pe(65499),pe(132),ue(0);for(var S=0;S<64;S++)ue(a[S]);ue(1);for(var Q=0;Q<64;Q++)ue(r[Q])}function H(){pe(65476),pe(418),ue(0);for(var S=0;S<16;S++)ue(D[S+1]);for(var Q=0;Q<=11;Q++)ue(O[Q]);ue(16);for(var oe=0;oe<16;oe++)ue(k[oe+1]);for(var ve=0;ve<=161;ve++)ue(Z[ve]);ue(1);for(var ye=0;ye<16;ye++)ue($[ye+1]);for(var Ae=0;Ae<=11;Ae++)ue(te[Ae]);ue(17);for(var ke=0;ke<16;ke++)ue(q[ke+1]);for(var Pe=0;Pe<=161;Pe++)ue(U[Pe])}function P(){pe(65498),pe(12),ue(3),ue(1),ue(0),ue(2),ue(17),ue(3),ue(17),ue(0),ue(63),ue(0)}function T(S,Q,oe,ve,ye){for(var Ae=ye[0],ke=ye[240],Pe,Oe=16,Te=63,Me=64,Fe=ne(S,Q),Le=0;Le<Me;++Le)c[z[Le]]=Fe[Le];var B=c[0]-oe;oe=c[0],B==0?fe(ve[0]):(Pe=32767+B,fe(ve[u[Pe]]),fe(i[Pe]));for(var ce=63;ce>0&&c[ce]==0;ce--);if(ce==0)return fe(Ae),oe;for(var de=1,Ee;de<=ce;){for(var he=de;c[de]==0&&de<=ce;++de);var be=de-he;if(be>=Oe){Ee=be>>4;for(var K=1;K<=Ee;++K)fe(ke);be=be&15}Pe=32767+c[de],fe(ye[(be<<4)+u[Pe]]),fe(i[Pe]),de++}return ce!=Te&&fe(Ae),oe}function Y(){for(var S=String.fromCharCode,Q=0;Q<256;Q++)I[Q]=S(Q)}this.encode=function(S,Q){new Date().getTime(),Q&&N(Q),_=new Array,g=0,b=7,pe(65496),ie(),X(S.exifBuffer),ee(),J(S.width,S.height),H(),P();var oe=0,ve=0,ye=0;g=0,b=7,this.encode.displayName="_encode_";for(var Ae=S.data,ke=S.width,Pe=S.height,Oe=ke*4,Te,Me=0,Fe,Le,B,ce,de,Ee,he,be;Me<Pe;){for(Te=0;Te<Oe;){for(ce=Oe*Me+Te,de=ce,Ee=-1,he=0,be=0;be<64;be++)he=be>>3,Ee=(be&7)*4,de=ce+he*Oe+Ee,Me+he>=Pe&&(de-=Oe*(Me+1+he-Pe)),Te+Ee>=Oe&&(de-=Te+Ee-Oe+4),Fe=Ae[de++],Le=Ae[de++],B=Ae[de++],y[be]=(R[Fe]+R[Le+256>>0]+R[B+512>>0]>>16)-128,A[be]=(R[Fe+768>>0]+R[Le+1024>>0]+R[B+1280>>0]>>16)-128,M[be]=(R[Fe+1280>>0]+R[Le+1536>>0]+R[B+1792>>0]>>16)-128;oe=T(y,t,oe,o,n),ve=T(A,e,ve,l,f),ye=T(M,e,ye,l,f),Te+=32}Me+=8}if(b>=0){var K=[];K[1]=b+1,K[0]=(1<<b+1)-1,fe(K)}return pe(65497),typeof j>"u"?new Uint8Array(_):new x(_)};function N(S){if(S<=0&&(S=1),S>100&&(S=100),F!=S){var Q=0;S<50?Q=Math.floor(5e3/S):Q=Math.floor(200-S*2),W(Q),F=S}}function C(){var S=new Date().getTime();d||(d=50),Y(),V(),re(),se(),N(d),new Date().getTime()-S}C()}typeof j<"u"?j.exports=p:typeof xe<"u"&&(xe["jpeg-js"]=xe["jpeg-js"]||{},xe["jpeg-js"].encode=p);function p(d,s){typeof s>"u"&&(s=50);var a=new m(s),r=a.encode(d,s);return{data:r,width:d.width,height:d.height}}}).call(this,E("buffer").Buffer)},{buffer:48}],83:[function(E,j,w){(function(x){var m=E("path"),p=E("fs"),d=parseInt("0777",8);j.exports=s.mkdirp=s.mkdirP=s;function s(a,r,t,e){typeof r=="function"?(t=r,r={}):(!r||typeof r!="object")&&(r={mode:r});var o=r.mode,l=r.fs||p;o===void 0&&(o=d&~x.umask()),e||(e=null);var n=t||function(){};a=m.resolve(a),l.mkdir(a,o,function(f){if(!f)return e=e||a,n(null,e);switch(f.code){case"ENOENT":s(m.dirname(a),r,function(i,u){i?n(i,u):s(a,r,n,u)});break;default:l.stat(a,function(i,u){i||!u.isDirectory()?n(f,e):n(null,e)});break}})}s.sync=function a(r,t,e){(!t||typeof t!="object")&&(t={mode:t});var o=t.mode,l=t.fs||p;o===void 0&&(o=d&~x.umask()),e||(e=null),r=m.resolve(r);try{l.mkdirSync(r,o),e=e||r}catch(f){switch(f.code){case"ENOENT":e=a(m.dirname(r),t,e),a(r,t,e);break;default:var n;try{n=l.statSync(r)}catch{throw f}if(!n.isDirectory())throw f;break}}return e}}).call(this,E("_process"))},{_process:133,fs:47,path:107}],84:[function(E,j,w){var x=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;function d(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function s(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var r={},t=0;t<10;t++)r["_"+String.fromCharCode(t)]=t;var e=Object.getOwnPropertyNames(r).map(function(l){return r[l]});if(e.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(l){o[l]=l}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}j.exports=s()?Object.assign:function(a,r){for(var t,e=d(a),o,l=1;l<arguments.length;l++){t=Object(arguments[l]);for(var n in t)m.call(t,n)&&(e[n]=t[n]);if(x){o=x(t);for(var f=0;f<o.length;f++)p.call(t,o[f])&&(e[o[f]]=t[o[f]])}}return e}},{}],85:[function(E,j,w){arguments[4][64][0].apply(w,arguments)},{dup:64}],86:[function(E,j,w){var x=E("./lib/utils/common").assign,m=E("./lib/deflate"),p=E("./lib/inflate"),d=E("./lib/zlib/constants"),s={};x(s,m,p,d),j.exports=s},{"./lib/deflate":87,"./lib/inflate":88,"./lib/utils/common":89,"./lib/zlib/constants":92}],87:[function(E,j,w){var x=E("./zlib/deflate"),m=E("./utils/common"),p=E("./utils/strings"),d=E("./zlib/messages"),s=E("./zlib/zstream"),a=Object.prototype.toString,r=0,t=4,e=0,o=1,l=2,n=-1,f=0,i=8;function u(g){if(!(this instanceof u))return new u(g);this.options=m.assign({level:n,method:i,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},g||{});var b=this.options;b.raw&&b.windowBits>0?b.windowBits=-b.windowBits:b.gzip&&b.windowBits>0&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var y=x.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(y!==e)throw new Error(d[y]);if(b.header&&x.deflateSetHeader(this.strm,b.header),b.dictionary){var A;if(typeof b.dictionary=="string"?A=p.string2buf(b.dictionary):a.call(b.dictionary)==="[object ArrayBuffer]"?A=new Uint8Array(b.dictionary):A=b.dictionary,y=x.deflateSetDictionary(this.strm,A),y!==e)throw new Error(d[y]);this._dict_set=!0}}u.prototype.push=function(g,b){var y=this.strm,A=this.options.chunkSize,M,I;if(this.ended)return!1;I=b===~~b?b:b===!0?t:r,typeof g=="string"?y.input=p.string2buf(g):a.call(g)==="[object ArrayBuffer]"?y.input=new Uint8Array(g):y.input=g,y.next_in=0,y.avail_in=y.input.length;do{if(y.avail_out===0&&(y.output=new m.Buf8(A),y.next_out=0,y.avail_out=A),M=x.deflate(y,I),M!==o&&M!==e)return this.onEnd(M),this.ended=!0,!1;(y.avail_out===0||y.avail_in===0&&(I===t||I===l))&&(this.options.to==="string"?this.onData(p.buf2binstring(m.shrinkBuf(y.output,y.next_out))):this.onData(m.shrinkBuf(y.output,y.next_out)))}while((y.avail_in>0||y.avail_out===0)&&M!==o);return I===t?(M=x.deflateEnd(this.strm),this.onEnd(M),this.ended=!0,M===e):(I===l&&(this.onEnd(e),y.avail_out=0),!0)},u.prototype.onData=function(g){this.chunks.push(g)},u.prototype.onEnd=function(g){g===e&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg};function h(g,b){var y=new u(b);if(y.push(g,!0),y.err)throw y.msg||d[y.err];return y.result}function c(g,b){return b=b||{},b.raw=!0,h(g,b)}function _(g,b){return b=b||{},b.gzip=!0,h(g,b)}w.Deflate=u,w.deflate=h,w.deflateRaw=c,w.gzip=_},{"./utils/common":89,"./utils/strings":90,"./zlib/deflate":94,"./zlib/messages":99,"./zlib/zstream":101}],88:[function(E,j,w){var x=E("./zlib/inflate"),m=E("./utils/common"),p=E("./utils/strings"),d=E("./zlib/constants"),s=E("./zlib/messages"),a=E("./zlib/zstream"),r=E("./zlib/gzheader"),t=Object.prototype.toString;function e(n){if(!(this instanceof e))return new e(n);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},n||{});var f=this.options;f.raw&&f.windowBits>=0&&f.windowBits<16&&(f.windowBits=-f.windowBits,f.windowBits===0&&(f.windowBits=-15)),f.windowBits>=0&&f.windowBits<16&&!(n&&n.windowBits)&&(f.windowBits+=32),f.windowBits>15&&f.windowBits<48&&(f.windowBits&15||(f.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var i=x.inflateInit2(this.strm,f.windowBits);if(i!==d.Z_OK)throw new Error(s[i]);this.header=new r,x.inflateGetHeader(this.strm,this.header)}e.prototype.push=function(n,f){var i=this.strm,u=this.options.chunkSize,h=this.options.dictionary,c,_,g,b,y,A,M=!1;if(this.ended)return!1;_=f===~~f?f:f===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof n=="string"?i.input=p.binstring2buf(n):t.call(n)==="[object ArrayBuffer]"?i.input=new Uint8Array(n):i.input=n,i.next_in=0,i.avail_in=i.input.length;do{if(i.avail_out===0&&(i.output=new m.Buf8(u),i.next_out=0,i.avail_out=u),c=x.inflate(i,d.Z_NO_FLUSH),c===d.Z_NEED_DICT&&h&&(typeof h=="string"?A=p.string2buf(h):t.call(h)==="[object ArrayBuffer]"?A=new Uint8Array(h):A=h,c=x.inflateSetDictionary(this.strm,A)),c===d.Z_BUF_ERROR&&M===!0&&(c=d.Z_OK,M=!1),c!==d.Z_STREAM_END&&c!==d.Z_OK)return this.onEnd(c),this.ended=!0,!1;i.next_out&&(i.avail_out===0||c===d.Z_STREAM_END||i.avail_in===0&&(_===d.Z_FINISH||_===d.Z_SYNC_FLUSH))&&(this.options.to==="string"?(g=p.utf8border(i.output,i.next_out),b=i.next_out-g,y=p.buf2string(i.output,g),i.next_out=b,i.avail_out=u-b,b&&m.arraySet(i.output,i.output,g,b,0),this.onData(y)):this.onData(m.shrinkBuf(i.output,i.next_out))),i.avail_in===0&&i.avail_out===0&&(M=!0)}while((i.avail_in>0||i.avail_out===0)&&c!==d.Z_STREAM_END);return c===d.Z_STREAM_END&&(_=d.Z_FINISH),_===d.Z_FINISH?(c=x.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===d.Z_OK):(_===d.Z_SYNC_FLUSH&&(this.onEnd(d.Z_OK),i.avail_out=0),!0)},e.prototype.onData=function(n){this.chunks.push(n)},e.prototype.onEnd=function(n){n===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function o(n,f){var i=new e(f);if(i.push(n,!0),i.err)throw i.msg||s[i.err];return i.result}function l(n,f){return f=f||{},f.raw=!0,o(n,f)}w.Inflate=e,w.inflate=o,w.inflateRaw=l,w.ungzip=o},{"./utils/common":89,"./utils/strings":90,"./zlib/constants":92,"./zlib/gzheader":95,"./zlib/inflate":97,"./zlib/messages":99,"./zlib/zstream":101}],89:[function(E,j,w){arguments[4][36][0].apply(w,arguments)},{dup:36}],90:[function(E,j,w){var x=E("./common"),m=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var d=new x.Buf8(256),s=0;s<256;s++)d[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;d[254]=d[254]=1,w.string2buf=function(r){var t,e,o,l,n,f=r.length,i=0;for(l=0;l<f;l++)e=r.charCodeAt(l),(e&64512)===55296&&l+1<f&&(o=r.charCodeAt(l+1),(o&64512)===56320&&(e=65536+(e-55296<<10)+(o-56320),l++)),i+=e<128?1:e<2048?2:e<65536?3:4;for(t=new x.Buf8(i),n=0,l=0;n<i;l++)e=r.charCodeAt(l),(e&64512)===55296&&l+1<f&&(o=r.charCodeAt(l+1),(o&64512)===56320&&(e=65536+(e-55296<<10)+(o-56320),l++)),e<128?t[n++]=e:e<2048?(t[n++]=192|e>>>6,t[n++]=128|e&63):e<65536?(t[n++]=224|e>>>12,t[n++]=128|e>>>6&63,t[n++]=128|e&63):(t[n++]=240|e>>>18,t[n++]=128|e>>>12&63,t[n++]=128|e>>>6&63,t[n++]=128|e&63);return t};function a(r,t){if(t<65537&&(r.subarray&&p||!r.subarray&&m))return String.fromCharCode.apply(null,x.shrinkBuf(r,t));for(var e="",o=0;o<t;o++)e+=String.fromCharCode(r[o]);return e}w.buf2binstring=function(r){return a(r,r.length)},w.binstring2buf=function(r){for(var t=new x.Buf8(r.length),e=0,o=t.length;e<o;e++)t[e]=r.charCodeAt(e);return t},w.buf2string=function(r,t){var e,o,l,n,f=t||r.length,i=new Array(f*2);for(o=0,e=0;e<f;){if(l=r[e++],l<128){i[o++]=l;continue}if(n=d[l],n>4){i[o++]=65533,e+=n-1;continue}for(l&=n===2?31:n===3?15:7;n>1&&e<f;)l=l<<6|r[e++]&63,n--;if(n>1){i[o++]=65533;continue}l<65536?i[o++]=l:(l-=65536,i[o++]=55296|l>>10&1023,i[o++]=56320|l&1023)}return a(i,o)},w.utf8border=function(r,t){var e;for(t=t||r.length,t>r.length&&(t=r.length),e=t-1;e>=0&&(r[e]&192)===128;)e--;return e<0||e===0?t:e+d[r[e]]>t?e:t}},{"./common":89}],91:[function(E,j,w){arguments[4][37][0].apply(w,arguments)},{dup:37}],92:[function(E,j,w){arguments[4][38][0].apply(w,arguments)},{dup:38}],93:[function(E,j,w){arguments[4][39][0].apply(w,arguments)},{dup:39}],94:[function(E,j,w){var x=E("../utils/common"),m=E("./trees"),p=E("./adler32"),d=E("./crc32"),s=E("./messages"),a=0,r=1,t=3,e=4,o=5,l=0,n=1,f=-2,i=-3,u=-5,h=-1,c=1,_=2,g=3,b=4,y=0,A=2,M=8,I=9,R=15,F=8,z=29,D=256,O=D+1+z,k=30,Z=19,$=2*O+1,te=15,q=3,U=258,W=U+q+1,G=32,V=42,re=69,se=73,fe=91,ue=103,pe=113,ne=666,ie=1,X=2,J=3,ee=4,H=3;function P(v,le){return v.msg=s[le],le}function T(v){return(v<<1)-(v>4?9:0)}function Y(v){for(var le=v.length;--le>=0;)v[le]=0}function N(v){var le=v.state,me=le.pending;me>v.avail_out&&(me=v.avail_out),me!==0&&(x.arraySet(v.output,le.pending_buf,le.pending_out,me,v.next_out),v.next_out+=me,le.pending_out+=me,v.total_out+=me,v.avail_out-=me,le.pending-=me,le.pending===0&&(le.pending_out=0))}function C(v,le){m._tr_flush_block(v,v.block_start>=0?v.block_start:-1,v.strstart-v.block_start,le),v.block_start=v.strstart,N(v.strm)}function S(v,le){v.pending_buf[v.pending++]=le}function Q(v,le){v.pending_buf[v.pending++]=le>>>8&255,v.pending_buf[v.pending++]=le&255}function oe(v,le,me,L){var ae=v.avail_in;return ae>L&&(ae=L),ae===0?0:(v.avail_in-=ae,x.arraySet(le,v.input,v.next_in,ae,me),v.state.wrap===1?v.adler=p(v.adler,le,ae,me):v.state.wrap===2&&(v.adler=d(v.adler,le,ae,me)),v.next_in+=ae,v.total_in+=ae,ae)}function ve(v,le){var me=v.max_chain_length,L=v.strstart,ae,we,Ce=v.prev_length,Re=v.nice_match,De=v.strstart>v.w_size-W?v.strstart-(v.w_size-W):0,Ne=v.window,Xe=v.w_mask,Ue=v.prev,ze=v.strstart+U,Ge=Ne[L+Ce-1],We=Ne[L+Ce];v.prev_length>=v.good_match&&(me>>=2),Re>v.lookahead&&(Re=v.lookahead);do if(ae=le,!(Ne[ae+Ce]!==We||Ne[ae+Ce-1]!==Ge||Ne[ae]!==Ne[L]||Ne[++ae]!==Ne[L+1])){L+=2,ae++;do;while(Ne[++L]===Ne[++ae]&&Ne[++L]===Ne[++ae]&&Ne[++L]===Ne[++ae]&&Ne[++L]===Ne[++ae]&&Ne[++L]===Ne[++ae]&&Ne[++L]===Ne[++ae]&&Ne[++L]===Ne[++ae]&&Ne[++L]===Ne[++ae]&&L<ze);if(we=U-(ze-L),L=ze-U,we>Ce){if(v.match_start=le,Ce=we,we>=Re)break;Ge=Ne[L+Ce-1],We=Ne[L+Ce]}}while((le=Ue[le&Xe])>De&&--me!==0);return Ce<=v.lookahead?Ce:v.lookahead}function ye(v){var le=v.w_size,me,L,ae,we,Ce;do{if(we=v.window_size-v.lookahead-v.strstart,v.strstart>=le+(le-W)){x.arraySet(v.window,v.window,le,le,0),v.match_start-=le,v.strstart-=le,v.block_start-=le,L=v.hash_size,me=L;do ae=v.head[--me],v.head[me]=ae>=le?ae-le:0;while(--L);L=le,me=L;do ae=v.prev[--me],v.prev[me]=ae>=le?ae-le:0;while(--L);we+=le}if(v.strm.avail_in===0)break;if(L=oe(v.strm,v.window,v.strstart+v.lookahead,we),v.lookahead+=L,v.lookahead+v.insert>=q)for(Ce=v.strstart-v.insert,v.ins_h=v.window[Ce],v.ins_h=(v.ins_h<<v.hash_shift^v.window[Ce+1])&v.hash_mask;v.insert&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[Ce+q-1])&v.hash_mask,v.prev[Ce&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=Ce,Ce++,v.insert--,!(v.lookahead+v.insert<q)););}while(v.lookahead<W&&v.strm.avail_in!==0)}function Ae(v,le){var me=65535;for(me>v.pending_buf_size-5&&(me=v.pending_buf_size-5);;){if(v.lookahead<=1){if(ye(v),v.lookahead===0&&le===a)return ie;if(v.lookahead===0)break}v.strstart+=v.lookahead,v.lookahead=0;var L=v.block_start+me;if((v.strstart===0||v.strstart>=L)&&(v.lookahead=v.strstart-L,v.strstart=L,C(v,!1),v.strm.avail_out===0)||v.strstart-v.block_start>=v.w_size-W&&(C(v,!1),v.strm.avail_out===0))return ie}return v.insert=0,le===e?(C(v,!0),v.strm.avail_out===0?J:ee):(v.strstart>v.block_start&&(C(v,!1),v.strm.avail_out===0),ie)}function ke(v,le){for(var me,L;;){if(v.lookahead<W){if(ye(v),v.lookahead<W&&le===a)return ie;if(v.lookahead===0)break}if(me=0,v.lookahead>=q&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+q-1])&v.hash_mask,me=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),me!==0&&v.strstart-me<=v.w_size-W&&(v.match_length=ve(v,me)),v.match_length>=q)if(L=m._tr_tally(v,v.strstart-v.match_start,v.match_length-q),v.lookahead-=v.match_length,v.match_length<=v.max_lazy_match&&v.lookahead>=q){v.match_length--;do v.strstart++,v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+q-1])&v.hash_mask,me=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart;while(--v.match_length!==0);v.strstart++}else v.strstart+=v.match_length,v.match_length=0,v.ins_h=v.window[v.strstart],v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+1])&v.hash_mask;else L=m._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++;if(L&&(C(v,!1),v.strm.avail_out===0))return ie}return v.insert=v.strstart<q-1?v.strstart:q-1,le===e?(C(v,!0),v.strm.avail_out===0?J:ee):v.last_lit&&(C(v,!1),v.strm.avail_out===0)?ie:X}function Pe(v,le){for(var me,L,ae;;){if(v.lookahead<W){if(ye(v),v.lookahead<W&&le===a)return ie;if(v.lookahead===0)break}if(me=0,v.lookahead>=q&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+q-1])&v.hash_mask,me=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),v.prev_length=v.match_length,v.prev_match=v.match_start,v.match_length=q-1,me!==0&&v.prev_length<v.max_lazy_match&&v.strstart-me<=v.w_size-W&&(v.match_length=ve(v,me),v.match_length<=5&&(v.strategy===c||v.match_length===q&&v.strstart-v.match_start>4096)&&(v.match_length=q-1)),v.prev_length>=q&&v.match_length<=v.prev_length){ae=v.strstart+v.lookahead-q,L=m._tr_tally(v,v.strstart-1-v.prev_match,v.prev_length-q),v.lookahead-=v.prev_length-1,v.prev_length-=2;do++v.strstart<=ae&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+q-1])&v.hash_mask,me=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart);while(--v.prev_length!==0);if(v.match_available=0,v.match_length=q-1,v.strstart++,L&&(C(v,!1),v.strm.avail_out===0))return ie}else if(v.match_available){if(L=m._tr_tally(v,0,v.window[v.strstart-1]),L&&C(v,!1),v.strstart++,v.lookahead--,v.strm.avail_out===0)return ie}else v.match_available=1,v.strstart++,v.lookahead--}return v.match_available&&(L=m._tr_tally(v,0,v.window[v.strstart-1]),v.match_available=0),v.insert=v.strstart<q-1?v.strstart:q-1,le===e?(C(v,!0),v.strm.avail_out===0?J:ee):v.last_lit&&(C(v,!1),v.strm.avail_out===0)?ie:X}function Oe(v,le){for(var me,L,ae,we,Ce=v.window;;){if(v.lookahead<=U){if(ye(v),v.lookahead<=U&&le===a)return ie;if(v.lookahead===0)break}if(v.match_length=0,v.lookahead>=q&&v.strstart>0&&(ae=v.strstart-1,L=Ce[ae],L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae])){we=v.strstart+U;do;while(L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae]&&ae<we);v.match_length=U-(we-ae),v.match_length>v.lookahead&&(v.match_length=v.lookahead)}if(v.match_length>=q?(me=m._tr_tally(v,1,v.match_length-q),v.lookahead-=v.match_length,v.strstart+=v.match_length,v.match_length=0):(me=m._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++),me&&(C(v,!1),v.strm.avail_out===0))return ie}return v.insert=0,le===e?(C(v,!0),v.strm.avail_out===0?J:ee):v.last_lit&&(C(v,!1),v.strm.avail_out===0)?ie:X}function Te(v,le){for(var me;;){if(v.lookahead===0&&(ye(v),v.lookahead===0)){if(le===a)return ie;break}if(v.match_length=0,me=m._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++,me&&(C(v,!1),v.strm.avail_out===0))return ie}return v.insert=0,le===e?(C(v,!0),v.strm.avail_out===0?J:ee):v.last_lit&&(C(v,!1),v.strm.avail_out===0)?ie:X}function Me(v,le,me,L,ae){this.good_length=v,this.max_lazy=le,this.nice_length=me,this.max_chain=L,this.func=ae}var Fe;Fe=[new Me(0,0,0,0,Ae),new Me(4,4,8,4,ke),new Me(4,5,16,8,ke),new Me(4,6,32,32,ke),new Me(4,4,16,16,Pe),new Me(8,16,32,32,Pe),new Me(8,16,128,128,Pe),new Me(8,32,128,256,Pe),new Me(32,128,258,1024,Pe),new Me(32,258,258,4096,Pe)];function Le(v){v.window_size=2*v.w_size,Y(v.head),v.max_lazy_match=Fe[v.level].max_lazy,v.good_match=Fe[v.level].good_length,v.nice_match=Fe[v.level].nice_length,v.max_chain_length=Fe[v.level].max_chain,v.strstart=0,v.block_start=0,v.lookahead=0,v.insert=0,v.match_length=v.prev_length=q-1,v.match_available=0,v.ins_h=0}function B(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=M,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new x.Buf16($*2),this.dyn_dtree=new x.Buf16((2*k+1)*2),this.bl_tree=new x.Buf16((2*Z+1)*2),Y(this.dyn_ltree),Y(this.dyn_dtree),Y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new x.Buf16(te+1),this.heap=new x.Buf16(2*O+1),Y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new x.Buf16(2*O+1),Y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ce(v){var le;return!v||!v.state?P(v,f):(v.total_in=v.total_out=0,v.data_type=A,le=v.state,le.pending=0,le.pending_out=0,le.wrap<0&&(le.wrap=-le.wrap),le.status=le.wrap?V:pe,v.adler=le.wrap===2?0:1,le.last_flush=a,m._tr_init(le),l)}function de(v){var le=ce(v);return le===l&&Le(v.state),le}function Ee(v,le){return!v||!v.state||v.state.wrap!==2?f:(v.state.gzhead=le,l)}function he(v,le,me,L,ae,we){if(!v)return f;var Ce=1;if(le===h&&(le=6),L<0?(Ce=0,L=-L):L>15&&(Ce=2,L-=16),ae<1||ae>I||me!==M||L<8||L>15||le<0||le>9||we<0||we>b)return P(v,f);L===8&&(L=9);var Re=new B;return v.state=Re,Re.strm=v,Re.wrap=Ce,Re.gzhead=null,Re.w_bits=L,Re.w_size=1<<Re.w_bits,Re.w_mask=Re.w_size-1,Re.hash_bits=ae+7,Re.hash_size=1<<Re.hash_bits,Re.hash_mask=Re.hash_size-1,Re.hash_shift=~~((Re.hash_bits+q-1)/q),Re.window=new x.Buf8(Re.w_size*2),Re.head=new x.Buf16(Re.hash_size),Re.prev=new x.Buf16(Re.w_size),Re.lit_bufsize=1<<ae+6,Re.pending_buf_size=Re.lit_bufsize*4,Re.pending_buf=new x.Buf8(Re.pending_buf_size),Re.d_buf=1*Re.lit_bufsize,Re.l_buf=(1+2)*Re.lit_bufsize,Re.level=le,Re.strategy=we,Re.method=me,de(v)}function be(v,le){return he(v,le,M,R,F,y)}function K(v,le){var me,L,ae,we;if(!v||!v.state||le>o||le<0)return v?P(v,f):f;if(L=v.state,!v.output||!v.input&&v.avail_in!==0||L.status===ne&&le!==e)return P(v,v.avail_out===0?u:f);if(L.strm=v,me=L.last_flush,L.last_flush=le,L.status===V)if(L.wrap===2)v.adler=0,S(L,31),S(L,139),S(L,8),L.gzhead?(S(L,(L.gzhead.text?1:0)+(L.gzhead.hcrc?2:0)+(L.gzhead.extra?4:0)+(L.gzhead.name?8:0)+(L.gzhead.comment?16:0)),S(L,L.gzhead.time&255),S(L,L.gzhead.time>>8&255),S(L,L.gzhead.time>>16&255),S(L,L.gzhead.time>>24&255),S(L,L.level===9?2:L.strategy>=_||L.level<2?4:0),S(L,L.gzhead.os&255),L.gzhead.extra&&L.gzhead.extra.length&&(S(L,L.gzhead.extra.length&255),S(L,L.gzhead.extra.length>>8&255)),L.gzhead.hcrc&&(v.adler=d(v.adler,L.pending_buf,L.pending,0)),L.gzindex=0,L.status=re):(S(L,0),S(L,0),S(L,0),S(L,0),S(L,0),S(L,L.level===9?2:L.strategy>=_||L.level<2?4:0),S(L,H),L.status=pe);else{var Ce=M+(L.w_bits-8<<4)<<8,Re=-1;L.strategy>=_||L.level<2?Re=0:L.level<6?Re=1:L.level===6?Re=2:Re=3,Ce|=Re<<6,L.strstart!==0&&(Ce|=G),Ce+=31-Ce%31,L.status=pe,Q(L,Ce),L.strstart!==0&&(Q(L,v.adler>>>16),Q(L,v.adler&65535)),v.adler=1}if(L.status===re)if(L.gzhead.extra){for(ae=L.pending;L.gzindex<(L.gzhead.extra.length&65535)&&!(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>ae&&(v.adler=d(v.adler,L.pending_buf,L.pending-ae,ae)),N(v),ae=L.pending,L.pending===L.pending_buf_size));)S(L,L.gzhead.extra[L.gzindex]&255),L.gzindex++;L.gzhead.hcrc&&L.pending>ae&&(v.adler=d(v.adler,L.pending_buf,L.pending-ae,ae)),L.gzindex===L.gzhead.extra.length&&(L.gzindex=0,L.status=se)}else L.status=se;if(L.status===se)if(L.gzhead.name){ae=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>ae&&(v.adler=d(v.adler,L.pending_buf,L.pending-ae,ae)),N(v),ae=L.pending,L.pending===L.pending_buf_size)){we=1;break}L.gzindex<L.gzhead.name.length?we=L.gzhead.name.charCodeAt(L.gzindex++)&255:we=0,S(L,we)}while(we!==0);L.gzhead.hcrc&&L.pending>ae&&(v.adler=d(v.adler,L.pending_buf,L.pending-ae,ae)),we===0&&(L.gzindex=0,L.status=fe)}else L.status=fe;if(L.status===fe)if(L.gzhead.comment){ae=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>ae&&(v.adler=d(v.adler,L.pending_buf,L.pending-ae,ae)),N(v),ae=L.pending,L.pending===L.pending_buf_size)){we=1;break}L.gzindex<L.gzhead.comment.length?we=L.gzhead.comment.charCodeAt(L.gzindex++)&255:we=0,S(L,we)}while(we!==0);L.gzhead.hcrc&&L.pending>ae&&(v.adler=d(v.adler,L.pending_buf,L.pending-ae,ae)),we===0&&(L.status=ue)}else L.status=ue;if(L.status===ue&&(L.gzhead.hcrc?(L.pending+2>L.pending_buf_size&&N(v),L.pending+2<=L.pending_buf_size&&(S(L,v.adler&255),S(L,v.adler>>8&255),v.adler=0,L.status=pe)):L.status=pe),L.pending!==0){if(N(v),v.avail_out===0)return L.last_flush=-1,l}else if(v.avail_in===0&&T(le)<=T(me)&&le!==e)return P(v,u);if(L.status===ne&&v.avail_in!==0)return P(v,u);if(v.avail_in!==0||L.lookahead!==0||le!==a&&L.status!==ne){var De=L.strategy===_?Te(L,le):L.strategy===g?Oe(L,le):Fe[L.level].func(L,le);if((De===J||De===ee)&&(L.status=ne),De===ie||De===J)return v.avail_out===0&&(L.last_flush=-1),l;if(De===X&&(le===r?m._tr_align(L):le!==o&&(m._tr_stored_block(L,0,0,!1),le===t&&(Y(L.head),L.lookahead===0&&(L.strstart=0,L.block_start=0,L.insert=0))),N(v),v.avail_out===0))return L.last_flush=-1,l}return le!==e?l:L.wrap<=0?n:(L.wrap===2?(S(L,v.adler&255),S(L,v.adler>>8&255),S(L,v.adler>>16&255),S(L,v.adler>>24&255),S(L,v.total_in&255),S(L,v.total_in>>8&255),S(L,v.total_in>>16&255),S(L,v.total_in>>24&255)):(Q(L,v.adler>>>16),Q(L,v.adler&65535)),N(v),L.wrap>0&&(L.wrap=-L.wrap),L.pending!==0?l:n)}function Se(v){var le;return!v||!v.state?f:(le=v.state.status,le!==V&&le!==re&&le!==se&&le!==fe&&le!==ue&&le!==pe&&le!==ne?P(v,f):(v.state=null,le===pe?P(v,i):l))}function Be(v,le){var me=le.length,L,ae,we,Ce,Re,De,Ne,Xe;if(!v||!v.state||(L=v.state,Ce=L.wrap,Ce===2||Ce===1&&L.status!==V||L.lookahead))return f;for(Ce===1&&(v.adler=p(v.adler,le,me,0)),L.wrap=0,me>=L.w_size&&(Ce===0&&(Y(L.head),L.strstart=0,L.block_start=0,L.insert=0),Xe=new x.Buf8(L.w_size),x.arraySet(Xe,le,me-L.w_size,L.w_size,0),le=Xe,me=L.w_size),Re=v.avail_in,De=v.next_in,Ne=v.input,v.avail_in=me,v.next_in=0,v.input=le,ye(L);L.lookahead>=q;){ae=L.strstart,we=L.lookahead-(q-1);do L.ins_h=(L.ins_h<<L.hash_shift^L.window[ae+q-1])&L.hash_mask,L.prev[ae&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=ae,ae++;while(--we);L.strstart=ae,L.lookahead=q-1,ye(L)}return L.strstart+=L.lookahead,L.block_start=L.strstart,L.insert=L.lookahead,L.lookahead=0,L.match_length=L.prev_length=q-1,L.match_available=0,v.next_in=De,v.input=Ne,v.avail_in=Re,L.wrap=Ce,l}w.deflateInit=be,w.deflateInit2=he,w.deflateReset=de,w.deflateResetKeep=ce,w.deflateSetHeader=Ee,w.deflate=K,w.deflateEnd=Se,w.deflateSetDictionary=Be,w.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":89,"./adler32":91,"./crc32":93,"./messages":99,"./trees":100}],95:[function(E,j,w){function x(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}j.exports=x},{}],96:[function(E,j,w){arguments[4][41][0].apply(w,arguments)},{dup:41}],97:[function(E,j,w){arguments[4][42][0].apply(w,arguments)},{"../utils/common":89,"./adler32":91,"./crc32":93,"./inffast":96,"./inftrees":98,dup:42}],98:[function(E,j,w){arguments[4][43][0].apply(w,arguments)},{"../utils/common":89,dup:43}],99:[function(E,j,w){arguments[4][44][0].apply(w,arguments)},{dup:44}],100:[function(E,j,w){var x=E("../utils/common"),m=4,p=0,d=1,s=2;function a(B){for(var ce=B.length;--ce>=0;)B[ce]=0}var r=0,t=1,e=2,o=3,l=258,n=29,f=256,i=f+1+n,u=30,h=19,c=2*i+1,_=15,g=16,b=7,y=256,A=16,M=17,I=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=512,k=new Array((i+2)*2);a(k);var Z=new Array(u*2);a(Z);var $=new Array(O);a($);var te=new Array(l-o+1);a(te);var q=new Array(n);a(q);var U=new Array(u);a(U);function W(B,ce,de,Ee,he){this.static_tree=B,this.extra_bits=ce,this.extra_base=de,this.elems=Ee,this.max_length=he,this.has_stree=B&&B.length}var G,V,re;function se(B,ce){this.dyn_tree=B,this.max_code=0,this.stat_desc=ce}function fe(B){return B<256?$[B]:$[256+(B>>>7)]}function ue(B,ce){B.pending_buf[B.pending++]=ce&255,B.pending_buf[B.pending++]=ce>>>8&255}function pe(B,ce,de){B.bi_valid>g-de?(B.bi_buf|=ce<<B.bi_valid&65535,ue(B,B.bi_buf),B.bi_buf=ce>>g-B.bi_valid,B.bi_valid+=de-g):(B.bi_buf|=ce<<B.bi_valid&65535,B.bi_valid+=de)}function ne(B,ce,de){pe(B,de[ce*2],de[ce*2+1])}function ie(B,ce){var de=0;do de|=B&1,B>>>=1,de<<=1;while(--ce>0);return de>>>1}function X(B){B.bi_valid===16?(ue(B,B.bi_buf),B.bi_buf=0,B.bi_valid=0):B.bi_valid>=8&&(B.pending_buf[B.pending++]=B.bi_buf&255,B.bi_buf>>=8,B.bi_valid-=8)}function J(B,ce){var de=ce.dyn_tree,Ee=ce.max_code,he=ce.stat_desc.static_tree,be=ce.stat_desc.has_stree,K=ce.stat_desc.extra_bits,Se=ce.stat_desc.extra_base,Be=ce.stat_desc.max_length,v,le,me,L,ae,we,Ce=0;for(L=0;L<=_;L++)B.bl_count[L]=0;for(de[B.heap[B.heap_max]*2+1]=0,v=B.heap_max+1;v<c;v++)le=B.heap[v],L=de[de[le*2+1]*2+1]+1,L>Be&&(L=Be,Ce++),de[le*2+1]=L,!(le>Ee)&&(B.bl_count[L]++,ae=0,le>=Se&&(ae=K[le-Se]),we=de[le*2],B.opt_len+=we*(L+ae),be&&(B.static_len+=we*(he[le*2+1]+ae)));if(Ce!==0){do{for(L=Be-1;B.bl_count[L]===0;)L--;B.bl_count[L]--,B.bl_count[L+1]+=2,B.bl_count[Be]--,Ce-=2}while(Ce>0);for(L=Be;L!==0;L--)for(le=B.bl_count[L];le!==0;)me=B.heap[--v],!(me>Ee)&&(de[me*2+1]!==L&&(B.opt_len+=(L-de[me*2+1])*de[me*2],de[me*2+1]=L),le--)}}function ee(B,ce,de){var Ee=new Array(_+1),he=0,be,K;for(be=1;be<=_;be++)Ee[be]=he=he+de[be-1]<<1;for(K=0;K<=ce;K++){var Se=B[K*2+1];Se!==0&&(B[K*2]=ie(Ee[Se]++,Se))}}function H(){var B,ce,de,Ee,he,be=new Array(_+1);for(de=0,Ee=0;Ee<n-1;Ee++)for(q[Ee]=de,B=0;B<1<<R[Ee];B++)te[de++]=Ee;for(te[de-1]=Ee,he=0,Ee=0;Ee<16;Ee++)for(U[Ee]=he,B=0;B<1<<F[Ee];B++)$[he++]=Ee;for(he>>=7;Ee<u;Ee++)for(U[Ee]=he<<7,B=0;B<1<<F[Ee]-7;B++)$[256+he++]=Ee;for(ce=0;ce<=_;ce++)be[ce]=0;for(B=0;B<=143;)k[B*2+1]=8,B++,be[8]++;for(;B<=255;)k[B*2+1]=9,B++,be[9]++;for(;B<=279;)k[B*2+1]=7,B++,be[7]++;for(;B<=287;)k[B*2+1]=8,B++,be[8]++;for(ee(k,i+1,be),B=0;B<u;B++)Z[B*2+1]=5,Z[B*2]=ie(B,5);G=new W(k,R,f+1,i,_),V=new W(Z,F,0,u,_),re=new W(new Array(0),z,0,h,b)}function P(B){var ce;for(ce=0;ce<i;ce++)B.dyn_ltree[ce*2]=0;for(ce=0;ce<u;ce++)B.dyn_dtree[ce*2]=0;for(ce=0;ce<h;ce++)B.bl_tree[ce*2]=0;B.dyn_ltree[y*2]=1,B.opt_len=B.static_len=0,B.last_lit=B.matches=0}function T(B){B.bi_valid>8?ue(B,B.bi_buf):B.bi_valid>0&&(B.pending_buf[B.pending++]=B.bi_buf),B.bi_buf=0,B.bi_valid=0}function Y(B,ce,de,Ee){T(B),Ee&&(ue(B,de),ue(B,~de)),x.arraySet(B.pending_buf,B.window,ce,de,B.pending),B.pending+=de}function N(B,ce,de,Ee){var he=ce*2,be=de*2;return B[he]<B[be]||B[he]===B[be]&&Ee[ce]<=Ee[de]}function C(B,ce,de){for(var Ee=B.heap[de],he=de<<1;he<=B.heap_len&&(he<B.heap_len&&N(ce,B.heap[he+1],B.heap[he],B.depth)&&he++,!N(ce,Ee,B.heap[he],B.depth));)B.heap[de]=B.heap[he],de=he,he<<=1;B.heap[de]=Ee}function S(B,ce,de){var Ee,he,be=0,K,Se;if(B.last_lit!==0)do Ee=B.pending_buf[B.d_buf+be*2]<<8|B.pending_buf[B.d_buf+be*2+1],he=B.pending_buf[B.l_buf+be],be++,Ee===0?ne(B,he,ce):(K=te[he],ne(B,K+f+1,ce),Se=R[K],Se!==0&&(he-=q[K],pe(B,he,Se)),Ee--,K=fe(Ee),ne(B,K,de),Se=F[K],Se!==0&&(Ee-=U[K],pe(B,Ee,Se)));while(be<B.last_lit);ne(B,y,ce)}function Q(B,ce){var de=ce.dyn_tree,Ee=ce.stat_desc.static_tree,he=ce.stat_desc.has_stree,be=ce.stat_desc.elems,K,Se,Be=-1,v;for(B.heap_len=0,B.heap_max=c,K=0;K<be;K++)de[K*2]!==0?(B.heap[++B.heap_len]=Be=K,B.depth[K]=0):de[K*2+1]=0;for(;B.heap_len<2;)v=B.heap[++B.heap_len]=Be<2?++Be:0,de[v*2]=1,B.depth[v]=0,B.opt_len--,he&&(B.static_len-=Ee[v*2+1]);for(ce.max_code=Be,K=B.heap_len>>1;K>=1;K--)C(B,de,K);v=be;do K=B.heap[1],B.heap[1]=B.heap[B.heap_len--],C(B,de,1),Se=B.heap[1],B.heap[--B.heap_max]=K,B.heap[--B.heap_max]=Se,de[v*2]=de[K*2]+de[Se*2],B.depth[v]=(B.depth[K]>=B.depth[Se]?B.depth[K]:B.depth[Se])+1,de[K*2+1]=de[Se*2+1]=v,B.heap[1]=v++,C(B,de,1);while(B.heap_len>=2);B.heap[--B.heap_max]=B.heap[1],J(B,ce),ee(de,Be,B.bl_count)}function oe(B,ce,de){var Ee,he=-1,be,K=ce[0*2+1],Se=0,Be=7,v=4;for(K===0&&(Be=138,v=3),ce[(de+1)*2+1]=65535,Ee=0;Ee<=de;Ee++)be=K,K=ce[(Ee+1)*2+1],!(++Se<Be&&be===K)&&(Se<v?B.bl_tree[be*2]+=Se:be!==0?(be!==he&&B.bl_tree[be*2]++,B.bl_tree[A*2]++):Se<=10?B.bl_tree[M*2]++:B.bl_tree[I*2]++,Se=0,he=be,K===0?(Be=138,v=3):be===K?(Be=6,v=3):(Be=7,v=4))}function ve(B,ce,de){var Ee,he=-1,be,K=ce[0*2+1],Se=0,Be=7,v=4;for(K===0&&(Be=138,v=3),Ee=0;Ee<=de;Ee++)if(be=K,K=ce[(Ee+1)*2+1],!(++Se<Be&&be===K)){if(Se<v)do ne(B,be,B.bl_tree);while(--Se!==0);else be!==0?(be!==he&&(ne(B,be,B.bl_tree),Se--),ne(B,A,B.bl_tree),pe(B,Se-3,2)):Se<=10?(ne(B,M,B.bl_tree),pe(B,Se-3,3)):(ne(B,I,B.bl_tree),pe(B,Se-11,7));Se=0,he=be,K===0?(Be=138,v=3):be===K?(Be=6,v=3):(Be=7,v=4)}}function ye(B){var ce;for(oe(B,B.dyn_ltree,B.l_desc.max_code),oe(B,B.dyn_dtree,B.d_desc.max_code),Q(B,B.bl_desc),ce=h-1;ce>=3&&B.bl_tree[D[ce]*2+1]===0;ce--);return B.opt_len+=3*(ce+1)+5+5+4,ce}function Ae(B,ce,de,Ee){var he;for(pe(B,ce-257,5),pe(B,de-1,5),pe(B,Ee-4,4),he=0;he<Ee;he++)pe(B,B.bl_tree[D[he]*2+1],3);ve(B,B.dyn_ltree,ce-1),ve(B,B.dyn_dtree,de-1)}function ke(B){var ce=4093624447,de;for(de=0;de<=31;de++,ce>>>=1)if(ce&1&&B.dyn_ltree[de*2]!==0)return p;if(B.dyn_ltree[9*2]!==0||B.dyn_ltree[10*2]!==0||B.dyn_ltree[13*2]!==0)return d;for(de=32;de<f;de++)if(B.dyn_ltree[de*2]!==0)return d;return p}var Pe=!1;function Oe(B){Pe||(H(),Pe=!0),B.l_desc=new se(B.dyn_ltree,G),B.d_desc=new se(B.dyn_dtree,V),B.bl_desc=new se(B.bl_tree,re),B.bi_buf=0,B.bi_valid=0,P(B)}function Te(B,ce,de,Ee){pe(B,(r<<1)+(Ee?1:0),3),Y(B,ce,de,!0)}function Me(B){pe(B,t<<1,3),ne(B,y,k),X(B)}function Fe(B,ce,de,Ee){var he,be,K=0;B.level>0?(B.strm.data_type===s&&(B.strm.data_type=ke(B)),Q(B,B.l_desc),Q(B,B.d_desc),K=ye(B),he=B.opt_len+3+7>>>3,be=B.static_len+3+7>>>3,be<=he&&(he=be)):he=be=de+5,de+4<=he&&ce!==-1?Te(B,ce,de,Ee):B.strategy===m||be===he?(pe(B,(t<<1)+(Ee?1:0),3),S(B,k,Z)):(pe(B,(e<<1)+(Ee?1:0),3),Ae(B,B.l_desc.max_code+1,B.d_desc.max_code+1,K+1),S(B,B.dyn_ltree,B.dyn_dtree)),P(B),Ee&&T(B)}function Le(B,ce,de){return B.pending_buf[B.d_buf+B.last_lit*2]=ce>>>8&255,B.pending_buf[B.d_buf+B.last_lit*2+1]=ce&255,B.pending_buf[B.l_buf+B.last_lit]=de&255,B.last_lit++,ce===0?B.dyn_ltree[de*2]++:(B.matches++,ce--,B.dyn_ltree[(te[de]+f+1)*2]++,B.dyn_dtree[fe(ce)*2]++),B.last_lit===B.lit_bufsize-1}w._tr_init=Oe,w._tr_stored_block=Te,w._tr_flush_block=Fe,w._tr_tally=Le,w._tr_align=Me},{"../utils/common":89}],101:[function(E,j,w){arguments[4][46][0].apply(w,arguments)},{dup:46}],102:[function(E,j,w){j.exports=function(s){if(!s)throw new Error("no data provided");s=s.toString().trim();var a={pages:[],chars:[],kernings:[]},r=s.split(/\r\n?|\n/g);if(r.length===0)throw new Error("no data in BMFont file");for(var t=0;t<r.length;t++){var e=x(r[t],t);if(e)if(e.key==="page"){if(typeof e.data.id!="number")throw new Error("malformed file at line "+t+" -- needs page id=N");if(typeof e.data.file!="string")throw new Error("malformed file at line "+t+' -- needs page file="path"');a.pages[e.data.id]=e.data.file}else e.key==="chars"||e.key==="kernings"||(e.key==="char"?a.chars.push(e.data):e.key==="kerning"?a.kernings.push(e.data):a[e.key]=e.data)}return a};function x(d,s){if(d=d.replace(/\t+/g," ").trim(),!d)return null;var a=d.indexOf(" ");if(a===-1)throw new Error("no named row at line "+s);var r=d.substring(0,a);d=d.substring(a+1),d=d.replace(/letter=[\'\"]\S+[\'\"]/gi,""),d=d.split("="),d=d.map(function(n){return n.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var t=[],e=0;e<d.length;e++){var o=d[e];e===0?t.push({key:o[0],data:""}):e===d.length-1?t[t.length-1].data=m(o[0]):(t[t.length-1].data=m(o[0]),t.push({key:o[1],data:""}))}var l={key:r,data:{}};return t.forEach(function(n){l.data[n.key]=n.data}),l}function m(d){return!d||d.length===0?"":d.indexOf('"')===0||d.indexOf("'")===0?d.substring(1,d.length-1):d.indexOf(",")!==-1?p(d):parseInt(d,10)}function p(d){return d.split(",").map(function(s){return parseInt(s,10)})}},{}],103:[function(E,j,w){var x=[66,77,70];j.exports=function(l){if(l.length<6)throw new Error("invalid buffer length for BMFont");var n=x.every(function(c,_){return l.readUInt8(_)===c});if(!n)throw new Error("BMFont missing BMF byte header");var f=3,i=l.readUInt8(f++);if(i>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var u={kernings:[],chars:[]},h=0;h<5;h++)f+=m(u,l,f);return u};function m(o,l,n){if(n>l.length-1)return 0;var f=l.readUInt8(n++),i=l.readInt32LE(n);switch(n+=4,f){case 1:o.info=p(l,n);break;case 2:o.common=d(l,n);break;case 3:o.pages=s(l,n,i);break;case 4:o.chars=a(l,n,i);break;case 5:o.kernings=r(l,n,i);break}return 5+i}function p(o,l){var n={};n.size=o.readInt16LE(l);var f=o.readUInt8(l+2);return n.smooth=f>>7&1,n.unicode=f>>6&1,n.italic=f>>5&1,n.bold=f>>4&1,f>>3&1&&(n.fixedHeight=1),n.charset=o.readUInt8(l+3)||"",n.stretchH=o.readUInt16LE(l+4),n.aa=o.readUInt8(l+6),n.padding=[o.readInt8(l+7),o.readInt8(l+8),o.readInt8(l+9),o.readInt8(l+10)],n.spacing=[o.readInt8(l+11),o.readInt8(l+12)],n.outline=o.readUInt8(l+13),n.face=e(o,l+14),n}function d(o,l){var n={};return n.lineHeight=o.readUInt16LE(l),n.base=o.readUInt16LE(l+2),n.scaleW=o.readUInt16LE(l+4),n.scaleH=o.readUInt16LE(l+6),n.pages=o.readUInt16LE(l+8),o.readUInt8(l+10),n.packed=0,n.alphaChnl=o.readUInt8(l+11),n.redChnl=o.readUInt8(l+12),n.greenChnl=o.readUInt8(l+13),n.blueChnl=o.readUInt8(l+14),n}function s(o,l,n){for(var f=[],i=t(o,l),u=i.length+1,h=n/u,c=0;c<h;c++)f[c]=o.slice(l,l+i.length).toString("utf8"),l+=u;return f}function a(o,l,n){for(var f=[],i=n/20,u=0;u<i;u++){var h={},c=u*20;h.id=o.readUInt32LE(l+0+c),h.x=o.readUInt16LE(l+4+c),h.y=o.readUInt16LE(l+6+c),h.width=o.readUInt16LE(l+8+c),h.height=o.readUInt16LE(l+10+c),h.xoffset=o.readInt16LE(l+12+c),h.yoffset=o.readInt16LE(l+14+c),h.xadvance=o.readInt16LE(l+16+c),h.page=o.readUInt8(l+18+c),h.chnl=o.readUInt8(l+19+c),f[u]=h}return f}function r(o,l,n){for(var f=[],i=n/10,u=0;u<i;u++){var h={},c=u*10;h.first=o.readUInt32LE(l+0+c),h.second=o.readUInt32LE(l+4+c),h.amount=o.readInt16LE(l+8+c),f[u]=h}return f}function t(o,l){for(var n=l;n<o.length&&o[n]!==0;n++);return o.slice(l,n)}function e(o,l){return t(o,l).toString("utf8")}},{}],104:[function(E,j,w){var x=E("./parse-attribs"),m=E("xml-parse-from-string"),p={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};j.exports=function(t){t=t.toString();var e=m(t),o={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(c){var _=e.getElementsByTagName(c)[0];_&&(o[c]=x(d(_)))});var l=e.getElementsByTagName("pages")[0];if(!l)throw new Error("malformed file -- no <pages> element");for(var n=l.getElementsByTagName("page"),f=0;f<n.length;f++){var i=n[f],u=parseInt(i.getAttribute("id"),10),h=i.getAttribute("file");if(isNaN(u))throw new Error('malformed file -- page "id" attribute is NaN');if(!h)throw new Error('malformed file -- needs page "file" attribute');o.pages[parseInt(u,10)]=h}return["chars","kernings"].forEach(function(c){var _=e.getElementsByTagName(c)[0];if(_)for(var g=c.substring(0,c.length-1),b=_.getElementsByTagName(g),y=0;y<b.length;y++){var A=b[y];o[c].push(x(d(A)))}}),o};function d(r){var t=s(r);return t.reduce(function(e,o){var l=a(o.nodeName);return e[l]=o.nodeValue,e},{})}function s(r){for(var t=[],e=0;e<r.attributes.length;e++)t.push(r.attributes[e]);return t}function a(r){return p[r.toLowerCase()]||r}},{"./parse-attribs":105,"xml-parse-from-string":188}],105:[function(E,j,w){var x="chasrset";j.exports=function(d){x in d&&(d.charset=d[x],delete d[x]);for(var s in d)s==="face"||s==="charset"||(s==="padding"||s==="spacing"?d[s]=m(d[s]):d[s]=parseInt(d[s],10));return d};function m(p){return p.split(",").map(function(d){return parseInt(d,10)})}},{}],106:[function(E,j,w){var x=E("trim"),m=E("for-each"),p=function(d){return Object.prototype.toString.call(d)==="[object Array]"};j.exports=function(d){if(!d)return{};var s={};return m(x(d).split(`
`),function(a){var r=a.indexOf(":"),t=x(a.slice(0,r)).toLowerCase(),e=x(a.slice(r+1));typeof s[t]>"u"?s[t]=e:p(s[t])?s[t].push(e):s[t]=[s[t],e]}),s}},{"for-each":63,trim:179}],107:[function(E,j,w){(function(x){function m(a,r){for(var t=0,e=a.length-1;e>=0;e--){var o=a[e];o==="."?a.splice(e,1):o===".."?(a.splice(e,1),t++):t&&(a.splice(e,1),t--)}if(r)for(;t--;t)a.unshift("..");return a}w.resolve=function(){for(var a="",r=!1,t=arguments.length-1;t>=-1&&!r;t--){var e=t>=0?arguments[t]:x.cwd();if(typeof e!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!e)continue;a=e+"/"+a,r=e.charAt(0)==="/"}return a=m(d(a.split("/"),function(o){return!!o}),!r).join("/"),(r?"/":"")+a||"."},w.normalize=function(a){var r=w.isAbsolute(a),t=s(a,-1)==="/";return a=m(d(a.split("/"),function(e){return!!e}),!r).join("/"),!a&&!r&&(a="."),a&&t&&(a+="/"),(r?"/":"")+a},w.isAbsolute=function(a){return a.charAt(0)==="/"},w.join=function(){var a=Array.prototype.slice.call(arguments,0);return w.normalize(d(a,function(r,t){if(typeof r!="string")throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},w.relative=function(a,r){a=w.resolve(a).substr(1),r=w.resolve(r).substr(1);function t(u){for(var h=0;h<u.length&&u[h]==="";h++);for(var c=u.length-1;c>=0&&u[c]==="";c--);return h>c?[]:u.slice(h,c-h+1)}for(var e=t(a.split("/")),o=t(r.split("/")),l=Math.min(e.length,o.length),n=l,f=0;f<l;f++)if(e[f]!==o[f]){n=f;break}for(var i=[],f=n;f<e.length;f++)i.push("..");return i=i.concat(o.slice(n)),i.join("/")},w.sep="/",w.delimiter=":",w.dirname=function(a){if(typeof a!="string"&&(a=a+""),a.length===0)return".";for(var r=a.charCodeAt(0),t=r===47,e=-1,o=!0,l=a.length-1;l>=1;--l)if(r=a.charCodeAt(l),r===47){if(!o){e=l;break}}else o=!1;return e===-1?t?"/":".":t&&e===1?"/":a.slice(0,e)};function p(a){typeof a!="string"&&(a=a+"");var r=0,t=-1,e=!0,o;for(o=a.length-1;o>=0;--o)if(a.charCodeAt(o)===47){if(!e){r=o+1;break}}else t===-1&&(e=!1,t=o+1);return t===-1?"":a.slice(r,t)}w.basename=function(a,r){var t=p(a);return r&&t.substr(-1*r.length)===r&&(t=t.substr(0,t.length-r.length)),t},w.extname=function(a){typeof a!="string"&&(a=a+"");for(var r=-1,t=0,e=-1,o=!0,l=0,n=a.length-1;n>=0;--n){var f=a.charCodeAt(n);if(f===47){if(!o){t=n+1;break}continue}e===-1&&(o=!1,e=n+1),f===46?r===-1?r=n:l!==1&&(l=1):r!==-1&&(l=-1)}return r===-1||e===-1||l===0||l===1&&r===e-1&&r===t+1?"":a.slice(r,e)};function d(a,r){if(a.filter)return a.filter(r);for(var t=[],e=0;e<a.length;e++)r(a[e],e,a)&&t.push(a[e]);return t}var s="ab".substr(-1)==="b"?function(a,r,t){return a.substr(r,t)}:function(a,r,t){return r<0&&(r=a.length+r),a.substr(r,t)}}).call(this,E("_process"))},{_process:133}],108:[function(E,j,w){(function(x){var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},p=E("http"),d=E("https"),s=E("url"),a=E("querystring"),r=E("zlib"),t=E("util"),e=function(l,n){if(typeof l!="string"&&!l.hasOwnProperty("url"))throw new Error("Missing url option from options for request method.");var f=(typeof l>"u"?"undefined":m(l))==="object"?s.parse(l.url):s.parse(l),i={hostname:f.hostname,port:f.port||(f.protocol.toLowerCase()==="http:"?80:443),path:f.path,method:"GET",headers:{},auth:f.auth||null,parse:"none",stream:!1};if((typeof l>"u"?"undefined":m(l))==="object"&&(i=Object.assign(i,l)),i.port=Number(i.port),i.hasOwnProperty("timeout")&&delete i.timeout,i.compressed===!0&&(i.headers["accept-encoding"]="gzip, deflate"),l.hasOwnProperty("form")){if(m(l.form)!=="object")throw new Error("phin 'form' option must be of type Object if present.");var u=a.stringify(l.form);i.headers["Content-Type"]="application/x-www-form-urlencoded",i.headers["Content-Length"]=x.byteLength(u),l.data=u}var h=void 0,c=function(y){var A=y;i.compressed===!0&&(y.headers["content-encoding"]==="gzip"?A=y.pipe(r.createGunzip()):y.headers["content-encoding"]==="deflate"&&(A=y.pipe(r.createInflate()))),i.stream===!0?(y.stream=A,n(null,y)):(y.body=new x([]),A.on("data",function(M){y.body=x.concat([y.body,M])}),A.on("end",function(){if(n){if(i.parse==="json")try{y.body=JSON.parse(y.body.toString())}catch{n("Invalid JSON received.",y);return}n(null,y)}}))};switch(f.protocol.toLowerCase()){case"http:":h=p.request(i,c);break;case"https:":h=d.request(i,c);break;default:n&&n(new Error("Invalid / unknown URL protocol. Expected HTTP or HTTPS."),null);return}if(typeof l.timeout=="number"&&h.setTimeout(l.timeout,function(){h.abort(),n(new Error("Timeout has been reached."),null),n=null}),h.on("error",function(b){n&&n(b,null)}),l.hasOwnProperty("data")){var _=l.data;if(!(l.data instanceof x)&&m(l.data)==="object"){var g=i.headers["content-type"]||i.headers["Content-Type"];if(g==="application/x-www-form-urlencoded")_=a.stringify(l.data);else try{_=JSON.stringify(l.data)}catch{n(new Error("Couldn't stringify object. (Likely due to a circular reference.)"),null)}}h.write(_)}h.end()};e.promisified=function(o,l){return new Promise(function(n,f){e(o,function(i,u){i?f(i):n(u)})})},t.promisify&&(e[t.promisify.custom]=e.promisified),j.exports=e}).call(this,E("buffer").Buffer)},{buffer:48,http:156,https:72,querystring:137,url:180,util:186,zlib:35}],109:[function(E,j,w){j.exports=x;function x(o,l,n,f,i,u){u||(u={});for(var h=u.threshold===void 0?.1:u.threshold,c=35215*h*h,_=0,g=0;g<i;g++)for(var b=0;b<f;b++){var y=(g*f+b)*4,A=p(o,l,y,y);if(A>c)!u.includeAA&&(m(o,b,g,f,i,l)||m(l,b,g,f,i,o))?n&&t(n,y,255,255,0):(n&&t(n,y,255,0,0),_++);else if(n){var M=r(e(o,y),.1);t(n,y,M,M,M)}}return _}function m(o,l,n,f,i,u){for(var h=Math.max(l-1,0),c=Math.max(n-1,0),_=Math.min(l+1,f-1),g=Math.min(n+1,i-1),b=(n*f+l)*4,y=0,A=0,M=0,I=0,R=0,F,z,D,O,k=h;k<=_;k++)for(var Z=c;Z<=g;Z++)if(!(k===l&&Z===n)){var $=p(o,o,b,(Z*f+k)*4,!0);if($===0?y++:$<0?M++:$>0&&A++,y>2)return!1;u&&($<I&&(I=$,F=k,z=Z),$>R&&(R=$,D=k,O=Z))}return u?M===0||A===0?!1:!m(o,F,z,f,i)&&!m(u,F,z,f,i)||!m(o,D,O,f,i)&&!m(u,D,O,f,i):!0}function p(o,l,n,f,i){var u=o[n+3]/255,h=l[f+3]/255,c=r(o[n+0],u),_=r(o[n+1],u),g=r(o[n+2],u),b=r(l[f+0],h),y=r(l[f+1],h),A=r(l[f+2],h),M=d(c,_,g)-d(b,y,A);if(i)return M;var I=s(c,_,g)-s(b,y,A),R=a(c,_,g)-a(b,y,A);return .5053*M*M+.299*I*I+.1957*R*R}function d(o,l,n){return o*.29889531+l*.58662247+n*.11448223}function s(o,l,n){return o*.59597799-l*.2741761-n*.32180189}function a(o,l,n){return o*.21147017-l*.52261711+n*.31114694}function r(o,l){return 255+(o-255)*l}function t(o,l,n,f,i){o[l+0]=n,o[l+1]=f,o[l+2]=i,o[l+3]=255}function e(o,l){var n=o[l+3]/255,f=r(o[l+0],n),i=r(o[l+1],n),u=r(o[l+2],n);return d(f,i,u)}},{}],110:[function(E,j,w){(function(x){var m=E("./interlace"),p={1:{0:0,1:0,2:0,3:255},2:{0:0,1:0,2:0,3:1},3:{0:0,1:1,2:2,3:255},4:{0:0,1:1,2:2,3:3}};function d(r,t){var e=[],o=0;function l(){if(o===r.length)throw new Error("Ran out of data");var n=r[o];o++;var f,i,u,h,c,_,g,b;switch(t){default:throw new Error("unrecognised depth");case 16:g=r[o],o++,e.push((n<<8)+g);break;case 4:g=n&15,b=n>>4,e.push(b,g);break;case 2:c=n&3,_=n>>2&3,g=n>>4&3,b=n>>6&3,e.push(b,g,_,c);break;case 1:f=n&1,i=n>>1&1,u=n>>2&1,h=n>>3&1,c=n>>4&1,_=n>>5&1,g=n>>6&1,b=n>>7&1,e.push(b,g,_,c,h,u,i,f);break}}return{get:function(n){for(;e.length<n;)l();var f=e.slice(0,n);return e=e.slice(n),f},resetAfterLine:function(){e.length=0},end:function(){if(o!==r.length)throw new Error("extra data found")}}}function s(r,t,e,o,l,n){for(var f=r.width,i=r.height,u=r.index,h=0;h<i;h++)for(var c=0;c<f;c++){for(var _=e(c,h,u),g=0;g<4;g++){var b=p[o][g];if(b===255)t[_+g]=255;else{var y=b+n;if(y===l.length)throw new Error("Ran out of data");t[_+g]=l[y]}}n+=o}return n}function a(r,t,e,o,l,n){for(var f=r.width,i=r.height,u=r.index,h=0;h<i;h++){for(var c=0;c<f;c++)for(var _=l.get(o),g=e(c,h,u),b=0;b<4;b++){var y=p[o][b];t[g+b]=y!==255?_[y]:n}l.resetAfterLine()}}w.dataToBitMap=function(r,t){var e=t.width,o=t.height,l=t.depth,n=t.bpp,f=t.interlace;if(l!==8)var i=d(r,l);var u;l<=8?u=new x(e*o*4):u=new Uint16Array(e*o*4);var h=Math.pow(2,l)-1,c=0,_,g;if(f)_=m.getImagePasses(e,o),g=m.getInterlaceIterator(e,o);else{var b=0;g=function(){var A=b;return b+=4,A},_=[{width:e,height:o}]}for(var y=0;y<_.length;y++)l===8?c=s(_[y],u,g,n,r,c):a(_[y],u,g,n,i,h);if(l===8){if(c!==r.length)throw new Error("extra data found")}else i.end();return u}}).call(this,E("buffer").Buffer)},{"./interlace":120,buffer:48}],111:[function(E,j,w){(function(x){var m=E("./constants");j.exports=function(p,d,s,a){var r=[m.COLORTYPE_COLOR_ALPHA,m.COLORTYPE_ALPHA].indexOf(a.colorType)!==-1;if(a.colorType===a.inputColorType){var t=function(){var A=new ArrayBuffer(2);return new DataView(A).setInt16(0,256,!0),new Int16Array(A)[0]!==256}();if(a.bitDepth===8||a.bitDepth===16&&t)return p}var e=a.bitDepth!==16?p:new Uint16Array(p.buffer),o=255,l=m.COLORTYPE_TO_BPP_MAP[a.inputColorType];l==4&&!a.inputHasAlpha&&(l=3);var n=m.COLORTYPE_TO_BPP_MAP[a.colorType];a.bitDepth===16&&(o=65535,n*=2);var f=new x(d*s*n),i=0,u=0,h=a.bgColor||{};h.red===void 0&&(h.red=o),h.green===void 0&&(h.green=o),h.blue===void 0&&(h.blue=o);function c(A,M){var I,R,F,z=o;switch(a.inputColorType){case m.COLORTYPE_COLOR_ALPHA:z=A[M+3],I=A[M],R=A[M+1],F=A[M+2];break;case m.COLORTYPE_COLOR:I=A[M],R=A[M+1],F=A[M+2];break;case m.COLORTYPE_ALPHA:z=A[M+1],I=A[M],R=I,F=I;break;case m.COLORTYPE_GRAYSCALE:I=A[M],R=I,F=I;break;default:throw new Error("input color type:"+a.inputColorType+" is not supported at present")}return a.inputHasAlpha&&(r||(z/=o,I=Math.min(Math.max(Math.round((1-z)*h.red+z*I),0),o),R=Math.min(Math.max(Math.round((1-z)*h.green+z*R),0),o),F=Math.min(Math.max(Math.round((1-z)*h.blue+z*F),0),o))),{red:I,green:R,blue:F,alpha:z}}for(var _=0;_<s;_++)for(var g=0;g<d;g++){var b=c(e,i);switch(a.colorType){case m.COLORTYPE_COLOR_ALPHA:case m.COLORTYPE_COLOR:a.bitDepth===8?(f[u]=b.red,f[u+1]=b.green,f[u+2]=b.blue,r&&(f[u+3]=b.alpha)):(f.writeUInt16BE(b.red,u),f.writeUInt16BE(b.green,u+2),f.writeUInt16BE(b.blue,u+4),r&&f.writeUInt16BE(b.alpha,u+6));break;case m.COLORTYPE_ALPHA:case m.COLORTYPE_GRAYSCALE:var y=(b.red+b.green+b.blue)/3;a.bitDepth===8?(f[u]=y,r&&(f[u+1]=b.alpha)):(f.writeUInt16BE(y,u),r&&f.writeUInt16BE(b.alpha,u+2));break}i+=l,u+=n}return f}}).call(this,E("buffer").Buffer)},{"./constants":113,buffer:48}],112:[function(E,j,w){(function(x,m){var p=E("util"),d=E("stream"),s=j.exports=function(){d.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};p.inherits(s,d),s.prototype.read=function(a,r){this._reads.push({length:Math.abs(a),allowLess:a<0,func:r}),x.nextTick(function(){this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))},s.prototype.write=function(a,r){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;var t;return m.isBuffer(a)?t=a:t=new m(a,r||this._encoding),this._buffers.push(t),this._buffered+=t.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused},s.prototype.end=function(a,r){a&&this.write(a,r),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))},s.prototype.destroySoon=s.prototype.end,s.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("There are some read requests waiting on finished stream")),this.destroy()},s.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},s.prototype._processReadAllowingLess=function(a){this._reads.shift();var r=this._buffers[0];r.length>a.length?(this._buffered-=a.length,this._buffers[0]=r.slice(a.length),a.func.call(this,r.slice(0,a.length))):(this._buffered-=r.length,this._buffers.shift(),a.func.call(this,r))},s.prototype._processRead=function(a){this._reads.shift();for(var r=0,t=0,e=new m(a.length);r<a.length;){var o=this._buffers[t++],l=Math.min(o.length,a.length-r);o.copy(e,r,0,l),r+=l,l!==o.length&&(this._buffers[--t]=o.slice(l))}t>0&&this._buffers.splice(0,t),this._buffered-=a.length,a.func.call(this,e)},s.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){var a=this._reads[0];if(a.allowLess)this._processReadAllowingLess(a);else if(this._buffered>=a.length)this._processRead(a);else break}this._buffers&&this._buffers.length>0&&this._buffers[0]===null&&this._end()}catch(r){this.emit("error",r)}}}).call(this,E("_process"),E("buffer").Buffer)},{_process:133,buffer:48,stream:155,util:186}],113:[function(E,j,w){j.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],114:[function(E,j,w){var x=[];(function(){for(var p=0;p<256;p++){for(var d=p,s=0;s<8;s++)d&1?d=3988292384^d>>>1:d=d>>>1;x[p]=d}})();var m=j.exports=function(){this._crc=-1};m.prototype.write=function(p){for(var d=0;d<p.length;d++)this._crc=x[(this._crc^p[d])&255]^this._crc>>>8;return!0},m.prototype.crc32=function(){return this._crc^-1},m.crc32=function(p){for(var d=-1,s=0;s<p.length;s++)d=x[(d^p[s])&255]^d>>>8;return d^-1}},{}],115:[function(E,j,w){(function(x){var m=E("./paeth-predictor");function p(u,h,c,_,g){for(var b=0;b<c;b++)_[g+b]=u[h+b]}function d(u,h,c){for(var _=0,g=h+c,b=h;b<g;b++)_+=Math.abs(u[b]);return _}function s(u,h,c,_,g,b){for(var y=0;y<c;y++){var A=y>=b?u[h+y-b]:0,M=u[h+y]-A;_[g+y]=M}}function a(u,h,c,_){for(var g=0,b=0;b<c;b++){var y=b>=_?u[h+b-_]:0,A=u[h+b]-y;g+=Math.abs(A)}return g}function r(u,h,c,_,g){for(var b=0;b<c;b++){var y=h>0?u[h+b-c]:0,A=u[h+b]-y;_[g+b]=A}}function t(u,h,c){for(var _=0,g=h+c,b=h;b<g;b++){var y=h>0?u[b-c]:0,A=u[b]-y;_+=Math.abs(A)}return _}function e(u,h,c,_,g,b){for(var y=0;y<c;y++){var A=y>=b?u[h+y-b]:0,M=h>0?u[h+y-c]:0,I=u[h+y]-(A+M>>1);_[g+y]=I}}function o(u,h,c,_){for(var g=0,b=0;b<c;b++){var y=b>=_?u[h+b-_]:0,A=h>0?u[h+b-c]:0,M=u[h+b]-(y+A>>1);g+=Math.abs(M)}return g}function l(u,h,c,_,g,b){for(var y=0;y<c;y++){var A=y>=b?u[h+y-b]:0,M=h>0?u[h+y-c]:0,I=h>0&&y>=b?u[h+y-(c+b)]:0,R=u[h+y]-m(A,M,I);_[g+y]=R}}function n(u,h,c,_){for(var g=0,b=0;b<c;b++){var y=b>=_?u[h+b-_]:0,A=h>0?u[h+b-c]:0,M=h>0&&b>=_?u[h+b-(c+_)]:0,I=u[h+b]-m(y,A,M);g+=Math.abs(I)}return g}var f={0:p,1:s,2:r,3:e,4:l},i={0:d,1:a,2:t,3:o,4:n};j.exports=function(u,h,c,_,g){var b;if(!("filterType"in _)||_.filterType===-1)b=[0,1,2,3,4];else if(typeof _.filterType=="number")b=[_.filterType];else throw new Error("unrecognised filter types");_.bitDepth===16&&(g*=2);for(var y=h*g,A=0,M=0,I=new x((y+1)*c),R=b[0],F=0;F<c;F++){if(b.length>1)for(var z=1/0,D=0;D<b.length;D++){var O=i[b[D]](u,M,y,g);O<z&&(R=b[D],z=O)}I[A]=R,A++,f[R](u,M,y,I,A,g),A+=y,M+=y}return I}}).call(this,E("buffer").Buffer)},{"./paeth-predictor":124,buffer:48}],116:[function(E,j,w){(function(x){var m=E("util"),p=E("./chunkstream"),d=E("./filter-parse"),s=j.exports=function(a){p.call(this);var r=[],t=this;this._filter=new d(a,{read:this.read.bind(this),write:function(e){r.push(e)},complete:function(){t.emit("complete",x.concat(r))}}),this._filter.start()};m.inherits(s,p)}).call(this,E("buffer").Buffer)},{"./chunkstream":112,"./filter-parse":118,buffer:48,util:186}],117:[function(E,j,w){(function(x){var m=E("./sync-reader"),p=E("./filter-parse");w.process=function(d,s){var a=[],r=new m(d),t=new p(s,{read:r.read.bind(r),write:function(e){a.push(e)},complete:function(){}});return t.start(),r.process(),x.concat(a)}}).call(this,E("buffer").Buffer)},{"./filter-parse":118,"./sync-reader":131,buffer:48}],118:[function(E,j,w){(function(x){var m=E("./interlace"),p=E("./paeth-predictor");function d(a,r,t){var e=a*r;return t!==8&&(e=Math.ceil(e/(8/t))),e}var s=j.exports=function(a,r){var t=a.width,e=a.height,o=a.interlace,l=a.bpp,n=a.depth;if(this.read=r.read,this.write=r.write,this.complete=r.complete,this._imageIndex=0,this._images=[],o)for(var f=m.getImagePasses(t,e),i=0;i<f.length;i++)this._images.push({byteWidth:d(f[i].width,l,n),height:f[i].height,lineIndex:0});else this._images.push({byteWidth:d(t,l,n),height:e,lineIndex:0});n===8?this._xComparison=l:n===16?this._xComparison=l*2:this._xComparison=1};s.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},s.prototype._unFilterType1=function(a,r,t){for(var e=this._xComparison,o=e-1,l=0;l<t;l++){var n=a[1+l],f=l>o?r[l-e]:0;r[l]=n+f}},s.prototype._unFilterType2=function(a,r,t){for(var e=this._lastLine,o=0;o<t;o++){var l=a[1+o],n=e?e[o]:0;r[o]=l+n}},s.prototype._unFilterType3=function(a,r,t){for(var e=this._xComparison,o=e-1,l=this._lastLine,n=0;n<t;n++){var f=a[1+n],i=l?l[n]:0,u=n>o?r[n-e]:0,h=Math.floor((u+i)/2);r[n]=f+h}},s.prototype._unFilterType4=function(a,r,t){for(var e=this._xComparison,o=e-1,l=this._lastLine,n=0;n<t;n++){var f=a[1+n],i=l?l[n]:0,u=n>o?r[n-e]:0,h=n>o&&l?l[n-e]:0,c=p(u,i,h);r[n]=f+c}},s.prototype._reverseFilterLine=function(a){var r=a[0],t,e=this._images[this._imageIndex],o=e.byteWidth;if(r===0)t=a.slice(1,o+1);else switch(t=new x(o),r){case 1:this._unFilterType1(a,t,o);break;case 2:this._unFilterType2(a,t,o);break;case 3:this._unFilterType3(a,t,o);break;case 4:this._unFilterType4(a,t,o);break;default:throw new Error("Unrecognised filter type - "+r)}this.write(t),e.lineIndex++,e.lineIndex>=e.height?(this._lastLine=null,this._imageIndex++,e=this._images[this._imageIndex]):this._lastLine=t,e?this.read(e.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this,E("buffer").Buffer)},{"./interlace":120,"./paeth-predictor":124,buffer:48}],119:[function(E,j,w){(function(x){function m(s,a,r,t,e){for(var o=0,l=0;l<t;l++)for(var n=0;n<r;n++){var f=e[s[o]];if(!f)throw new Error("index "+s[o]+" not in palette");for(var i=0;i<4;i++)a[o+i]=f[i];o+=4}}function p(s,a,r,t,e){for(var o=0,l=0;l<t;l++)for(var n=0;n<r;n++){var f=!1;if(e.length===1?e[0]===s[o]&&(f=!0):e[0]===s[o]&&e[1]===s[o+1]&&e[2]===s[o+2]&&(f=!0),f)for(var i=0;i<4;i++)a[o+i]=0;o+=4}}function d(s,a,r,t,e){for(var o=255,l=Math.pow(2,e)-1,n=0,f=0;f<t;f++)for(var i=0;i<r;i++){for(var u=0;u<4;u++)a[n+u]=Math.floor(s[n+u]*o/l+.5);n+=4}}j.exports=function(s,a){var r=a.depth,t=a.width,e=a.height,o=a.colorType,l=a.transColor,n=a.palette,f=s;return o===3?m(s,f,t,e,n):(l&&p(s,f,t,e,l),r!==8&&(r===16&&(f=new x(t*e*4)),d(s,f,t,e,r))),f}}).call(this,E("buffer").Buffer)},{buffer:48}],120:[function(E,j,w){var x=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];w.getImagePasses=function(m,p){for(var d=[],s=m%8,a=p%8,r=(m-s)/8,t=(p-a)/8,e=0;e<x.length;e++){for(var o=x[e],l=r*o.x.length,n=t*o.y.length,f=0;f<o.x.length&&o.x[f]<s;f++)l++;for(f=0;f<o.y.length&&o.y[f]<a;f++)n++;l>0&&n>0&&d.push({width:l,height:n,index:e})}return d},w.getInterlaceIterator=function(m){return function(p,d,s){var a=p%x[s].x.length,r=(p-a)/x[s].x.length*8+x[s].x[a],t=d%x[s].y.length,e=(d-t)/x[s].y.length*8+x[s].y[t];return r*4+e*m*4}}},{}],121:[function(E,j,w){(function(x){var m=E("util"),p=E("stream"),d=E("./constants"),s=E("./packer"),a=j.exports=function(r){p.call(this);var t=r||{};this._packer=new s(t),this._deflate=this._packer.createDeflate(),this.readable=!0};m.inherits(a,p),a.prototype.pack=function(r,t,e,o){this.emit("data",new x(d.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(t,e)),o&&this.emit("data",this._packer.packGAMA(o));var l=this._packer.filterData(r,t,e);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(n){this.emit("data",this._packer.packIDAT(n))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(l)}}).call(this,E("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,stream:155,util:186}],122:[function(E,j,w){(function(x){var m=!0,p=E("zlib");p.deflateSync||(m=!1);var d=E("./constants"),s=E("./packer");j.exports=function(a,r){if(!m)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var t=r||{},e=new s(t),o=[];o.push(new x(d.PNG_SIGNATURE)),o.push(e.packIHDR(a.width,a.height)),a.gamma&&o.push(e.packGAMA(a.gamma));var l=e.filterData(a.data,a.width,a.height),n=p.deflateSync(l,e.getDeflateOptions());if(l=null,!n||!n.length)throw new Error("bad png - invalid compressed data response");return o.push(e.packIDAT(n)),o.push(e.packIEND()),x.concat(o)}}).call(this,E("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,zlib:35}],123:[function(E,j,w){(function(x){var m=E("./constants"),p=E("./crc"),d=E("./bitpacker"),s=E("./filter-pack"),a=E("zlib"),r=j.exports=function(t){if(this._options=t,t.deflateChunkSize=t.deflateChunkSize||32*1024,t.deflateLevel=t.deflateLevel!=null?t.deflateLevel:9,t.deflateStrategy=t.deflateStrategy!=null?t.deflateStrategy:3,t.inputHasAlpha=t.inputHasAlpha!=null?t.inputHasAlpha:!0,t.deflateFactory=t.deflateFactory||a.createDeflate,t.bitDepth=t.bitDepth||8,t.colorType=typeof t.colorType=="number"?t.colorType:m.COLORTYPE_COLOR_ALPHA,t.inputColorType=typeof t.inputColorType=="number"?t.inputColorType:m.COLORTYPE_COLOR_ALPHA,[m.COLORTYPE_GRAYSCALE,m.COLORTYPE_COLOR,m.COLORTYPE_COLOR_ALPHA,m.COLORTYPE_ALPHA].indexOf(t.colorType)===-1)throw new Error("option color type:"+t.colorType+" is not supported at present");if([m.COLORTYPE_GRAYSCALE,m.COLORTYPE_COLOR,m.COLORTYPE_COLOR_ALPHA,m.COLORTYPE_ALPHA].indexOf(t.inputColorType)===-1)throw new Error("option input color type:"+t.inputColorType+" is not supported at present");if(t.bitDepth!==8&&t.bitDepth!==16)throw new Error("option bit depth:"+t.bitDepth+" is not supported at present")};r.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},r.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},r.prototype.filterData=function(t,e,o){var l=d(t,e,o,this._options),n=m.COLORTYPE_TO_BPP_MAP[this._options.colorType],f=s(l,e,o,this._options,n);return f},r.prototype._packChunk=function(t,e){var o=e?e.length:0,l=new x(o+12);return l.writeUInt32BE(o,0),l.writeUInt32BE(t,4),e&&e.copy(l,8),l.writeInt32BE(p.crc32(l.slice(4,l.length-4)),l.length-4),l},r.prototype.packGAMA=function(t){var e=new x(4);return e.writeUInt32BE(Math.floor(t*m.GAMMA_DIVISION),0),this._packChunk(m.TYPE_gAMA,e)},r.prototype.packIHDR=function(t,e){var o=new x(13);return o.writeUInt32BE(t,0),o.writeUInt32BE(e,4),o[8]=this._options.bitDepth,o[9]=this._options.colorType,o[10]=0,o[11]=0,o[12]=0,this._packChunk(m.TYPE_IHDR,o)},r.prototype.packIDAT=function(t){return this._packChunk(m.TYPE_IDAT,t)},r.prototype.packIEND=function(){return this._packChunk(m.TYPE_IEND,null)}}).call(this,E("buffer").Buffer)},{"./bitpacker":111,"./constants":113,"./crc":114,"./filter-pack":115,buffer:48,zlib:35}],124:[function(E,j,w){j.exports=function(m,p,d){var s=m+p-d,a=Math.abs(s-m),r=Math.abs(s-p),t=Math.abs(s-d);return a<=r&&a<=t?m:r<=t?p:d}},{}],125:[function(E,j,w){var x=E("util"),m=E("zlib"),p=E("./chunkstream"),d=E("./filter-parse-async"),s=E("./parser"),a=E("./bitmapper"),r=E("./format-normaliser"),t=j.exports=function(e){p.call(this),this._parser=new s(e,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this)}),this._options=e,this.writable=!0,this._parser.start()};x.inherits(t,p),t.prototype._handleError=function(e){this.emit("error",e),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},t.prototype._inflateData=function(e){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=m.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{var o=(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1,l=o*this._bitmapInfo.height,n=Math.max(l,m.Z_MIN_CHUNK);this._inflate=m.createInflate({chunkSize:n});var f=l,i=this.emit.bind(this,"error");this._inflate.on("error",function(h){f&&i(h)}),this._filter.on("complete",this._complete.bind(this));var u=this._filter.write.bind(this._filter);this._inflate.on("data",function(h){f&&(h.length>f&&(h=h.slice(0,f)),f-=h.length,u(h))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(e)},t.prototype._handleMetaData=function(e){this.emit("metadata",e),this._bitmapInfo=Object.create(e),this._filter=new d(this._bitmapInfo)},t.prototype._handleTransColor=function(e){this._bitmapInfo.transColor=e},t.prototype._handlePalette=function(e){this._bitmapInfo.palette=e},t.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},t.prototype._complete=function(e){if(!this.errord){try{var o=a.dataToBitMap(e,this._bitmapInfo),l=r(o,this._bitmapInfo);o=null}catch(n){this._handleError(n);return}this.emit("parsed",l)}}},{"./bitmapper":110,"./chunkstream":112,"./filter-parse-async":116,"./format-normaliser":119,"./parser":127,util:186,zlib:35}],126:[function(E,j,w){(function(x){var m=!0,p=E("zlib"),d=E("./sync-inflate");p.deflateSync||(m=!1);var s=E("./sync-reader"),a=E("./filter-parse-sync"),r=E("./parser"),t=E("./bitmapper"),e=E("./format-normaliser");j.exports=function(o,l){if(!m)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var n;function f(Z){n=Z}var i;function u(Z){i=Z}function h(Z){i.transColor=Z}function c(Z){i.palette=Z}var _;function g(Z){_=Z}var b=[];function y(Z){b.push(Z)}var A=new s(o),M=new r(l,{read:A.read.bind(A),error:f,metadata:u,gamma:g,palette:c,transColor:h,inflateData:y});if(M.start(),A.process(),n)throw n;var I=x.concat(b);b.length=0;var R;if(i.interlace)R=p.inflateSync(I);else{var F=(i.width*i.bpp*i.depth+7>>3)+1,z=F*i.height;R=d(I,{chunkSize:z,maxLength:z})}if(I=null,!R||!R.length)throw new Error("bad png - invalid inflate data response");var D=a.process(R,i);I=null;var O=t.dataToBitMap(D,i);D=null;var k=e(O,i);return i.data=k,i.gamma=_||0,i}}).call(this,E("buffer").Buffer)},{"./bitmapper":110,"./filter-parse-sync":117,"./format-normaliser":119,"./parser":127,"./sync-inflate":130,"./sync-reader":131,buffer:48,zlib:35}],127:[function(E,j,w){(function(x){var m=E("./constants"),p=E("./crc"),d=j.exports=function(s,a){this._options=s,s.checkCRC=s.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[m.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[m.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[m.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[m.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[m.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[m.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=a.read,this.error=a.error,this.metadata=a.metadata,this.gamma=a.gamma,this.transColor=a.transColor,this.palette=a.palette,this.parsed=a.parsed,this.inflateData=a.inflateData,this.finished=a.finished};d.prototype.start=function(){this.read(m.PNG_SIGNATURE.length,this._parseSignature.bind(this))},d.prototype._parseSignature=function(s){for(var a=m.PNG_SIGNATURE,r=0;r<a.length;r++)if(s[r]!==a[r]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))},d.prototype._parseChunkBegin=function(s){for(var a=s.readUInt32BE(0),r=s.readUInt32BE(4),t="",e=4;e<8;e++)t+=String.fromCharCode(s[e]);var o=!!(s[4]&32);if(!this._hasIHDR&&r!==m.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new p,this._crc.write(new x(t)),this._chunks[r])return this._chunks[r](a);if(!o){this.error(new Error("Unsupported critical chunk type "+t));return}this.read(a+4,this._skipChunk.bind(this))},d.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},d.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},d.prototype._parseChunkEnd=function(s){var a=s.readInt32BE(0),r=this._crc.crc32();if(this._options.checkCRC&&r!==a){this.error(new Error("Crc error - "+a+" - "+r));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},d.prototype._handleIHDR=function(s){this.read(s,this._parseIHDR.bind(this))},d.prototype._parseIHDR=function(s){this._crc.write(s);var a=s.readUInt32BE(0),r=s.readUInt32BE(4),t=s[8],e=s[9],o=s[10],l=s[11],n=s[12];if(t!==8&&t!==4&&t!==2&&t!==1&&t!==16){this.error(new Error("Unsupported bit depth "+t));return}if(!(e in m.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(o!==0){this.error(new Error("Unsupported compression method"));return}if(l!==0){this.error(new Error("Unsupported filter method"));return}if(n!==0&&n!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=e;var f=m.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:a,height:r,depth:t,interlace:!!n,palette:!!(e&m.COLORTYPE_PALETTE),color:!!(e&m.COLORTYPE_COLOR),alpha:!!(e&m.COLORTYPE_ALPHA),bpp:f,colorType:e}),this._handleChunkEnd()},d.prototype._handlePLTE=function(s){this.read(s,this._parsePLTE.bind(this))},d.prototype._parsePLTE=function(s){this._crc.write(s);for(var a=Math.floor(s.length/3),r=0;r<a;r++)this._palette.push([s[r*3],s[r*3+1],s[r*3+2],255]);this.palette(this._palette),this._handleChunkEnd()},d.prototype._handleTRNS=function(s){this.read(s,this._parseTRNS.bind(this))},d.prototype._parseTRNS=function(s){if(this._crc.write(s),this._colorType===m.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(s.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(var a=0;a<s.length;a++)this._palette[a][3]=s[a];this.palette(this._palette)}this._colorType===m.COLORTYPE_GRAYSCALE&&this.transColor([s.readUInt16BE(0)]),this._colorType===m.COLORTYPE_COLOR&&this.transColor([s.readUInt16BE(0),s.readUInt16BE(2),s.readUInt16BE(4)]),this._handleChunkEnd()},d.prototype._handleGAMA=function(s){this.read(s,this._parseGAMA.bind(this))},d.prototype._parseGAMA=function(s){this._crc.write(s),this.gamma(s.readUInt32BE(0)/m.GAMMA_DIVISION),this._handleChunkEnd()},d.prototype._handleIDAT=function(s){this.read(-s,this._parseIDAT.bind(this,s))},d.prototype._parseIDAT=function(s,a){if(this._crc.write(a),this._colorType===m.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(a);var r=s-a.length;r>0?this._handleIDAT(r):this._handleChunkEnd()},d.prototype._handleIEND=function(s){this.read(s,this._parseIEND.bind(this))},d.prototype._parseIEND=function(s){this._crc.write(s),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this,E("buffer").Buffer)},{"./constants":113,"./crc":114,buffer:48}],128:[function(E,j,w){var x=E("./parser-sync"),m=E("./packer-sync");w.read=function(p,d){return x(p,d||{})},w.write=function(p,d){return m(p,d)}},{"./packer-sync":122,"./parser-sync":126}],129:[function(E,j,w){(function(x,m){var p=E("util"),d=E("stream"),s=E("./parser-async"),a=E("./packer-async"),r=E("./png-sync"),t=w.PNG=function(e){d.call(this),e=e||{},this.width=e.width|0,this.height=e.height|0,this.data=this.width>0&&this.height>0?new m(4*this.width*this.height):null,e.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new s(e),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(o){this.data=o,this.emit("parsed",o)}.bind(this)),this._packer=new a(e),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};p.inherits(t,d),t.sync=r,t.prototype.pack=function(){return!this.data||!this.data.length?(this.emit("error","No data provided"),this):(x.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this)},t.prototype.parse=function(e,o){if(o){var l,n;l=function(f){this.removeListener("error",n),this.data=f,o(null,this)}.bind(this),n=function(f){this.removeListener("parsed",l),o(f,null)}.bind(this),this.once("parsed",l),this.once("error",n)}return this.end(e),this},t.prototype.write=function(e){return this._parser.write(e),!0},t.prototype.end=function(e){this._parser.end(e)},t.prototype._metadata=function(e){this.width=e.width,this.height=e.height,this.emit("metadata",e)},t.prototype._gamma=function(e){this.gamma=e},t.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")},t.bitblt=function(e,o,l,n,f,i,u,h){if(l|=0,n|=0,f|=0,i|=0,u|=0,h|=0,l>e.width||n>e.height||l+f>e.width||n+i>e.height)throw new Error("bitblt reading outside image");if(u>o.width||h>o.height||u+f>o.width||h+i>o.height)throw new Error("bitblt writing outside image");for(var c=0;c<i;c++)e.data.copy(o.data,(h+c)*o.width+u<<2,(n+c)*e.width+l<<2,(n+c)*e.width+l+f<<2)},t.prototype.bitblt=function(e,o,l,n,f,i,u){return t.bitblt(this,e,o,l,n,f,i,u),this},t.adjustGamma=function(e){if(e.gamma){for(var o=0;o<e.height;o++)for(var l=0;l<e.width;l++)for(var n=e.width*o+l<<2,f=0;f<3;f++){var i=e.data[n+f]/255;i=Math.pow(i,1/2.2/e.gamma),e.data[n+f]=Math.round(i*255)}e.gamma=0}},t.prototype.adjustGamma=function(){t.adjustGamma(this)}}).call(this,E("_process"),E("buffer").Buffer)},{"./packer-async":121,"./parser-async":125,"./png-sync":128,_process:133,buffer:48,stream:155,util:186}],130:[function(E,j,w){(function(x,m){var p=E("assert").ok,d=E("zlib"),s=E("util"),a=E("buffer").kMaxLength;function r(n){if(!(this instanceof r))return new r(n);n&&n.chunkSize<d.Z_MIN_CHUNK&&(n.chunkSize=d.Z_MIN_CHUNK),d.Inflate.call(this,n),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,n&&n.maxLength!=null&&(this._maxLength=n.maxLength)}function t(n){return new r(n)}function e(n,f){f&&x.nextTick(f),n._handle&&(n._handle.close(),n._handle=null)}r.prototype._processChunk=function(n,f,i){if(typeof i=="function")return d.Inflate._processChunk.call(this,n,f,i);var u=this,h=n&&n.length,c=this._chunkSize-this._offset,_=this._maxLength,g=0,b=[],y=0,A;this.on("error",function(F){A=F});function M(F,z){if(!u._hadError){var D=c-z;if(p(D>=0,"have should not go down"),D>0){var O=u._buffer.slice(u._offset,u._offset+D);if(u._offset+=D,O.length>_&&(O=O.slice(0,_)),b.push(O),y+=O.length,_-=O.length,_===0)return!1}return(z===0||u._offset>=u._chunkSize)&&(c=u._chunkSize,u._offset=0,u._buffer=m.allocUnsafe(u._chunkSize)),z===0?(g+=h-F,h=F,!0):!1}}p(this._handle,"zlib binding closed");do{var I=this._handle.writeSync(f,n,g,h,this._buffer,this._offset,c);I=I||this._writeState}while(!this._hadError&&M(I[0],I[1]));if(this._hadError)throw A;if(y>=a)throw e(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+a.toString(16)+" bytes");var R=m.concat(b,y);return e(this),R},s.inherits(r,d.Inflate);function o(n,f){if(typeof f=="string"&&(f=m.from(f)),!(f instanceof m))throw new TypeError("Not a string or buffer");var i=n._finishFlushFlag;return i==null&&(i=d.Z_FINISH),n._processChunk(f,i)}function l(n,f){return o(new r(f),n)}j.exports=w=l,w.Inflate=r,w.createInflate=t,w.inflateSync=l}).call(this,E("_process"),E("buffer").Buffer)},{_process:133,assert:25,buffer:48,util:186,zlib:35}],131:[function(E,j,w){var x=j.exports=function(m){this._buffer=m,this._reads=[]};x.prototype.read=function(m,p){this._reads.push({length:Math.abs(m),allowLess:m<0,func:p})},x.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var m=this._reads[0];if(this._buffer.length&&(this._buffer.length>=m.length||m.allowLess)){this._reads.shift();var p=this._buffer;this._buffer=p.slice(m.length),m.func.call(this,p.slice(0,m.length))}else break}if(this._reads.length>0)return new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)return new Error("unrecognised content at end of stream")}},{}],132:[function(E,j,w){(function(x){typeof x>"u"||!x.version||x.version.indexOf("v0.")===0||x.version.indexOf("v1.")===0&&x.version.indexOf("v1.8.")!==0?j.exports={nextTick:m}:j.exports=x;function m(p,d,s,a){if(typeof p!="function")throw new TypeError('"callback" argument must be a function');var r=arguments.length,t,e;switch(r){case 0:case 1:return x.nextTick(p);case 2:return x.nextTick(function(){p.call(null,d)});case 3:return x.nextTick(function(){p.call(null,d,s)});case 4:return x.nextTick(function(){p.call(null,d,s,a)});default:for(t=new Array(r-1),e=0;e<t.length;)t[e++]=arguments[e];return x.nextTick(function(){p.apply(null,t)})}}}).call(this,E("_process"))},{_process:133}],133:[function(E,j,w){var x=j.exports={},m,p;function d(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?m=setTimeout:m=d}catch{m=d}try{typeof clearTimeout=="function"?p=clearTimeout:p=s}catch{p=s}})();function a(h){if(m===setTimeout)return setTimeout(h,0);if((m===d||!m)&&setTimeout)return m=setTimeout,setTimeout(h,0);try{return m(h,0)}catch{try{return m.call(null,h,0)}catch{return m.call(this,h,0)}}}function r(h){if(p===clearTimeout)return clearTimeout(h);if((p===s||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(h);try{return p(h)}catch{try{return p.call(null,h)}catch{return p.call(this,h)}}}var t=[],e=!1,o,l=-1;function n(){!e||!o||(e=!1,o.length?t=o.concat(t):l=-1,t.length&&f())}function f(){if(!e){var h=a(n);e=!0;for(var c=t.length;c;){for(o=t,t=[];++l<c;)o&&o[l].run();l=-1,c=t.length}o=null,e=!1,r(h)}}x.nextTick=function(h){var c=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)c[_-1]=arguments[_];t.push(new i(h,c)),t.length===1&&!e&&a(f)};function i(h,c){this.fun=h,this.array=c}i.prototype.run=function(){this.fun.apply(null,this.array)},x.title="browser",x.browser=!0,x.env={},x.argv=[],x.version="",x.versions={};function u(){}x.on=u,x.addListener=u,x.once=u,x.off=u,x.removeListener=u,x.removeAllListeners=u,x.emit=u,x.prependListener=u,x.prependOnceListener=u,x.listeners=function(h){return[]},x.binding=function(h){throw new Error("process.binding is not supported")},x.cwd=function(){return"/"},x.chdir=function(h){throw new Error("process.chdir is not supported")},x.umask=function(){return 0}},{}],134:[function(E,j,w){(function(x){(function(m){var p=typeof w=="object"&&w&&!w.nodeType&&w,d=typeof j=="object"&&j&&!j.nodeType&&j,s=typeof x=="object"&&x;(s.global===s||s.window===s||s.self===s)&&(m=s);var a,r=2147483647,t=36,e=1,o=26,l=38,n=700,f=72,i=128,u="-",h=/^xn--/,c=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=t-e,y=Math.floor,A=String.fromCharCode,M;function I(W){throw new RangeError(g[W])}function R(W,G){for(var V=W.length,re=[];V--;)re[V]=G(W[V]);return re}function F(W,G){var V=W.split("@"),re="";V.length>1&&(re=V[0]+"@",W=V[1]),W=W.replace(_,".");var se=W.split("."),fe=R(se,G).join(".");return re+fe}function z(W){for(var G=[],V=0,re=W.length,se,fe;V<re;)se=W.charCodeAt(V++),se>=55296&&se<=56319&&V<re?(fe=W.charCodeAt(V++),(fe&64512)==56320?G.push(((se&1023)<<10)+(fe&1023)+65536):(G.push(se),V--)):G.push(se);return G}function D(W){return R(W,function(G){var V="";return G>65535&&(G-=65536,V+=A(G>>>10&1023|55296),G=56320|G&1023),V+=A(G),V}).join("")}function O(W){return W-48<10?W-22:W-65<26?W-65:W-97<26?W-97:t}function k(W,G){return W+22+75*(W<26)-((G!=0)<<5)}function Z(W,G,V){var re=0;for(W=V?y(W/n):W>>1,W+=y(W/G);W>b*o>>1;re+=t)W=y(W/b);return y(re+(b+1)*W/(W+l))}function $(W){var G=[],V=W.length,re,se=0,fe=i,ue=f,pe,ne,ie,X,J,ee,H,P,T;for(pe=W.lastIndexOf(u),pe<0&&(pe=0),ne=0;ne<pe;++ne)W.charCodeAt(ne)>=128&&I("not-basic"),G.push(W.charCodeAt(ne));for(ie=pe>0?pe+1:0;ie<V;){for(X=se,J=1,ee=t;ie>=V&&I("invalid-input"),H=O(W.charCodeAt(ie++)),(H>=t||H>y((r-se)/J))&&I("overflow"),se+=H*J,P=ee<=ue?e:ee>=ue+o?o:ee-ue,!(H<P);ee+=t)T=t-P,J>y(r/T)&&I("overflow"),J*=T;re=G.length+1,ue=Z(se-X,re,X==0),y(se/re)>r-fe&&I("overflow"),fe+=y(se/re),se%=re,G.splice(se++,0,fe)}return D(G)}function te(W){var G,V,re,se,fe,ue,pe,ne,ie,X,J,ee=[],H,P,T,Y;for(W=z(W),H=W.length,G=i,V=0,fe=f,ue=0;ue<H;++ue)J=W[ue],J<128&&ee.push(A(J));for(re=se=ee.length,se&&ee.push(u);re<H;){for(pe=r,ue=0;ue<H;++ue)J=W[ue],J>=G&&J<pe&&(pe=J);for(P=re+1,pe-G>y((r-V)/P)&&I("overflow"),V+=(pe-G)*P,G=pe,ue=0;ue<H;++ue)if(J=W[ue],J<G&&++V>r&&I("overflow"),J==G){for(ne=V,ie=t;X=ie<=fe?e:ie>=fe+o?o:ie-fe,!(ne<X);ie+=t)Y=ne-X,T=t-X,ee.push(A(k(X+Y%T,0))),ne=y(Y/T);ee.push(A(k(ne,0))),fe=Z(V,P,re==se),V=0,++re}++V,++G}return ee.join("")}function q(W){return F(W,function(G){return h.test(G)?$(G.slice(4).toLowerCase()):G})}function U(W){return F(W,function(G){return c.test(G)?"xn--"+te(G):G})}if(a={version:"1.4.1",ucs2:{decode:z,encode:D},decode:$,encode:te,toASCII:U,toUnicode:q},p&&d)if(j.exports==p)d.exports=a;else for(M in a)a.hasOwnProperty(M)&&(p[M]=a[M]);else m.punycode=a})(this)}).call(this,typeof He<"u"?He:typeof self<"u"?self:typeof xe<"u"?xe:{})},{}],135:[function(E,j,w){function x(p,d){return Object.prototype.hasOwnProperty.call(p,d)}j.exports=function(p,d,s,a){d=d||"&",s=s||"=";var r={};if(typeof p!="string"||p.length===0)return r;var t=/\+/g;p=p.split(d);var e=1e3;a&&typeof a.maxKeys=="number"&&(e=a.maxKeys);var o=p.length;e>0&&o>e&&(o=e);for(var l=0;l<o;++l){var n=p[l].replace(t,"%20"),f=n.indexOf(s),i,u,h,c;f>=0?(i=n.substr(0,f),u=n.substr(f+1)):(i=n,u=""),h=decodeURIComponent(i),c=decodeURIComponent(u),x(r,h)?m(r[h])?r[h].push(c):r[h]=[r[h],c]:r[h]=c}return r};var m=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"}},{}],136:[function(E,j,w){var x=function(s){switch(typeof s){case"string":return s;case"boolean":return s?"true":"false";case"number":return isFinite(s)?s:"";default:return""}};j.exports=function(s,a,r,t){return a=a||"&",r=r||"=",s===null&&(s=void 0),typeof s=="object"?p(d(s),function(e){var o=encodeURIComponent(x(e))+r;return m(s[e])?p(s[e],function(l){return o+encodeURIComponent(x(l))}).join(a):o+encodeURIComponent(x(s[e]))}).join(a):t?encodeURIComponent(x(t))+r+encodeURIComponent(x(s)):""};var m=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function p(s,a){if(s.map)return s.map(a);for(var r=[],t=0;t<s.length;t++)r.push(a(s[t],t));return r}var d=Object.keys||function(s){var a=[];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&a.push(r);return a}},{}],137:[function(E,j,w){w.decode=w.parse=E("./decode"),w.encode=w.stringify=E("./encode")},{"./decode":135,"./encode":136}],138:[function(E,j,w){j.exports=E("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":139}],139:[function(E,j,w){var x=E("process-nextick-args"),m=Object.keys||function(n){var f=[];for(var i in n)f.push(i);return f};j.exports=e;var p=E("core-util-is");p.inherits=E("inherits");var d=E("./_stream_readable"),s=E("./_stream_writable");p.inherits(e,d);for(var a=m(s.prototype),r=0;r<a.length;r++){var t=a[r];e.prototype[t]||(e.prototype[t]=s.prototype[t])}function e(n){if(!(this instanceof e))return new e(n);d.call(this,n),s.call(this,n),n&&n.readable===!1&&(this.readable=!1),n&&n.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,n&&n.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",o)}Object.defineProperty(e.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function o(){this.allowHalfOpen||this._writableState.ended||x.nextTick(l,this)}function l(n){n.end()}Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(n){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=n,this._writableState.destroyed=n)}}),e.prototype._destroy=function(n,f){this.push(null),this.end(),x.nextTick(f,n)}},{"./_stream_readable":141,"./_stream_writable":143,"core-util-is":51,inherits:75,"process-nextick-args":132}],140:[function(E,j,w){j.exports=p;var x=E("./_stream_transform"),m=E("core-util-is");m.inherits=E("inherits"),m.inherits(p,x);function p(d){if(!(this instanceof p))return new p(d);x.call(this,d)}p.prototype._transform=function(d,s,a){a(null,d)}},{"./_stream_transform":142,"core-util-is":51,inherits:75}],141:[function(E,j,w){(function(x,m){var p=E("process-nextick-args");j.exports=y;var d=E("isarray"),s;y.ReadableState=b,E("events").EventEmitter;var a=function(X,J){return X.listeners(J).length},r=E("./internal/streams/stream"),t=E("safe-buffer").Buffer,e=m.Uint8Array||function(){};function o(X){return t.from(X)}function l(X){return t.isBuffer(X)||X instanceof e}var n=E("core-util-is");n.inherits=E("inherits");var f=E("util"),i=void 0;f&&f.debuglog?i=f.debuglog("stream"):i=function(){};var u=E("./internal/streams/BufferList"),h=E("./internal/streams/destroy"),c;n.inherits(y,r);var _=["error","close","destroy","pause","resume"];function g(X,J,ee){if(typeof X.prependListener=="function")return X.prependListener(J,ee);!X._events||!X._events[J]?X.on(J,ee):d(X._events[J])?X._events[J].unshift(ee):X._events[J]=[ee,X._events[J]]}function b(X,J){s=s||E("./_stream_duplex"),X=X||{};var ee=J instanceof s;this.objectMode=!!X.objectMode,ee&&(this.objectMode=this.objectMode||!!X.readableObjectMode);var H=X.highWaterMark,P=X.readableHighWaterMark,T=this.objectMode?16:16*1024;H||H===0?this.highWaterMark=H:ee&&(P||P===0)?this.highWaterMark=P:this.highWaterMark=T,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=X.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,X.encoding&&(c||(c=E("string_decoder/").StringDecoder),this.decoder=new c(X.encoding),this.encoding=X.encoding)}function y(X){if(s=s||E("./_stream_duplex"),!(this instanceof y))return new y(X);this._readableState=new b(X,this),this.readable=!0,X&&(typeof X.read=="function"&&(this._read=X.read),typeof X.destroy=="function"&&(this._destroy=X.destroy)),r.call(this)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(X){this._readableState&&(this._readableState.destroyed=X)}}),y.prototype.destroy=h.destroy,y.prototype._undestroy=h.undestroy,y.prototype._destroy=function(X,J){this.push(null),J(X)},y.prototype.push=function(X,J){var ee=this._readableState,H;return ee.objectMode?H=!0:typeof X=="string"&&(J=J||ee.defaultEncoding,J!==ee.encoding&&(X=t.from(X,J),J=""),H=!0),A(this,X,J,!1,H)},y.prototype.unshift=function(X){return A(this,X,null,!0,!1)};function A(X,J,ee,H,P){var T=X._readableState;if(J===null)T.reading=!1,O(X,T);else{var Y;P||(Y=I(T,J)),Y?X.emit("error",Y):T.objectMode||J&&J.length>0?(typeof J!="string"&&!T.objectMode&&Object.getPrototypeOf(J)!==t.prototype&&(J=o(J)),H?T.endEmitted?X.emit("error",new Error("stream.unshift() after end event")):M(X,T,J,!0):T.ended?X.emit("error",new Error("stream.push() after EOF")):(T.reading=!1,T.decoder&&!ee?(J=T.decoder.write(J),T.objectMode||J.length!==0?M(X,T,J,!1):$(X,T)):M(X,T,J,!1))):H||(T.reading=!1)}return R(T)}function M(X,J,ee,H){J.flowing&&J.length===0&&!J.sync?(X.emit("data",ee),X.read(0)):(J.length+=J.objectMode?1:ee.length,H?J.buffer.unshift(ee):J.buffer.push(ee),J.needReadable&&k(X)),$(X,J)}function I(X,J){var ee;return!l(J)&&typeof J!="string"&&J!==void 0&&!X.objectMode&&(ee=new TypeError("Invalid non-string/buffer chunk")),ee}function R(X){return!X.ended&&(X.needReadable||X.length<X.highWaterMark||X.length===0)}y.prototype.isPaused=function(){return this._readableState.flowing===!1},y.prototype.setEncoding=function(X){return c||(c=E("string_decoder/").StringDecoder),this._readableState.decoder=new c(X),this._readableState.encoding=X,this};var F=8388608;function z(X){return X>=F?X=F:(X--,X|=X>>>1,X|=X>>>2,X|=X>>>4,X|=X>>>8,X|=X>>>16,X++),X}function D(X,J){return X<=0||J.length===0&&J.ended?0:J.objectMode?1:X!==X?J.flowing&&J.length?J.buffer.head.data.length:J.length:(X>J.highWaterMark&&(J.highWaterMark=z(X)),X<=J.length?X:J.ended?J.length:(J.needReadable=!0,0))}y.prototype.read=function(X){i("read",X),X=parseInt(X,10);var J=this._readableState,ee=X;if(X!==0&&(J.emittedReadable=!1),X===0&&J.needReadable&&(J.length>=J.highWaterMark||J.ended))return i("read: emitReadable",J.length,J.ended),J.length===0&&J.ended?pe(this):k(this),null;if(X=D(X,J),X===0&&J.ended)return J.length===0&&pe(this),null;var H=J.needReadable;i("need readable",H),(J.length===0||J.length-X<J.highWaterMark)&&(H=!0,i("length less than watermark",H)),J.ended||J.reading?(H=!1,i("reading or ended",H)):H&&(i("do read"),J.reading=!0,J.sync=!0,J.length===0&&(J.needReadable=!0),this._read(J.highWaterMark),J.sync=!1,J.reading||(X=D(ee,J)));var P;return X>0?P=re(X,J):P=null,P===null?(J.needReadable=!0,X=0):J.length-=X,J.length===0&&(J.ended||(J.needReadable=!0),ee!==X&&J.ended&&pe(this)),P!==null&&this.emit("data",P),P};function O(X,J){if(!J.ended){if(J.decoder){var ee=J.decoder.end();ee&&ee.length&&(J.buffer.push(ee),J.length+=J.objectMode?1:ee.length)}J.ended=!0,k(X)}}function k(X){var J=X._readableState;J.needReadable=!1,J.emittedReadable||(i("emitReadable",J.flowing),J.emittedReadable=!0,J.sync?p.nextTick(Z,X):Z(X))}function Z(X){i("emit readable"),X.emit("readable"),V(X)}function $(X,J){J.readingMore||(J.readingMore=!0,p.nextTick(te,X,J))}function te(X,J){for(var ee=J.length;!J.reading&&!J.flowing&&!J.ended&&J.length<J.highWaterMark&&(i("maybeReadMore read 0"),X.read(0),ee!==J.length);)ee=J.length;J.readingMore=!1}y.prototype._read=function(X){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(X,J){var ee=this,H=this._readableState;switch(H.pipesCount){case 0:H.pipes=X;break;case 1:H.pipes=[H.pipes,X];break;default:H.pipes.push(X);break}H.pipesCount+=1,i("pipe count=%d opts=%j",H.pipesCount,J);var P=(!J||J.end!==!1)&&X!==x.stdout&&X!==x.stderr,T=P?N:Pe;H.endEmitted?p.nextTick(T):ee.once("end",T),X.on("unpipe",Y);function Y(Oe,Te){i("onunpipe"),Oe===ee&&Te&&Te.hasUnpiped===!1&&(Te.hasUnpiped=!0,Q())}function N(){i("onend"),X.end()}var C=q(ee);X.on("drain",C);var S=!1;function Q(){i("cleanup"),X.removeListener("close",Ae),X.removeListener("finish",ke),X.removeListener("drain",C),X.removeListener("error",ye),X.removeListener("unpipe",Y),ee.removeListener("end",N),ee.removeListener("end",Pe),ee.removeListener("data",ve),S=!0,H.awaitDrain&&(!X._writableState||X._writableState.needDrain)&&C()}var oe=!1;ee.on("data",ve);function ve(Oe){i("ondata"),oe=!1;var Te=X.write(Oe);Te===!1&&!oe&&((H.pipesCount===1&&H.pipes===X||H.pipesCount>1&&ie(H.pipes,X)!==-1)&&!S&&(i("false write response, pause",ee._readableState.awaitDrain),ee._readableState.awaitDrain++,oe=!0),ee.pause())}function ye(Oe){i("onerror",Oe),Pe(),X.removeListener("error",ye),a(X,"error")===0&&X.emit("error",Oe)}g(X,"error",ye);function Ae(){X.removeListener("finish",ke),Pe()}X.once("close",Ae);function ke(){i("onfinish"),X.removeListener("close",Ae),Pe()}X.once("finish",ke);function Pe(){i("unpipe"),ee.unpipe(X)}return X.emit("pipe",ee),H.flowing||(i("pipe resume"),ee.resume()),X};function q(X){return function(){var J=X._readableState;i("pipeOnDrain",J.awaitDrain),J.awaitDrain&&J.awaitDrain--,J.awaitDrain===0&&a(X,"data")&&(J.flowing=!0,V(X))}}y.prototype.unpipe=function(X){var J=this._readableState,ee={hasUnpiped:!1};if(J.pipesCount===0)return this;if(J.pipesCount===1)return X&&X!==J.pipes?this:(X||(X=J.pipes),J.pipes=null,J.pipesCount=0,J.flowing=!1,X&&X.emit("unpipe",this,ee),this);if(!X){var H=J.pipes,P=J.pipesCount;J.pipes=null,J.pipesCount=0,J.flowing=!1;for(var T=0;T<P;T++)H[T].emit("unpipe",this,ee);return this}var Y=ie(J.pipes,X);return Y===-1?this:(J.pipes.splice(Y,1),J.pipesCount-=1,J.pipesCount===1&&(J.pipes=J.pipes[0]),X.emit("unpipe",this,ee),this)},y.prototype.on=function(X,J){var ee=r.prototype.on.call(this,X,J);if(X==="data")this._readableState.flowing!==!1&&this.resume();else if(X==="readable"){var H=this._readableState;!H.endEmitted&&!H.readableListening&&(H.readableListening=H.needReadable=!0,H.emittedReadable=!1,H.reading?H.length&&k(this):p.nextTick(U,this))}return ee},y.prototype.addListener=y.prototype.on;function U(X){i("readable nexttick read 0"),X.read(0)}y.prototype.resume=function(){var X=this._readableState;return X.flowing||(i("resume"),X.flowing=!0,W(this,X)),this};function W(X,J){J.resumeScheduled||(J.resumeScheduled=!0,p.nextTick(G,X,J))}function G(X,J){J.reading||(i("resume read 0"),X.read(0)),J.resumeScheduled=!1,J.awaitDrain=0,X.emit("resume"),V(X),J.flowing&&!J.reading&&X.read(0)}y.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function V(X){var J=X._readableState;for(i("flow",J.flowing);J.flowing&&X.read()!==null;);}y.prototype.wrap=function(X){var J=this,ee=this._readableState,H=!1;X.on("end",function(){if(i("wrapped end"),ee.decoder&&!ee.ended){var Y=ee.decoder.end();Y&&Y.length&&J.push(Y)}J.push(null)}),X.on("data",function(Y){if(i("wrapped data"),ee.decoder&&(Y=ee.decoder.write(Y)),!(ee.objectMode&&Y==null)&&!(!ee.objectMode&&(!Y||!Y.length))){var N=J.push(Y);N||(H=!0,X.pause())}});for(var P in X)this[P]===void 0&&typeof X[P]=="function"&&(this[P]=function(Y){return function(){return X[Y].apply(X,arguments)}}(P));for(var T=0;T<_.length;T++)X.on(_[T],this.emit.bind(this,_[T]));return this._read=function(Y){i("wrapped _read",Y),H&&(H=!1,X.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=re;function re(X,J){if(J.length===0)return null;var ee;return J.objectMode?ee=J.buffer.shift():!X||X>=J.length?(J.decoder?ee=J.buffer.join(""):J.buffer.length===1?ee=J.buffer.head.data:ee=J.buffer.concat(J.length),J.buffer.clear()):ee=se(X,J.buffer,J.decoder),ee}function se(X,J,ee){var H;return X<J.head.data.length?(H=J.head.data.slice(0,X),J.head.data=J.head.data.slice(X)):X===J.head.data.length?H=J.shift():H=ee?fe(X,J):ue(X,J),H}function fe(X,J){var ee=J.head,H=1,P=ee.data;for(X-=P.length;ee=ee.next;){var T=ee.data,Y=X>T.length?T.length:X;if(Y===T.length?P+=T:P+=T.slice(0,X),X-=Y,X===0){Y===T.length?(++H,ee.next?J.head=ee.next:J.head=J.tail=null):(J.head=ee,ee.data=T.slice(Y));break}++H}return J.length-=H,P}function ue(X,J){var ee=t.allocUnsafe(X),H=J.head,P=1;for(H.data.copy(ee),X-=H.data.length;H=H.next;){var T=H.data,Y=X>T.length?T.length:X;if(T.copy(ee,ee.length-X,0,Y),X-=Y,X===0){Y===T.length?(++P,H.next?J.head=H.next:J.head=J.tail=null):(J.head=H,H.data=T.slice(Y));break}++P}return J.length-=P,ee}function pe(X){var J=X._readableState;if(J.length>0)throw new Error('"endReadable()" called on non-empty stream');J.endEmitted||(J.ended=!0,p.nextTick(ne,J,X))}function ne(X,J){!X.endEmitted&&X.length===0&&(X.endEmitted=!0,J.readable=!1,J.emit("end"))}function ie(X,J){for(var ee=0,H=X.length;ee<H;ee++)if(X[ee]===J)return ee;return-1}}).call(this,E("_process"),typeof He<"u"?He:typeof self<"u"?self:typeof xe<"u"?xe:{})},{"./_stream_duplex":139,"./internal/streams/BufferList":144,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,events:52,inherits:75,isarray:79,"process-nextick-args":132,"safe-buffer":147,"string_decoder/":148,util:33}],142:[function(E,j,w){j.exports=d;var x=E("./_stream_duplex"),m=E("core-util-is");m.inherits=E("inherits"),m.inherits(d,x);function p(r,t){var e=this._transformState;e.transforming=!1;var o=e.writecb;if(!o)return this.emit("error",new Error("write callback called multiple times"));e.writechunk=null,e.writecb=null,t!=null&&this.push(t),o(r);var l=this._readableState;l.reading=!1,(l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}function d(r){if(!(this instanceof d))return new d(r);x.call(this,r),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&(typeof r.transform=="function"&&(this._transform=r.transform),typeof r.flush=="function"&&(this._flush=r.flush)),this.on("prefinish",s)}function s(){var r=this;typeof this._flush=="function"?this._flush(function(t,e){a(r,t,e)}):a(this,null,null)}d.prototype.push=function(r,t){return this._transformState.needTransform=!1,x.prototype.push.call(this,r,t)},d.prototype._transform=function(r,t,e){throw new Error("_transform() is not implemented")},d.prototype._write=function(r,t,e){var o=this._transformState;if(o.writecb=e,o.writechunk=r,o.writeencoding=t,!o.transforming){var l=this._readableState;(o.needTransform||l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}},d.prototype._read=function(r){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},d.prototype._destroy=function(r,t){var e=this;x.prototype._destroy.call(this,r,function(o){t(o),e.emit("close")})};function a(r,t,e){if(t)return r.emit("error",t);if(e!=null&&r.push(e),r._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(r._transformState.transforming)throw new Error("Calling transform done when still transforming");return r.push(null)}},{"./_stream_duplex":139,"core-util-is":51,inherits:75}],143:[function(E,j,w){(function(x,m,p){var d=E("process-nextick-args");j.exports=g;function s(G){var V=this;this.next=null,this.entry=null,this.finish=function(){W(V,G)}}var a=!x.browser&&["v0.10","v0.9."].indexOf(x.version.slice(0,5))>-1?p:d.nextTick,r;g.WritableState=c;var t=E("core-util-is");t.inherits=E("inherits");var e={deprecate:E("util-deprecate")},o=E("./internal/streams/stream"),l=E("safe-buffer").Buffer,n=m.Uint8Array||function(){};function f(G){return l.from(G)}function i(G){return l.isBuffer(G)||G instanceof n}var u=E("./internal/streams/destroy");t.inherits(g,o);function h(){}function c(G,V){r=r||E("./_stream_duplex"),G=G||{};var re=V instanceof r;this.objectMode=!!G.objectMode,re&&(this.objectMode=this.objectMode||!!G.writableObjectMode);var se=G.highWaterMark,fe=G.writableHighWaterMark,ue=this.objectMode?16:16*1024;se||se===0?this.highWaterMark=se:re&&(fe||fe===0)?this.highWaterMark=fe:this.highWaterMark=ue,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var pe=G.decodeStrings===!1;this.decodeStrings=!pe,this.defaultEncoding=G.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ne){z(V,ne)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}c.prototype.getBuffer=function(){for(var V=this.bufferedRequest,re=[];V;)re.push(V),V=V.next;return re},function(){try{Object.defineProperty(c.prototype,"buffer",{get:e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var _;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(_=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(G){return _.call(this,G)?!0:this!==g?!1:G&&G._writableState instanceof c}})):_=function(G){return G instanceof this};function g(G){if(r=r||E("./_stream_duplex"),!_.call(g,this)&&!(this instanceof r))return new g(G);this._writableState=new c(G,this),this.writable=!0,G&&(typeof G.write=="function"&&(this._write=G.write),typeof G.writev=="function"&&(this._writev=G.writev),typeof G.destroy=="function"&&(this._destroy=G.destroy),typeof G.final=="function"&&(this._final=G.final)),o.call(this)}g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function b(G,V){var re=new Error("write after end");G.emit("error",re),d.nextTick(V,re)}function y(G,V,re,se){var fe=!0,ue=!1;return re===null?ue=new TypeError("May not write null values to stream"):typeof re!="string"&&re!==void 0&&!V.objectMode&&(ue=new TypeError("Invalid non-string/buffer chunk")),ue&&(G.emit("error",ue),d.nextTick(se,ue),fe=!1),fe}g.prototype.write=function(G,V,re){var se=this._writableState,fe=!1,ue=!se.objectMode&&i(G);return ue&&!l.isBuffer(G)&&(G=f(G)),typeof V=="function"&&(re=V,V=null),ue?V="buffer":V||(V=se.defaultEncoding),typeof re!="function"&&(re=h),se.ended?b(this,re):(ue||y(this,se,G,re))&&(se.pendingcb++,fe=M(this,se,ue,G,V,re)),fe},g.prototype.cork=function(){var G=this._writableState;G.corked++},g.prototype.uncork=function(){var G=this._writableState;G.corked&&(G.corked--,!G.writing&&!G.corked&&!G.finished&&!G.bufferProcessing&&G.bufferedRequest&&k(this,G))},g.prototype.setDefaultEncoding=function(V){if(typeof V=="string"&&(V=V.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((V+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+V);return this._writableState.defaultEncoding=V,this};function A(G,V,re){return!G.objectMode&&G.decodeStrings!==!1&&typeof V=="string"&&(V=l.from(V,re)),V}Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function M(G,V,re,se,fe,ue){if(!re){var pe=A(V,se,fe);se!==pe&&(re=!0,fe="buffer",se=pe)}var ne=V.objectMode?1:se.length;V.length+=ne;var ie=V.length<V.highWaterMark;if(ie||(V.needDrain=!0),V.writing||V.corked){var X=V.lastBufferedRequest;V.lastBufferedRequest={chunk:se,encoding:fe,isBuf:re,callback:ue,next:null},X?X.next=V.lastBufferedRequest:V.bufferedRequest=V.lastBufferedRequest,V.bufferedRequestCount+=1}else I(G,V,!1,ne,se,fe,ue);return ie}function I(G,V,re,se,fe,ue,pe){V.writelen=se,V.writecb=pe,V.writing=!0,V.sync=!0,re?G._writev(fe,V.onwrite):G._write(fe,ue,V.onwrite),V.sync=!1}function R(G,V,re,se,fe){--V.pendingcb,re?(d.nextTick(fe,se),d.nextTick(q,G,V),G._writableState.errorEmitted=!0,G.emit("error",se)):(fe(se),G._writableState.errorEmitted=!0,G.emit("error",se),q(G,V))}function F(G){G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0}function z(G,V){var re=G._writableState,se=re.sync,fe=re.writecb;if(F(re),V)R(G,re,se,V,fe);else{var ue=Z(re);!ue&&!re.corked&&!re.bufferProcessing&&re.bufferedRequest&&k(G,re),se?a(D,G,re,ue,fe):D(G,re,ue,fe)}}function D(G,V,re,se){re||O(G,V),V.pendingcb--,se(),q(G,V)}function O(G,V){V.length===0&&V.needDrain&&(V.needDrain=!1,G.emit("drain"))}function k(G,V){V.bufferProcessing=!0;var re=V.bufferedRequest;if(G._writev&&re&&re.next){var se=V.bufferedRequestCount,fe=new Array(se),ue=V.corkedRequestsFree;ue.entry=re;for(var pe=0,ne=!0;re;)fe[pe]=re,re.isBuf||(ne=!1),re=re.next,pe+=1;fe.allBuffers=ne,I(G,V,!0,V.length,fe,"",ue.finish),V.pendingcb++,V.lastBufferedRequest=null,ue.next?(V.corkedRequestsFree=ue.next,ue.next=null):V.corkedRequestsFree=new s(V),V.bufferedRequestCount=0}else{for(;re;){var ie=re.chunk,X=re.encoding,J=re.callback,ee=V.objectMode?1:ie.length;if(I(G,V,!1,ee,ie,X,J),re=re.next,V.bufferedRequestCount--,V.writing)break}re===null&&(V.lastBufferedRequest=null)}V.bufferedRequest=re,V.bufferProcessing=!1}g.prototype._write=function(G,V,re){re(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(G,V,re){var se=this._writableState;typeof G=="function"?(re=G,G=null,V=null):typeof V=="function"&&(re=V,V=null),G!=null&&this.write(G,V),se.corked&&(se.corked=1,this.uncork()),!se.ending&&!se.finished&&U(this,se,re)};function Z(G){return G.ending&&G.length===0&&G.bufferedRequest===null&&!G.finished&&!G.writing}function $(G,V){G._final(function(re){V.pendingcb--,re&&G.emit("error",re),V.prefinished=!0,G.emit("prefinish"),q(G,V)})}function te(G,V){!V.prefinished&&!V.finalCalled&&(typeof G._final=="function"?(V.pendingcb++,V.finalCalled=!0,d.nextTick($,G,V)):(V.prefinished=!0,G.emit("prefinish")))}function q(G,V){var re=Z(V);return re&&(te(G,V),V.pendingcb===0&&(V.finished=!0,G.emit("finish"))),re}function U(G,V,re){V.ending=!0,q(G,V),re&&(V.finished?d.nextTick(re):G.once("finish",re)),V.ended=!0,G.writable=!1}function W(G,V,re){var se=G.entry;for(G.entry=null;se;){var fe=se.callback;V.pendingcb--,fe(re),se=se.next}V.corkedRequestsFree?V.corkedRequestsFree.next=G:V.corkedRequestsFree=G}Object.defineProperty(g.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(G){this._writableState&&(this._writableState.destroyed=G)}}),g.prototype.destroy=u.destroy,g.prototype._undestroy=u.undestroy,g.prototype._destroy=function(G,V){this.end(),V(G)}}).call(this,E("_process"),typeof He<"u"?He:typeof self<"u"?self:typeof xe<"u"?xe:{},E("timers").setImmediate)},{"./_stream_duplex":139,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,inherits:75,"process-nextick-args":132,"safe-buffer":147,timers:176,"util-deprecate":183}],144:[function(E,j,w){function x(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}var m=E("safe-buffer").Buffer,p=E("util");function d(s,a,r){s.copy(a,r)}j.exports=function(){function s(){x(this,s),this.head=null,this.tail=null,this.length=0}return s.prototype.push=function(r){var t={data:r,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},s.prototype.unshift=function(r){var t={data:r,next:this.head};this.length===0&&(this.tail=t),this.head=t,++this.length},s.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},s.prototype.clear=function(){this.head=this.tail=null,this.length=0},s.prototype.join=function(r){if(this.length===0)return"";for(var t=this.head,e=""+t.data;t=t.next;)e+=r+t.data;return e},s.prototype.concat=function(r){if(this.length===0)return m.alloc(0);if(this.length===1)return this.head.data;for(var t=m.allocUnsafe(r>>>0),e=this.head,o=0;e;)d(e.data,t,o),o+=e.data.length,e=e.next;return t},s}(),p&&p.inspect&&p.inspect.custom&&(j.exports.prototype[p.inspect.custom]=function(){var s=p.inspect({length:this.length});return this.constructor.name+" "+s})},{"safe-buffer":147,util:33}],145:[function(E,j,w){var x=E("process-nextick-args");function m(s,a){var r=this,t=this._readableState&&this._readableState.destroyed,e=this._writableState&&this._writableState.destroyed;return t||e?(a?a(s):s&&(!this._writableState||!this._writableState.errorEmitted)&&x.nextTick(d,this,s),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(o){!a&&o?(x.nextTick(d,r,o),r._writableState&&(r._writableState.errorEmitted=!0)):a&&a(o)}),this)}function p(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function d(s,a){s.emit("error",a)}j.exports={destroy:m,undestroy:p}},{"process-nextick-args":132}],146:[function(E,j,w){j.exports=E("events").EventEmitter},{events:52}],147:[function(E,j,w){var x=E("buffer"),m=x.Buffer;function p(s,a){for(var r in s)a[r]=s[r]}m.from&&m.alloc&&m.allocUnsafe&&m.allocUnsafeSlow?j.exports=x:(p(x,w),w.Buffer=d);function d(s,a,r){return m(s,a,r)}p(m,d),d.from=function(s,a,r){if(typeof s=="number")throw new TypeError("Argument must not be a number");return m(s,a,r)},d.alloc=function(s,a,r){if(typeof s!="number")throw new TypeError("Argument must be a number");var t=m(s);return a!==void 0?typeof r=="string"?t.fill(a,r):t.fill(a):t.fill(0),t},d.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return m(s)},d.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return x.SlowBuffer(s)}},{buffer:48}],148:[function(E,j,w){var x=E("safe-buffer").Buffer,m=x.isEncoding||function(_){switch(_=""+_,_&&_.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function p(_){if(!_)return"utf8";for(var g;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(g)return;_=(""+_).toLowerCase(),g=!0}}function d(_){var g=p(_);if(typeof g!="string"&&(x.isEncoding===m||!m(_)))throw new Error("Unknown encoding: "+_);return g||_}w.StringDecoder=s;function s(_){this.encoding=d(_);var g;switch(this.encoding){case"utf16le":this.text=n,this.end=f,g=4;break;case"utf8":this.fillLast=e,g=4;break;case"base64":this.text=i,this.end=u,g=3;break;default:this.write=h,this.end=c;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=x.allocUnsafe(g)}s.prototype.write=function(_){if(_.length===0)return"";var g,b;if(this.lastNeed){if(g=this.fillLast(_),g===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<_.length?g?g+this.text(_,b):this.text(_,b):g||""},s.prototype.end=l,s.prototype.text=o,s.prototype.fillLast=function(_){if(this.lastNeed<=_.length)return _.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,this.lastTotal-this.lastNeed,0,_.length),this.lastNeed-=_.length};function a(_){return _<=127?0:_>>5===6?2:_>>4===14?3:_>>3===30?4:_>>6===2?-1:-2}function r(_,g,b){var y=g.length-1;if(y<b)return 0;var A=a(g[y]);return A>=0?(A>0&&(_.lastNeed=A-1),A):--y<b||A===-2?0:(A=a(g[y]),A>=0?(A>0&&(_.lastNeed=A-2),A):--y<b||A===-2?0:(A=a(g[y]),A>=0?(A>0&&(A===2?A=0:_.lastNeed=A-3),A):0))}function t(_,g,b){if((g[0]&192)!==128)return _.lastNeed=0,"";if(_.lastNeed>1&&g.length>1){if((g[1]&192)!==128)return _.lastNeed=1,"";if(_.lastNeed>2&&g.length>2&&(g[2]&192)!==128)return _.lastNeed=2,""}}function e(_){var g=this.lastTotal-this.lastNeed,b=t(this,_);if(b!==void 0)return b;if(this.lastNeed<=_.length)return _.copy(this.lastChar,g,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,g,0,_.length),this.lastNeed-=_.length}function o(_,g){var b=r(this,_,g);if(!this.lastNeed)return _.toString("utf8",g);this.lastTotal=b;var y=_.length-(b-this.lastNeed);return _.copy(this.lastChar,0,y),_.toString("utf8",g,y)}function l(_){var g=_&&_.length?this.write(_):"";return this.lastNeed?g+"":g}function n(_,g){if((_.length-g)%2===0){var b=_.toString("utf16le",g);if(b){var y=b.charCodeAt(b.length-1);if(y>=55296&&y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=_[_.length-1],_.toString("utf16le",g,_.length-1)}function f(_){var g=_&&_.length?this.write(_):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return g+this.lastChar.toString("utf16le",0,b)}return g}function i(_,g){var b=(_.length-g)%3;return b===0?_.toString("base64",g):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=_[_.length-1]:(this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1]),_.toString("base64",g,_.length-b))}function u(_){var g=_&&_.length?this.write(_):"";return this.lastNeed?g+this.lastChar.toString("base64",0,3-this.lastNeed):g}function h(_){return _.toString(this.encoding)}function c(_){return _&&_.length?this.write(_):""}},{"safe-buffer":147}],149:[function(E,j,w){j.exports=E("./readable").PassThrough},{"./readable":150}],150:[function(E,j,w){w=j.exports=E("./lib/_stream_readable.js"),w.Stream=w,w.Readable=w,w.Writable=E("./lib/_stream_writable.js"),w.Duplex=E("./lib/_stream_duplex.js"),w.Transform=E("./lib/_stream_transform.js"),w.PassThrough=E("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":139,"./lib/_stream_passthrough.js":140,"./lib/_stream_readable.js":141,"./lib/_stream_transform.js":142,"./lib/_stream_writable.js":143}],151:[function(E,j,w){j.exports=E("./readable").Transform},{"./readable":150}],152:[function(E,j,w){j.exports=E("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":143}],153:[function(E,j,w){var x=function(m){var p=Object.prototype,d=p.hasOwnProperty,s,a=typeof Symbol=="function"?Symbol:{},r=a.iterator||"@@iterator",t=a.asyncIterator||"@@asyncIterator",e=a.toStringTag||"@@toStringTag";function o(te,q,U,W){var G=q&&q.prototype instanceof c?q:c,V=Object.create(G.prototype),re=new k(W||[]);return V._invoke=F(te,U,re),V}m.wrap=o;function l(te,q,U){try{return{type:"normal",arg:te.call(q,U)}}catch(W){return{type:"throw",arg:W}}}var n="suspendedStart",f="suspendedYield",i="executing",u="completed",h={};function c(){}function _(){}function g(){}var b={};b[r]=function(){return this};var y=Object.getPrototypeOf,A=y&&y(y(Z([])));A&&A!==p&&d.call(A,r)&&(b=A);var M=g.prototype=c.prototype=Object.create(b);_.prototype=M.constructor=g,g.constructor=_,g[e]=_.displayName="GeneratorFunction";function I(te){["next","throw","return"].forEach(function(q){te[q]=function(U){return this._invoke(q,U)}})}m.isGeneratorFunction=function(te){var q=typeof te=="function"&&te.constructor;return q?q===_||(q.displayName||q.name)==="GeneratorFunction":!1},m.mark=function(te){return Object.setPrototypeOf?Object.setPrototypeOf(te,g):(te.__proto__=g,e in te||(te[e]="GeneratorFunction")),te.prototype=Object.create(M),te},m.awrap=function(te){return{__await:te}};function R(te){function q(G,V,re,se){var fe=l(te[G],te,V);if(fe.type==="throw")se(fe.arg);else{var ue=fe.arg,pe=ue.value;return pe&&typeof pe=="object"&&d.call(pe,"__await")?Promise.resolve(pe.__await).then(function(ne){q("next",ne,re,se)},function(ne){q("throw",ne,re,se)}):Promise.resolve(pe).then(function(ne){ue.value=ne,re(ue)},function(ne){return q("throw",ne,re,se)})}}var U;function W(G,V){function re(){return new Promise(function(se,fe){q(G,V,se,fe)})}return U=U?U.then(re,re):re()}this._invoke=W}I(R.prototype),R.prototype[t]=function(){return this},m.AsyncIterator=R,m.async=function(te,q,U,W){var G=new R(o(te,q,U,W));return m.isGeneratorFunction(q)?G:G.next().then(function(V){return V.done?V.value:G.next()})};function F(te,q,U){var W=n;return function(V,re){if(W===i)throw new Error("Generator is already running");if(W===u){if(V==="throw")throw re;return $()}for(U.method=V,U.arg=re;;){var se=U.delegate;if(se){var fe=z(se,U);if(fe){if(fe===h)continue;return fe}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(W===n)throw W=u,U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);W=i;var ue=l(te,q,U);if(ue.type==="normal"){if(W=U.done?u:f,ue.arg===h)continue;return{value:ue.arg,done:U.done}}else ue.type==="throw"&&(W=u,U.method="throw",U.arg=ue.arg)}}}function z(te,q){var U=te.iterator[q.method];if(U===s){if(q.delegate=null,q.method==="throw"){if(te.iterator.return&&(q.method="return",q.arg=s,z(te,q),q.method==="throw"))return h;q.method="throw",q.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var W=l(U,te.iterator,q.arg);if(W.type==="throw")return q.method="throw",q.arg=W.arg,q.delegate=null,h;var G=W.arg;if(!G)return q.method="throw",q.arg=new TypeError("iterator result is not an object"),q.delegate=null,h;if(G.done)q[te.resultName]=G.value,q.next=te.nextLoc,q.method!=="return"&&(q.method="next",q.arg=s);else return G;return q.delegate=null,h}I(M),M[e]="Generator",M[r]=function(){return this},M.toString=function(){return"[object Generator]"};function D(te){var q={tryLoc:te[0]};1 in te&&(q.catchLoc=te[1]),2 in te&&(q.finallyLoc=te[2],q.afterLoc=te[3]),this.tryEntries.push(q)}function O(te){var q=te.completion||{};q.type="normal",delete q.arg,te.completion=q}function k(te){this.tryEntries=[{tryLoc:"root"}],te.forEach(D,this),this.reset(!0)}m.keys=function(te){var q=[];for(var U in te)q.push(U);return q.reverse(),function W(){for(;q.length;){var G=q.pop();if(G in te)return W.value=G,W.done=!1,W}return W.done=!0,W}};function Z(te){if(te){var q=te[r];if(q)return q.call(te);if(typeof te.next=="function")return te;if(!isNaN(te.length)){var U=-1,W=function G(){for(;++U<te.length;)if(d.call(te,U))return G.value=te[U],G.done=!1,G;return G.value=s,G.done=!0,G};return W.next=W}}return{next:$}}m.values=Z;function $(){return{value:s,done:!0}}return k.prototype={constructor:k,reset:function(te){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(O),!te)for(var q in this)q.charAt(0)==="t"&&d.call(this,q)&&!isNaN(+q.slice(1))&&(this[q]=s)},stop:function(){this.done=!0;var te=this.tryEntries[0],q=te.completion;if(q.type==="throw")throw q.arg;return this.rval},dispatchException:function(te){if(this.done)throw te;var q=this;function U(fe,ue){return V.type="throw",V.arg=te,q.next=fe,ue&&(q.method="next",q.arg=s),!!ue}for(var W=this.tryEntries.length-1;W>=0;--W){var G=this.tryEntries[W],V=G.completion;if(G.tryLoc==="root")return U("end");if(G.tryLoc<=this.prev){var re=d.call(G,"catchLoc"),se=d.call(G,"finallyLoc");if(re&&se){if(this.prev<G.catchLoc)return U(G.catchLoc,!0);if(this.prev<G.finallyLoc)return U(G.finallyLoc)}else if(re){if(this.prev<G.catchLoc)return U(G.catchLoc,!0)}else if(se){if(this.prev<G.finallyLoc)return U(G.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(te,q){for(var U=this.tryEntries.length-1;U>=0;--U){var W=this.tryEntries[U];if(W.tryLoc<=this.prev&&d.call(W,"finallyLoc")&&this.prev<W.finallyLoc){var G=W;break}}G&&(te==="break"||te==="continue")&&G.tryLoc<=q&&q<=G.finallyLoc&&(G=null);var V=G?G.completion:{};return V.type=te,V.arg=q,G?(this.method="next",this.next=G.finallyLoc,h):this.complete(V)},complete:function(te,q){if(te.type==="throw")throw te.arg;return te.type==="break"||te.type==="continue"?this.next=te.arg:te.type==="return"?(this.rval=this.arg=te.arg,this.method="return",this.next="end"):te.type==="normal"&&q&&(this.next=q),h},finish:function(te){for(var q=this.tryEntries.length-1;q>=0;--q){var U=this.tryEntries[q];if(U.finallyLoc===te)return this.complete(U.completion,U.afterLoc),O(U),h}},catch:function(te){for(var q=this.tryEntries.length-1;q>=0;--q){var U=this.tryEntries[q];if(U.tryLoc===te){var W=U.completion;if(W.type==="throw"){var G=W.arg;O(U)}return G}}throw new Error("illegal catch attempt")},delegateYield:function(te,q,U){return this.delegate={iterator:Z(te),resultName:q,nextLoc:U},this.method==="next"&&(this.arg=s),h}},m}(typeof j=="object"?j.exports:{});try{regeneratorRuntime=x}catch{Function("r","regeneratorRuntime = r")(x)}},{}],154:[function(E,j,w){var x=E("buffer"),m=x.Buffer;function p(s,a){for(var r in s)a[r]=s[r]}m.from&&m.alloc&&m.allocUnsafe&&m.allocUnsafeSlow?j.exports=x:(p(x,w),w.Buffer=d);function d(s,a,r){return m(s,a,r)}d.prototype=Object.create(m.prototype),p(m,d),d.from=function(s,a,r){if(typeof s=="number")throw new TypeError("Argument must not be a number");return m(s,a,r)},d.alloc=function(s,a,r){if(typeof s!="number")throw new TypeError("Argument must be a number");var t=m(s);return a!==void 0?typeof r=="string"?t.fill(a,r):t.fill(a):t.fill(0),t},d.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return m(s)},d.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return x.SlowBuffer(s)}},{buffer:48}],155:[function(E,j,w){j.exports=p;var x=E("events").EventEmitter,m=E("inherits");m(p,x),p.Readable=E("readable-stream/readable.js"),p.Writable=E("readable-stream/writable.js"),p.Duplex=E("readable-stream/duplex.js"),p.Transform=E("readable-stream/transform.js"),p.PassThrough=E("readable-stream/passthrough.js"),p.Stream=p;function p(){x.call(this)}p.prototype.pipe=function(d,s){var a=this;function r(i){d.writable&&d.write(i)===!1&&a.pause&&a.pause()}a.on("data",r);function t(){a.readable&&a.resume&&a.resume()}d.on("drain",t),!d._isStdio&&(!s||s.end!==!1)&&(a.on("end",o),a.on("close",l));var e=!1;function o(){e||(e=!0,d.end())}function l(){e||(e=!0,typeof d.destroy=="function"&&d.destroy())}function n(i){if(f(),x.listenerCount(this,"error")===0)throw i}a.on("error",n),d.on("error",n);function f(){a.removeListener("data",r),d.removeListener("drain",t),a.removeListener("end",o),a.removeListener("close",l),a.removeListener("error",n),d.removeListener("error",n),a.removeListener("end",f),a.removeListener("close",f),d.removeListener("close",f)}return a.on("end",f),a.on("close",f),d.on("close",f),d.emit("pipe",a),d}},{events:52,inherits:75,"readable-stream/duplex.js":138,"readable-stream/passthrough.js":149,"readable-stream/readable.js":150,"readable-stream/transform.js":151,"readable-stream/writable.js":152}],156:[function(E,j,w){(function(x){var m=E("./lib/request"),p=E("./lib/response"),d=E("xtend"),s=E("builtin-status-codes"),a=E("url"),r=w;r.request=function(t,e){typeof t=="string"?t=a.parse(t):t=d(t);var o=x.location.protocol.search(/^https?:$/)===-1?"http:":"",l=t.protocol||o,n=t.hostname||t.host,f=t.port,i=t.path||"/";n&&n.indexOf(":")!==-1&&(n="["+n+"]"),t.url=(n?l+"//"+n:"")+(f?":"+f:"")+i,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var u=new m(t);return e&&u.on("response",e),u},r.get=function(e,o){var l=r.request(e,o);return l.end(),l},r.ClientRequest=m,r.IncomingMessage=p.IncomingMessage,r.Agent=function(){},r.Agent.defaultMaxSockets=4,r.globalAgent=new r.Agent,r.STATUS_CODES=s,r.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,typeof He<"u"?He:typeof self<"u"?self:typeof xe<"u"?xe:{})},{"./lib/request":158,"./lib/response":159,"builtin-status-codes":50,url:180,xtend:189}],157:[function(E,j,w){(function(x){w.fetch=s(x.fetch)&&s(x.ReadableStream),w.writableStream=s(x.WritableStream),w.abortController=s(x.AbortController);var m;function p(){if(m!==void 0)return m;if(x.XMLHttpRequest){m=new x.XMLHttpRequest;try{m.open("GET",x.XDomainRequest?"/":"https://example.com")}catch{m=null}}else m=null;return m}function d(a){var r=p();if(!r)return!1;try{return r.responseType=a,r.responseType===a}catch{}return!1}w.arraybuffer=w.fetch||d("arraybuffer"),w.msstream=!w.fetch&&d("ms-stream"),w.mozchunkedarraybuffer=!w.fetch&&d("moz-chunked-arraybuffer"),w.overrideMimeType=w.fetch||(p()?s(p().overrideMimeType):!1);function s(a){return typeof a=="function"}m=null}).call(this,typeof He<"u"?He:typeof self<"u"?self:typeof xe<"u"?xe:{})},{}],158:[function(E,j,w){(function(x,m,p){var d=E("./capability"),s=E("inherits"),a=E("./response"),r=E("readable-stream"),t=a.IncomingMessage,e=a.readyStates;function o(i,u){return d.fetch&&u?"fetch":d.mozchunkedarraybuffer?"moz-chunked-arraybuffer":d.msstream?"ms-stream":d.arraybuffer&&i?"arraybuffer":"text"}var l=j.exports=function(i){var u=this;r.Writable.call(u),u._opts=i,u._body=[],u._headers={},i.auth&&u.setHeader("Authorization","Basic "+p.from(i.auth).toString("base64")),Object.keys(i.headers).forEach(function(_){u.setHeader(_,i.headers[_])});var h,c=!0;if(i.mode==="disable-fetch"||"requestTimeout"in i&&!d.abortController)c=!1,h=!0;else if(i.mode==="prefer-streaming")h=!1;else if(i.mode==="allow-wrong-content-type")h=!d.overrideMimeType;else if(!i.mode||i.mode==="default"||i.mode==="prefer-fast")h=!0;else throw new Error("Invalid value for opts.mode");u._mode=o(h,c),u._fetchTimer=null,u.on("finish",function(){u._onFinish()})};s(l,r.Writable),l.prototype.setHeader=function(i,u){var h=this,c=i.toLowerCase();f.indexOf(c)===-1&&(h._headers[c]={name:i,value:u})},l.prototype.getHeader=function(i){var u=this._headers[i.toLowerCase()];return u?u.value:null},l.prototype.removeHeader=function(i){var u=this;delete u._headers[i.toLowerCase()]},l.prototype._onFinish=function(){var i=this;if(!i._destroyed){var u=i._opts,h=i._headers,c=null;u.method!=="GET"&&u.method!=="HEAD"&&(c=new Blob(i._body,{type:(h["content-type"]||{}).value||""}));var _=[];if(Object.keys(h).forEach(function(A){var M=h[A].name,I=h[A].value;Array.isArray(I)?I.forEach(function(R){_.push([M,R])}):_.push([M,I])}),i._mode==="fetch"){var g=null;if(d.abortController){var b=new AbortController;g=b.signal,i._fetchAbortController=b,"requestTimeout"in u&&u.requestTimeout!==0&&(i._fetchTimer=m.setTimeout(function(){i.emit("requestTimeout"),i._fetchAbortController&&i._fetchAbortController.abort()},u.requestTimeout))}m.fetch(i._opts.url,{method:i._opts.method,headers:_,body:c||void 0,mode:"cors",credentials:u.withCredentials?"include":"same-origin",signal:g}).then(function(A){i._fetchResponse=A,i._connect()},function(A){m.clearTimeout(i._fetchTimer),i._destroyed||i.emit("error",A)})}else{var y=i._xhr=new m.XMLHttpRequest;try{y.open(i._opts.method,i._opts.url,!0)}catch(A){x.nextTick(function(){i.emit("error",A)});return}"responseType"in y&&(y.responseType=i._mode),"withCredentials"in y&&(y.withCredentials=!!u.withCredentials),i._mode==="text"&&"overrideMimeType"in y&&y.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in u&&(y.timeout=u.requestTimeout,y.ontimeout=function(){i.emit("requestTimeout")}),_.forEach(function(A){y.setRequestHeader(A[0],A[1])}),i._response=null,y.onreadystatechange=function(){switch(y.readyState){case e.LOADING:case e.DONE:i._onXHRProgress();break}},i._mode==="moz-chunked-arraybuffer"&&(y.onprogress=function(){i._onXHRProgress()}),y.onerror=function(){i._destroyed||i.emit("error",new Error("XHR error"))};try{y.send(c)}catch(A){x.nextTick(function(){i.emit("error",A)});return}}}};function n(i){try{var u=i.status;return u!==null&&u!==0}catch{return!1}}l.prototype._onXHRProgress=function(){var i=this;!n(i._xhr)||i._destroyed||(i._response||i._connect(),i._response._onXHRProgress())},l.prototype._connect=function(){var i=this;i._destroyed||(i._response=new t(i._xhr,i._fetchResponse,i._mode,i._fetchTimer),i._response.on("error",function(u){i.emit("error",u)}),i.emit("response",i._response))},l.prototype._write=function(i,u,h){var c=this;c._body.push(i),h()},l.prototype.abort=l.prototype.destroy=function(){var i=this;i._destroyed=!0,m.clearTimeout(i._fetchTimer),i._response&&(i._response._destroyed=!0),i._xhr?i._xhr.abort():i._fetchAbortController&&i._fetchAbortController.abort()},l.prototype.end=function(i,u,h){var c=this;typeof i=="function"&&(h=i,i=void 0),r.Writable.prototype.end.call(c,i,u,h)},l.prototype.flushHeaders=function(){},l.prototype.setTimeout=function(){},l.prototype.setNoDelay=function(){},l.prototype.setSocketKeepAlive=function(){};var f=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,E("_process"),typeof He<"u"?He:typeof self<"u"?self:typeof xe<"u"?xe:{},E("buffer").Buffer)},{"./capability":157,"./response":159,_process:133,buffer:48,inherits:75,"readable-stream":174}],159:[function(E,j,w){(function(x,m,p){var d=E("./capability"),s=E("inherits"),a=E("readable-stream"),r=w.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},t=w.IncomingMessage=function(e,o,l,n){var f=this;if(a.Readable.call(f),f._mode=l,f.headers={},f.rawHeaders=[],f.trailers={},f.rawTrailers=[],f.on("end",function(){x.nextTick(function(){f.emit("close")})}),l==="fetch"){let g=function(){u.read().then(function(b){if(!f._destroyed){if(b.done){m.clearTimeout(n),f.push(null);return}f.push(p.from(b.value)),g()}}).catch(function(b){m.clearTimeout(n),f._destroyed||f.emit("error",b)})};if(f._fetchResponse=o,f.url=o.url,f.statusCode=o.status,f.statusMessage=o.statusText,o.headers.forEach(function(b,y){f.headers[y.toLowerCase()]=b,f.rawHeaders.push(y,b)}),d.writableStream){var i=new WritableStream({write:function(b){return new Promise(function(y,A){f._destroyed?A():f.push(p.from(b))?y():f._resumeFetch=y})},close:function(){m.clearTimeout(n),f._destroyed||f.push(null)},abort:function(b){f._destroyed||f.emit("error",b)}});try{o.body.pipeTo(i).catch(function(b){m.clearTimeout(n),f._destroyed||f.emit("error",b)});return}catch{}}var u=o.body.getReader();g()}else{f._xhr=e,f._pos=0,f.url=e.responseURL,f.statusCode=e.status,f.statusMessage=e.statusText;var h=e.getAllResponseHeaders().split(/\r?\n/);if(h.forEach(function(g){var b=g.match(/^([^:]+):\s*(.*)/);if(b){var y=b[1].toLowerCase();y==="set-cookie"?(f.headers[y]===void 0&&(f.headers[y]=[]),f.headers[y].push(b[2])):f.headers[y]!==void 0?f.headers[y]+=", "+b[2]:f.headers[y]=b[2],f.rawHeaders.push(b[1],b[2])}}),f._charset="x-user-defined",!d.overrideMimeType){var c=f.rawHeaders["mime-type"];if(c){var _=c.match(/;\s*charset=([^;])(;|$)/);_&&(f._charset=_[1].toLowerCase())}f._charset||(f._charset="utf-8")}}};s(t,a.Readable),t.prototype._read=function(){var e=this,o=e._resumeFetch;o&&(e._resumeFetch=null,o())},t.prototype._onXHRProgress=function(){var e=this,o=e._xhr,l=null;switch(e._mode){case"text":if(l=o.responseText,l.length>e._pos){var n=l.substr(e._pos);if(e._charset==="x-user-defined"){for(var f=p.alloc(n.length),i=0;i<n.length;i++)f[i]=n.charCodeAt(i)&255;e.push(f)}else e.push(n,e._charset);e._pos=l.length}break;case"arraybuffer":if(o.readyState!==r.DONE||!o.response)break;l=o.response,e.push(p.from(new Uint8Array(l)));break;case"moz-chunked-arraybuffer":if(l=o.response,o.readyState!==r.LOADING||!l)break;e.push(p.from(new Uint8Array(l)));break;case"ms-stream":if(l=o.response,o.readyState!==r.LOADING)break;var u=new m.MSStreamReader;u.onprogress=function(){u.result.byteLength>e._pos&&(e.push(p.from(new Uint8Array(u.result.slice(e._pos)))),e._pos=u.result.byteLength)},u.onload=function(){e.push(null)},u.readAsArrayBuffer(l);break}e._xhr.readyState===r.DONE&&e._mode!=="ms-stream"&&e.push(null)}}).call(this,E("_process"),typeof He<"u"?He:typeof self<"u"?self:typeof xe<"u"?xe:{},E("buffer").Buffer)},{"./capability":157,_process:133,buffer:48,inherits:75,"readable-stream":174}],160:[function(E,j,w){function x(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var m={};function p(t,e,o){o||(o=Error);function l(f,i,u){return typeof e=="string"?e:e(f,i,u)}var n=function(f){x(i,f);function i(u,h,c){return f.call(this,l(u,h,c))||this}return i}(o);n.prototype.name=o.name,n.prototype.code=t,m[t]=n}function d(t,e){if(Array.isArray(t)){var o=t.length;return t=t.map(function(l){return String(l)}),o>2?"one of ".concat(e," ").concat(t.slice(0,o-1).join(", "),", or ")+t[o-1]:o===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function s(t,e,o){return t.substr(!o||o<0?0:+o,e.length)===e}function a(t,e,o){return(o===void 0||o>t.length)&&(o=t.length),t.substring(o-e.length,o)===e}function r(t,e,o){return typeof o!="number"&&(o=0),o+e.length>t.length?!1:t.indexOf(e,o)!==-1}p("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),p("ERR_INVALID_ARG_TYPE",function(t,e,o){var l;typeof e=="string"&&s(e,"not ")?(l="must not be",e=e.replace(/^not /,"")):l="must be";var n;if(a(t," argument"))n="The ".concat(t," ").concat(l," ").concat(d(e,"type"));else{var f=r(t,".")?"property":"argument";n='The "'.concat(t,'" ').concat(f," ").concat(l," ").concat(d(e,"type"))}return n+=". Received type ".concat(typeof o),n},TypeError),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),p("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),p("ERR_STREAM_PREMATURE_CLOSE","Premature close"),p("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),p("ERR_STREAM_WRITE_AFTER_END","write after end"),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),j.exports.codes=m},{}],161:[function(E,j,w){(function(x){var m=new Set;function p(s){if(!m.has(s)){var a=s+" is an experimental feature. This feature could change at any time";m.add(s),x.emitWarning(a,"ExperimentalWarning")}}function d(){}j.exports.emitExperimentalWarning=x.emitWarning?p:d}).call(this,E("_process"))},{_process:133}],162:[function(E,j,w){(function(x){var m=Object.keys||function(l){var n=[];for(var f in l)n.push(f);return n};j.exports=t;var p=E("./_stream_readable"),d=E("./_stream_writable");E("inherits")(t,p);for(var s=m(d.prototype),a=0;a<s.length;a++){var r=s[a];t.prototype[r]||(t.prototype[r]=d.prototype[r])}function t(l){if(!(this instanceof t))return new t(l);p.call(this,l),d.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",e)))}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function e(){this._writableState.ended||x.nextTick(o,this)}function o(l){l.end()}Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(n){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=n,this._writableState.destroyed=n)}})}).call(this,E("_process"))},{"./_stream_readable":164,"./_stream_writable":166,_process:133,inherits:75}],163:[function(E,j,w){j.exports=m;var x=E("./_stream_transform");E("inherits")(m,x);function m(p){if(!(this instanceof m))return new m(p);x.call(this,p)}m.prototype._transform=function(p,d,s){s(null,p)}},{"./_stream_transform":165,inherits:75}],164:[function(E,j,w){(function(x,m){j.exports=D;var p;D.ReadableState=z,E("events").EventEmitter;var d=function(T,Y){return T.listeners(Y).length},s=E("./internal/streams/stream"),a=E("buffer").Buffer,r=m.Uint8Array||function(){};function t(P){return a.from(P)}function e(P){return a.isBuffer(P)||P instanceof r}var o=E("util"),l;o&&o.debuglog?l=o.debuglog("stream"):l=function(){};var n=E("./internal/streams/buffer_list"),f=E("./internal/streams/destroy"),i=E("./internal/streams/state"),u=i.getHighWaterMark,h=E("../errors").codes,c=h.ERR_INVALID_ARG_TYPE,_=h.ERR_STREAM_PUSH_AFTER_EOF,g=h.ERR_METHOD_NOT_IMPLEMENTED,b=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y=E("../experimentalWarning"),A=y.emitExperimentalWarning,M,I;E("inherits")(D,s);var R=["error","close","destroy","pause","resume"];function F(P,T,Y){if(typeof P.prependListener=="function")return P.prependListener(T,Y);!P._events||!P._events[T]?P.on(T,Y):Array.isArray(P._events[T])?P._events[T].unshift(Y):P._events[T]=[Y,P._events[T]]}function z(P,T,Y){p=p||E("./_stream_duplex"),P=P||{},typeof Y!="boolean"&&(Y=T instanceof p),this.objectMode=!!P.objectMode,Y&&(this.objectMode=this.objectMode||!!P.readableObjectMode),this.highWaterMark=u(this,P,"readableHighWaterMark",Y),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=P.emitClose!==!1,this.destroyed=!1,this.defaultEncoding=P.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,P.encoding&&(M||(M=E("string_decoder/").StringDecoder),this.decoder=new M(P.encoding),this.encoding=P.encoding)}function D(P){if(p=p||E("./_stream_duplex"),!(this instanceof D))return new D(P);var T=this instanceof p;this._readableState=new z(P,this,T),this.readable=!0,P&&(typeof P.read=="function"&&(this._read=P.read),typeof P.destroy=="function"&&(this._destroy=P.destroy)),s.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(T){this._readableState&&(this._readableState.destroyed=T)}}),D.prototype.destroy=f.destroy,D.prototype._undestroy=f.undestroy,D.prototype._destroy=function(P,T){T(P)},D.prototype.push=function(P,T){var Y=this._readableState,N;return Y.objectMode?N=!0:typeof P=="string"&&(T=T||Y.defaultEncoding,T!==Y.encoding&&(P=a.from(P,T),T=""),N=!0),O(this,P,T,!1,N)},D.prototype.unshift=function(P){return O(this,P,null,!0,!1)};function O(P,T,Y,N,C){l("readableAddChunk",T);var S=P._readableState;if(T===null)S.reading=!1,U(P,S);else{var Q;if(C||(Q=Z(S,T)),Q)P.emit("error",Q);else if(S.objectMode||T&&T.length>0)if(typeof T!="string"&&!S.objectMode&&Object.getPrototypeOf(T)!==a.prototype&&(T=t(T)),N)S.endEmitted?P.emit("error",new b):k(P,S,T,!0);else if(S.ended)P.emit("error",new _);else{if(S.destroyed)return!1;S.reading=!1,S.decoder&&!Y?(T=S.decoder.write(T),S.objectMode||T.length!==0?k(P,S,T,!1):V(P,S)):k(P,S,T,!1)}else N||(S.reading=!1,V(P,S))}return!S.ended&&(S.length<S.highWaterMark||S.length===0)}function k(P,T,Y,N){T.flowing&&T.length===0&&!T.sync?(T.awaitDrain=0,P.emit("data",Y)):(T.length+=T.objectMode?1:Y.length,N?T.buffer.unshift(Y):T.buffer.push(Y),T.needReadable&&W(P)),V(P,T)}function Z(P,T){var Y;return!e(T)&&typeof T!="string"&&T!==void 0&&!P.objectMode&&(Y=new c("chunk",["string","Buffer","Uint8Array"],T)),Y}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(P){return M||(M=E("string_decoder/").StringDecoder),this._readableState.decoder=new M(P),this._readableState.encoding=this._readableState.decoder.encoding,this};var $=8388608;function te(P){return P>=$?P=$:(P--,P|=P>>>1,P|=P>>>2,P|=P>>>4,P|=P>>>8,P|=P>>>16,P++),P}function q(P,T){return P<=0||T.length===0&&T.ended?0:T.objectMode?1:P!==P?T.flowing&&T.length?T.buffer.head.data.length:T.length:(P>T.highWaterMark&&(T.highWaterMark=te(P)),P<=T.length?P:T.ended?T.length:(T.needReadable=!0,0))}D.prototype.read=function(P){l("read",P),P=parseInt(P,10);var T=this._readableState,Y=P;if(P!==0&&(T.emittedReadable=!1),P===0&&T.needReadable&&((T.highWaterMark!==0?T.length>=T.highWaterMark:T.length>0)||T.ended))return l("read: emitReadable",T.length,T.ended),T.length===0&&T.ended?J(this):W(this),null;if(P=q(P,T),P===0&&T.ended)return T.length===0&&J(this),null;var N=T.needReadable;l("need readable",N),(T.length===0||T.length-P<T.highWaterMark)&&(N=!0,l("length less than watermark",N)),T.ended||T.reading?(N=!1,l("reading or ended",N)):N&&(l("do read"),T.reading=!0,T.sync=!0,T.length===0&&(T.needReadable=!0),this._read(T.highWaterMark),T.sync=!1,T.reading||(P=q(Y,T)));var C;return P>0?C=X(P,T):C=null,C===null?(T.needReadable=!0,P=0):(T.length-=P,T.awaitDrain=0),T.length===0&&(T.ended||(T.needReadable=!0),Y!==P&&T.ended&&J(this)),C!==null&&this.emit("data",C),C};function U(P,T){if(!T.ended){if(T.decoder){var Y=T.decoder.end();Y&&Y.length&&(T.buffer.push(Y),T.length+=T.objectMode?1:Y.length)}T.ended=!0,T.sync?W(P):(T.needReadable=!1,T.emittedReadable||(T.emittedReadable=!0,G(P)))}}function W(P){var T=P._readableState;T.needReadable=!1,T.emittedReadable||(l("emitReadable",T.flowing),T.emittedReadable=!0,x.nextTick(G,P))}function G(P){var T=P._readableState;l("emitReadable_",T.destroyed,T.length,T.ended),!T.destroyed&&(T.length||T.ended)&&P.emit("readable"),T.needReadable=!T.flowing&&!T.ended&&T.length<=T.highWaterMark,ie(P)}function V(P,T){T.readingMore||(T.readingMore=!0,x.nextTick(re,P,T))}function re(P,T){for(;!T.reading&&!T.ended&&(T.length<T.highWaterMark||T.flowing&&T.length===0);){var Y=T.length;if(l("maybeReadMore read 0"),P.read(0),Y===T.length)break}T.readingMore=!1}D.prototype._read=function(P){this.emit("error",new g("_read()"))},D.prototype.pipe=function(P,T){var Y=this,N=this._readableState;switch(N.pipesCount){case 0:N.pipes=P;break;case 1:N.pipes=[N.pipes,P];break;default:N.pipes.push(P);break}N.pipesCount+=1,l("pipe count=%d opts=%j",N.pipesCount,T);var C=(!T||T.end!==!1)&&P!==x.stdout&&P!==x.stderr,S=C?oe:Me;N.endEmitted?x.nextTick(S):Y.once("end",S),P.on("unpipe",Q);function Q(Fe,Le){l("onunpipe"),Fe===Y&&Le&&Le.hasUnpiped===!1&&(Le.hasUnpiped=!0,Ae())}function oe(){l("onend"),P.end()}var ve=se(Y);P.on("drain",ve);var ye=!1;function Ae(){l("cleanup"),P.removeListener("close",Oe),P.removeListener("finish",Te),P.removeListener("drain",ve),P.removeListener("error",Pe),P.removeListener("unpipe",Q),Y.removeListener("end",oe),Y.removeListener("end",Me),Y.removeListener("data",ke),ye=!0,N.awaitDrain&&(!P._writableState||P._writableState.needDrain)&&ve()}Y.on("data",ke);function ke(Fe){l("ondata");var Le=P.write(Fe);l("dest.write",Le),Le===!1&&((N.pipesCount===1&&N.pipes===P||N.pipesCount>1&&H(N.pipes,P)!==-1)&&!ye&&(l("false write response, pause",N.awaitDrain),N.awaitDrain++),Y.pause())}function Pe(Fe){l("onerror",Fe),Me(),P.removeListener("error",Pe),d(P,"error")===0&&P.emit("error",Fe)}F(P,"error",Pe);function Oe(){P.removeListener("finish",Te),Me()}P.once("close",Oe);function Te(){l("onfinish"),P.removeListener("close",Oe),Me()}P.once("finish",Te);function Me(){l("unpipe"),Y.unpipe(P)}return P.emit("pipe",Y),N.flowing||(l("pipe resume"),Y.resume()),P};function se(P){return function(){var Y=P._readableState;l("pipeOnDrain",Y.awaitDrain),Y.awaitDrain&&Y.awaitDrain--,Y.awaitDrain===0&&d(P,"data")&&(Y.flowing=!0,ie(P))}}D.prototype.unpipe=function(P){var T=this._readableState,Y={hasUnpiped:!1};if(T.pipesCount===0)return this;if(T.pipesCount===1)return P&&P!==T.pipes?this:(P||(P=T.pipes),T.pipes=null,T.pipesCount=0,T.flowing=!1,P&&P.emit("unpipe",this,Y),this);if(!P){var N=T.pipes,C=T.pipesCount;T.pipes=null,T.pipesCount=0,T.flowing=!1;for(var S=0;S<C;S++)N[S].emit("unpipe",this,{hasUnpiped:!1});return this}var Q=H(T.pipes,P);return Q===-1?this:(T.pipes.splice(Q,1),T.pipesCount-=1,T.pipesCount===1&&(T.pipes=T.pipes[0]),P.emit("unpipe",this,Y),this)},D.prototype.on=function(P,T){var Y=s.prototype.on.call(this,P,T),N=this._readableState;return P==="data"?(N.readableListening=this.listenerCount("readable")>0,N.flowing!==!1&&this.resume()):P==="readable"&&!N.endEmitted&&!N.readableListening&&(N.readableListening=N.needReadable=!0,N.flowing=!1,N.emittedReadable=!1,l("on readable",N.length,N.reading),N.length?W(this):N.reading||x.nextTick(ue,this)),Y},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(P,T){var Y=s.prototype.removeListener.call(this,P,T);return P==="readable"&&x.nextTick(fe,this),Y},D.prototype.removeAllListeners=function(P){var T=s.prototype.removeAllListeners.apply(this,arguments);return(P==="readable"||P===void 0)&&x.nextTick(fe,this),T};function fe(P){var T=P._readableState;T.readableListening=P.listenerCount("readable")>0,T.resumeScheduled&&!T.paused?T.flowing=!0:P.listenerCount("data")>0&&P.resume()}function ue(P){l("readable nexttick read 0"),P.read(0)}D.prototype.resume=function(){var P=this._readableState;return P.flowing||(l("resume"),P.flowing=!P.readableListening,pe(this,P)),P.paused=!1,this};function pe(P,T){T.resumeScheduled||(T.resumeScheduled=!0,x.nextTick(ne,P,T))}function ne(P,T){l("resume",T.reading),T.reading||P.read(0),T.resumeScheduled=!1,P.emit("resume"),ie(P),T.flowing&&!T.reading&&P.read(0)}D.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ie(P){var T=P._readableState;for(l("flow",T.flowing);T.flowing&&P.read()!==null;);}D.prototype.wrap=function(P){var T=this,Y=this._readableState,N=!1;P.on("end",function(){if(l("wrapped end"),Y.decoder&&!Y.ended){var Q=Y.decoder.end();Q&&Q.length&&T.push(Q)}T.push(null)}),P.on("data",function(Q){if(l("wrapped data"),Y.decoder&&(Q=Y.decoder.write(Q)),!(Y.objectMode&&Q==null)&&!(!Y.objectMode&&(!Q||!Q.length))){var oe=T.push(Q);oe||(N=!0,P.pause())}});for(var C in P)this[C]===void 0&&typeof P[C]=="function"&&(this[C]=function(oe){return function(){return P[oe].apply(P,arguments)}}(C));for(var S=0;S<R.length;S++)P.on(R[S],this.emit.bind(this,R[S]));return this._read=function(Q){l("wrapped _read",Q),N&&(N=!1,P.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return A("Readable[Symbol.asyncIterator]"),I===void 0&&(I=E("./internal/streams/async_iterator")),I(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(T){this._readableState&&(this._readableState.flowing=T)}}),D._fromList=X,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function X(P,T){if(T.length===0)return null;var Y;return T.objectMode?Y=T.buffer.shift():!P||P>=T.length?(T.decoder?Y=T.buffer.join(""):T.buffer.length===1?Y=T.buffer.first():Y=T.buffer.concat(T.length),T.buffer.clear()):Y=T.buffer.consume(P,T.decoder),Y}function J(P){var T=P._readableState;l("endReadable",T.endEmitted),T.endEmitted||(T.ended=!0,x.nextTick(ee,T,P))}function ee(P,T){l("endReadableNT",P.endEmitted,P.length),!P.endEmitted&&P.length===0&&(P.endEmitted=!0,T.readable=!1,T.emit("end"))}function H(P,T){for(var Y=0,N=P.length;Y<N;Y++)if(P[Y]===T)return Y;return-1}}).call(this,E("_process"),typeof He<"u"?He:typeof self<"u"?self:typeof xe<"u"?xe:{})},{"../errors":160,"../experimentalWarning":161,"./_stream_duplex":162,"./internal/streams/async_iterator":167,"./internal/streams/buffer_list":168,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,events:52,inherits:75,"string_decoder/":175,util:33}],165:[function(E,j,w){j.exports=t;var x=E("../errors").codes,m=x.ERR_METHOD_NOT_IMPLEMENTED,p=x.ERR_MULTIPLE_CALLBACK,d=x.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=x.ERR_TRANSFORM_WITH_LENGTH_0,a=E("./_stream_duplex");E("inherits")(t,a);function r(l,n){var f=this._transformState;f.transforming=!1;var i=f.writecb;if(i===null)return this.emit("error",new p);f.writechunk=null,f.writecb=null,n!=null&&this.push(n),i(l);var u=this._readableState;u.reading=!1,(u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark)}function t(l){if(!(this instanceof t))return new t(l);a.call(this,l),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",e)}function e(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(n,f){o(l,n,f)}):o(this,null,null)}t.prototype.push=function(l,n){return this._transformState.needTransform=!1,a.prototype.push.call(this,l,n)},t.prototype._transform=function(l,n,f){f(new m("_transform()"))},t.prototype._write=function(l,n,f){var i=this._transformState;if(i.writecb=f,i.writechunk=l,i.writeencoding=n,!i.transforming){var u=this._readableState;(i.needTransform||u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark)}},t.prototype._read=function(l){var n=this._transformState;n.writechunk!==null&&!n.transforming?(n.transforming=!0,this._transform(n.writechunk,n.writeencoding,n.afterTransform)):n.needTransform=!0},t.prototype._destroy=function(l,n){a.prototype._destroy.call(this,l,function(f){n(f)})};function o(l,n,f){if(n)return l.emit("error",n);if(f!=null&&l.push(f),l._writableState.length)throw new s;if(l._transformState.transforming)throw new d;return l.push(null)}},{"../errors":160,"./_stream_duplex":162,inherits:75}],166:[function(E,j,w){(function(x,m){j.exports=F;function p(ne){var ie=this;this.next=null,this.entry=null,this.finish=function(){pe(ie,ne)}}var d;F.WritableState=I;var s={deprecate:E("util-deprecate")},a=E("./internal/streams/stream"),r=E("buffer").Buffer,t=m.Uint8Array||function(){};function e(ne){return r.from(ne)}function o(ne){return r.isBuffer(ne)||ne instanceof t}var l=E("./internal/streams/destroy"),n=E("./internal/streams/state"),f=n.getHighWaterMark,i=E("../errors").codes,u=i.ERR_INVALID_ARG_TYPE,h=i.ERR_METHOD_NOT_IMPLEMENTED,c=i.ERR_MULTIPLE_CALLBACK,_=i.ERR_STREAM_CANNOT_PIPE,g=i.ERR_STREAM_DESTROYED,b=i.ERR_STREAM_NULL_VALUES,y=i.ERR_STREAM_WRITE_AFTER_END,A=i.ERR_UNKNOWN_ENCODING;E("inherits")(F,a);function M(){}function I(ne,ie,X){d=d||E("./_stream_duplex"),ne=ne||{},typeof X!="boolean"&&(X=ie instanceof d),this.objectMode=!!ne.objectMode,X&&(this.objectMode=this.objectMode||!!ne.writableObjectMode),this.highWaterMark=f(this,ne,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var J=ne.decodeStrings===!1;this.decodeStrings=!J,this.defaultEncoding=ne.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ee){q(ie,ee)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ne.emitClose!==!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new p(this)}I.prototype.getBuffer=function(){for(var ie=this.bufferedRequest,X=[];ie;)X.push(ie),ie=ie.next;return X},function(){try{Object.defineProperty(I.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var R;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(R=Function.prototype[Symbol.hasInstance],Object.defineProperty(F,Symbol.hasInstance,{value:function(ie){return R.call(this,ie)?!0:this!==F?!1:ie&&ie._writableState instanceof I}})):R=function(ie){return ie instanceof this};function F(ne){d=d||E("./_stream_duplex");var ie=this instanceof d;if(!ie&&!R.call(F,this))return new F(ne);this._writableState=new I(ne,this,ie),this.writable=!0,ne&&(typeof ne.write=="function"&&(this._write=ne.write),typeof ne.writev=="function"&&(this._writev=ne.writev),typeof ne.destroy=="function"&&(this._destroy=ne.destroy),typeof ne.final=="function"&&(this._final=ne.final)),a.call(this)}F.prototype.pipe=function(){this.emit("error",new _)};function z(ne,ie){var X=new y;ne.emit("error",X),x.nextTick(ie,X)}function D(ne,ie,X,J){var ee;return X===null?ee=new b:typeof X!="string"&&!ie.objectMode&&(ee=new u("chunk",["string","Buffer"],X)),ee?(ne.emit("error",ee),x.nextTick(J,ee),!1):!0}F.prototype.write=function(ne,ie,X){var J=this._writableState,ee=!1,H=!J.objectMode&&o(ne);return H&&!r.isBuffer(ne)&&(ne=e(ne)),typeof ie=="function"&&(X=ie,ie=null),H?ie="buffer":ie||(ie=J.defaultEncoding),typeof X!="function"&&(X=M),J.ending?z(this,X):(H||D(this,J,ne,X))&&(J.pendingcb++,ee=k(this,J,H,ne,ie,X)),ee},F.prototype.cork=function(){this._writableState.corked++},F.prototype.uncork=function(){var ne=this._writableState;ne.corked&&(ne.corked--,!ne.writing&&!ne.corked&&!ne.bufferProcessing&&ne.bufferedRequest&&G(this,ne))},F.prototype.setDefaultEncoding=function(ie){if(typeof ie=="string"&&(ie=ie.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ie+"").toLowerCase())>-1))throw new A(ie);return this._writableState.defaultEncoding=ie,this},Object.defineProperty(F.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function O(ne,ie,X){return!ne.objectMode&&ne.decodeStrings!==!1&&typeof ie=="string"&&(ie=r.from(ie,X)),ie}Object.defineProperty(F.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function k(ne,ie,X,J,ee,H){if(!X){var P=O(ie,J,ee);J!==P&&(X=!0,ee="buffer",J=P)}var T=ie.objectMode?1:J.length;ie.length+=T;var Y=ie.length<ie.highWaterMark;if(Y||(ie.needDrain=!0),ie.writing||ie.corked){var N=ie.lastBufferedRequest;ie.lastBufferedRequest={chunk:J,encoding:ee,isBuf:X,callback:H,next:null},N?N.next=ie.lastBufferedRequest:ie.bufferedRequest=ie.lastBufferedRequest,ie.bufferedRequestCount+=1}else Z(ne,ie,!1,T,J,ee,H);return Y}function Z(ne,ie,X,J,ee,H,P){ie.writelen=J,ie.writecb=P,ie.writing=!0,ie.sync=!0,ie.destroyed?ie.onwrite(new g("write")):X?ne._writev(ee,ie.onwrite):ne._write(ee,H,ie.onwrite),ie.sync=!1}function $(ne,ie,X,J,ee){--ie.pendingcb,X?(x.nextTick(ee,J),x.nextTick(fe,ne,ie),ne._writableState.errorEmitted=!0,ne.emit("error",J)):(ee(J),ne._writableState.errorEmitted=!0,ne.emit("error",J),fe(ne,ie))}function te(ne){ne.writing=!1,ne.writecb=null,ne.length-=ne.writelen,ne.writelen=0}function q(ne,ie){var X=ne._writableState,J=X.sync,ee=X.writecb;if(typeof ee!="function")throw new c;if(te(X),ie)$(ne,X,J,ie,ee);else{var H=V(X)||ne.destroyed;!H&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&G(ne,X),J?x.nextTick(U,ne,X,H,ee):U(ne,X,H,ee)}}function U(ne,ie,X,J){X||W(ne,ie),ie.pendingcb--,J(),fe(ne,ie)}function W(ne,ie){ie.length===0&&ie.needDrain&&(ie.needDrain=!1,ne.emit("drain"))}function G(ne,ie){ie.bufferProcessing=!0;var X=ie.bufferedRequest;if(ne._writev&&X&&X.next){var J=ie.bufferedRequestCount,ee=new Array(J),H=ie.corkedRequestsFree;H.entry=X;for(var P=0,T=!0;X;)ee[P]=X,X.isBuf||(T=!1),X=X.next,P+=1;ee.allBuffers=T,Z(ne,ie,!0,ie.length,ee,"",H.finish),ie.pendingcb++,ie.lastBufferedRequest=null,H.next?(ie.corkedRequestsFree=H.next,H.next=null):ie.corkedRequestsFree=new p(ie),ie.bufferedRequestCount=0}else{for(;X;){var Y=X.chunk,N=X.encoding,C=X.callback,S=ie.objectMode?1:Y.length;if(Z(ne,ie,!1,S,Y,N,C),X=X.next,ie.bufferedRequestCount--,ie.writing)break}X===null&&(ie.lastBufferedRequest=null)}ie.bufferedRequest=X,ie.bufferProcessing=!1}F.prototype._write=function(ne,ie,X){X(new h("_write()"))},F.prototype._writev=null,F.prototype.end=function(ne,ie,X){var J=this._writableState;return typeof ne=="function"?(X=ne,ne=null,ie=null):typeof ie=="function"&&(X=ie,ie=null),ne!=null&&this.write(ne,ie),J.corked&&(J.corked=1,this.uncork()),J.ending||ue(this,J,X),this},Object.defineProperty(F.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function V(ne){return ne.ending&&ne.length===0&&ne.bufferedRequest===null&&!ne.finished&&!ne.writing}function re(ne,ie){ne._final(function(X){ie.pendingcb--,X&&ne.emit("error",X),ie.prefinished=!0,ne.emit("prefinish"),fe(ne,ie)})}function se(ne,ie){!ie.prefinished&&!ie.finalCalled&&(typeof ne._final=="function"&&!ie.destroyed?(ie.pendingcb++,ie.finalCalled=!0,x.nextTick(re,ne,ie)):(ie.prefinished=!0,ne.emit("prefinish")))}function fe(ne,ie){var X=V(ie);return X&&(se(ne,ie),ie.pendingcb===0&&(ie.finished=!0,ne.emit("finish"))),X}function ue(ne,ie,X){ie.ending=!0,fe(ne,ie),X&&(ie.finished?x.nextTick(X):ne.once("finish",X)),ie.ended=!0,ne.writable=!1}function pe(ne,ie,X){var J=ne.entry;for(ne.entry=null;J;){var ee=J.callback;ie.pendingcb--,ee(X),J=J.next}ie.corkedRequestsFree.next=ne}Object.defineProperty(F.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ie){this._writableState&&(this._writableState.destroyed=ie)}}),F.prototype.destroy=l.destroy,F.prototype._undestroy=l.undestroy,F.prototype._destroy=function(ne,ie){ie(ne)}}).call(this,E("_process"),typeof He<"u"?He:typeof self<"u"?self:typeof xe<"u"?xe:{})},{"../errors":160,"./_stream_duplex":162,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,inherits:75,"util-deprecate":183}],167:[function(E,j,w){(function(x){var m;function p(g,b,y){return b in g?Object.defineProperty(g,b,{value:y,enumerable:!0,configurable:!0,writable:!0}):g[b]=y,g}var d=E("./end-of-stream"),s=Symbol("lastResolve"),a=Symbol("lastReject"),r=Symbol("error"),t=Symbol("ended"),e=Symbol("lastPromise"),o=Symbol("handlePromise"),l=Symbol("stream");function n(g,b){return{value:g,done:b}}function f(g){var b=g[s];if(b!==null){var y=g[l].read();y!==null&&(g[e]=null,g[s]=null,g[a]=null,b(n(y,!1)))}}function i(g){x.nextTick(f,g)}function u(g,b){return function(y,A){g.then(function(){if(b[t]){y(n(void 0,!0));return}b[o](y,A)},A)}}var h=Object.getPrototypeOf(function(){}),c=Object.setPrototypeOf((m={get stream(){return this[l]},next:function(){var b=this,y=this[r];if(y!==null)return Promise.reject(y);if(this[t])return Promise.resolve(n(void 0,!0));if(this[l].destroyed)return new Promise(function(R,F){x.nextTick(function(){b[r]?F(b[r]):R(n(void 0,!0))})});var A=this[e],M;if(A)M=new Promise(u(A,this));else{var I=this[l].read();if(I!==null)return Promise.resolve(n(I,!1));M=new Promise(this[o])}return this[e]=M,M}},p(m,Symbol.asyncIterator,function(){return this}),p(m,"return",function(){var b=this;return new Promise(function(y,A){b[l].destroy(null,function(M){if(M){A(M);return}y(n(void 0,!0))})})}),m),h),_=function(b){var y,A=Object.create(c,(y={},p(y,l,{value:b,writable:!0}),p(y,s,{value:null,writable:!0}),p(y,a,{value:null,writable:!0}),p(y,r,{value:null,writable:!0}),p(y,t,{value:b._readableState.endEmitted,writable:!0}),p(y,o,{value:function(I,R){var F=A[l].read();F?(A[e]=null,A[s]=null,A[a]=null,I(n(F,!1))):(A[s]=I,A[a]=R)},writable:!0}),y));return A[e]=null,d(b,function(M){if(M&&M.code!=="ERR_STREAM_PREMATURE_CLOSE"){var I=A[a];I!==null&&(A[e]=null,A[s]=null,A[a]=null,I(M)),A[r]=M;return}var R=A[s];R!==null&&(A[e]=null,A[s]=null,A[a]=null,R(n(void 0,!0))),A[t]=!0}),b.on("readable",i.bind(null,A)),A};j.exports=_}).call(this,E("_process"))},{"./end-of-stream":170,_process:133}],168:[function(E,j,w){function x(e){for(var o=1;o<arguments.length;o++){var l=arguments[o]!=null?arguments[o]:{},n=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(l).filter(function(f){return Object.getOwnPropertyDescriptor(l,f).enumerable}))),n.forEach(function(f){m(e,f,l[f])})}return e}function m(e,o,l){return o in e?Object.defineProperty(e,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[o]=l,e}var p=E("buffer"),d=p.Buffer,s=E("util"),a=s.inspect,r=a&&a.custom||"inspect";function t(e,o,l){d.prototype.copy.call(e,o,l)}j.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}var o=e.prototype;return o.push=function(n){var f={data:n,next:null};this.length>0?this.tail.next=f:this.head=f,this.tail=f,++this.length},o.unshift=function(n){var f={data:n,next:this.head};this.length===0&&(this.tail=f),this.head=f,++this.length},o.shift=function(){if(this.length!==0){var n=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,n}},o.clear=function(){this.head=this.tail=null,this.length=0},o.join=function(n){if(this.length===0)return"";for(var f=this.head,i=""+f.data;f=f.next;)i+=n+f.data;return i},o.concat=function(n){if(this.length===0)return d.alloc(0);for(var f=d.allocUnsafe(n>>>0),i=this.head,u=0;i;)t(i.data,f,u),u+=i.data.length,i=i.next;return f},o.consume=function(n,f){var i;return n<this.head.data.length?(i=this.head.data.slice(0,n),this.head.data=this.head.data.slice(n)):n===this.head.data.length?i=this.shift():i=f?this._getString(n):this._getBuffer(n),i},o.first=function(){return this.head.data},o._getString=function(n){var f=this.head,i=1,u=f.data;for(n-=u.length;f=f.next;){var h=f.data,c=n>h.length?h.length:n;if(c===h.length?u+=h:u+=h.slice(0,n),n-=c,n===0){c===h.length?(++i,f.next?this.head=f.next:this.head=this.tail=null):(this.head=f,f.data=h.slice(c));break}++i}return this.length-=i,u},o._getBuffer=function(n){var f=d.allocUnsafe(n),i=this.head,u=1;for(i.data.copy(f),n-=i.data.length;i=i.next;){var h=i.data,c=n>h.length?h.length:n;if(h.copy(f,f.length-n,0,c),n-=c,n===0){c===h.length?(++u,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=h.slice(c));break}++u}return this.length-=u,f},o[r]=function(l,n){return a(this,x({},n,{depth:0,customInspect:!1}))},e}()},{buffer:48,util:33}],169:[function(E,j,w){(function(x){function m(r,t){var e=this,o=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return o||l?(t?t(r):r&&(!this._writableState||!this._writableState.errorEmitted)&&x.nextTick(a,this,r),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(n){!t&&n?(x.nextTick(p,e,n),e._writableState&&(e._writableState.errorEmitted=!0)):t?(x.nextTick(d,e),t(n)):x.nextTick(d,e)}),this)}function p(r,t){a(r,t),d(r)}function d(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function s(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(r,t){r.emit("error",t)}j.exports={destroy:m,undestroy:s}}).call(this,E("_process"))},{_process:133}],170:[function(E,j,w){var x=E("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function m(a){var r=!1;return function(){if(!r){r=!0;for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];a.apply(this,e)}}}function p(){}function d(a){return a.setHeader&&typeof a.abort=="function"}function s(a,r,t){if(typeof r=="function")return s(a,null,r);r||(r={}),t=m(t||p);var e=r.readable||r.readable!==!1&&a.readable,o=r.writable||r.writable!==!1&&a.writable,l=function(){a.writable||f()},n=a._writableState&&a._writableState.finished,f=function(){o=!1,n=!0,e||t.call(a)},i=a._readableState&&a._readableState.endEmitted,u=function(){e=!1,i=!0,o||t.call(a)},h=function(b){t.call(a,b)},c=function(){var b;if(e&&!i)return(!a._readableState||!a._readableState.ended)&&(b=new x),t.call(a,b);if(o&&!n)return(!a._writableState||!a._writableState.ended)&&(b=new x),t.call(a,b)},_=function(){a.req.on("finish",f)};return d(a)?(a.on("complete",f),a.on("abort",c),a.req?_():a.on("request",_)):o&&!a._writableState&&(a.on("end",l),a.on("close",l)),a.on("end",u),a.on("finish",f),r.error!==!1&&a.on("error",h),a.on("close",c),function(){a.removeListener("complete",f),a.removeListener("abort",c),a.removeListener("request",_),a.req&&a.req.removeListener("finish",f),a.removeListener("end",l),a.removeListener("close",l),a.removeListener("finish",f),a.removeListener("end",u),a.removeListener("error",h),a.removeListener("close",c)}}j.exports=s},{"../../../errors":160}],171:[function(E,j,w){var x;function m(f){var i=!1;return function(){i||(i=!0,f.apply(void 0,arguments))}}var p=E("../../../errors").codes,d=p.ERR_MISSING_ARGS,s=p.ERR_STREAM_DESTROYED;function a(f){if(f)throw f}function r(f){return f.setHeader&&typeof f.abort=="function"}function t(f,i,u,h){h=m(h);var c=!1;f.on("close",function(){c=!0}),x===void 0&&(x=E("./end-of-stream")),x(f,{readable:i,writable:u},function(g){if(g)return h(g);c=!0,h()});var _=!1;return function(g){if(!c&&!_){if(_=!0,r(f))return f.abort();if(typeof f.destroy=="function")return f.destroy();h(g||new s("pipe"))}}}function e(f){f()}function o(f,i){return f.pipe(i)}function l(f){return!f.length||typeof f[f.length-1]!="function"?a:f.pop()}function n(){for(var f=arguments.length,i=new Array(f),u=0;u<f;u++)i[u]=arguments[u];var h=l(i);if(Array.isArray(i[0])&&(i=i[0]),i.length<2)throw new d("streams");var c,_=i.map(function(g,b){var y=b<i.length-1,A=b>0;return t(g,y,A,function(M){c||(c=M),M&&_.forEach(e),!y&&(_.forEach(e),h(c))})});return i.reduce(o)}j.exports=n},{"../../../errors":160,"./end-of-stream":170}],172:[function(E,j,w){var x=E("../../../errors").codes.ERR_INVALID_OPT_VALUE;function m(d,s,a){return d.highWaterMark!=null?d.highWaterMark:s?d[a]:null}function p(d,s,a,r){var t=m(s,r,a);if(t!=null){if(!(isFinite(t)&&Math.floor(t)===t)||t<0){var e=r?a:"highWaterMark";throw new x(e,t)}return Math.floor(t)}return d.objectMode?16:16*1024}j.exports={getHighWaterMark:p}},{"../../../errors":160}],173:[function(E,j,w){arguments[4][146][0].apply(w,arguments)},{dup:146,events:52}],174:[function(E,j,w){w=j.exports=E("./lib/_stream_readable.js"),w.Stream=w,w.Readable=w,w.Writable=E("./lib/_stream_writable.js"),w.Duplex=E("./lib/_stream_duplex.js"),w.Transform=E("./lib/_stream_transform.js"),w.PassThrough=E("./lib/_stream_passthrough.js"),w.finished=E("./lib/internal/streams/end-of-stream.js"),w.pipeline=E("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":162,"./lib/_stream_passthrough.js":163,"./lib/_stream_readable.js":164,"./lib/_stream_transform.js":165,"./lib/_stream_writable.js":166,"./lib/internal/streams/end-of-stream.js":170,"./lib/internal/streams/pipeline.js":171}],175:[function(E,j,w){arguments[4][148][0].apply(w,arguments)},{dup:148,"safe-buffer":154}],176:[function(E,j,w){(function(x,m){var p=E("process/browser.js").nextTick,d=Function.prototype.apply,s=Array.prototype.slice,a={},r=0;w.setTimeout=function(){return new t(d.call(setTimeout,xe,arguments),clearTimeout)},w.setInterval=function(){return new t(d.call(setInterval,xe,arguments),clearInterval)},w.clearTimeout=w.clearInterval=function(e){e.close()};function t(e,o){this._id=e,this._clearFn=o}t.prototype.unref=t.prototype.ref=function(){},t.prototype.close=function(){this._clearFn.call(xe,this._id)},w.enroll=function(e,o){clearTimeout(e._idleTimeoutId),e._idleTimeout=o},w.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},w._unrefActive=w.active=function(e){clearTimeout(e._idleTimeoutId);var o=e._idleTimeout;o>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},o))},w.setImmediate=typeof x=="function"?x:function(e){var o=r++,l=arguments.length<2?!1:s.call(arguments,1);return a[o]=!0,p(function(){a[o]&&(l?e.apply(null,l):e.call(null),w.clearImmediate(o))}),o},w.clearImmediate=typeof m=="function"?m:function(e){delete a[e]}}).call(this,E("timers").setImmediate,E("timers").clearImmediate)},{"process/browser.js":133,timers:176}],177:[function(E,j,w){(function(x){Object.defineProperty(w,"__esModule",{value:!0});var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O};w.clone=r,w.addLast=o,w.addFirst=l,w.removeLast=n,w.removeFirst=f,w.insert=i,w.removeAt=u,w.replaceAt=h,w.getIn=c,w.set=_,w.setIn=b,w.update=y,w.updateIn=A,w.merge=M,w.mergeDeep=I,w.mergeIn=R,w.omit=F,w.addDefaults=z;/*!
 * Timm
 *
 * Immutability helpers with fast reads and acceptable writes.
 *
 * @copyright Guillermo Grau Panea 2016
 * @license MIT
 */var p="INVALID_ARGS";function d(O){throw new Error(O)}function s(O){var k=Object.keys(O);return Object.getOwnPropertySymbols?k.concat(Object.getOwnPropertySymbols(O)):k}var a={}.hasOwnProperty;function r(O){if(Array.isArray(O))return O.slice();for(var k=s(O),Z={},$=0;$<k.length;$++){var te=k[$];Z[te]=O[te]}return Z}function t(O,k,Z){var $=Z;$==null&&d(p);for(var te=!1,q=arguments.length,U=Array(q>3?q-3:0),W=3;W<q;W++)U[W-3]=arguments[W];for(var G=0;G<U.length;G++){var V=U[G];if(V!=null){var re=s(V);if(re.length)for(var se=0;se<=re.length;se++){var fe=re[se];if(!(O&&$[fe]!==void 0)){var ue=V[fe];k&&e($[fe])&&e(ue)&&(ue=t(O,k,$[fe],ue)),!(ue===void 0||ue===$[fe])&&(te||(te=!0,$=r($)),$[fe]=ue)}}}}return $}function e(O){var k=typeof O>"u"?"undefined":m(O);return O!=null&&k==="object"}function o(O,k){return Array.isArray(k)?O.concat(k):O.concat([k])}function l(O,k){return Array.isArray(k)?k.concat(O):[k].concat(O)}function n(O){return O.length?O.slice(0,O.length-1):O}function f(O){return O.length?O.slice(1):O}function i(O,k,Z){return O.slice(0,k).concat(Array.isArray(Z)?Z:[Z]).concat(O.slice(k))}function u(O,k){return k>=O.length||k<0?O:O.slice(0,k).concat(O.slice(k+1))}function h(O,k,Z){if(O[k]===Z)return O;for(var $=O.length,te=Array($),q=0;q<$;q++)te[q]=O[q];return te[k]=Z,te}function c(O,k){if(!Array.isArray(k)&&d(p),O!=null){for(var Z=O,$=0;$<k.length;$++){var te=k[$];if(Z=Z?.[te],Z===void 0)return Z}return Z}}function _(O,k,Z){var $=typeof k=="number"?[]:{},te=O??$;if(te[k]===Z)return te;var q=r(te);return q[k]=Z,q}function g(O,k,Z,$){var te=void 0,q=k[$];if($===k.length-1)te=Z;else{var U=e(O)&&e(O[q])?O[q]:typeof k[$+1]=="number"?[]:{};te=g(U,k,Z,$+1)}return _(O,q,te)}function b(O,k,Z){return k.length?g(O,k,Z,0):Z}function y(O,k,Z){var $=O?.[k],te=Z($);return _(O,k,te)}function A(O,k,Z){var $=c(O,k),te=Z($);return b(O,k,te)}function M(O,k,Z,$,te,q){for(var U=arguments.length,W=Array(U>6?U-6:0),G=6;G<U;G++)W[G-6]=arguments[G];return W.length?t.call.apply(t,[null,!1,!1,O,k,Z,$,te,q].concat(W)):t(!1,!1,O,k,Z,$,te,q)}function I(O,k,Z,$,te,q){for(var U=arguments.length,W=Array(U>6?U-6:0),G=6;G<U;G++)W[G-6]=arguments[G];return W.length?t.call.apply(t,[null,!1,!0,O,k,Z,$,te,q].concat(W)):t(!1,!0,O,k,Z,$,te,q)}function R(O,k,Z,$,te,q,U){var W=c(O,k);W==null&&(W={});for(var G=void 0,V=arguments.length,re=Array(V>7?V-7:0),se=7;se<V;se++)re[se-7]=arguments[se];return re.length?G=t.call.apply(t,[null,!1,!1,W,Z,$,te,q,U].concat(re)):G=t(!1,!1,W,Z,$,te,q,U),b(O,k,G)}function F(O,k){for(var Z=Array.isArray(k)?k:[k],$=!1,te=0;te<Z.length;te++)if(a.call(O,Z[te])){$=!0;break}if(!$)return O;for(var q={},U=s(O),W=0;W<U.length;W++){var G=U[W];Z.indexOf(G)>=0||(q[G]=O[G])}return q}function z(O,k,Z,$,te,q){for(var U=arguments.length,W=Array(U>6?U-6:0),G=6;G<U;G++)W[G-6]=arguments[G];return W.length?t.call.apply(t,[null,!0,!1,O,k,Z,$,te,q].concat(W)):t(!0,!1,O,k,Z,$,te,q)}var D={clone:r,addLast:o,addFirst:l,removeLast:n,removeFirst:f,insert:i,removeAt:u,replaceAt:h,getIn:c,set:_,setIn:b,update:y,updateIn:A,merge:M,mergeDeep:I,mergeIn:R,omit:F,addDefaults:z};w.default=D}).call(this,E("_process"))},{_process:133}],178:[function(E,j,w){(function(x){var m=/^\s+/,p=/\s+$/,d=0,s=x.round,a=x.min,r=x.max,t=x.random;function e(H,P){if(H=H||"",P=P||{},H instanceof e)return H;if(!(this instanceof e))return new e(H,P);var T=o(H);this._originalInput=H,this._r=T.r,this._g=T.g,this._b=T.b,this._a=T.a,this._roundA=s(100*this._a)/100,this._format=P.format||T.format,this._gradientType=P.gradientType,this._r<1&&(this._r=s(this._r)),this._g<1&&(this._g=s(this._g)),this._b<1&&(this._b=s(this._b)),this._ok=T.ok,this._tc_id=d++}e.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var H=this.toRgb();return(H.r*299+H.g*587+H.b*114)/1e3},getLuminance:function(){var H=this.toRgb(),P,T,Y,N,C,S;return P=H.r/255,T=H.g/255,Y=H.b/255,P<=.03928?N=P/12.92:N=x.pow((P+.055)/1.055,2.4),T<=.03928?C=T/12.92:C=x.pow((T+.055)/1.055,2.4),Y<=.03928?S=Y/12.92:S=x.pow((Y+.055)/1.055,2.4),.2126*N+.7152*C+.0722*S},setAlpha:function(H){return this._a=U(H),this._roundA=s(100*this._a)/100,this},toHsv:function(){var H=i(this._r,this._g,this._b);return{h:H.h*360,s:H.s,v:H.v,a:this._a}},toHsvString:function(){var H=i(this._r,this._g,this._b),P=s(H.h*360),T=s(H.s*100),Y=s(H.v*100);return this._a==1?"hsv("+P+", "+T+"%, "+Y+"%)":"hsva("+P+", "+T+"%, "+Y+"%, "+this._roundA+")"},toHsl:function(){var H=n(this._r,this._g,this._b);return{h:H.h*360,s:H.s,l:H.l,a:this._a}},toHslString:function(){var H=n(this._r,this._g,this._b),P=s(H.h*360),T=s(H.s*100),Y=s(H.l*100);return this._a==1?"hsl("+P+", "+T+"%, "+Y+"%)":"hsla("+P+", "+T+"%, "+Y+"%, "+this._roundA+")"},toHex:function(H){return h(this._r,this._g,this._b,H)},toHexString:function(H){return"#"+this.toHex(H)},toHex8:function(H){return c(this._r,this._g,this._b,this._a,H)},toHex8String:function(H){return"#"+this.toHex8(H)},toRgb:function(){return{r:s(this._r),g:s(this._g),b:s(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+s(this._r)+", "+s(this._g)+", "+s(this._b)+")":"rgba("+s(this._r)+", "+s(this._g)+", "+s(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:s(W(this._r,255)*100)+"%",g:s(W(this._g,255)*100)+"%",b:s(W(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+s(W(this._r,255)*100)+"%, "+s(W(this._g,255)*100)+"%, "+s(W(this._b,255)*100)+"%)":"rgba("+s(W(this._r,255)*100)+"%, "+s(W(this._g,255)*100)+"%, "+s(W(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:te[h(this._r,this._g,this._b,!0)]||!1},toFilter:function(H){var P="#"+_(this._r,this._g,this._b,this._a),T=P,Y=this._gradientType?"GradientType = 1, ":"";if(H){var N=e(H);T="#"+_(N._r,N._g,N._b,N._a)}return"progid:DXImageTransform.Microsoft.gradient("+Y+"startColorstr="+P+",endColorstr="+T+")"},toString:function(H){var P=!!H;H=H||this._format;var T=!1,Y=this._a<1&&this._a>=0,N=!P&&Y&&(H==="hex"||H==="hex6"||H==="hex3"||H==="hex4"||H==="hex8"||H==="name");return N?H==="name"&&this._a===0?this.toName():this.toRgbString():(H==="rgb"&&(T=this.toRgbString()),H==="prgb"&&(T=this.toPercentageRgbString()),(H==="hex"||H==="hex6")&&(T=this.toHexString()),H==="hex3"&&(T=this.toHexString(!0)),H==="hex4"&&(T=this.toHex8String(!0)),H==="hex8"&&(T=this.toHex8String()),H==="name"&&(T=this.toName()),H==="hsl"&&(T=this.toHslString()),H==="hsv"&&(T=this.toHsvString()),T||this.toHexString())},clone:function(){return e(this.toString())},_applyModification:function(H,P){var T=H.apply(null,[this].concat([].slice.call(P)));return this._r=T._r,this._g=T._g,this._b=T._b,this.setAlpha(T._a),this},lighten:function(){return this._applyModification(A,arguments)},brighten:function(){return this._applyModification(M,arguments)},darken:function(){return this._applyModification(I,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(R,arguments)},_applyCombination:function(H,P){return H.apply(null,[this].concat([].slice.call(P)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(F,arguments)},monochromatic:function(){return this._applyCombination(Z,arguments)},splitcomplement:function(){return this._applyCombination(O,arguments)},triad:function(){return this._applyCombination(z,arguments)},tetrad:function(){return this._applyCombination(D,arguments)}},e.fromRatio=function(H,P){if(typeof H=="object"){var T={};for(var Y in H)H.hasOwnProperty(Y)&&(Y==="a"?T[Y]=H[Y]:T[Y]=ue(H[Y]));H=T}return e(H,P)};function o(H){var P={r:0,g:0,b:0},T=1,Y=null,N=null,C=null,S=!1,Q=!1;return typeof H=="string"&&(H=J(H)),typeof H=="object"&&(X(H.r)&&X(H.g)&&X(H.b)?(P=l(H.r,H.g,H.b),S=!0,Q=String(H.r).substr(-1)==="%"?"prgb":"rgb"):X(H.h)&&X(H.s)&&X(H.v)?(Y=ue(H.s),N=ue(H.v),P=u(H.h,Y,N),S=!0,Q="hsv"):X(H.h)&&X(H.s)&&X(H.l)&&(Y=ue(H.s),C=ue(H.l),P=f(H.h,Y,C),S=!0,Q="hsl"),H.hasOwnProperty("a")&&(T=H.a)),T=U(T),{ok:S,format:H.format||Q,r:a(255,r(P.r,0)),g:a(255,r(P.g,0)),b:a(255,r(P.b,0)),a:T}}function l(H,P,T){return{r:W(H,255)*255,g:W(P,255)*255,b:W(T,255)*255}}function n(H,P,T){H=W(H,255),P=W(P,255),T=W(T,255);var Y=r(H,P,T),N=a(H,P,T),C,S,Q=(Y+N)/2;if(Y==N)C=S=0;else{var oe=Y-N;switch(S=Q>.5?oe/(2-Y-N):oe/(Y+N),Y){case H:C=(P-T)/oe+(P<T?6:0);break;case P:C=(T-H)/oe+2;break;case T:C=(H-P)/oe+4;break}C/=6}return{h:C,s:S,l:Q}}function f(H,P,T){var Y,N,C;H=W(H,360),P=W(P,100),T=W(T,100);function S(ve,ye,Ae){return Ae<0&&(Ae+=1),Ae>1&&(Ae-=1),Ae<1/6?ve+(ye-ve)*6*Ae:Ae<1/2?ye:Ae<2/3?ve+(ye-ve)*(2/3-Ae)*6:ve}if(P===0)Y=N=C=T;else{var Q=T<.5?T*(1+P):T+P-T*P,oe=2*T-Q;Y=S(oe,Q,H+1/3),N=S(oe,Q,H),C=S(oe,Q,H-1/3)}return{r:Y*255,g:N*255,b:C*255}}function i(H,P,T){H=W(H,255),P=W(P,255),T=W(T,255);var Y=r(H,P,T),N=a(H,P,T),C,S,Q=Y,oe=Y-N;if(S=Y===0?0:oe/Y,Y==N)C=0;else{switch(Y){case H:C=(P-T)/oe+(P<T?6:0);break;case P:C=(T-H)/oe+2;break;case T:C=(H-P)/oe+4;break}C/=6}return{h:C,s:S,v:Q}}function u(H,P,T){H=W(H,360)*6,P=W(P,100),T=W(T,100);var Y=x.floor(H),N=H-Y,C=T*(1-P),S=T*(1-N*P),Q=T*(1-(1-N)*P),oe=Y%6,ve=[T,S,C,C,Q,T][oe],ye=[Q,T,T,S,C,C][oe],Ae=[C,C,Q,T,T,S][oe];return{r:ve*255,g:ye*255,b:Ae*255}}function h(H,P,T,Y){var N=[fe(s(H).toString(16)),fe(s(P).toString(16)),fe(s(T).toString(16))];return Y&&N[0].charAt(0)==N[0].charAt(1)&&N[1].charAt(0)==N[1].charAt(1)&&N[2].charAt(0)==N[2].charAt(1)?N[0].charAt(0)+N[1].charAt(0)+N[2].charAt(0):N.join("")}function c(H,P,T,Y,N){var C=[fe(s(H).toString(16)),fe(s(P).toString(16)),fe(s(T).toString(16)),fe(pe(Y))];return N&&C[0].charAt(0)==C[0].charAt(1)&&C[1].charAt(0)==C[1].charAt(1)&&C[2].charAt(0)==C[2].charAt(1)&&C[3].charAt(0)==C[3].charAt(1)?C[0].charAt(0)+C[1].charAt(0)+C[2].charAt(0)+C[3].charAt(0):C.join("")}function _(H,P,T,Y){var N=[fe(pe(Y)),fe(s(H).toString(16)),fe(s(P).toString(16)),fe(s(T).toString(16))];return N.join("")}e.equals=function(H,P){return!H||!P?!1:e(H).toRgbString()==e(P).toRgbString()},e.random=function(){return e.fromRatio({r:t(),g:t(),b:t()})};function g(H,P){P=P===0?0:P||10;var T=e(H).toHsl();return T.s-=P/100,T.s=G(T.s),e(T)}function b(H,P){P=P===0?0:P||10;var T=e(H).toHsl();return T.s+=P/100,T.s=G(T.s),e(T)}function y(H){return e(H).desaturate(100)}function A(H,P){P=P===0?0:P||10;var T=e(H).toHsl();return T.l+=P/100,T.l=G(T.l),e(T)}function M(H,P){P=P===0?0:P||10;var T=e(H).toRgb();return T.r=r(0,a(255,T.r-s(255*-(P/100)))),T.g=r(0,a(255,T.g-s(255*-(P/100)))),T.b=r(0,a(255,T.b-s(255*-(P/100)))),e(T)}function I(H,P){P=P===0?0:P||10;var T=e(H).toHsl();return T.l-=P/100,T.l=G(T.l),e(T)}function R(H,P){var T=e(H).toHsl(),Y=(T.h+P)%360;return T.h=Y<0?360+Y:Y,e(T)}function F(H){var P=e(H).toHsl();return P.h=(P.h+180)%360,e(P)}function z(H){var P=e(H).toHsl(),T=P.h;return[e(H),e({h:(T+120)%360,s:P.s,l:P.l}),e({h:(T+240)%360,s:P.s,l:P.l})]}function D(H){var P=e(H).toHsl(),T=P.h;return[e(H),e({h:(T+90)%360,s:P.s,l:P.l}),e({h:(T+180)%360,s:P.s,l:P.l}),e({h:(T+270)%360,s:P.s,l:P.l})]}function O(H){var P=e(H).toHsl(),T=P.h;return[e(H),e({h:(T+72)%360,s:P.s,l:P.l}),e({h:(T+216)%360,s:P.s,l:P.l})]}function k(H,P,T){P=P||6,T=T||30;var Y=e(H).toHsl(),N=360/T,C=[e(H)];for(Y.h=(Y.h-(N*P>>1)+720)%360;--P;)Y.h=(Y.h+N)%360,C.push(e(Y));return C}function Z(H,P){P=P||6;for(var T=e(H).toHsv(),Y=T.h,N=T.s,C=T.v,S=[],Q=1/P;P--;)S.push(e({h:Y,s:N,v:C})),C=(C+Q)%1;return S}e.mix=function(H,P,T){T=T===0?0:T||50;var Y=e(H).toRgb(),N=e(P).toRgb(),C=T/100,S={r:(N.r-Y.r)*C+Y.r,g:(N.g-Y.g)*C+Y.g,b:(N.b-Y.b)*C+Y.b,a:(N.a-Y.a)*C+Y.a};return e(S)},e.readability=function(H,P){var T=e(H),Y=e(P);return(x.max(T.getLuminance(),Y.getLuminance())+.05)/(x.min(T.getLuminance(),Y.getLuminance())+.05)},e.isReadable=function(H,P,T){var Y=e.readability(H,P),N,C;switch(C=!1,N=ee(T),N.level+N.size){case"AAsmall":case"AAAlarge":C=Y>=4.5;break;case"AAlarge":C=Y>=3;break;case"AAAsmall":C=Y>=7;break}return C},e.mostReadable=function(H,P,T){var Y=null,N=0,C,S,Q,oe;T=T||{},S=T.includeFallbackColors,Q=T.level,oe=T.size;for(var ve=0;ve<P.length;ve++)C=e.readability(H,P[ve]),C>N&&(N=C,Y=e(P[ve]));return e.isReadable(H,Y,{level:Q,size:oe})||!S?Y:(T.includeFallbackColors=!1,e.mostReadable(H,["#fff","#000"],T))};var $=e.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},te=e.hexNames=q($);function q(H){var P={};for(var T in H)H.hasOwnProperty(T)&&(P[H[T]]=T);return P}function U(H){return H=parseFloat(H),(isNaN(H)||H<0||H>1)&&(H=1),H}function W(H,P){re(H)&&(H="100%");var T=se(H);return H=a(P,r(0,parseFloat(H))),T&&(H=parseInt(H*P,10)/100),x.abs(H-P)<1e-6?1:H%P/parseFloat(P)}function G(H){return a(1,r(0,H))}function V(H){return parseInt(H,16)}function re(H){return typeof H=="string"&&H.indexOf(".")!=-1&&parseFloat(H)===1}function se(H){return typeof H=="string"&&H.indexOf("%")!=-1}function fe(H){return H.length==1?"0"+H:""+H}function ue(H){return H<=1&&(H=H*100+"%"),H}function pe(H){return x.round(parseFloat(H)*255).toString(16)}function ne(H){return V(H)/255}var ie=function(){var H="[-\\+]?\\d+%?",P="[-\\+]?\\d*\\.\\d+%?",T="(?:"+P+")|(?:"+H+")",Y="[\\s|\\(]+("+T+")[,|\\s]+("+T+")[,|\\s]+("+T+")\\s*\\)?",N="[\\s|\\(]+("+T+")[,|\\s]+("+T+")[,|\\s]+("+T+")[,|\\s]+("+T+")\\s*\\)?";return{CSS_UNIT:new RegExp(T),rgb:new RegExp("rgb"+Y),rgba:new RegExp("rgba"+N),hsl:new RegExp("hsl"+Y),hsla:new RegExp("hsla"+N),hsv:new RegExp("hsv"+Y),hsva:new RegExp("hsva"+N),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function X(H){return!!ie.CSS_UNIT.exec(H)}function J(H){H=H.replace(m,"").replace(p,"").toLowerCase();var P=!1;if($[H])H=$[H],P=!0;else if(H=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var T;return(T=ie.rgb.exec(H))?{r:T[1],g:T[2],b:T[3]}:(T=ie.rgba.exec(H))?{r:T[1],g:T[2],b:T[3],a:T[4]}:(T=ie.hsl.exec(H))?{h:T[1],s:T[2],l:T[3]}:(T=ie.hsla.exec(H))?{h:T[1],s:T[2],l:T[3],a:T[4]}:(T=ie.hsv.exec(H))?{h:T[1],s:T[2],v:T[3]}:(T=ie.hsva.exec(H))?{h:T[1],s:T[2],v:T[3],a:T[4]}:(T=ie.hex8.exec(H))?{r:V(T[1]),g:V(T[2]),b:V(T[3]),a:ne(T[4]),format:P?"name":"hex8"}:(T=ie.hex6.exec(H))?{r:V(T[1]),g:V(T[2]),b:V(T[3]),format:P?"name":"hex"}:(T=ie.hex4.exec(H))?{r:V(T[1]+""+T[1]),g:V(T[2]+""+T[2]),b:V(T[3]+""+T[3]),a:ne(T[4]+""+T[4]),format:P?"name":"hex8"}:(T=ie.hex3.exec(H))?{r:V(T[1]+""+T[1]),g:V(T[2]+""+T[2]),b:V(T[3]+""+T[3]),format:P?"name":"hex"}:!1}function ee(H){var P,T;return H=H||{level:"AA",size:"small"},P=(H.level||"AA").toUpperCase(),T=(H.size||"small").toLowerCase(),P!=="AA"&&P!=="AAA"&&(P="AA"),T!=="small"&&T!=="large"&&(T="small"),{level:P,size:T}}typeof j<"u"&&j.exports?j.exports=e:xe.tinycolor=e})(Math)},{}],179:[function(E,j,w){w=j.exports=x;function x(m){return m.replace(/^\s*|\s*$/g,"")}w.left=function(m){return m.replace(/^\s*/,"")},w.right=function(m){return m.replace(/\s*$/,"")}},{}],180:[function(E,j,w){var x=E("punycode"),m=E("./util");w.parse=g,w.resolve=y,w.resolveObject=A,w.format=b,w.Url=p;function p(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var d=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,r=["<",">",'"',"`"," ","\r",`
`,"	"],t=["{","}","|","\\","^","`"].concat(r),e=["'"].concat(t),o=["%","/","?",";","#"].concat(e),l=["/","?","#"],n=255,f=/^[+a-z0-9A-Z_-]{0,63}$/,i=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,u={javascript:!0,"javascript:":!0},h={javascript:!0,"javascript:":!0},c={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=E("querystring");function g(M,I,R){if(M&&m.isObject(M)&&M instanceof p)return M;var F=new p;return F.parse(M,I,R),F}p.prototype.parse=function(M,I,R){if(!m.isString(M))throw new TypeError("Parameter 'url' must be a string, not "+typeof M);var F=M.indexOf("?"),z=F!==-1&&F<M.indexOf("#")?"?":"#",D=M.split(z),O=/\\/g;D[0]=D[0].replace(O,"/"),M=D.join(z);var k=M;if(k=k.trim(),!R&&M.split("#").length===1){var Z=a.exec(k);if(Z)return this.path=k,this.href=k,this.pathname=Z[1],Z[2]?(this.search=Z[2],I?this.query=_.parse(this.search.substr(1)):this.query=this.search.substr(1)):I&&(this.search="",this.query={}),this}var $=d.exec(k);if($){$=$[0];var te=$.toLowerCase();this.protocol=te,k=k.substr($.length)}if(R||$||k.match(/^\/\/[^@\/]+@[^@\/]+/)){var q=k.substr(0,2)==="//";q&&!($&&h[$])&&(k=k.substr(2),this.slashes=!0)}if(!h[$]&&(q||$&&!c[$])){for(var U=-1,W=0;W<l.length;W++){var G=k.indexOf(l[W]);G!==-1&&(U===-1||G<U)&&(U=G)}var V,re;U===-1?re=k.lastIndexOf("@"):re=k.lastIndexOf("@",U),re!==-1&&(V=k.slice(0,re),k=k.slice(re+1),this.auth=decodeURIComponent(V)),U=-1;for(var W=0;W<o.length;W++){var G=k.indexOf(o[W]);G!==-1&&(U===-1||G<U)&&(U=G)}U===-1&&(U=k.length),this.host=k.slice(0,U),k=k.slice(U),this.parseHost(),this.hostname=this.hostname||"";var se=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!se)for(var fe=this.hostname.split(/\./),W=0,ue=fe.length;W<ue;W++){var pe=fe[W];if(pe&&!pe.match(f)){for(var ne="",ie=0,X=pe.length;ie<X;ie++)pe.charCodeAt(ie)>127?ne+="x":ne+=pe[ie];if(!ne.match(f)){var J=fe.slice(0,W),ee=fe.slice(W+1),H=pe.match(i);H&&(J.push(H[1]),ee.unshift(H[2])),ee.length&&(k="/"+ee.join(".")+k),this.hostname=J.join(".");break}}}this.hostname.length>n?this.hostname="":this.hostname=this.hostname.toLowerCase(),se||(this.hostname=x.toASCII(this.hostname));var P=this.port?":"+this.port:"",T=this.hostname||"";this.host=T+P,this.href+=this.host,se&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),k[0]!=="/"&&(k="/"+k))}if(!u[te])for(var W=0,ue=e.length;W<ue;W++){var Y=e[W];if(k.indexOf(Y)!==-1){var N=encodeURIComponent(Y);N===Y&&(N=escape(Y)),k=k.split(Y).join(N)}}var C=k.indexOf("#");C!==-1&&(this.hash=k.substr(C),k=k.slice(0,C));var S=k.indexOf("?");if(S!==-1?(this.search=k.substr(S),this.query=k.substr(S+1),I&&(this.query=_.parse(this.query)),k=k.slice(0,S)):I&&(this.search="",this.query={}),k&&(this.pathname=k),c[te]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var P=this.pathname||"",Q=this.search||"";this.path=P+Q}return this.href=this.format(),this};function b(M){return m.isString(M)&&(M=g(M)),M instanceof p?M.format():p.prototype.format.call(M)}p.prototype.format=function(){var M=this.auth||"";M&&(M=encodeURIComponent(M),M=M.replace(/%3A/i,":"),M+="@");var I=this.protocol||"",R=this.pathname||"",F=this.hash||"",z=!1,D="";this.host?z=M+this.host:this.hostname&&(z=M+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(z+=":"+this.port)),this.query&&m.isObject(this.query)&&Object.keys(this.query).length&&(D=_.stringify(this.query));var O=this.search||D&&"?"+D||"";return I&&I.substr(-1)!==":"&&(I+=":"),this.slashes||(!I||c[I])&&z!==!1?(z="//"+(z||""),R&&R.charAt(0)!=="/"&&(R="/"+R)):z||(z=""),F&&F.charAt(0)!=="#"&&(F="#"+F),O&&O.charAt(0)!=="?"&&(O="?"+O),R=R.replace(/[?#]/g,function(k){return encodeURIComponent(k)}),O=O.replace("#","%23"),I+z+R+O+F};function y(M,I){return g(M,!1,!0).resolve(I)}p.prototype.resolve=function(M){return this.resolveObject(g(M,!1,!0)).format()};function A(M,I){return M?g(M,!1,!0).resolveObject(I):I}p.prototype.resolveObject=function(M){if(m.isString(M)){var I=new p;I.parse(M,!1,!0),M=I}for(var R=new p,F=Object.keys(this),z=0;z<F.length;z++){var D=F[z];R[D]=this[D]}if(R.hash=M.hash,M.href==="")return R.href=R.format(),R;if(M.slashes&&!M.protocol){for(var O=Object.keys(M),k=0;k<O.length;k++){var Z=O[k];Z!=="protocol"&&(R[Z]=M[Z])}return c[R.protocol]&&R.hostname&&!R.pathname&&(R.path=R.pathname="/"),R.href=R.format(),R}if(M.protocol&&M.protocol!==R.protocol){if(!c[M.protocol]){for(var $=Object.keys(M),te=0;te<$.length;te++){var q=$[te];R[q]=M[q]}return R.href=R.format(),R}if(R.protocol=M.protocol,!M.host&&!h[M.protocol]){for(var ue=(M.pathname||"").split("/");ue.length&&!(M.host=ue.shift()););M.host||(M.host=""),M.hostname||(M.hostname=""),ue[0]!==""&&ue.unshift(""),ue.length<2&&ue.unshift(""),R.pathname=ue.join("/")}else R.pathname=M.pathname;if(R.search=M.search,R.query=M.query,R.host=M.host||"",R.auth=M.auth,R.hostname=M.hostname||M.host,R.port=M.port,R.pathname||R.search){var U=R.pathname||"",W=R.search||"";R.path=U+W}return R.slashes=R.slashes||M.slashes,R.href=R.format(),R}var G=R.pathname&&R.pathname.charAt(0)==="/",V=M.host||M.pathname&&M.pathname.charAt(0)==="/",re=V||G||R.host&&M.pathname,se=re,fe=R.pathname&&R.pathname.split("/")||[],ue=M.pathname&&M.pathname.split("/")||[],pe=R.protocol&&!c[R.protocol];if(pe&&(R.hostname="",R.port=null,R.host&&(fe[0]===""?fe[0]=R.host:fe.unshift(R.host)),R.host="",M.protocol&&(M.hostname=null,M.port=null,M.host&&(ue[0]===""?ue[0]=M.host:ue.unshift(M.host)),M.host=null),re=re&&(ue[0]===""||fe[0]==="")),V)R.host=M.host||M.host===""?M.host:R.host,R.hostname=M.hostname||M.hostname===""?M.hostname:R.hostname,R.search=M.search,R.query=M.query,fe=ue;else if(ue.length)fe||(fe=[]),fe.pop(),fe=fe.concat(ue),R.search=M.search,R.query=M.query;else if(!m.isNullOrUndefined(M.search)){if(pe){R.hostname=R.host=fe.shift();var ne=R.host&&R.host.indexOf("@")>0?R.host.split("@"):!1;ne&&(R.auth=ne.shift(),R.host=R.hostname=ne.shift())}return R.search=M.search,R.query=M.query,(!m.isNull(R.pathname)||!m.isNull(R.search))&&(R.path=(R.pathname?R.pathname:"")+(R.search?R.search:"")),R.href=R.format(),R}if(!fe.length)return R.pathname=null,R.search?R.path="/"+R.search:R.path=null,R.href=R.format(),R;for(var ie=fe.slice(-1)[0],X=(R.host||M.host||fe.length>1)&&(ie==="."||ie==="..")||ie==="",J=0,ee=fe.length;ee>=0;ee--)ie=fe[ee],ie==="."?fe.splice(ee,1):ie===".."?(fe.splice(ee,1),J++):J&&(fe.splice(ee,1),J--);if(!re&&!se)for(;J--;J)fe.unshift("..");re&&fe[0]!==""&&(!fe[0]||fe[0].charAt(0)!=="/")&&fe.unshift(""),X&&fe.join("/").substr(-1)!=="/"&&fe.push("");var H=fe[0]===""||fe[0]&&fe[0].charAt(0)==="/";if(pe){R.hostname=R.host=H?"":fe.length?fe.shift():"";var ne=R.host&&R.host.indexOf("@")>0?R.host.split("@"):!1;ne&&(R.auth=ne.shift(),R.host=R.hostname=ne.shift())}return re=re||R.host&&fe.length,re&&!H&&fe.unshift(""),fe.length?R.pathname=fe.join("/"):(R.pathname=null,R.path=null),(!m.isNull(R.pathname)||!m.isNull(R.search))&&(R.path=(R.pathname?R.pathname:"")+(R.search?R.search:"")),R.auth=M.auth||R.auth,R.slashes=R.slashes||M.slashes,R.href=R.format(),R},p.prototype.parseHost=function(){var M=this.host,I=s.exec(M);I&&(I=I[0],I!==":"&&(this.port=I.substr(1)),M=M.substr(0,M.length-I.length)),M&&(this.hostname=M)}},{"./util":181,punycode:134,querystring:137}],181:[function(E,j,w){j.exports={isString:function(x){return typeof x=="string"},isObject:function(x){return typeof x=="object"&&x!==null},isNull:function(x){return x===null},isNullOrUndefined:function(x){return x==null}}},{}],182:[function(E,j,w){(function(x){(function(){var m={};typeof j=="object"?j.exports=m:self.UTIF=m;var p;typeof E=="function"?p=E("pako"):p=self.pako;function d(){typeof x>"u"&&console.log.apply(console,arguments)}(function(s,a){(function(){var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},t=function(){function o(l){this.message="JPEG error: "+l}return o.prototype=Error(),o.prototype.name="JpegError",o.constructor=o}(),e=function(){function o(l,n){this.message=l,this.g=n}return o.prototype=Error(),o.prototype.name="DNLMarkerError",o.constructor=o}();(function(){function o(){this.M=null,this.B=-1}function l(h,c){for(var _=0,g=[],b,y,A=16;0<A&&!h[A-1];)A--;g.push({children:[],index:0});var M=g[0],I;for(b=0;b<A;b++){for(y=0;y<h[b];y++){for(M=g.pop(),M.children[M.index]=c[_];0<M.index;)M=g.pop();for(M.index++,g.push(M);g.length<=b;)g.push(I={children:[],index:0}),M.children[M.index]=I.children,M=I;_++}b+1<A&&(g.push(I={children:[],index:0}),M.children[M.index]=I.children,M=I)}return g[0].children}function n(h,c,_,g,b,y,A,M,I){function R(){if(0<V)return V--,G>>V&1;if(G=h[c++],G===255){var C=h[c++];if(C){if(C===220&&q){c+=2;var S=h[c++]<<8|h[c++];if(0<S&&S!==_.g)throw new e("Found DNL marker (0xFFDC) while parsing scan data",S)}throw new t("unexpected marker "+(G<<8|C).toString(16))}}return V=7,G>>>7}function F(C){for(;;){if(C=C[R()],typeof C=="number")return C;if((typeof C>"u"?"undefined":r(C))!=="object")throw new t("invalid huffman sequence")}}function z(C){for(var S=0;0<C;)S=S<<1|R(),C--;return S}function D(C){if(C===1)return R()===1?1:-1;var S=z(C);return S>=1<<C-1?S:S+(-1<<C)+1}function O(C,S){var Q=F(C.D);for(Q=Q===0?0:D(Q),C.a[S]=C.m+=Q,Q=1;64>Q;){var oe=F(C.o),ve=oe&15;if(oe>>=4,ve===0){if(15>oe)break;Q+=16}else Q+=oe,C.a[S+u[Q]]=D(ve),Q++}}function k(C,S){var Q=F(C.D);Q=Q===0?0:D(Q)<<I,C.a[S]=C.m+=Q}function Z(C,S){C.a[S]|=R()<<I}function $(C,S){if(0<re)re--;else for(var Q=y;Q<=A;){var oe=F(C.o),ve=oe&15;if(oe>>=4,ve===0){if(15>oe){re=z(oe)+(1<<oe)-1;break}Q+=16}else Q+=oe,C.a[S+u[Q]]=D(ve)*(1<<I),Q++}}function te(C,S){for(var Q=y,oe=0,ve;Q<=A;){ve=S+u[Q];var ye=0>C.a[ve]?-1:1;switch(se){case 0:if(oe=F(C.o),ve=oe&15,oe>>=4,ve===0)15>oe?(re=z(oe)+(1<<oe),se=4):(oe=16,se=1);else{if(ve!==1)throw new t("invalid ACn encoding");fe=D(ve),se=oe?2:3}continue;case 1:case 2:C.a[ve]?C.a[ve]+=ye*(R()<<I):(oe--,oe===0&&(se=se===2?3:0));break;case 3:C.a[ve]?C.a[ve]+=ye*(R()<<I):(C.a[ve]=fe<<I,se=0);break;case 4:C.a[ve]&&(C.a[ve]+=ye*(R()<<I))}Q++}se===4&&(re--,re===0&&(se=0))}for(var q=9<arguments.length&&arguments[9]!==void 0?arguments[9]:!1,U=_.P,W=c,G=0,V=0,re=0,se=0,fe,ue=g.length,pe,ne,ie,X,J=_.S?y===0?M===0?k:Z:M===0?$:te:O,ee=0,H=ue===1?g[0].c*g[0].l:U*_.O,P,T;ee<H;){var Y=b?Math.min(H-ee,b):H;for(pe=0;pe<ue;pe++)g[pe].m=0;if(re=0,ue===1){var N=g[0];for(X=0;X<Y;X++)J(N,64*((N.c+1)*(ee/N.c|0)+ee%N.c)),ee++}else for(X=0;X<Y;X++){for(pe=0;pe<ue;pe++)for(N=g[pe],P=N.h,T=N.j,ne=0;ne<T;ne++)for(ie=0;ie<P;ie++)J(N,64*((N.c+1)*((ee/U|0)*N.j+ne)+(ee%U*N.h+ie)));ee++}if(V=0,(N=i(h,c))&&N.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+N.f),c=N.offset),N=N&&N.F,!N||65280>=N)throw new t("marker was not found");if(65488<=N&&65495>=N)c+=2;else break}return(N=i(h,c))&&N.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+N.f),c=N.offset),c-W}function f(h,c){for(var _=c.c,g=c.l,b=new Int16Array(64),y=0;y<g;y++)for(var A=0;A<_;A++){var M=64*((c.c+1)*y+A),I=b,R=c.G,F=c.a;if(!R)throw new t("missing required Quantization Table.");for(var z=0;64>z;z+=8){var D=F[M+z],O=F[M+z+1],k=F[M+z+2],Z=F[M+z+3],$=F[M+z+4],te=F[M+z+5],q=F[M+z+6],U=F[M+z+7];if(D*=R[z],!(O|k|Z|$|te|q|U))D=5793*D+512>>10,I[z]=D,I[z+1]=D,I[z+2]=D,I[z+3]=D,I[z+4]=D,I[z+5]=D,I[z+6]=D,I[z+7]=D;else{O*=R[z+1],k*=R[z+2],Z*=R[z+3],$*=R[z+4],te*=R[z+5],q*=R[z+6],U*=R[z+7];var W=5793*D+128>>8,G=5793*$+128>>8,V=k,re=q;$=2896*(O-U)+128>>8,U=2896*(O+U)+128>>8,Z<<=4,te<<=4,W=W+G+1>>1,G=W-G,D=3784*V+1567*re+128>>8,V=1567*V-3784*re+128>>8,re=D,$=$+te+1>>1,te=$-te,U=U+Z+1>>1,Z=U-Z,W=W+re+1>>1,re=W-re,G=G+V+1>>1,V=G-V,D=2276*$+3406*U+2048>>12,$=3406*$-2276*U+2048>>12,U=D,D=799*Z+4017*te+2048>>12,Z=4017*Z-799*te+2048>>12,te=D,I[z]=W+U,I[z+7]=W-U,I[z+1]=G+te,I[z+6]=G-te,I[z+2]=V+Z,I[z+5]=V-Z,I[z+3]=re+$,I[z+4]=re-$}}for(R=0;8>R;++R)D=I[R],O=I[R+8],k=I[R+16],Z=I[R+24],$=I[R+32],te=I[R+40],q=I[R+48],U=I[R+56],O|k|Z|$|te|q|U?(W=5793*D+2048>>12,G=5793*$+2048>>12,V=k,re=q,$=2896*(O-U)+2048>>12,U=2896*(O+U)+2048>>12,W=(W+G+1>>1)+4112,G=W-G,D=3784*V+1567*re+2048>>12,V=1567*V-3784*re+2048>>12,re=D,$=$+te+1>>1,te=$-te,U=U+Z+1>>1,Z=U-Z,W=W+re+1>>1,re=W-re,G=G+V+1>>1,V=G-V,D=2276*$+3406*U+2048>>12,$=3406*$-2276*U+2048>>12,U=D,D=799*Z+4017*te+2048>>12,Z=4017*Z-799*te+2048>>12,te=D,D=W+U,U=W-U,O=G+te,q=G-te,k=V+Z,te=V-Z,Z=re+$,$=re-$,D=16>D?0:4080<=D?255:D>>4,O=16>O?0:4080<=O?255:O>>4,k=16>k?0:4080<=k?255:k>>4,Z=16>Z?0:4080<=Z?255:Z>>4,$=16>$?0:4080<=$?255:$>>4,te=16>te?0:4080<=te?255:te>>4,q=16>q?0:4080<=q?255:q>>4,U=16>U?0:4080<=U?255:U>>4,F[M+R]=D,F[M+R+8]=O,F[M+R+16]=k,F[M+R+24]=Z,F[M+R+32]=$,F[M+R+40]=te,F[M+R+48]=q,F[M+R+56]=U):(D=5793*D+8192>>14,D=-2040>D?0:2024<=D?255:D+2056>>4,F[M+R]=D,F[M+R+8]=D,F[M+R+16]=D,F[M+R+24]=D,F[M+R+32]=D,F[M+R+40]=D,F[M+R+48]=D,F[M+R+56]=D)}return c.a}function i(h,c){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:c,g=h.length-1;if(_=_<c?_:c,c>=g)return null;var b=h[c]<<8|h[c+1];if(65472<=b&&65534>=b)return{f:null,F:b,offset:c};for(var y=h[_]<<8|h[_+1];!(65472<=y&&65534>=y);){if(++_>=g)return null;y=h[_]<<8|h[_+1]}return{f:b.toString(16),F:y,offset:_}}var u=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);o.prototype={parse:function(h){function c(){var V=h[A]<<8|h[A+1];return A+=2,V}function _(){var V=c();V=A+V-2;var re=i(h,V,A);return re&&re.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+re.f),V=re.offset),V=h.subarray(A,V),A+=V.length,V}function g(V){for(var re=Math.ceil(V.v/8/V.s),se=Math.ceil(V.g/8/V.u),fe=0;fe<V.b.length;fe++){W=V.b[fe];var ue=Math.ceil(Math.ceil(V.v/8)*W.h/V.s),pe=Math.ceil(Math.ceil(V.g/8)*W.j/V.u);W.a=new Int16Array(64*se*W.j*(re*W.h+1)),W.c=ue,W.l=pe}V.P=re,V.O=se}var b=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).N,y=b===void 0?null:b,A=0,M=null,I=0;b=[];var R=[],F=[],z=c();if(z!==65496)throw new t("SOI not found");for(z=c();z!==65497;){switch(z){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var D=_();z===65518&&D[0]===65&&D[1]===100&&D[2]===111&&D[3]===98&&D[4]===101&&(M={version:D[5]<<8|D[6],Y:D[7]<<8|D[8],Z:D[9]<<8|D[10],W:D[11]});break;case 65499:z=c()+A-2;for(var O;A<z;){var k=h[A++],Z=new Uint16Array(64);if(k>>4)if(k>>4===1)for(D=0;64>D;D++)O=u[D],Z[O]=c();else throw new t("DQT - invalid table spec");else for(D=0;64>D;D++)O=u[D],Z[O]=h[A++];b[k&15]=Z}break;case 65472:case 65473:case 65474:if($)throw new t("Only single frame JPEGs supported");c();var $={};for($.X=z===65473,$.S=z===65474,$.precision=h[A++],z=c(),$.g=y||z,$.v=c(),$.b=[],$.C={},D=h[A++],z=Z=k=0;z<D;z++){O=h[A];var te=h[A+1]>>4,q=h[A+1]&15;k<te&&(k=te),Z<q&&(Z=q),te=$.b.push({h:te,j:q,T:h[A+2],G:null}),$.C[O]=te-1,A+=3}$.s=k,$.u=Z,g($);break;case 65476:for(O=c(),z=2;z<O;){for(k=h[A++],Z=new Uint8Array(16),D=te=0;16>D;D++,A++)te+=Z[D]=h[A];for(q=new Uint8Array(te),D=0;D<te;D++,A++)q[D]=h[A];z+=17+te,(k>>4?R:F)[k&15]=l(Z,q)}break;case 65501:c();var U=c();break;case 65498:for(D=++I===1&&!y,c(),k=h[A++],O=[],z=0;z<k;z++){Z=$.C[h[A++]];var W=$.b[Z];Z=h[A++],W.D=F[Z>>4],W.o=R[Z&15],O.push(W)}z=h[A++],k=h[A++],Z=h[A++];try{var G=n(h,A,$,O,U,z,k,Z>>4,Z&15,D);A+=G}catch(V){if(V instanceof e)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(h,{N:V.g});throw V}break;case 65500:A+=4;break;case 65535:h[A]!==255&&A--;break;default:if(h[A-3]===255&&192<=h[A-2]&&254>=h[A-2])A-=3;else if((D=i(h,A-2))&&D.f)(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+D.f),A=D.offset;else throw new t("unknown marker "+z.toString(16))}z=c()}for(this.width=$.v,this.height=$.g,this.A=M,this.b=[],z=0;z<$.b.length;z++)W=$.b[z],(U=b[W.T])&&(W.G=U),this.b.push({R:f($,W),U:W.h/$.s,V:W.j/$.u,c:W.c,l:W.l});this.i=this.b.length},L:function(h,c){var _=this.width/h,g=this.height/c,b,y,A=this.b.length,M=h*c*A,I=new Uint8ClampedArray(M),R=new Uint32Array(h);for(y=0;y<A;y++){var F=this.b[y],z=F.U*_,D=F.V*g,O=y,k=F.R,Z=F.c+1<<3;for(b=0;b<h;b++)F=0|b*z,R[b]=(F&4294967288)<<3|F&7;for(z=0;z<c;z++)for(F=0|z*D,F=Z*(F&4294967288)|(F&7)<<3,b=0;b<h;b++)I[O]=k[F+R[b]],O+=A}if(g=this.M)for(y=0;y<M;)for(_=F=0;F<A;F++,y++,_+=2)I[y]=(I[y]*g[_]>>8)+g[_+1];return I},w:function(){return this.A?!!this.A.W:this.i===3?this.B!==0:this.B===1},I:function(h){for(var c,_,g,b=0,y=h.length;b<y;b+=3)c=h[b],_=h[b+1],g=h[b+2],h[b]=c-179.456+1.402*g,h[b+1]=c+135.459-.344*_-.714*g,h[b+2]=c-226.816+1.772*_;return h},K:function(h){for(var c,_,g,b,y=0,A=0,M=h.length;A<M;A+=4)c=h[A],_=h[A+1],g=h[A+2],b=h[A+3],h[y++]=-122.67195406894+_*(-660635669420364e-19*_+.000437130475926232*g-54080610064599e-18*c+.00048449797120281*b-.154362151871126)+g*(-.000957964378445773*g+.000817076911346625*c-.00477271405408747*b+1.53380253221734)+c*(.000961250184130688*c-.00266257332283933*b+.48357088451265)+b*(-.000336197177618394*b+.484791561490776),h[y++]=107.268039397724+_*(219927104525741e-19*_-.000640992018297945*g+.000659397001245577*c+.000426105652938837*b-.176491792462875)+g*(-.000778269941513683*g+.00130872261408275*c+.000770482631801132*b-.151051492775562)+c*(.00126935368114843*c-.00265090189010898*b+.25802910206845)+b*(-.000318913117588328*b-.213742400323665),h[y++]=-20.810012546947+_*(-.000570115196973677*_-263409051004589e-19*g+.0020741088115012*c-.00288260236853442*b+.814272968359295)+g*(-153496057440975e-19*g-.000132689043961446*c+.000560833691242812*b-.195152027534049)+c*(.00174418132927582*c-.00255243321439347*b+.116935020465145)+b*(-.000343531996510555*b+.24165260232407);return h.subarray(0,y)},J:function(h){for(var c,_,g,b=0,y=h.length;b<y;b+=4)c=h[b],_=h[b+1],g=h[b+2],h[b]=434.456-c-1.402*g,h[b+1]=119.541-c+.344*_+.714*g,h[b+2]=481.816-c-1.772*_;return h},H:function(h){for(var c,_,g,b,y=0,A=1/255,M=0,I=h.length;M<I;M+=4)c=h[M]*A,_=h[M+1]*A,g=h[M+2]*A,b=h[M+3]*A,h[y++]=255+c*(-4.387332384609988*c+54.48615194189176*_+18.82290502165302*g+212.25662451639585*b-285.2331026137004)+_*(1.7149763477362134*_-5.6096736904047315*g-17.873870861415444*b-5.497006427196366)+g*(-2.5217340131683033*g-21.248923337353073*b+17.5119270841813)-b*(21.86122147463605*b+189.48180835922747),h[y++]=255+c*(8.841041422036149*c+60.118027045597366*_+6.871425592049007*g+31.159100130055922*b-79.2970844816548)+_*(-15.310361306967817*_+17.575251261109482*g+131.35250912493976*b-190.9453302588951)+g*(4.444339102852739*g+9.8632861493405*b-24.86741582555878)-b*(20.737325471181034*b+187.80453709719578),h[y++]=255+c*(.8842522430003296*c+8.078677503112928*_+30.89978309703729*g-.23883238689178934*b-14.183576799673286)+_*(10.49593273432072*_+63.02378494754052*g+50.606957656360734*b-112.23884253719248)+g*(.03296041114873217*g+115.60384449646641*b-193.58209356861505)-b*(22.33816807309886*b+180.12613974708367);return h.subarray(0,y)},getData:function(h,c,_){if(4<this.i)throw new t("Unsupported color mode");if(h=this.L(h,c),this.i===1&&_){_=h.length,c=new Uint8ClampedArray(3*_);for(var g=0,b=0;b<_;b++){var y=h[b];c[g++]=y,c[g++]=y,c[g++]=y}return c}if(this.i===3&&this.w())return this.I(h);if(this.i===4){if(this.w())return _?this.K(h):this.J(h);if(_)return this.H(h)}return h}},s.JpegDecoder=o})()})(),s.encodeImage=function(r,t,e,o){var l={t256:[t],t257:[e],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[e],t279:[t*e*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(o)for(var n in o)l[n]=o[n];for(var f=new Uint8Array(s.encode([l])),i=new Uint8Array(r),u=new Uint8Array(1e3+t*e*4),n=0;n<f.length;n++)u[n]=f[n];for(var n=0;n<i.length;n++)u[1e3+n]=i[n];return u.buffer},s.encode=function(r){var t=new Uint8Array(2e4),e=4,o=s._binBE;t[0]=77,t[1]=77,t[3]=42;var l=8;o.writeUint(t,e,l),e+=4;for(var n=0;n<r.length;n++){var f=s._writeIFD(o,t,l,r[n]);l=f[1],n<r.length-1&&o.writeUint(t,f[0],l)}return t.slice(0,l).buffer},s.decode=function(r){s.decode._decodeG3.allow2D=null;var t=new Uint8Array(r),e=0,o=s._binBE.readASCII(t,e,2);e+=2;var l=o=="II"?s._binLE:s._binBE;l.readUshort(t,e),e+=2;var n=l.readUint(t,e);e+=4;for(var f=[];;){var i=s._readIFD(l,t,n,f);if(n=l.readUint(t,i),n==0)break}return f},s.decodeImages=function(r,t){for(var e=new Uint8Array(r),o=s._binBE.readASCII(e,0,2),l=0;l<t.length;l++){var n=t[l];if(n.t256!=null){n.isLE=o=="II",n.width=n.t256[0],n.height=n.t257[0];var f=n.t259?n.t259[0]:1,i=n.t266?n.t266[0]:1;n.t284&&n.t284[0]==2&&d("PlanarConfiguration 2 should not be used!");var u=(n.t258?Math.min(32,n.t258[0]):1)*(n.t277?n.t277[0]:1),h=Math.ceil(n.width*u/8)*8,c=n.t273;c==null&&(c=n.t324);var _=n.t279;f==1&&c.length==1&&(_=[n.height*(h>>>3)]),_==null&&(_=n.t325);var g=new Uint8Array(n.height*(h>>>3)),b=0;if(n.t322!=null){for(var y=n.t322[0],A=n.t323[0],M=Math.floor((n.width+y-1)/y),I=Math.floor((n.height+A-1)/A),R=new Uint8Array(Math.ceil(y*A*u/8)|0),F=0;F<I;F++)for(var z=0;z<M;z++){for(var D=F*M+z,O=0;O<R.length;O++)R[O]=0;s.decode._decompress(n,e,c[D],_[D],f,R,0,i),f==6?g=R:s._copyTile(R,Math.ceil(y*u/8)|0,A,g,Math.ceil(n.width*u/8)|0,n.height,Math.ceil(z*y*u/8)|0,F*A)}b=g.length*8}else{var k=n.t278?n.t278[0]:n.height;k=Math.min(k,n.height);for(var D=0;D<c.length;D++)s.decode._decompress(n,e,c[D],_[D],f,g,Math.ceil(b/8)|0,i),b+=h*k;b=Math.min(b,g.length*8)}n.data=new Uint8Array(g.buffer,0,Math.ceil(b/8)|0)}}},s.decode._decompress=function(r,t,e,o,l,n,f,i){if(l==1)for(var u=0;u<o;u++)n[f+u]=t[e+u];else if(l==3)s.decode._decodeG3(t,e,o,n,f,r.width,i);else if(l==4)s.decode._decodeG4(t,e,o,n,f,r.width,i);else if(l==5)s.decode._decodeLZW(t,e,n,f);else if(l==6)s.decode._decodeOldJPEG(r,t,e,o,n,f);else if(l==7)s.decode._decodeNewJPEG(r,t,e,o,n,f);else if(l==8)for(var h=new Uint8Array(t.buffer,e,o),c=a.inflate(h),_=0;_<c.length;_++)n[f+_]=c[_];else l==32773?s.decode._decodePackBits(t,e,o,n,f):l==32809?s.decode._decodeThunder(t,e,o,n,f):d("Unknown compression",l);if(r.t317&&r.t317[0]==2)for(var g=r.t277?r.t277[0]:1,b=r.t278?r.t278[0]:r.height,y=r.width*g,A=0;A<b;A++){var M=f+A*y;if(g==3)for(var u=3;u<y;u+=3)n[M+u]=n[M+u]+n[M+u-3]&255,n[M+u+1]=n[M+u+1]+n[M+u-2]&255,n[M+u+2]=n[M+u+2]+n[M+u-1]&255;else for(var u=g;u<y;u++)n[M+u]=n[M+u]+n[M+u-g]&255}},s.decode._decodeNikon=function(r,t,i,o,l){var n,f,i;d(r.slice(t,t+100)),n=r[t],t++,f=r[t],t++,d(n.toString(16),f.toString(16),i)},s.decode._decodeNewJPEG=function(r,t,e,o,l,n){var f=r.t347,i=f?f.length:0,u=new Uint8Array(i+o);if(f){for(var h=216,c=217,_=0,g=0;g<i-1&&!(f[g]==255&&f[g+1]==c);g++)u[_++]=f[g];var b=t[e],y=t[e+1];(b!=255||y!=h)&&(u[_++]=b,u[_++]=y);for(var g=2;g<o;g++)u[_++]=t[e+g]}else for(var g=0;g<o;g++)u[g]=t[e+g];if(r.t262==32803){var A=r.t258[0],M=new LosslessJpegDecoder,I=M.decode(u),R=I.length;if(A==16)for(var g=0;g<R;g++)l[n++]=I[g]&255,l[n++]=I[g]>>>8;else if(A==12)for(var g=0;g<R;g+=2)l[n++]=I[g]>>>4,l[n++]=(I[g]<<4|I[g+1]>>>8)&255,l[n++]=I[g+1]&255;else throw new Error("unsupported bit depth "+A)}else{var F=new s.JpegDecoder;F.parse(u);for(var z=F.getData(F.width,F.height),g=0;g<z.length;g++)l[n+g]=z[g]}r.t262[0]==6&&(r.t262[0]=2)},s.decode._decodeOldJPEGInit=function(r,t,e,o){var l=216,n=219,f=196,i=221,u=192,h=218,c=0,_=0,g,b,y=!1,A,M,I,R=r.t513,F=R?R[0]:0,z=r.t514,D=z?z[0]:0,O=r.t324||r.t273||R,k=r.t530,Z=0,$=0,te=r.t277?r.t277[0]:1,q=r.t515;if(O&&(_=O[0],y=O.length>1),!y){if(t[e]==255&&t[e+1]==l)return{jpegOffset:e};if(R!=null&&(t[e+F]==255&&t[e+F+1]==l?c=e+F:d("JPEGInterchangeFormat does not point to SOI"),z==null?d("JPEGInterchangeFormatLength field is missing"):(F>=_||F+D<=_)&&d("JPEGInterchangeFormatLength field value is invalid"),c!=null))return{jpegOffset:c}}if(k!=null&&(Z=k[0],$=k[1]),R!=null&&z!=null)if(D>=2&&F+D<=_){for(t[e+F+D-2]==255&&t[e+F+D-1]==l?g=new Uint8Array(D-2):g=new Uint8Array(D),A=0;A<g.length;A++)g[A]=t[e+F+A];d("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else d("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(g==null){var U=0,W=[];W[U++]=255,W[U++]=l;var G=r.t519;if(G==null)throw new Error("JPEGQTables tag is missing");for(A=0;A<G.length;A++)for(W[U++]=255,W[U++]=n,W[U++]=0,W[U++]=67,W[U++]=A,M=0;M<64;M++)W[U++]=t[e+G[A]+M];for(I=0;I<2;I++){var V=r[I==0?"t520":"t521"];if(V==null)throw new Error((I==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(A=0;A<V.length;A++){W[U++]=255,W[U++]=f;var re=19;for(M=0;M<16;M++)re+=t[e+V[A]+M];for(W[U++]=re>>>8,W[U++]=re&255,W[U++]=A|I<<4,M=0;M<16;M++)W[U++]=t[e+V[A]+M];for(M=0;M<re;M++)W[U++]=t[e+V[A]+16+M]}}if(W[U++]=255,W[U++]=u,W[U++]=0,W[U++]=8+3*te,W[U++]=8,W[U++]=r.height>>>8&255,W[U++]=r.height&255,W[U++]=r.width>>>8&255,W[U++]=r.width&255,W[U++]=te,te==1)W[U++]=1,W[U++]=17,W[U++]=0;else for(A=0;A<3;A++)W[U++]=A+1,W[U++]=A!=0?17:(Z&15)<<4|$&15,W[U++]=A;q!=null&&q[0]!=0&&(W[U++]=255,W[U++]=i,W[U++]=0,W[U++]=4,W[U++]=q[0]>>>8&255,W[U++]=q[0]&255),g=new Uint8Array(W)}var se=-1;for(A=0;A<g.length-1;){if(g[A]==255&&g[A+1]==u){se=A;break}A++}if(se==-1){var fe=new Uint8Array(g.length+10+3*te);fe.set(g);var ue=g.length;if(se=g.length,g=fe,g[ue++]=255,g[ue++]=u,g[ue++]=0,g[ue++]=8+3*te,g[ue++]=8,g[ue++]=r.height>>>8&255,g[ue++]=r.height&255,g[ue++]=r.width>>>8&255,g[ue++]=r.width&255,g[ue++]=te,te==1)g[ue++]=1,g[ue++]=17,g[ue++]=0;else for(A=0;A<3;A++)g[ue++]=A+1,g[ue++]=A!=0?17:(Z&15)<<4|$&15,g[ue++]=A}if(t[_]==255&&t[_+1]==h){var pe=t[_+2]<<8|t[_+3];for(b=new Uint8Array(pe+2),b[0]=t[_],b[1]=t[_+1],b[2]=t[_+2],b[3]=t[_+3],A=0;A<pe-2;A++)b[A+4]=t[_+A+4]}else{b=new Uint8Array(2+6+2*te);var ne=0;if(b[ne++]=255,b[ne++]=h,b[ne++]=0,b[ne++]=6+2*te,b[ne++]=te,te==1)b[ne++]=1,b[ne++]=0;else for(A=0;A<3;A++)b[ne++]=A+1,b[ne++]=A<<4|A;b[ne++]=0,b[ne++]=63,b[ne++]=0}return{jpegOffset:e,tables:g,sosMarker:b,sofPosition:se}},s.decode._decodeOldJPEG=function(r,t,e,o,l,n){var f,i,u,h,c=s.decode._decodeOldJPEGInit(r,t,e,o);if(c.jpegOffset!=null)for(i=e+o-c.jpegOffset,h=new Uint8Array(i),f=0;f<i;f++)h[f]=t[c.jpegOffset+f];else{for(u=c.tables.length,h=new Uint8Array(u+c.sosMarker.length+o+2),h.set(c.tables),h[c.sofPosition+5]=r.height>>>8&255,h[c.sofPosition+6]=r.height&255,h[c.sofPosition+7]=r.width>>>8&255,h[c.sofPosition+8]=r.width&255,(t[e]!=255||t[e+1]!=SOS)&&(h.set(c.sosMarker,bufoff),bufoff+=sosMarker.length),f=0;f<o;f++)h[bufoff++]=t[e+f];h[bufoff++]=255,h[bufoff++]=EOI}var _=new s.JpegDecoder;_.parse(h);for(var g=_.getData(_.width,_.height),f=0;f<g.length;f++)l[n+f]=g[f];r.t262[0]==6&&(r.t262[0]=2)},s.decode._decodePackBits=function(r,t,e,o,l){for(var n=new Int8Array(r.buffer),f=new Int8Array(o.buffer),i=t+e;t<i;){var u=n[t];if(t++,u>=0&&u<128)for(var h=0;h<u+1;h++)f[l]=n[t],l++,t++;if(u>=-127&&u<0){for(var h=0;h<-u+1;h++)f[l]=n[t],l++;t++}}},s.decode._decodeThunder=function(r,t,e,o,l){for(var n=[0,1,0,-1],f=[0,1,2,3,0,-3,-2,-1],i=t+e,u=l*2,h=0;t<i;){var c=r[t],_=c>>>6,g=c&63;if(t++,_==3&&(h=g&15,o[u>>>1]|=h<<4*(1-u&1),u++),_==0)for(var b=0;b<g;b++)o[u>>>1]|=h<<4*(1-u&1),u++;if(_==2)for(var b=0;b<2;b++){var y=g>>>3*(1-b)&7;y!=4&&(h+=f[y],o[u>>>1]|=h<<4*(1-u&1),u++)}if(_==1)for(var b=0;b<3;b++){var y=g>>>2*(2-b)&3;y!=2&&(h+=n[y],o[u>>>1]|=h<<4*(1-u&1),u++)}}},s.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},s.decode._lens=function(){var r=function(u,h,c,_){for(var g=0;g<h.length;g++)u[h[g]]=c+g*_},t="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",e="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",o="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",l="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",n="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";t=t.split(","),e=e.split(","),o=o.split(","),l=l.split(","),n=n.split(",");var f={},i={};return r(f,t,0,1),r(f,o,64,64),r(f,n,1792,64),r(i,e,0,1),r(i,l,64,64),r(i,n,1792,64),[f,i]}(),s.decode._decodeG4=function(r,t,e,o,l,n,f){for(var i=s.decode,u=t<<3,h=0,c="",_=[],g=[],b=0;b<n;b++)g.push(0);g=i._makeDiff(g);for(var y=0,A=0,M=0,I=0,R=0,F=0,z="",D=0,O=Math.ceil(n/8)*8;u>>>3<t+e;){M=i._findDiff(g,y+(y==0?0:1),1-R),I=i._findDiff(g,M,R);var k=0;if(f==1&&(k=r[u>>>3]>>>7-(u&7)&1),f==2&&(k=r[u>>>3]>>>(u&7)&1),u++,c+=k,z=="H"){if(i._lens[R][c]!=null){var Z=i._lens[R][c];c="",h+=Z,Z<64&&(i._addNtimes(_,h,R),y+=h,R=1-R,h=0,D--,D==0&&(z=""))}}else c=="0001"&&(c="",i._addNtimes(_,I-y,R),y=I),c=="001"&&(c="",z="H",D=2),i._dmap[c]!=null&&(A=M+i._dmap[c],i._addNtimes(_,A-y,R),y=A,c="",R=1-R);_.length==n&&z==""&&(i._writeBits(_,o,l*8+F*O),R=0,F++,y=0,g=i._makeDiff(_),_=[])}},s.decode._findDiff=function(r,t,e){for(var o=0;o<r.length;o+=2)if(r[o]>=t&&r[o+1]==e)return r[o]},s.decode._makeDiff=function(r){var t=[];r[0]==1&&t.push(0,1);for(var e=1;e<r.length;e++)r[e-1]!=r[e]&&t.push(e,r[e]);return t.push(r.length,0,r.length,1),t},s.decode._decodeG3=function(r,t,e,o,l,n,f){for(var i=s.decode,u=t<<3,h=0,c="",_=[],g=[],b=0;b<n;b++)_.push(0);for(var y=0,A=0,M=0,I=0,R=0,F=-1,z="",D=0,O=!1,k=Math.ceil(n/8)*8;u>>>3<t+e;){M=i._findDiff(g,y+(y==0?0:1),1-R),I=i._findDiff(g,M,R);var Z=0;if(f==1&&(Z=r[u>>>3]>>>7-(u&7)&1),f==2&&(Z=r[u>>>3]>>>(u&7)&1),u++,c+=Z,O){if(i._lens[R][c]!=null){var $=i._lens[R][c];c="",h+=$,$<64&&(i._addNtimes(_,h,R),R=1-R,h=0)}}else if(z=="H"){if(i._lens[R][c]!=null){var $=i._lens[R][c];c="",h+=$,$<64&&(i._addNtimes(_,h,R),y+=h,R=1-R,h=0,D--,D==0&&(z=""))}}else c=="0001"&&(c="",i._addNtimes(_,I-y,R),y=I),c=="001"&&(c="",z="H",D=2),i._dmap[c]!=null&&(A=M+i._dmap[c],i._addNtimes(_,A-y,R),y=A,c="",R=1-R);c.endsWith("000000000001")&&(F>=0&&i._writeBits(_,o,l*8+F*k),f==1&&(O=(r[u>>>3]>>>7-(u&7)&1)==1),f==2&&(O=(r[u>>>3]>>>(u&7)&1)==1),u++,i._decodeG3.allow2D==null&&(i._decodeG3.allow2D=O),i._decodeG3.allow2D||(O=!0,u--),c="",R=0,F++,y=0,g=i._makeDiff(_),_=[])}_.length==n&&i._writeBits(_,o,l*8+F*k)},s.decode._addNtimes=function(r,t,e){for(var o=0;o<t;o++)r.push(e)},s.decode._writeBits=function(r,t,e){for(var o=0;o<r.length;o++)t[e+o>>>3]|=r[o]<<7-(e+o&7)},s.decode._decodeLZW=function(r,t,e,o){if(s.decode._lzwTab==null){for(var l=new Uint32Array(65535),n=new Uint16Array(65535),c=new Uint8Array(2e6),f=0;f<256;f++)c[f<<2]=f,l[f]=f<<2,n[f]=1;s.decode._lzwTab=[l,n,c]}for(var i=s.decode._copyData,u=s.decode._lzwTab[0],h=s.decode._lzwTab[1],c=s.decode._lzwTab[2],_=258,g=1032,b=9,y=t<<3,A=256,M=257,I=0,R=0,F=0;I=r[y>>>3]<<16|r[y+8>>>3]<<8|r[y+16>>>3],R=I>>24-(y&7)-b&(1<<b)-1,y+=b,R!=M;){if(R==A){if(b=9,_=258,g=1032,I=r[y>>>3]<<16|r[y+8>>>3]<<8|r[y+16>>>3],R=I>>24-(y&7)-b&(1<<b)-1,y+=b,R==M)break;e[o]=R,o++}else if(R<_){var z=u[R],D=h[R];if(i(c,z,e,o,D),o+=D,F>=_)u[_]=g,c[u[_]]=z[0],h[_]=1,g=g+1+3&-4,_++;else{u[_]=g;var O=u[F],k=h[F];i(c,O,c,g,k),c[g+k]=c[z],k++,h[_]=k,_++,g=g+k+3&-4}_+1==1<<b&&b++}else{if(F>=_)u[_]=g,h[_]=0,_++;else{u[_]=g;var O=u[F],k=h[F];i(c,O,c,g,k),c[g+k]=c[g],k++,h[_]=k,_++,i(c,g,e,o,k),o+=k,g=g+k+3&-4}_+1==1<<b&&b++}F=R}},s.decode._copyData=function(r,t,e,o,l){for(var n=0;n<l;n+=4)e[o+n]=r[t+n],e[o+n+1]=r[t+n+1],e[o+n+2]=r[t+n+2],e[o+n+3]=r[t+n+3]},s.tags={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffset",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",296:"ResolutionUnit",297:"PageNumber",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffset",325:"TileByteCounts",330:"SubIFDs",336:"DotRange",338:"ExtraSample",339:"SampleFormat",347:"JPEGTables",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",700:"XMP",33421:"CFARepeatPatternDim",33422:"CFAPattern",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33723:"IPTC/NAA",34377:"Photoshop",34665:"ExifIFD",34675:"ICC Profile",34850:"ExposureProgram",34853:"GPSInfo",34855:"ISOSpeedRatings",34858:"TimeZoneOffset",34859:"SelfTimeMode",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37377:"ShutterSpeedValue",37378:"ApertureValue",37380:"ExposureBiasValue",37383:"MeteringMode",37385:"Flash",37386:"FocalLength",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37398:"TIFF/EPStandardID",37399:"SensingMethod",37500:"MakerNote",37510:"UserComment",37724:"ImageSourceData",40092:"XPComment",40094:"XPKeywords",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelXDimension",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50733:"BayerGreenSplit",50738:"AntiAliasStrength",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50727:"AnalogBalance",50728:"AsShotNeutral",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50827:"OriginalRawFileName",50829:"ActiveArea",50830:"MaskedAreas",50931:"CameraCalibrationSignature",50932:"ProfileCalibrationSignature",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualityFinalSize",51091:"OriginalDefaultCropSize",51125:"DefaultUserCrop"},s.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},s._readIFD=function(r,t,e,o){var l=r.readUshort(t,e);e+=2;var n={};o.push(n);for(var f=0;f<l;f++){var i=r.readUshort(t,e);e+=2;var u=r.readUshort(t,e);e+=2;var h=r.readUint(t,e);e+=4;var c=r.readUint(t,e);e+=4;var _=[];if(n["t"+i]=_,u==1||u==7)for(var g=0;g<h;g++)_.push(t[(h<5?e-4:c)+g]);if(u==2&&_.push(r.readASCII(t,h<5?e-4:c,h-1)),u==3)for(var g=0;g<h;g++)_.push(r.readUshort(t,(h<3?e-4:c)+2*g));if(u==4)for(var g=0;g<h;g++)_.push(r.readUint(t,(h<2?e-4:c)+4*g));if(u==5)for(var g=0;g<h;g++)_.push(r.readUint(t,c+g*8)/r.readUint(t,c+g*8+4));if(u==8)for(var g=0;g<h;g++)_.push(r.readShort(t,(h<3?e-4:c)+2*g));if(u==9)for(var g=0;g<h;g++)_.push(r.readInt(t,(h<2?e-4:c)+4*g));if(u==10)for(var g=0;g<h;g++)_.push(r.readInt(t,c+g*8)/r.readInt(t,c+g*8+4));if(u==11)for(var g=0;g<h;g++)_.push(r.readFloat(t,c+g*4));if(u==12)for(var g=0;g<h;g++)_.push(r.readDouble(t,c+g*8));if(h!=0&&_.length==0&&d("unknown TIFF tag type: ",u,"num:",h),i==330)for(var g=0;g<h;g++)s._readIFD(r,t,_[g],o)}return e},s._writeIFD=function(r,t,e,o){var l=Object.keys(o);r.writeUshort(t,e,l.length),e+=2;for(var n=e+l.length*12+4,f=0;f<l.length;f++){var i=l[f],u=parseInt(i.slice(1)),h=s.ttypes[u];if(h==null)throw new Error("unknown type of tag: "+u);var c=o[i];h==2&&(c=c[0]+"\0");var _=c.length;r.writeUshort(t,e,u),e+=2,r.writeUshort(t,e,h),e+=2,r.writeUint(t,e,_),e+=4;var g=[-1,1,1,2,4,8,0,0,0,0,0,0,8][h]*_,b=e;if(g>4&&(r.writeUint(t,e,n),b=n),h==2&&r.writeASCII(t,b,c),h==3)for(var y=0;y<_;y++)r.writeUshort(t,b+2*y,c[y]);if(h==4)for(var y=0;y<_;y++)r.writeUint(t,b+4*y,c[y]);if(h==5)for(var y=0;y<_;y++)r.writeUint(t,b+8*y,Math.round(c[y]*1e4)),r.writeUint(t,b+8*y+4,1e4);if(h==12)for(var y=0;y<_;y++)r.writeDouble(t,b+8*y,c[y]);g>4&&(g+=g&1,n+=g),e+=4}return[e,n]},s.toRGBA8=function(r){var t=r.width,e=r.height,o=t*e,l=o*4,n=r.data,f=new Uint8Array(o*4),i=r.t262[0],u=r.t258?Math.min(32,r.t258[0]):1,h=r.isLE?1:0;if(i==0)for(var c=Math.ceil(u*t/8),_=0;_<e;_++){var g=_*c,b=_*t;if(u==1)for(var y=0;y<t;y++){var A=b+y<<2,M=n[g+(y>>3)]>>7-(y&7)&1;f[A]=f[A+1]=f[A+2]=(1-M)*255,f[A+3]=255}if(u==4)for(var y=0;y<t;y++){var A=b+y<<2,M=n[g+(y>>1)]>>4-4*(y&1)&15;f[A]=f[A+1]=f[A+2]=(15-M)*17,f[A+3]=255}if(u==8)for(var y=0;y<t;y++){var A=b+y<<2,M=n[g+y];f[A]=f[A+1]=f[A+2]=255-M,f[A+3]=255}}else if(i==1)for(var c=Math.ceil(u*t/8),_=0;_<e;_++){var g=_*c,b=_*t;if(u==1)for(var y=0;y<t;y++){var A=b+y<<2,M=n[g+(y>>3)]>>7-(y&7)&1;f[A]=f[A+1]=f[A+2]=M*255,f[A+3]=255}if(u==2)for(var y=0;y<t;y++){var A=b+y<<2,M=n[g+(y>>2)]>>6-2*(y&3)&3;f[A]=f[A+1]=f[A+2]=M*85,f[A+3]=255}if(u==8)for(var y=0;y<t;y++){var A=b+y<<2,M=n[g+y];f[A]=f[A+1]=f[A+2]=M,f[A+3]=255}if(u==16)for(var y=0;y<t;y++){var A=b+y<<2,M=n[g+(2*y+h)];f[A]=f[A+1]=f[A+2]=Math.min(255,M),f[A+3]=255}}else if(i==2)if(u==8)if(r.t338)if(r.t338[0]>0)for(var y=0;y<l;y++)f[y]=n[y];else for(var y=0;y<l;y+=4)f[y]=n[y],f[y+1]=n[y+1],f[y+2]=n[y+2],f[y+3]=255;else{var I=r.t258?r.t258.length:3;if(I==4)for(var y=0;y<l;y++)f[y]=n[y];if(I==3)for(var y=0;y<o;y++){var A=y<<2,R=y*3;f[A]=n[R],f[A+1]=n[R+1],f[A+2]=n[R+2],f[A+3]=255}}else for(var y=0;y<o;y++){var A=y<<2,R=y*6;f[A]=n[R],f[A+1]=n[R+2],f[A+2]=n[R+4],f[A+3]=255}else if(i==3)for(var F=r.t320,y=0;y<o;y++){var A=y<<2,z=n[y];f[A]=F[z]>>8,f[A+1]=F[256+z]>>8,f[A+2]=F[512+z]>>8,f[A+3]=255}else if(i==5)for(var I=r.t258?r.t258.length:4,D=I>4?1:0,y=0;y<o;y++){var A=y<<2,O=y*I,k=255-n[O],Z=255-n[O+1],$=255-n[O+2],te=(255-n[O+3])*(1/255);f[A]=~~(k*te+.5),f[A+1]=~~(Z*te+.5),f[A+2]=~~($*te+.5),f[A+3]=255*(1-D)+n[O+4]*D}else d("Unknown Photometric interpretation: "+i);return f},s.replaceIMG=function(){for(var r=document.getElementsByTagName("img"),t=0;t<r.length;t++){var e=r[t],o=e.getAttribute("src");if(o!=null){var l=o.split(".").pop().toLowerCase();if(!(l!="tif"&&l!="tiff")){var n=new XMLHttpRequest;s._xhrs.push(n),s._imgs.push(e),n.open("GET",o),n.responseType="arraybuffer",n.onload=s._imgLoaded,n.send()}}}},s._xhrs=[],s._imgs=[],s._imgLoaded=function(r){var t=r.target.response,e=s.decode(t),o=e[0];s.decodeImages(t,e);var l=s.toRGBA8(o),n=o.width,f=o.height,i=s._xhrs.indexOf(r.target),u=s._imgs[i];s._xhrs.splice(i,1),s._imgs.splice(i,1);var h=document.createElement("canvas");h.width=n,h.height=f;for(var c=h.getContext("2d"),_=c.createImageData(n,f),g=0;g<l.length;g++)_.data[g]=l[g];c.putImageData(_,0,0);for(var b=["style","class","id"],g=0;g<b.length;g++)h.setAttribute(b[g],u.getAttribute(b[g]));u.parentNode.replaceChild(h,u)},s._binBE={nextZero:function(r,t){for(;r[t]!=0;)t++;return t},readUshort:function(r,t){return r[t]<<8|r[t+1]},readShort:function(r,t){var e=s._binBE.ui8;return e[0]=r[t+1],e[1]=r[t+0],s._binBE.i16[0]},readInt:function(r,t){var e=s._binBE.ui8;return e[0]=r[t+3],e[1]=r[t+2],e[2]=r[t+1],e[3]=r[t+0],s._binBE.i32[0]},readUint:function(r,t){var e=s._binBE.ui8;return e[0]=r[t+3],e[1]=r[t+2],e[2]=r[t+1],e[3]=r[t+0],s._binBE.ui32[0]},readASCII:function(r,t,e){for(var o="",l=0;l<e;l++)o+=String.fromCharCode(r[t+l]);return o},readFloat:function(r,t){for(var e=s._binBE.ui8,o=0;o<4;o++)e[o]=r[t+3-o];return s._binBE.fl32[0]},readDouble:function(r,t){for(var e=s._binBE.ui8,o=0;o<8;o++)e[o]=r[t+7-o];return s._binBE.fl64[0]},writeUshort:function(r,t,e){r[t]=e>>8&255,r[t+1]=e&255},writeUint:function(r,t,e){r[t]=e>>24&255,r[t+1]=e>>16&255,r[t+2]=e>>8&255,r[t+3]=e>>0&255},writeASCII:function(r,t,e){for(var o=0;o<e.length;o++)r[t+o]=e.charCodeAt(o)},writeDouble:function(r,t,e){s._binBE.fl64[0]=e;for(var o=0;o<8;o++)r[t+o]=s._binBE.ui8[7-o]}},s._binBE.ui8=new Uint8Array(8),s._binBE.i16=new Int16Array(s._binBE.ui8.buffer),s._binBE.i32=new Int32Array(s._binBE.ui8.buffer),s._binBE.ui32=new Uint32Array(s._binBE.ui8.buffer),s._binBE.fl32=new Float32Array(s._binBE.ui8.buffer),s._binBE.fl64=new Float64Array(s._binBE.ui8.buffer),s._binLE={nextZero:s._binBE.nextZero,readUshort:function(r,t){return r[t+1]<<8|r[t]},readShort:function(r,t){var e=s._binBE.ui8;return e[0]=r[t+0],e[1]=r[t+1],s._binBE.i16[0]},readInt:function(r,t){var e=s._binBE.ui8;return e[0]=r[t+0],e[1]=r[t+1],e[2]=r[t+2],e[3]=r[t+3],s._binBE.i32[0]},readUint:function(r,t){var e=s._binBE.ui8;return e[0]=r[t+0],e[1]=r[t+1],e[2]=r[t+2],e[3]=r[t+3],s._binBE.ui32[0]},readASCII:s._binBE.readASCII,readFloat:function(r,t){for(var e=s._binBE.ui8,o=0;o<4;o++)e[o]=r[t+o];return s._binBE.fl32[0]},readDouble:function(r,t){for(var e=s._binBE.ui8,o=0;o<8;o++)e[o]=r[t+o];return s._binBE.fl64[0]}},s._copyTile=function(r,t,e,o,l,n,f,i){for(var u=Math.min(t,l-f),h=Math.min(e,n-i),c=0;c<h;c++)for(var _=(i+c)*l+f,g=c*t,b=0;b<u;b++)o[_+b]=r[g+b]}})(m,p)})()}).call(this,E("_process"))},{_process:133,pako:86}],183:[function(E,j,w){(function(x){j.exports=m;function m(d,s){if(p("noDeprecation"))return d;var a=!1;function r(){if(!a){if(p("throwDeprecation"))throw new Error(s);p("traceDeprecation")?console.trace(s):console.warn(s),a=!0}return d.apply(this,arguments)}return r}function p(d){try{if(!x.localStorage)return!1}catch{return!1}var s=x.localStorage[d];return s==null?!1:String(s).toLowerCase()==="true"}}).call(this,typeof He<"u"?He:typeof self<"u"?self:typeof xe<"u"?xe:{})},{}],184:[function(E,j,w){arguments[4][26][0].apply(w,arguments)},{dup:26}],185:[function(E,j,w){arguments[4][27][0].apply(w,arguments)},{dup:27}],186:[function(E,j,w){arguments[4][28][0].apply(w,arguments)},{"./support/isBuffer":185,_process:133,dup:28,inherits:184}],187:[function(E,j,w){var x=E("global/window"),m=E("is-function"),p=E("parse-headers"),d=E("xtend");j.exports=t,j.exports.default=t,t.XMLHttpRequest=x.XMLHttpRequest||l,t.XDomainRequest="withCredentials"in new t.XMLHttpRequest?t.XMLHttpRequest:x.XDomainRequest,s(["get","put","post","patch","head","delete"],function(n){t[n==="delete"?"del":n]=function(f,i,u){return i=r(f,i,u),i.method=n.toUpperCase(),e(i)}});function s(n,f){for(var i=0;i<n.length;i++)f(n[i])}function a(n){for(var f in n)if(n.hasOwnProperty(f))return!1;return!0}function r(n,f,i){var u=n;return m(f)?(i=f,typeof n=="string"&&(u={uri:n})):u=d(f,{uri:n}),u.callback=i,u}function t(n,f,i){return f=r(n,f,i),e(f)}function e(n){if(typeof n.callback>"u")throw new Error("callback argument missing");var f=!1,i=function(Z,$,te){f||(f=!0,n.callback(Z,$,te))};function u(){g.readyState===4&&setTimeout(_,0)}function h(){var k=void 0;if(g.response?k=g.response:k=g.responseText||o(g),z)try{k=JSON.parse(k)}catch{}return k}function c(k){return clearTimeout(D),k instanceof Error||(k=new Error(""+(k||"Unknown XMLHttpRequest Error"))),k.statusCode=0,i(k,O)}function _(){if(!y){var k;clearTimeout(D),n.useXDR&&g.status===void 0?k=200:k=g.status===1223?204:g.status;var Z=O,$=null;return k!==0?(Z={body:h(),statusCode:k,method:M,headers:{},url:A,rawRequest:g},g.getAllResponseHeaders&&(Z.headers=p(g.getAllResponseHeaders()))):$=new Error("Internal XMLHttpRequest Error"),i($,Z,Z.body)}}var g=n.xhr||null;g||(n.cors||n.useXDR?g=new t.XDomainRequest:g=new t.XMLHttpRequest);var b,y,A=g.url=n.uri||n.url,M=g.method=n.method||"GET",I=n.body||n.data,R=g.headers=n.headers||{},F=!!n.sync,z=!1,D,O={body:void 0,headers:{},statusCode:0,method:M,url:A,rawRequest:g};if("json"in n&&n.json!==!1&&(z=!0,R.accept||R.Accept||(R.Accept="application/json"),M!=="GET"&&M!=="HEAD"&&(R["content-type"]||R["Content-Type"]||(R["Content-Type"]="application/json"),I=JSON.stringify(n.json===!0?I:n.json))),g.onreadystatechange=u,g.onload=_,g.onerror=c,g.onprogress=function(){},g.onabort=function(){y=!0},g.ontimeout=c,g.open(M,A,!F,n.username,n.password),F||(g.withCredentials=!!n.withCredentials),!F&&n.timeout>0&&(D=setTimeout(function(){if(!y){y=!0,g.abort("timeout");var k=new Error("XMLHttpRequest timeout");k.code="ETIMEDOUT",c(k)}},n.timeout)),g.setRequestHeader)for(b in R)R.hasOwnProperty(b)&&g.setRequestHeader(b,R[b]);else if(n.headers&&!a(n.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in n&&(g.responseType=n.responseType),"beforeSend"in n&&typeof n.beforeSend=="function"&&n.beforeSend(g),g.send(I||null),g}function o(n){try{if(n.responseType==="document")return n.responseXML;var f=n.responseXML&&n.responseXML.documentElement.nodeName==="parsererror";if(n.responseType===""&&!f)return n.responseXML}catch{}return null}function l(){}},{"global/window":71,"is-function":78,"parse-headers":106,xtend:189}],188:[function(E,j,w){j.exports=function(){return typeof self.DOMParser<"u"?function(m){var p=new self.DOMParser;return p.parseFromString(m,"application/xml")}:typeof self.ActiveXObject<"u"&&new self.ActiveXObject("Microsoft.XMLDOM")?function(m){var p=new self.ActiveXObject("Microsoft.XMLDOM");return p.async="false",p.loadXML(m),p}:function(m){var p=document.createElement("div");return p.innerHTML=m,p}}()},{}],189:[function(E,j,w){j.exports=m;var x=Object.prototype.hasOwnProperty;function m(){for(var p={},d=0;d<arguments.length;d++){var s=arguments[d];for(var a in s)x.call(s,a)&&(p[a]=s[a])}return p}},{}],190:[function(E,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.srcOver=x,w.dstOver=m,w.multiply=p,w.add=d,w.screen=s,w.overlay=a,w.darken=r,w.lighten=t,w.hardLight=e,w.difference=o,w.exclusion=l;function x(n,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=i;var u=f.a+n.a-f.a*n.a,h=(n.r*n.a+f.r*f.a*(1-n.a))/u,c=(n.g*n.a+f.g*f.a*(1-n.a))/u,_=(n.b*n.a+f.b*f.a*(1-n.a))/u;return{r:h,g:c,b:_,a:u}}function m(n,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=i;var u=f.a+n.a-f.a*n.a,h=(f.r*f.a+n.r*n.a*(1-f.a))/u,c=(f.g*f.a+n.g*n.a*(1-f.a))/u,_=(f.b*f.a+n.b*n.a*(1-f.a))/u;return{r:h,g:c,b:_,a:u}}function p(n,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=i;var u=f.a+n.a-f.a*n.a,h=n.r*n.a,c=n.g*n.a,_=n.b*n.a,g=f.r*f.a,b=f.g*f.a,y=f.b*f.a,A=(h*g+h*(1-f.a)+g*(1-n.a))/u,M=(c*b+c*(1-f.a)+b*(1-n.a))/u,I=(_*y+_*(1-f.a)+y*(1-n.a))/u;return{r:A,g:M,b:I,a:u}}function d(n,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=i;var u=f.a+n.a-f.a*n.a,h=n.r*n.a,c=n.g*n.a,_=n.b*n.a,g=f.r*f.a,b=f.g*f.a,y=f.b*f.a,A=(h+g)/u,M=(c+b)/u,I=(_+y)/u;return{r:A,g:M,b:I,a:u}}function s(n,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=i;var u=f.a+n.a-f.a*n.a,h=n.r*n.a,c=n.g*n.a,_=n.b*n.a,g=f.r*f.a,b=f.g*f.a,y=f.b*f.a,A=(h*f.a+g*n.a-h*g+h*(1-f.a)+g*(1-n.a))/u,M=(c*f.a+b*n.a-c*b+c*(1-f.a)+b*(1-n.a))/u,I=(_*f.a+y*n.a-_*y+_*(1-f.a)+y*(1-n.a))/u;return{r:A,g:M,b:I,a:u}}function a(n,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=i;var u=f.a+n.a-f.a*n.a,h=n.r*n.a,c=n.g*n.a,_=n.b*n.a,g=f.r*f.a,b=f.g*f.a,y=f.b*f.a,A=(2*g<=f.a?2*h*g+h*(1-f.a)+g*(1-n.a):h*(1+f.a)+g*(1+n.a)-2*g*h-f.a*n.a)/u,M=(2*b<=f.a?2*c*b+c*(1-f.a)+b*(1-n.a):c*(1+f.a)+b*(1+n.a)-2*b*c-f.a*n.a)/u,I=(2*y<=f.a?2*_*y+_*(1-f.a)+y*(1-n.a):_*(1+f.a)+y*(1+n.a)-2*y*_-f.a*n.a)/u;return{r:A,g:M,b:I,a:u}}function r(n,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=i;var u=f.a+n.a-f.a*n.a,h=n.r*n.a,c=n.g*n.a,_=n.b*n.a,g=f.r*f.a,b=f.g*f.a,y=f.b*f.a,A=(Math.min(h*f.a,g*n.a)+h*(1-f.a)+g*(1-n.a))/u,M=(Math.min(c*f.a,b*n.a)+c*(1-f.a)+b*(1-n.a))/u,I=(Math.min(_*f.a,y*n.a)+_*(1-f.a)+y*(1-n.a))/u;return{r:A,g:M,b:I,a:u}}function t(n,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=i;var u=f.a+n.a-f.a*n.a,h=n.r*n.a,c=n.g*n.a,_=n.b*n.a,g=f.r*f.a,b=f.g*f.a,y=f.b*f.a,A=(Math.max(h*f.a,g*n.a)+h*(1-f.a)+g*(1-n.a))/u,M=(Math.max(c*f.a,b*n.a)+c*(1-f.a)+b*(1-n.a))/u,I=(Math.max(_*f.a,y*n.a)+_*(1-f.a)+y*(1-n.a))/u;return{r:A,g:M,b:I,a:u}}function e(n,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=i;var u=f.a+n.a-f.a*n.a,h=n.r*n.a,c=n.g*n.a,_=n.b*n.a,g=f.r*f.a,b=f.g*f.a,y=f.b*f.a,A=(2*h<=n.a?2*h*g+h*(1-f.a)+g*(1-n.a):h*(1+f.a)+g*(1+n.a)-2*g*h-f.a*n.a)/u,M=(2*c<=n.a?2*c*b+c*(1-f.a)+b*(1-n.a):c*(1+f.a)+b*(1+n.a)-2*b*c-f.a*n.a)/u,I=(2*_<=n.a?2*_*y+_*(1-f.a)+y*(1-n.a):_*(1+f.a)+y*(1+n.a)-2*y*_-f.a*n.a)/u;return{r:A,g:M,b:I,a:u}}function o(n,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=i;var u=f.a+n.a-f.a*n.a,h=n.r*n.a,c=n.g*n.a,_=n.b*n.a,g=f.r*f.a,b=f.g*f.a,y=f.b*f.a,A=(h+g-2*Math.min(h*f.a,g*n.a))/u,M=(c+b-2*Math.min(c*f.a,b*n.a))/u,I=(_+y-2*Math.min(_*f.a,y*n.a))/u;return{r:A,g:M,b:I,a:u}}function l(n,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=i;var u=f.a+n.a-f.a*n.a,h=n.r*n.a,c=n.g*n.a,_=n.b*n.a,g=f.r*f.a,b=f.g*f.a,y=f.b*f.a,A=(h*f.a+g*n.a-2*h*g+h*(1-f.a)+g*(1-n.a))/u,M=(c*f.a+b*n.a-2*c*b+c*(1-f.a)+b*(1-n.a))/u,I=(_*f.a+y*n.a-2*_*y+_*(1-f.a)+y*(1-n.a))/u;return{r:A,g:M,b:I,a:u}}},{}],191:[function(E,j,w){var x=E("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(w,"__esModule",{value:!0}),w.default=s;var m=E("@jimp/utils"),p=x(E("../constants")),d=x(E("./composite-modes"));function s(a,r,t){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;if(typeof e=="function"&&(o=e,e={}),!(a instanceof this.constructor))return m.throwError.call(this,"The source must be a Jimp image",o);if(typeof r!="number"||typeof t!="number")return m.throwError.call(this,"x and y must be numbers",o);var l=e,n=l.mode,f=l.opacitySource,i=l.opacityDest;n||(n=p.BLEND_SOURCE_OVER),(typeof f!="number"||f<0||f>1)&&(f=1),(typeof i!="number"||i<0||i>1)&&(i=1);var u=d[n];r=Math.round(r),t=Math.round(t);var h=this;return i!==1&&h.opacity(i),a.scanQuiet(0,0,a.bitmap.width,a.bitmap.height,function(c,_,g){var b=h.getPixelIndex(r+c,t+_,p.EDGE_CROP),y=u({r:this.bitmap.data[g+0]/255,g:this.bitmap.data[g+1]/255,b:this.bitmap.data[g+2]/255,a:this.bitmap.data[g+3]/255},{r:h.bitmap.data[b+0]/255,g:h.bitmap.data[b+1]/255,b:h.bitmap.data[b+2]/255,a:h.bitmap.data[b+3]/255},f);h.bitmap.data[b+0]=this.constructor.limit255(y.r*255),h.bitmap.data[b+1]=this.constructor.limit255(y.g*255),h.bitmap.data[b+2]=this.constructor.limit255(y.b*255),h.bitmap.data[b+3]=this.constructor.limit255(y.a*255)}),(0,m.isNodePattern)(o)&&o.call(this,null,this),this}j.exports=w.default},{"../constants":192,"./composite-modes":190,"@babel/runtime/helpers/interopRequireWildcard":12,"@jimp/utils":235}],192:[function(E,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.EDGE_CROP=w.EDGE_WRAP=w.EDGE_EXTEND=w.BLEND_EXCLUSION=w.BLEND_DIFFERENCE=w.BLEND_HARDLIGHT=w.BLEND_LIGHTEN=w.BLEND_DARKEN=w.BLEND_OVERLAY=w.BLEND_SCREEN=w.BLEND_ADD=w.BLEND_MULTIPLY=w.BLEND_DESTINATION_OVER=w.BLEND_SOURCE_OVER=w.VERTICAL_ALIGN_BOTTOM=w.VERTICAL_ALIGN_MIDDLE=w.VERTICAL_ALIGN_TOP=w.HORIZONTAL_ALIGN_RIGHT=w.HORIZONTAL_ALIGN_CENTER=w.HORIZONTAL_ALIGN_LEFT=w.AUTO=void 0;var x=-1;w.AUTO=x;var m=1;w.HORIZONTAL_ALIGN_LEFT=m;var p=2;w.HORIZONTAL_ALIGN_CENTER=p;var d=4;w.HORIZONTAL_ALIGN_RIGHT=d;var s=8;w.VERTICAL_ALIGN_TOP=s;var a=16;w.VERTICAL_ALIGN_MIDDLE=a;var r=32;w.VERTICAL_ALIGN_BOTTOM=r;var t="srcOver";w.BLEND_SOURCE_OVER=t;var e="dstOver";w.BLEND_DESTINATION_OVER=e;var o="multiply";w.BLEND_MULTIPLY=o;var l="add";w.BLEND_ADD=l;var n="screen";w.BLEND_SCREEN=n;var f="overlay";w.BLEND_OVERLAY=f;var i="darken";w.BLEND_DARKEN=i;var u="lighten";w.BLEND_LIGHTEN=u;var h="hardLight";w.BLEND_HARDLIGHT=h;var c="difference";w.BLEND_DIFFERENCE=c;var _="exclusion";w.BLEND_EXCLUSION=_;var g=1;w.EDGE_EXTEND=g;var b=2;w.EDGE_WRAP=b;var y=3;w.EDGE_CROP=y},{}],193:[function(E,j,w){(function(x){var m=E("@babel/runtime/helpers/interopRequireWildcard"),p=E("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.addConstants=ue,w.addJimpMethods=pe,w.jimpEvMethod=ne,w.jimpEvChange=ie,Object.defineProperty(w,"addType",{enumerable:!0,get:function(){return F.addType}}),w.default=void 0;for(var d=p(E("@babel/runtime/helpers/construct")),s=p(E("@babel/runtime/helpers/slicedToArray")),a=p(E("@babel/runtime/helpers/classCallCheck")),r=p(E("@babel/runtime/helpers/createClass")),t=p(E("@babel/runtime/helpers/possibleConstructorReturn")),e=p(E("@babel/runtime/helpers/getPrototypeOf")),o=p(E("@babel/runtime/helpers/assertThisInitialized")),l=p(E("@babel/runtime/helpers/inherits")),n=p(E("@babel/runtime/helpers/defineProperty")),f=p(E("@babel/runtime/helpers/typeof")),i=p(E("fs")),u=p(E("path")),h=p(E("events")),c=E("@jimp/utils"),_=p(E("any-base")),g=p(E("mkdirp")),b=p(E("pixelmatch")),y=p(E("tinycolor2")),A=p(E("./modules/phash")),M=p(E("./request")),I=p(E("./composite")),R=p(E("./utils/promisify")),F=m(E("./utils/mime")),z=E("./utils/image-bitmap"),D=m(E("./constants")),O="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",k=[NaN,NaN],Z=2;Z<65;Z++){var $=(0,_.default)(_.default.BIN,O.slice(0,Z))(new Array(65).join("1"));k.push($.length)}function te(){}function q(ee){return Object.prototype.toString.call(ee).toLowerCase().indexOf("arraybuffer")>-1}function U(ee){for(var H=x.alloc(ee.byteLength),P=new Uint8Array(ee),T=0;T<H.length;++T)H[T]=P[T];return H}function W(ee,H){(0,M.default)(ee,function(P,T,Y){if(P)return H(P);if("headers"in T&&"location"in T.headers)return ee.url=T.headers.location,W(ee,H);if((0,f.default)(Y)==="object"&&x.isBuffer(Y))return H(null,Y);var N="Could not load Buffer from <"+ee.url+"> (HTTP: "+T.statusCode+")";return new Error(N)})}function G(ee,H){i.default&&typeof i.default.readFile=="function"&&!ee.match(/^(http|ftp)s?:\/\/./)?i.default.readFile(ee,H):W({url:ee},H)}function V(ee){return ee&&(0,f.default)(ee)==="object"&&typeof ee.width=="number"&&typeof ee.height=="number"&&(x.isBuffer(ee.data)||ee.data instanceof Uint8Array||typeof Uint8ClampedArray=="function"&&ee.data instanceof Uint8ClampedArray)&&(ee.data.length===ee.width*ee.height*4||ee.data.length===ee.width*ee.height*3)}function re(ee){if(ee.length%3!==0)throw new Error("Buffer length is incorrect");for(var H=x.allocUnsafe(ee.length/3*4),P=0,T=0;T<ee.length;T++)H[P]=ee[T],(T+1)%3===0&&(H[++P]=255),P++;return H}var se={data:null,width:null,height:null},fe=function(ee){(0,l.default)(H,ee);function H(){for(var P,T=arguments.length,Y=new Array(T),N=0;N<T;N++)Y[N]=arguments[N];(0,a.default)(this,H),P=(0,t.default)(this,(0,e.default)(H).call(this)),(0,n.default)((0,o.default)(P),"bitmap",se),(0,n.default)((0,o.default)(P),"_background",0),(0,n.default)((0,o.default)(P),"_originalMime",H.MIME_PNG),(0,n.default)((0,o.default)(P),"_exif",null),(0,n.default)((0,o.default)(P),"_rgba",!0),(0,n.default)((0,o.default)(P),"writeAsync",function(Le){return(0,R.default)(P.write,(0,o.default)(P),Le)}),(0,n.default)((0,o.default)(P),"getBase64Async",function(Le){return(0,R.default)(P.getBase64,(0,o.default)(P),Le)}),(0,n.default)((0,o.default)(P),"getBuffer",z.getBuffer),(0,n.default)((0,o.default)(P),"getBufferAsync",z.getBufferAsync),(0,n.default)((0,o.default)(P),"getPixelColour",P.getPixelColor),(0,n.default)((0,o.default)(P),"setPixelColour",P.setPixelColor);var C=(0,o.default)(P),S=te;q(Y[0])&&(Y[0]=U(Y[0]));function Q(){for(var Le=arguments.length,B=new Array(Le),ce=0;ce<Le;ce++)B[ce]=arguments[ce];var de=B[0],Ee=de||{};Ee.methodName="constructor",setTimeout(function(){var he;de&&S===te?C.emitError("constructor",de):de||C.emitMulti("constructor","initialized"),(he=S).call.apply(he,[C].concat(B))},1)}if(typeof Y[0]=="number"&&typeof Y[1]=="number"||parseInt(Y[0],10)&&parseInt(Y[1],10)){var oe=parseInt(Y[0],10),ve=parseInt(Y[1],10);if(S=Y[2],typeof Y[2]=="number"&&(P._background=Y[2],S=Y[3]),typeof Y[2]=="string"&&(P._background=H.cssColorToHex(Y[2]),S=Y[3]),typeof S>"u"&&(S=te),typeof S!="function")return(0,t.default)(P,c.throwError.call((0,o.default)(P),"cb must be a function",Q));P.bitmap={data:x.alloc(oe*ve*4),width:oe,height:ve};for(var ye=0;ye<P.bitmap.data.length;ye+=4)P.bitmap.data.writeUInt32BE(P._background,ye);Q(null,(0,o.default)(P))}else if((0,f.default)(Y[0])==="object"&&Y[0].url){if(S=Y[1]||te,typeof S!="function")return(0,t.default)(P,c.throwError.call((0,o.default)(P),"cb must be a function",Q));W(Y[0],function(Le,B){if(Le)return c.throwError.call((0,o.default)(P),Le,Q);P.parseBitmap(B,Y[0].url,Q)})}else if(Y[0]instanceof H){var Ae=Y[0];if(S=Y[1],typeof S>"u"&&(S=te),typeof S!="function")return(0,t.default)(P,c.throwError.call((0,o.default)(P),"cb must be a function",Q));P.bitmap={data:x.from(Ae.bitmap.data),width:Ae.bitmap.width,height:Ae.bitmap.height},P._quality=Ae._quality,P._deflateLevel=Ae._deflateLevel,P._deflateStrategy=Ae._deflateStrategy,P._filterType=Ae._filterType,P._rgba=Ae._rgba,P._background=Ae._background,P._originalMime=Ae._originalMime,Q(null,(0,o.default)(P))}else if(V(Y[0])){var ke=Y[0];S=Y[1]||te;var Pe=ke.width*ke.height*4===ke.data.length,Oe=Pe?x.from(ke.data):re(ke.data);P.bitmap={data:Oe,width:ke.width,height:ke.height},Q(null,(0,o.default)(P))}else if(typeof Y[0]=="string"){var Te=Y[0];if(S=Y[1],typeof S>"u"&&(S=te),typeof S!="function")return(0,t.default)(P,c.throwError.call((0,o.default)(P),"cb must be a function",Q));G(Te,function(Le,B){if(Le)return c.throwError.call((0,o.default)(P),Le,Q);P.parseBitmap(B,Te,Q)})}else if((0,f.default)(Y[0])==="object"&&x.isBuffer(Y[0])){var Me=Y[0];if(S=Y[1],typeof S!="function")return(0,t.default)(P,c.throwError.call((0,o.default)(P),"cb must be a function",Q));P.parseBitmap(Me,null,Q)}else{S=Y[Y.length-1],typeof S!="function"&&(S=Y[Y.length-2],typeof S!="function"&&(S=te));var Fe=H.__extraConstructors.find(function(Le){return Le.test.apply(Le,Y)});if(Fe)new Promise(function(Le,B){var ce;return(ce=Fe.run).call.apply(ce,[(0,o.default)(P),Le,B].concat(Y))}).then(function(){return Q(null,(0,o.default)(P))}).catch(Q);else return(0,t.default)(P,c.throwError.call((0,o.default)(P),"No matching constructor overloading was found. Please see the docs for how to call the Jimp constructor.",Q))}return P}return(0,r.default)(H,[{key:"parseBitmap",value:function(T,Y,N){z.parseBitmap.call(this,T,null,N)}},{key:"rgba",value:function(T,Y){return typeof T!="boolean"?c.throwError.call(this,"bool must be a boolean, true for RGBA or false for RGB",Y):(this._rgba=T,(0,c.isNodePattern)(Y)&&Y.call(this,null,this),this)}},{key:"emitMulti",value:function(T,Y){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};N=Object.assign(N,{methodName:T,eventName:Y}),this.emit("any",N),T&&this.emit(T,N),this.emit(Y,N)}},{key:"emitError",value:function(T,Y){this.emitMulti(T,"error",Y)}},{key:"getHeight",value:function(){return this.bitmap.height}},{key:"getWidth",value:function(){return this.bitmap.width}},{key:"inspect",value:function(){return"<Jimp "+(this.bitmap===se?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}},{key:"toString",value:function(){return"[object Jimp]"}},{key:"getMIME",value:function(){var T=this._originalMime||H.MIME_PNG;return T}},{key:"getExtension",value:function(){var T=this.getMIME();return F.getExtension(T)}},{key:"write",value:function(T,Y){var N=this;if(!i.default||!i.default.createWriteStream)throw new Error("Cant access the filesystem. You can use the getBase64 method.");if(typeof T!="string")return c.throwError.call(this,"path must be a string",Y);if(typeof Y>"u"&&(Y=te),typeof Y!="function")return c.throwError.call(this,"cb must be a function",Y);var C=F.getType(T)||this.getMIME(),S=u.default.parse(T);return S.dir&&g.default.sync(S.dir),this.getBuffer(C,function(Q,oe){if(Q)return c.throwError.call(N,Q,Y);var ve=i.default.createWriteStream(T);ve.on("open",function(){ve.write(oe),ve.end()}).on("error",function(ye){return c.throwError.call(N,ye,Y)}),ve.on("finish",function(){Y.call(N,null,N)})}),this}},{key:"getBase64",value:function(T,Y){return T===H.AUTO&&(T=this.getMIME()),typeof T!="string"?c.throwError.call(this,"mime must be a string",Y):typeof Y!="function"?c.throwError.call(this,"cb must be a function",Y):(this.getBuffer(T,function(N,C){if(N)return c.throwError.call(this,N,Y);var S="data:"+T+";base64,"+C.toString("base64");Y.call(this,null,S)}),this)}},{key:"hash",value:function(T,Y){if(T=T||64,typeof T=="function"&&(Y=T,T=64),typeof T!="number")return c.throwError.call(this,"base must be a number",Y);if(T<2||T>64)return c.throwError.call(this,"base must be a number between 2 and 64",Y);var N=this.pHash();for(N=(0,_.default)(_.default.BIN,O.slice(0,T))(N);N.length<k[T];)N="0"+N;return(0,c.isNodePattern)(Y)&&Y.call(this,null,N),N}},{key:"pHash",value:function(){var T=new A.default;return T.getHash(this)}},{key:"distanceFromHash",value:function(T){var Y=new A.default,N=Y.getHash(this);return Y.distance(N,T)}},{key:"getPixelIndex",value:function(T,Y,N,C){var S,Q;if(typeof N=="function"&&typeof C>"u"&&(C=N,N=null),N||(N=H.EDGE_EXTEND),typeof T!="number"||typeof Y!="number")return c.throwError.call(this,"x and y must be numbers",C);T=Math.round(T),Y=Math.round(Y),S=T,Q=Y,N===H.EDGE_EXTEND&&(T<0&&(S=0),T>=this.bitmap.width&&(S=this.bitmap.width-1),Y<0&&(Q=0),Y>=this.bitmap.height&&(Q=this.bitmap.height-1)),N===H.EDGE_WRAP&&(T<0&&(S=this.bitmap.width+T),T>=this.bitmap.width&&(S=T%this.bitmap.width),Y<0&&(S=this.bitmap.height+Y),Y>=this.bitmap.height&&(Q=Y%this.bitmap.height));var oe=this.bitmap.width*Q+S<<2;return(S<0||S>=this.bitmap.width)&&(oe=-1),(Q<0||Q>=this.bitmap.height)&&(oe=-1),(0,c.isNodePattern)(C)&&C.call(this,null,oe),oe}},{key:"getPixelColor",value:function(T,Y,N){if(typeof T!="number"||typeof Y!="number")return c.throwError.call(this,"x and y must be numbers",N);T=Math.round(T),Y=Math.round(Y);var C=this.getPixelIndex(T,Y),S=this.bitmap.data.readUInt32BE(C);return(0,c.isNodePattern)(N)&&N.call(this,null,S),S}},{key:"setPixelColor",value:function(T,Y,N,C){if(typeof T!="number"||typeof Y!="number"||typeof N!="number")return c.throwError.call(this,"hex, x and y must be numbers",C);Y=Math.round(Y),N=Math.round(N);var S=this.getPixelIndex(Y,N);return this.bitmap.data.writeUInt32BE(T,S),(0,c.isNodePattern)(C)&&C.call(this,null,this),this}},{key:"hasAlpha",value:function(){for(var T=0;T<this.bitmap.height;T++)for(var Y=0;Y<this.bitmap.width;Y++){var N=this.bitmap.width*T+Y<<2,C=this.bitmap.data[N+3];if(C!==255)return!0}return!1}},{key:"scanIterator",value:function(T,Y,N,C){return typeof T!="number"||typeof Y!="number"?c.throwError.call(this,"x and y must be numbers"):typeof N!="number"||typeof C!="number"?c.throwError.call(this,"w and h must be numbers"):(0,c.scanIterator)(this,T,Y,N,C)}}]),H}(h.default);function ue(ee){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fe;Object.entries(ee).forEach(function(P){var T=(0,s.default)(P,2),Y=T[0],N=T[1];H[Y]=N})}function pe(ee){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fe;Object.entries(ee).forEach(function(P){var T=(0,s.default)(P,2),Y=T[0],N=T[1];H.prototype[Y]=N})}ue(D),pe({composite:I.default}),fe.__extraConstructors=[],fe.appendConstructorOption=function(ee,H,P){fe.__extraConstructors.push({name:ee,test:H,run:P})},fe.read=function(){for(var ee=arguments.length,H=new Array(ee),P=0;P<ee;P++)H[P]=arguments[P];return new Promise(function(T,Y){(0,d.default)(fe,H.concat([function(N,C){N?Y(N):T(C)}]))})},fe.create=fe.read,fe.rgbaToInt=function(ee,H,P,T,Y){if(typeof ee!="number"||typeof H!="number"||typeof P!="number"||typeof T!="number")return c.throwError.call(this,"r, g, b and a must be numbers",Y);if(ee<0||ee>255)return c.throwError.call(this,"r must be between 0 and 255",Y);if((H<0||H>255)&&c.throwError.call(this,"g must be between 0 and 255",Y),P<0||P>255)return c.throwError.call(this,"b must be between 0 and 255",Y);if(T<0||T>255)return c.throwError.call(this,"a must be between 0 and 255",Y);ee=Math.round(ee),P=Math.round(P),H=Math.round(H),T=Math.round(T);var N=ee*Math.pow(256,3)+H*Math.pow(256,2)+P*Math.pow(256,1)+T*Math.pow(256,0);return(0,c.isNodePattern)(Y)&&Y.call(this,null,N),N},fe.intToRGBA=function(ee,H){if(typeof ee!="number")return c.throwError.call(this,"i must be a number",H);var P={};return P.r=Math.floor(ee/Math.pow(256,3)),P.g=Math.floor((ee-P.r*Math.pow(256,3))/Math.pow(256,2)),P.b=Math.floor((ee-P.r*Math.pow(256,3)-P.g*Math.pow(256,2))/Math.pow(256,1)),P.a=Math.floor((ee-P.r*Math.pow(256,3)-P.g*Math.pow(256,2)-P.b*Math.pow(256,1))/Math.pow(256,0)),(0,c.isNodePattern)(H)&&H.call(this,null,P),P},fe.cssColorToHex=function(ee){return ee=ee||0,typeof ee=="number"?Number(ee):parseInt((0,y.default)(ee).toHex8(),16)},fe.limit255=function(ee){return ee=Math.max(ee,0),ee=Math.min(ee,255),ee},fe.diff=function(ee,H){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.1;if(!(ee instanceof fe)||!(H instanceof fe))return c.throwError.call(this,"img1 and img2 must be an Jimp images");var T=ee.bitmap,Y=H.bitmap;if((T.width!==Y.width||T.height!==Y.height)&&(T.width*T.height>Y.width*Y.height?ee=ee.cloneQuiet().resize(Y.width,Y.height):H=H.cloneQuiet().resize(T.width,T.height)),typeof P!="number"||P<0||P>1)return c.throwError.call(this,"threshold must be a number between 0 and 1");var N=new fe(T.width,T.height,4294967295),C=(0,b.default)(T.data,Y.data,N.bitmap.data,N.bitmap.width,N.bitmap.height,{threshold:P});return{percent:C/(N.bitmap.width*N.bitmap.height),image:N}},fe.distance=function(ee,H){var P=new A.default,T=P.getHash(ee),Y=P.getHash(H);return P.distance(T,Y)},fe.compareHashes=function(ee,H){var P=new A.default;return P.distance(ee,H)},fe.colorDiff=function(ee,H){var P=function(C){return Math.pow(C,2)},T=Math.max,Y=255*255*3;return ee.a!==0&&!ee.a&&(ee.a=255),H.a!==0&&!H.a&&(H.a=255),(T(P(ee.r-H.r),P(ee.r-H.r-ee.a+H.a))+T(P(ee.g-H.g),P(ee.g-H.g-ee.a+H.a))+T(P(ee.b-H.b),P(ee.b-H.b-ee.a+H.a)))/Y};function ne(ee,H,P){var T="before-"+H,Y=H.replace(/e$/,"")+"ed";fe.prototype[ee]=function(){for(var N,C=arguments.length,S=new Array(C),Q=0;Q<C;Q++)S[Q]=arguments[Q];var oe=S[P.length-1],ve=this;typeof oe=="function"?(N=function(){for(var ke=arguments.length,Pe=new Array(ke),Oe=0;Oe<ke;Oe++)Pe[Oe]=arguments[Oe];var Te=Pe[0],Me=Pe[1];Te?ve.emitError(ee,Te):ve.emitMulti(ee,Y,(0,n.default)({},ee,Me)),oe.apply(this,Pe)},S[S.length-1]=N):N=!1,this.emitMulti(ee,T);var ye;try{ye=P.apply(this,S),N||this.emitMulti(ee,Y,(0,n.default)({},ee,ye))}catch(Ae){Ae.methodName=ee,this.emitError(ee,Ae)}return ye},fe.prototype[ee+"Quiet"]=P}ne("clone","clone",function(ee){var H=new fe(this);return(0,c.isNodePattern)(ee)&&ee.call(H,null,H),H});function ie(ee,H){ne(ee,"change",H)}ie("background",function(ee,H){return typeof ee!="number"?c.throwError.call(this,"hex must be a hexadecimal rgba value",H):(this._background=ee,(0,c.isNodePattern)(H)&&H.call(this,null,this),this)}),ie("scan",function(ee,H,P,T,Y,N){if(typeof ee!="number"||typeof H!="number")return c.throwError.call(this,"x and y must be numbers",N);if(typeof P!="number"||typeof T!="number")return c.throwError.call(this,"w and h must be numbers",N);if(typeof Y!="function")return c.throwError.call(this,"f must be a function",N);var C=(0,c.scan)(this,ee,H,P,T,Y);return(0,c.isNodePattern)(N)&&N.call(this,null,C),C});{var X;typeof xe<"u"&&(typeof xe>"u"?"undefined":(0,f.default)(xe))==="object"&&(X=xe),typeof self<"u"&&(typeof self>"u"?"undefined":(0,f.default)(self))==="object"&&(X=self),X.Jimp=fe,X.Buffer=x}var J=fe;w.default=J}).call(this,E("buffer").Buffer)},{"./composite":191,"./constants":192,"./modules/phash":194,"./request":195,"./utils/image-bitmap":196,"./utils/mime":197,"./utils/promisify":198,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/construct":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/possibleConstructorReturn":17,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"any-base":23,buffer:48,events:52,fs:47,mkdirp:83,path:107,pixelmatch:109,tinycolor2:178}],194:[function(E,j,w){function x(a,r){this.size=this.size||a,this.smallerSize=this.smallerSize||r,d(this.size)}x.prototype.size=32,x.prototype.smallerSize=8,x.prototype.distance=function(a,r){for(var t=0,e=0;e<a.length;e++)a[e]!==r[e]&&t++;return t/a.length},x.prototype.getHash=function(a){a=a.clone().resize(this.size,this.size),a.grayscale();for(var r=[],t=0;t<a.bitmap.width;t++){r[t]=[];for(var e=0;e<a.bitmap.height;e++)r[t][e]=m(a.getPixelColor(t,e)).b}for(var o=s(r,this.size),l=0,n=0;n<this.smallerSize;n++)for(var f=0;f<this.smallerSize;f++)l+=o[n][f];for(var i=l/(this.smallerSize*this.smallerSize),u="",h=0;h<this.smallerSize;h++)for(var c=0;c<this.smallerSize;c++)u+=o[h][c]>i?"1":"0";return u};function m(a){var r={};return r.r=Math.floor(a/Math.pow(256,3)),r.g=Math.floor((a-r.r*Math.pow(256,3))/Math.pow(256,2)),r.b=Math.floor((a-r.r*Math.pow(256,3)-r.g*Math.pow(256,2))/Math.pow(256,1)),r.a=Math.floor((a-r.r*Math.pow(256,3)-r.g*Math.pow(256,2)-r.b*Math.pow(256,1))/Math.pow(256,0)),r}var p=[];function d(a){for(var r=1;r<a;r++)p[r]=1;p[0]=1/Math.sqrt(2)}function s(a,r){for(var t=r,e=[],o=0;o<t;o++){e[o]=[];for(var l=0;l<t;l++){for(var n=0,f=0;f<t;f++)for(var i=0;i<t;i++)n+=Math.cos((2*f+1)/(2*t)*o*Math.PI)*Math.cos((2*i+1)/(2*t)*l*Math.PI)*a[f][i];n*=p[o]*p[l]/4,e[o][l]=n}}return e}j.exports=x},{}],195:[function(E,j,w){(function(x,m){var p=E("@babel/runtime/helpers/interopRequireDefault"),d=p(E("@babel/runtime/helpers/defineProperty")),s=p(E("@babel/runtime/helpers/extends"));function a(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);e&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,l)}return o}function r(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?a(o,!0).forEach(function(l){(0,d.default)(t,l,o[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):a(o).forEach(function(l){Object.defineProperty(t,l,Object.getOwnPropertyDescriptor(o,l))})}return t}x.browser,j.exports=function(t,e){var o=new XMLHttpRequest;o.open("GET",t.url,!0),o.responseType="arraybuffer",o.addEventListener("load",function(){if(o.status<400)try{var l=m.from(this.response);e(null,o,l)}catch(n){return e(new Error("Response is not a buffer for url "+t.url+". Error: "+n.message))}else e(new Error("HTTP Status "+o.status+" for url "+t.url))}),o.addEventListener("error",function(l){e(l)}),o.send()}}).call(this,E("_process"),E("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/extends":8,"@babel/runtime/helpers/interopRequireDefault":11,_process:133,buffer:48,phin:108}],196:[function(E,j,w){(function(x){var m=E("@babel/runtime/helpers/interopRequireWildcard"),p=E("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.parseBitmap=h,w.getBuffer=_,w.getBufferAsync=g;var d=p(E("@babel/runtime/helpers/slicedToArray")),s=p(E("file-type")),a=p(E("exif-parser")),r=E("@jimp/utils"),t=m(E("../constants")),e=m(E("./mime")),o=p(E("./promisify"));function l(b,y){var A=(0,s.default)(b);return A?A.mime:y?e.getType(y):null}function n(b){return b._exif&&b._exif.tags&&b._exif.tags.Orientation||1}function f(b){var y=b.getWidth(),A=b.getHeight();switch(n(b)){case 1:return null;case 2:return function(M,I){return[y-M-1,I]};case 3:return function(M,I){return[y-M-1,A-I-1]};case 4:return function(M,I){return[M,A-I-1]};case 5:return function(M,I){return[I,M]};case 6:return function(M,I){return[I,A-M-1]};case 7:return function(M,I){return[y-I-1,A-M-1]};case 8:return function(M,I){return[y-I-1,M]};default:return null}}function i(b,y,A,M){for(var I=b.bitmap.data,R=b.bitmap.width,F=x.alloc(I.length),z=0;z<y;z++)for(var D=0;D<A;D++){var O=M(z,D),k=(0,d.default)(O,2),Z=k[0],$=k[1],te=y*D+z<<2,q=R*$+Z<<2,U=I.readUInt32BE(q);F.writeUInt32BE(U,te)}b.bitmap.data=F,b.bitmap.width=y,b.bitmap.height=A}function u(b){if(!(n(b)<2)){var y=f(b),A=n(b)>4,M=A?b.bitmap.height:b.bitmap.width,I=A?b.bitmap.width:b.bitmap.height;i(b,M,I,y)}}function h(b,y,A){var M=l(b,y);if(typeof M!="string")return A(new Error("Could not find MIME for Buffer <"+y+">"));this._originalMime=M.toLowerCase();try{var I=this.getMIME();if(this.constructor.decoders[I])this.bitmap=this.constructor.decoders[I](b);else return r.throwError.call(this,"Unsupported MIME type: "+I,A)}catch(R){return A.call(this,R,this)}try{this._exif=a.default.create(b).parse(),u(this)}catch{}return A.call(this,null,this),this}function c(b,y){return new b(y.bitmap.width,y.bitmap.height,y._background).composite(y,0,0).bitmap}function _(b,y){if(b===t.AUTO&&(b=this.getMIME()),typeof b!="string")return r.throwError.call(this,"mime must be a string",y);if(typeof y!="function")return r.throwError.call(this,"cb must be a function",y);if(b=b.toLowerCase(),this._rgba&&this.constructor.hasAlpha[b]?this.bitmap.data=x.from(this.bitmap.data):this.bitmap.data=c(this.constructor,this).data,this.constructor.encoders[b]){var A=this.constructor.encoders[b](this);y.call(this,null,A)}else y.call(this,"Unsupported MIME type: "+b);return this}function g(b){return(0,o.default)(_,this,b)}}).call(this,E("buffer").Buffer)},{"../constants":192,"./mime":197,"./promisify":198,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@jimp/utils":235,buffer:48,"exif-parser":53,"file-type":62}],197:[function(E,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.getExtension=w.getType=w.addType=void 0;var x={},m=function(r){return Object.entries(x).find(function(t){return t[1].includes(r)})||[]},p=function(r,t){x[r]=t};w.addType=p;var d=function(r){var t=r.split("/").slice(-1),e=t[t.length-1].split(".").pop(),o=m(e);return o[0]};w.getType=d;var s=function(r){return(x[r.toLowerCase()]||[])[0]};w.getExtension=s},{}],198:[function(E,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var x=function(d,s){for(var a=arguments.length,r=new Array(a>2?a-2:0),t=2;t<a;t++)r[t-2]=arguments[t];return new Promise(function(e,o){r.push(function(l,n){l&&o(l),e(n)}),d.bind(s).apply(void 0,r)})},m=x;w.default=m,j.exports=w.default},{}],199:[function(E,j,w){var x=E("@babel/runtime/helpers/interopRequireWildcard"),m=E("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=e;var p=m(E("@babel/runtime/helpers/toConsumableArray")),d=m(E("@babel/runtime/helpers/defineProperty")),s=m(E("@babel/runtime/helpers/slicedToArray")),a=x(E("@jimp/core"));function r(o,l){var n=Object.keys(o);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(o);l&&(f=f.filter(function(i){return Object.getOwnPropertyDescriptor(o,i).enumerable})),n.push.apply(n,f)}return n}function t(o){for(var l=1;l<arguments.length;l++){var n=arguments[l]!=null?arguments[l]:{};l%2?r(n,!0).forEach(function(f){(0,d.default)(o,f,n[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(f){Object.defineProperty(o,f,Object.getOwnPropertyDescriptor(n,f))})}return o}function e(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.default,n={hasAlpha:{},encoders:{},decoders:{},class:{},constants:{}};function f(h){Object.entries(h).forEach(function(c){var _=(0,s.default)(c,2),g=_[0],b=_[1];n[g]=t({},n[g],{},b)})}function i(h){var c=h();Array.isArray(c.mime)?a.addType.apply(void 0,(0,p.default)(c.mime)):Object.entries(c.mime).forEach(function(_){return a.addType.apply(void 0,(0,p.default)(_))}),delete c.mime,f(c)}function u(h){var c=h(a.jimpEvChange)||{};!c.class&&!c.constants?f({class:c}):f(c)}return o.types&&(o.types.forEach(i),l.decoders=t({},l.decoders,{},n.decoders),l.encoders=t({},l.encoders,{},n.encoders),l.hasAlpha=t({},l.hasAlpha,{},n.hasAlpha)),o.plugins&&o.plugins.forEach(u),(0,a.addJimpMethods)(n.class,l),(0,a.addConstants)(n.constants,l),a.default}j.exports=w.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/core":193}],200:[function(E,j,w){var x=E("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var m=x(E("@jimp/custom")),p=x(E("@jimp/types")),d=x(E("@jimp/plugins")),s=(0,m.default)({types:[p.default],plugins:[d.default]});w.default=s,j.exports=w.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/custom":199,"@jimp/plugins":228,"@jimp/types":234}],201:[function(E,j,w){var x=E("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var m=x(E("@babel/runtime/helpers/typeof")),p=E("@jimp/utils"),d=function(){return{blit:function(r,t,e,o,l,n,f,i){if(!(r instanceof this.constructor))return p.throwError.call(this,"The source must be a Jimp image",i);if(typeof t!="number"||typeof e!="number")return p.throwError.call(this,"x and y must be numbers",i);if(typeof o=="function")i=o,o=0,l=0,n=r.bitmap.width,f=r.bitmap.height;else if((0,m.default)(o)===(0,m.default)(l)&&(0,m.default)(l)===(0,m.default)(n)&&(0,m.default)(n)===(0,m.default)(f))o=o||0,l=l||0,n=n||r.bitmap.width,f=f||r.bitmap.height;else return p.throwError.call(this,"srcx, srcy, srcw, srch must be numbers",i);t=Math.round(t),e=Math.round(e),o=Math.round(o),l=Math.round(l),n=Math.round(n),f=Math.round(f);var u=this.bitmap.width,h=this.bitmap.height,c=this;return r.scanQuiet(o,l,n,f,function(_,g,b){var y=t+_-o,A=e+g-l;if(y>=0&&A>=0&&u-y>0&&h-A>0){var M=c.getPixelIndex(y,A),I={r:this.bitmap.data[b],g:this.bitmap.data[b+1],b:this.bitmap.data[b+2],a:this.bitmap.data[b+3]},R={r:c.bitmap.data[M],g:c.bitmap.data[M+1],b:c.bitmap.data[M+2],a:c.bitmap.data[M+3]};c.bitmap.data[M]=(I.a*(I.r-R.r)-R.r+255>>8)+R.r,c.bitmap.data[M+1]=(I.a*(I.g-R.g)-R.g+255>>8)+R.g,c.bitmap.data[M+2]=(I.a*(I.b-R.b)-R.b+255>>8)+R.b,c.bitmap.data[M+3]=this.constructor.limit255(R.a+I.a)}}),(0,p.isNodePattern)(i)&&i.call(this,null,this),this}}};w.default=d,j.exports=w.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],202:[function(E,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.shgTable=w.mulTable=void 0;var x=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1];w.mulTable=x;var m=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18];w.shgTable=m},{}],203:[function(E,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var x=E("@jimp/utils"),m=E("./blur-tables"),p=function(){return{blur:function(a,r){if(typeof a!="number")return x.throwError.call(this,"r must be a number",r);if(a<1)return x.throwError.call(this,"r must be greater than 0",r);for(var t,e,o,l,n,f,i,u,h,c,_,g,b,y,A=this.bitmap.width-1,M=this.bitmap.height-1,I=a+1,R=m.mulTable[a],F=m.shgTable[a],z=[],D=[],O=[],k=[],Z=[],$=[],te=2;te-- >0;){for(g=0,b=0,f=0;f<this.bitmap.height;f++){for(t=this.bitmap.data[b]*I,e=this.bitmap.data[b+1]*I,o=this.bitmap.data[b+2]*I,l=this.bitmap.data[b+3]*I,i=1;i<=a;i++)u=b+((i>A?A:i)<<2),t+=this.bitmap.data[u++],e+=this.bitmap.data[u++],o+=this.bitmap.data[u++],l+=this.bitmap.data[u];for(n=0;n<this.bitmap.width;n++)z[g]=t,D[g]=e,O[g]=o,k[g]=l,f===0&&(Z[n]=((u=n+I)<A?u:A)<<2,$[n]=(u=n-a)>0?u<<2:0),h=b+Z[n],c=b+$[n],t+=this.bitmap.data[h++]-this.bitmap.data[c++],e+=this.bitmap.data[h++]-this.bitmap.data[c++],o+=this.bitmap.data[h++]-this.bitmap.data[c++],l+=this.bitmap.data[h]-this.bitmap.data[c],g++;b+=this.bitmap.width<<2}for(n=0;n<this.bitmap.width;n++){for(_=n,t=z[_]*I,e=D[_]*I,o=O[_]*I,l=k[_]*I,i=1;i<=a;i++)_+=i>M?0:this.bitmap.width,t+=z[_],e+=D[_],o+=O[_],l+=k[_];for(g=n<<2,f=0;f<this.bitmap.height;f++)y=l*R>>>F,this.bitmap.data[g+3]=y,y>255&&(this.bitmap.data[g+3]=255),y>0?(y=255/y,this.bitmap.data[g]=(t*R>>>F)*y,this.bitmap.data[g+1]=(e*R>>>F)*y,this.bitmap.data[g+2]=(o*R>>>F)*y):(this.bitmap.data[g+2]=0,this.bitmap.data[g+1]=0,this.bitmap.data[g]=0),n===0&&(Z[f]=((u=f+I)<M?u:M)*this.bitmap.width,$[f]=(u=f-a)>0?u*this.bitmap.width:0),h=n+Z[f],c=n+$[f],t+=z[h]-z[c],e+=D[h]-D[c],o+=O[h]-O[c],l+=k[h]-k[c],g+=this.bitmap.width<<2}}return(0,x.isNodePattern)(r)&&r.call(this,null,this),this}}};w.default=p,j.exports=w.default},{"./blur-tables":202,"@jimp/utils":235}],204:[function(E,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var x=E("@jimp/utils"),m=function(){return{circle:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(a=s,s={});var r=s.radius||(this.bitmap.width>this.bitmap.height?this.bitmap.height:this.bitmap.width)/2,t={x:typeof s.x=="number"?s.x:this.bitmap.width/2,y:typeof s.y=="number"?s.y:this.bitmap.height/2};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,o,l){var n=Math.sqrt(Math.pow(e-t.x,2)+Math.pow(o-t.y,2));r-n<=0?this.bitmap.data[l+3]=0:r-n<1&&(this.bitmap.data[l+3]=255*(r-n))}),(0,x.isNodePattern)(a)&&a.call(this,null,this),this}}};w.default=m,j.exports=w.default},{"@jimp/utils":235}],205:[function(E,j,w){(function(x){var m=E("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=m(E("@babel/runtime/helpers/toConsumableArray")),d=m(E("tinycolor2")),s=E("@jimp/utils");function a(n,f,i,u){for(var h=[0,0,0],c=(f.length-1)/2,_=0;_<f.length;_+=1)for(var g=0;g<f[_].length;g+=1){var b=n.getPixelIndex(i+_-c,u+g-c);h[0]+=n.bitmap.data[b]*f[_][g],h[1]+=n.bitmap.data[b+1]*f[_][g],h[2]+=n.bitmap.data[b+2]*f[_][g]}return h}var r=function(f){return typeof f<"u"&&f!==null};function t(n){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(f,i,u){var h=parseInt(.2126*this.bitmap.data[u]+.7152*this.bitmap.data[u+1]+.0722*this.bitmap.data[u+2],10);this.bitmap.data[u]=h,this.bitmap.data[u+1]=h,this.bitmap.data[u+2]=h}),(0,s.isNodePattern)(n)&&n.call(this,null,this),this}function e(n,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:50;return{r:(f.r-n.r)*(i/100)+n.r,g:(f.g-n.g)*(i/100)+n.g,b:(f.b-n.b)*(i/100)+n.b}}function o(n,f){var i=this;return!n||!Array.isArray(n)?s.throwError.call(this,"actions must be an array",f):(n=n.map(function(u){return(u.apply==="xor"||u.apply==="mix")&&(u.params[0]=(0,d.default)(u.params[0]).toRgb()),u}),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(u,h,c){var _={r:i.bitmap.data[c],g:i.bitmap.data[c+1],b:i.bitmap.data[c+2]},g=function(y,A){return i.constructor.limit255(_[y]+A)};n.forEach(function(b){if(b.apply==="mix")_=e(_,b.params[0],b.params[1]);else if(b.apply==="tint")_=e(_,{r:255,g:255,b:255},b.params[0]);else if(b.apply==="shade")_=e(_,{r:0,g:0,b:0},b.params[0]);else if(b.apply==="xor")_={r:_.r^b.params[0].r,g:_.g^b.params[0].g,b:_.b^b.params[0].b};else if(b.apply==="red")_.r=g("r",b.params[0]);else if(b.apply==="green")_.g=g("g",b.params[0]);else if(b.apply==="blue")_.b=g("b",b.params[0]);else{var y;if(b.apply==="hue"&&(b.apply="spin"),_=(0,d.default)(_),!_[b.apply])return s.throwError.call(i,"action "+b.apply+" not supported",f);_=(y=_)[b.apply].apply(y,(0,p.default)(b.params)).toRgb()}}),i.bitmap.data[c]=_.r,i.bitmap.data[c+1]=_.g,i.bitmap.data[c+2]=_.b}),(0,s.isNodePattern)(f)&&f.call(this,null,this),this)}var l=function(){return{brightness:function(i,u){return typeof i!="number"?s.throwError.call(this,"val must be numbers",u):i<-1||i>1?s.throwError.call(this,"val must be a number between -1 and +1",u):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(h,c,_){i<0?(this.bitmap.data[_]=this.bitmap.data[_]*(1+i),this.bitmap.data[_+1]=this.bitmap.data[_+1]*(1+i),this.bitmap.data[_+2]=this.bitmap.data[_+2]*(1+i)):(this.bitmap.data[_]=this.bitmap.data[_]+(255-this.bitmap.data[_])*i,this.bitmap.data[_+1]=this.bitmap.data[_+1]+(255-this.bitmap.data[_+1])*i,this.bitmap.data[_+2]=this.bitmap.data[_+2]+(255-this.bitmap.data[_+2])*i)}),(0,s.isNodePattern)(u)&&u.call(this,null,this),this)},contrast:function(i,u){if(typeof i!="number")return s.throwError.call(this,"val must be numbers",u);if(i<-1||i>1)return s.throwError.call(this,"val must be a number between -1 and +1",u);var h=(i+1)/(1-i);function c(_){return _=Math.floor(h*(_-127)+127),_<0?0:_>255?255:_}return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(_,g,b){this.bitmap.data[b]=c(this.bitmap.data[b]),this.bitmap.data[b+1]=c(this.bitmap.data[b+1]),this.bitmap.data[b+2]=c(this.bitmap.data[b+2])}),(0,s.isNodePattern)(u)&&u.call(this,null,this),this},posterize:function(i,u){return typeof i!="number"?s.throwError.call(this,"n must be numbers",u):(i<2&&(i=2),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(h,c,_){this.bitmap.data[_]=Math.floor(this.bitmap.data[_]/255*(i-1))/(i-1)*255,this.bitmap.data[_+1]=Math.floor(this.bitmap.data[_+1]/255*(i-1))/(i-1)*255,this.bitmap.data[_+2]=Math.floor(this.bitmap.data[_+2]/255*(i-1))/(i-1)*255}),(0,s.isNodePattern)(u)&&u.call(this,null,this),this)},greyscale:t,grayscale:t,opacity:function(i,u){return typeof i!="number"?s.throwError.call(this,"f must be a number",u):i<0||i>1?s.throwError.call(this,"f must be a number from 0 to 1",u):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(h,c,_){var g=this.bitmap.data[_+3]*i;this.bitmap.data[_+3]=g}),(0,s.isNodePattern)(u)&&u.call(this,null,this),this)},sepia:function(i){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(u,h,c){var _=this.bitmap.data[c],g=this.bitmap.data[c+1],b=this.bitmap.data[c+2];_=_*.393+g*.769+b*.189,g=_*.349+g*.686+b*.168,b=_*.272+g*.534+b*.131,this.bitmap.data[c]=_<255?_:255,this.bitmap.data[c+1]=g<255?g:255,this.bitmap.data[c+2]=b<255?b:255}),(0,s.isNodePattern)(i)&&i.call(this,null,this),this},fade:function(i,u){return typeof i!="number"?s.throwError.call(this,"f must be a number",u):i<0||i>1?s.throwError.call(this,"f must be a number from 0 to 1",u):(this.opacity(1-i),(0,s.isNodePattern)(u)&&u.call(this,null,this),this)},convolution:function(i,u,h){typeof u=="function"&&typeof h>"u"&&(h=u,u=null),u||(u=this.constructor.EDGE_EXTEND);var c=x.from(this.bitmap.data),_=i.length,g=i[0].length,b=Math.floor(_/2),y=Math.floor(g/2),A=-b,M=-y,I,R,F,z,D,O,k,Z,$,te;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(q,U,W){z=0,F=0,R=0;for(var G=A;G<=b;G++)for(var V=M;V<=y;V++)Z=q+V,$=U+G,I=i[G+b][V+y],te=this.getPixelIndex(Z,$,u),te===-1?(k=0,O=0,D=0):(D=this.bitmap.data[te+0],O=this.bitmap.data[te+1],k=this.bitmap.data[te+2]),R+=I*D,F+=I*O,z+=I*k;R<0&&(R=0),F<0&&(F=0),z<0&&(z=0),R>255&&(R=255),F>255&&(F=255),z>255&&(z=255),c[W+0]=R,c[W+1]=F,c[W+2]=z}),this.bitmap.data=c,(0,s.isNodePattern)(h)&&h.call(this,null,this),this},opaque:function(i){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(u,h,c){this.bitmap.data[c+3]=255}),(0,s.isNodePattern)(i)&&i.call(this,null,this),this},pixelate:function(i,u,h,c,_,g){if(typeof u=="function")g=u,_=null,c=null,h=null,u=null;else{if(typeof i!="number")return s.throwError.call(this,"size must be a number",g);if(r(u)&&typeof u!="number")return s.throwError.call(this,"x must be a number",g);if(r(h)&&typeof h!="number")return s.throwError.call(this,"y must be a number",g);if(r(c)&&typeof c!="number")return s.throwError.call(this,"w must be a number",g);if(r(_)&&typeof _!="number")return s.throwError.call(this,"h must be a number",g)}var b=[[1/16,2/16,1/16],[2/16,4/16,2/16],[1/16,2/16,1/16]];u=u||0,h=h||0,c=r(c)?c:this.bitmap.width-u,_=r(_)?_:this.bitmap.height-h;var y=this.cloneQuiet();return this.scanQuiet(u,h,c,_,function(A,M,I){A=i*Math.floor(A/i),M=i*Math.floor(M/i);var R=a(y,b,A,M);this.bitmap.data[I]=R[0],this.bitmap.data[I+1]=R[1],this.bitmap.data[I+2]=R[2]}),(0,s.isNodePattern)(g)&&g.call(this,null,this),this},convolute:function(i,u,h,c,_,g){if(!Array.isArray(i))return s.throwError.call(this,"the kernel must be an array",g);if(typeof u=="function")g=u,u=null,h=null,c=null,_=null;else{if(r(u)&&typeof u!="number")return s.throwError.call(this,"x must be a number",g);if(r(h)&&typeof h!="number")return s.throwError.call(this,"y must be a number",g);if(r(c)&&typeof c!="number")return s.throwError.call(this,"w must be a number",g);if(r(_)&&typeof _!="number")return s.throwError.call(this,"h must be a number",g)}var b=(i.length-1)/2;u=r(u)?u:b,h=r(h)?h:b,c=r(c)?c:this.bitmap.width-u,_=r(_)?_:this.bitmap.height-h;var y=this.cloneQuiet();return this.scanQuiet(u,h,c,_,function(A,M,I){var R=a(y,i,A,M);this.bitmap.data[I]=this.constructor.limit255(R[0]),this.bitmap.data[I+1]=this.constructor.limit255(R[1]),this.bitmap.data[I+2]=this.constructor.limit255(R[2])}),(0,s.isNodePattern)(g)&&g.call(this,null,this),this},color:o,colour:o}};w.default=l,j.exports=w.default}).call(this,E("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/utils":235,buffer:48,tinycolor2:178}],206:[function(E,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var x=E("@jimp/utils"),m=function(){return{contain:function(s,a,r,t,e){if(typeof s!="number"||typeof a!="number")return x.throwError.call(this,"w and h must be numbers",e);typeof r=="string"&&(typeof t=="function"&&typeof e>"u"&&(e=t),t=r,r=null),typeof r=="function"&&(typeof e>"u"&&(e=r),t=null,r=null),typeof t=="function"&&typeof e>"u"&&(e=t,t=null),r=r||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;var o=r&8-1,l=r>>3;if(!(o!==0&&!(o&o-1)||l!==0&&!(l&l-1)))return x.throwError.call(this,"only use one flag per alignment direction",e);var n=o>>1,f=l>>1,i=s/a>this.bitmap.width/this.bitmap.height?a/this.bitmap.height:s/this.bitmap.width,u=this.cloneQuiet().scale(i,t);return this.resize(s,a,t),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(h,c,_){this.bitmap.data.writeUInt32BE(this._background,_)}),this.blit(u,(this.bitmap.width-u.bitmap.width)/2*n,(this.bitmap.height-u.bitmap.height)/2*f),(0,x.isNodePattern)(e)&&e.call(this,null,this),this}}};w.default=m,j.exports=w.default},{"@jimp/utils":235}],207:[function(E,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var x=E("@jimp/utils"),m=function(){return{cover:function(s,a,r,t,e){if(typeof s!="number"||typeof a!="number")return x.throwError.call(this,"w and h must be numbers",e);r&&typeof r=="function"&&typeof e>"u"?(e=r,r=null,t=null):typeof t=="function"&&typeof e>"u"&&(e=t,t=null),r=r||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;var o=r&8-1,l=r>>3;if(!(o!==0&&!(o&o-1)||l!==0&&!(l&l-1)))return x.throwError.call(this,"only use one flag per alignment direction",e);var n=o>>1,f=l>>1,i=s/a>this.bitmap.width/this.bitmap.height?s/this.bitmap.width:a/this.bitmap.height;return this.scale(i,t),this.crop((this.bitmap.width-s)/2*n,(this.bitmap.height-a)/2*f,s,a),(0,x.isNodePattern)(e)&&e.call(this,null,this),this}}};w.default=m,j.exports=w.default},{"@jimp/utils":235}],208:[function(E,j,w){(function(x){var m=E("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=s;var p=m(E("@babel/runtime/helpers/typeof")),d=E("@jimp/utils");function s(a){return a("crop",function(r,t,e,o,l){if(typeof r!="number"||typeof t!="number")return d.throwError.call(this,"x and y must be numbers",l);if(typeof e!="number"||typeof o!="number")return d.throwError.call(this,"w and h must be numbers",l);if(r=Math.round(r),t=Math.round(t),e=Math.round(e),o=Math.round(o),r===0&&e===this.bitmap.width){var n=e*t+r<<2,f=n+o*e<<2;this.bitmap.data=this.bitmap.data.slice(n,f)}else{var i=x.allocUnsafe(e*o*4),u=0;this.scanQuiet(r,t,e,o,function(h,c,_){var g=this.bitmap.data.readUInt32BE(_,!0);i.writeUInt32BE(g,u,!0),u+=4}),this.bitmap.data=i}return this.bitmap.width=e,this.bitmap.height=o,(0,d.isNodePattern)(l)&&l.call(this,null,this),this}),{class:{autocrop:function(){for(var t=this.bitmap.width,e=this.bitmap.height,o=1,l,n=0,f=2e-4,i=!0,u=!1,h=arguments.length,c=new Array(h),_=0;_<h;_++)c[_]=arguments[_];for(var g=0,b=c.length;g<b;g++)if(typeof c[g]=="number"&&(f=c[g]),typeof c[g]=="boolean"&&(i=c[g]),typeof c[g]=="function"&&(l=c[g]),(0,p.default)(c[g])==="object"){var y=c[g];typeof y.tolerance<"u"&&(f=y.tolerance),typeof y.cropOnlyFrames<"u"&&(i=y.cropOnlyFrames),typeof y.cropSymmetric<"u"&&(u=y.cropSymmetric),typeof y.leaveBorder<"u"&&(n=y.leaveBorder)}var A=this.getPixelColor(0,0),M=this.constructor.intToRGBA(A),I=0,R=0,F=0,z=0;A=this.getPixelColor(0,0);e:for(var D=0;D<e-o;D++){for(var O=0;O<t;O++){var k=this.getPixelColor(O,D),Z=this.constructor.intToRGBA(k);if(this.constructor.colorDiff(M,Z)>f)break e}I++}A=this.getPixelColor(t,0);e:for(var $=0;$<t-o;$++){for(var te=0+I;te<e;te++){var q=this.getPixelColor($,te),U=this.constructor.intToRGBA(q);if(this.constructor.colorDiff(M,U)>f)break e}R++}A=this.getPixelColor(0,e);e:for(var W=e-1;W>=I+o;W--){for(var G=t-R-1;G>=0;G--){var V=this.getPixelColor(G,W),re=this.constructor.intToRGBA(V);if(this.constructor.colorDiff(M,re)>f)break e}F++}A=this.getPixelColor(t,e);e:for(var se=t-1;se>=0+R+o;se--){for(var fe=e-1;fe>=0+I;fe--){var ue=this.getPixelColor(se,fe),pe=this.constructor.intToRGBA(ue);if(this.constructor.colorDiff(M,pe)>f)break e}z++}var ne=!1;if(z-=n,R-=n,I-=n,F-=n,u){var ie=Math.min(R,z),X=Math.min(I,F);z=ie,R=ie,I=X,F=X}z=z>=0?z:0,R=R>=0?R:0,I=I>=0?I:0,F=F>=0?F:0;var J=t-(z+R),ee=e-(F+I);return i?ne=R!==0&&I!==0&&z!==0&&F!==0:ne=R!==0||I!==0||z!==0||F!==0,ne&&this.crop(R,I,J,ee),(0,d.isNodePattern)(l)&&l.call(this,null,this),this}}}}j.exports=w.default}).call(this,E("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,buffer:48}],209:[function(E,j,w){var x=E("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var m=x(E("@babel/runtime/helpers/typeof")),p=E("@jimp/utils"),d=function(){return{displace:function(r,t,e){if((0,m.default)(r)!=="object"||r.constructor!==this.constructor)return p.throwError.call(this,"The source must be a Jimp image",e);if(typeof t!="number")return p.throwError.call(this,"factor must be a number",e);var o=this.cloneQuiet();return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(l,n,f){var i=r.bitmap.data[f]/256*t;i=Math.round(i);var u=this.getPixelIndex(l+i,n);this.bitmap.data[u]=o.bitmap.data[f],this.bitmap.data[u+1]=o.bitmap.data[f+1],this.bitmap.data[u+2]=o.bitmap.data[f+2]}),(0,p.isNodePattern)(e)&&e.call(this,null,this),this}}};w.default=d,j.exports=w.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],210:[function(E,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var x=E("@jimp/utils");function m(d){var s=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(a,r,t){var e=((r&3)<<2)+a%4,o=s[e];this.bitmap.data[t]=Math.min(this.bitmap.data[t]+o,255),this.bitmap.data[t+1]=Math.min(this.bitmap.data[t+1]+o,255),this.bitmap.data[t+2]=Math.min(this.bitmap.data[t+2]+o,255)}),(0,x.isNodePattern)(d)&&d.call(this,null,this),this}var p=function(){return{dither565:m,dither16:m}};w.default=p,j.exports=w.default},{"@jimp/utils":235}],211:[function(E,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var x=E("@jimp/utils"),m=function(){return{fisheye:function(){var s=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{r:2.5},r=arguments.length>1?arguments[1]:void 0;typeof a=="function"&&(r=a,a={r:2.5});var t=this.cloneQuiet(),e=t.bitmap,o=e.width,l=e.height;return t.scanQuiet(0,0,o,l,function(n,f){var i=n/o,u=f/l,h=Math.sqrt(Math.pow(i-.5,2)+Math.pow(u-.5,2)),c=2*Math.pow(h,a.r),_=(i-.5)/h,g=(u-.5)/h,b=Math.round((c*_+.5)*o),y=Math.round((c*g+.5)*l),A=t.getPixelColor(b,y);s.setPixelColor(A,n,f)}),this.setPixelColor(t.getPixelColor(o/2,l/2),o/2,l/2),(0,x.isNodePattern)(r)&&r.call(this,null,this),this}}};w.default=m,j.exports=w.default},{"@jimp/utils":235}],212:[function(E,j,w){(function(x){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var m=E("@jimp/utils");function p(s,a,r){if(typeof s!="boolean"||typeof a!="boolean")return m.throwError.call(this,"horizontal and vertical must be Booleans",r);var t=x.alloc(this.bitmap.data.length);return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,o,l){var n=s?this.bitmap.width-1-e:e,f=a?this.bitmap.height-1-o:o,i=this.bitmap.width*f+n<<2,u=this.bitmap.data.readUInt32BE(l);t.writeUInt32BE(u,i)}),this.bitmap.data=x.from(t),(0,m.isNodePattern)(r)&&r.call(this,null,this),this}var d=function(){return{flip:p,mirror:p}};w.default=d,j.exports=w.default}).call(this,E("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],213:[function(E,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var x=E("@jimp/utils"),m=function(){return{gaussian:function(s,a){if(typeof s!="number")return x.throwError.call(this,"r must be a number",a);if(s<1)return x.throwError.call(this,"r must be greater than 0",a);for(var r=Math.ceil(s*2.57),t=r*2+1,e=s*s*2,o=e*Math.PI,l=[],n=0;n<t;n++){l[n]=[];for(var f=0;f<t;f++){var i=Math.pow(f-r,2)+Math.pow(n-r,2);l[n][f]=Math.exp(-i/e)/o}}for(var u=0;u<this.bitmap.height;u++)for(var h=0;h<this.bitmap.width;h++)for(var c=0,_=0,g=0,b=0,y=0,A=0;A<t;A++){for(var M=0;M<t;M++){var I=Math.min(this.bitmap.width-1,Math.max(0,M+h-r)),R=Math.min(this.bitmap.height-1,Math.max(0,A+u-r)),F=l[A][M],z=R*this.bitmap.width+I<<2;c+=this.bitmap.data[z]*F,_+=this.bitmap.data[z+1]*F,g+=this.bitmap.data[z+2]*F,b+=this.bitmap.data[z+3]*F,y+=F}var D=u*this.bitmap.width+h<<2;this.bitmap.data[D]=Math.round(c/y),this.bitmap.data[D+1]=Math.round(_/y),this.bitmap.data[D+2]=Math.round(g/y),this.bitmap.data[D+3]=Math.round(b/y)}return(0,x.isNodePattern)(a)&&a.call(this,null,this),this}}};w.default=m,j.exports=w.default},{"@jimp/utils":235}],214:[function(E,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var x=E("@jimp/utils"),m=function(){return{invert:function(s){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(a,r,t){this.bitmap.data[t]=255-this.bitmap.data[t],this.bitmap.data[t+1]=255-this.bitmap.data[t+1],this.bitmap.data[t+2]=255-this.bitmap.data[t+2]}),(0,x.isNodePattern)(s)&&s.call(this,null,this),this}}};w.default=m,j.exports=w.default},{"@jimp/utils":235}],215:[function(E,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var x=E("@jimp/utils"),m=function(){return{mask:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3?arguments[3]:void 0;if(!(s instanceof this.constructor))return x.throwError.call(this,"The source must be a Jimp image",t);if(typeof a!="number"||typeof r!="number")return x.throwError.call(this,"x and y must be numbers",t);a=Math.round(a),r=Math.round(r);var e=this.bitmap.width,o=this.bitmap.height,l=this;return s.scanQuiet(0,0,s.bitmap.width,s.bitmap.height,function(n,f,i){var u=a+n,h=r+f;if(u>=0&&h>=0&&u<e&&h<o){var c=l.getPixelIndex(u,h),_=this.bitmap.data,g=(_[i+0]+_[i+1]+_[i+2])/3;l.bitmap.data[c+3]*=g/255}}),(0,x.isNodePattern)(t)&&t.call(this,null,this),this}}};w.default=m,j.exports=w.default},{"@jimp/utils":235}],216:[function(E,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var x=E("@jimp/utils");function m(){var a={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(r,t,e){a.r[this.bitmap.data[e+0]]++,a.g[this.bitmap.data[e+1]]++,a.b[this.bitmap.data[e+2]]++}),a}var p=function(r,t,e){return(r-t)*255/(e-t)},d=function(r){return[r.findIndex(function(t){return t>0}),255-r.slice().reverse().findIndex(function(t){return t>0})]},s=function(){return{normalize:function(t){var e=m.call(this),o={r:d(e.r),g:d(e.g),b:d(e.b)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(l,n,f){var i=this.bitmap.data[f+0],u=this.bitmap.data[f+1],h=this.bitmap.data[f+2];this.bitmap.data[f+0]=p(i,o.r[0],o.r[1]),this.bitmap.data[f+1]=p(u,o.g[0],o.g[1]),this.bitmap.data[f+2]=p(h,o.b[0],o.b[1])}),(0,x.isNodePattern)(t)&&t.call(this,null,this),this}}};w.default=s,j.exports=w.default},{"@jimp/utils":235}],217:[function(E,j,w){(function(x){var m=E("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=m(E("@babel/runtime/helpers/typeof")),d=m(E("@babel/runtime/helpers/toConsumableArray")),s=m(E("path")),a=m(E("load-bmfont")),r=E("@jimp/utils"),t=E("./measure-text");function e(h,c,_,g,b){return b===h.HORIZONTAL_ALIGN_LEFT?0:b===h.HORIZONTAL_ALIGN_CENTER?(g-(0,t.measureText)(c,_))/2:g-(0,t.measureText)(c,_)}function o(h,c,_,g,b){if(b.width>0&&b.height>0){var y=c.pages[b.page];h.blit(y,_+b.xoffset,g+b.yoffset,b.x,b.y,b.width,b.height)}return h}function l(h,c,_,g,b){for(var y=0;y<g.length;y++){var A=void 0;h.chars[g[y]]?A=g[y]:/\s/.test(g[y])?A="":A="?";var M=h.chars[A]||{},I=h.kernings[A];o(this,h,c,_,M||{});var R=I&&I[g[y+1]]?I[g[y+1]]:0;c+=R+(M.xadvance||b)}}function n(h,c,_){var g=c.split(" "),b=[],y=[],A=0;return g.forEach(function(M){var I=[].concat((0,d.default)(y),[M]).join(" "),R=(0,t.measureText)(h,I);R<=_?(R>A&&(A=R),y.push(M)):(b.push(y),y=[M])}),b.push(y),{lines:b,longestLine:A}}function f(h,c,_){var g=_.map(function(b){return h.read(c+"/"+b)});return Promise.all(g)}var i="browser/lib/",u=function(){return{constants:{measureText:t.measureText,measureTextHeight:t.measureTextHeight,FONT_SANS_8_BLACK:s.default.join(i,"fonts/open-sans/open-sans-8-black/open-sans-8-black.fnt"),FONT_SANS_10_BLACK:s.default.join(i,"fonts/open-sans/open-sans-10-black/open-sans-10-black.fnt"),FONT_SANS_12_BLACK:s.default.join(i,"fonts/open-sans/open-sans-12-black/open-sans-12-black.fnt"),FONT_SANS_14_BLACK:s.default.join(i,"fonts/open-sans/open-sans-14-black/open-sans-14-black.fnt"),FONT_SANS_16_BLACK:s.default.join(i,"fonts/open-sans/open-sans-16-black/open-sans-16-black.fnt"),FONT_SANS_32_BLACK:s.default.join(i,"fonts/open-sans/open-sans-32-black/open-sans-32-black.fnt"),FONT_SANS_64_BLACK:s.default.join(i,"fonts/open-sans/open-sans-64-black/open-sans-64-black.fnt"),FONT_SANS_128_BLACK:s.default.join(i,"fonts/open-sans/open-sans-128-black/open-sans-128-black.fnt"),FONT_SANS_8_WHITE:s.default.join(i,"fonts/open-sans/open-sans-8-white/open-sans-8-white.fnt"),FONT_SANS_16_WHITE:s.default.join(i,"fonts/open-sans/open-sans-16-white/open-sans-16-white.fnt"),FONT_SANS_32_WHITE:s.default.join(i,"fonts/open-sans/open-sans-32-white/open-sans-32-white.fnt"),FONT_SANS_64_WHITE:s.default.join(i,"fonts/open-sans/open-sans-64-white/open-sans-64-white.fnt"),FONT_SANS_128_WHITE:s.default.join(i,"fonts/open-sans/open-sans-128-white/open-sans-128-white.fnt"),loadFont:function(_,g){var b=this;return typeof _!="string"?r.throwError.call(this,"file must be a string",g):new Promise(function(y,A){g=g||function(M,I){M?A(M):y(I)},(0,a.default)(_,function(M,I){var R={},F={};if(M)return r.throwError.call(b,M,g);for(var z=0;z<I.chars.length;z++)R[String.fromCharCode(I.chars[z].id)]=I.chars[z];for(var D=0;D<I.kernings.length;D++){var O=String.fromCharCode(I.kernings[D].first);F[O]=F[O]||{},F[O][String.fromCharCode(I.kernings[D].second)]=I.kernings[D].amount}f(b,s.default.dirname(_),I.pages).then(function(k){g(null,{chars:R,kernings:F,pages:k,common:I.common,info:I.info})})})})}},class:{print:function(_,g,b,y,A,M,I){var R=this;if(typeof A=="function"&&typeof I>"u"&&(I=A,A=1/0),typeof A>"u"&&(A=1/0),typeof M=="function"&&typeof I>"u"&&(I=M,M=1/0),typeof M>"u"&&(M=1/0),(0,p.default)(_)!=="object")return r.throwError.call(this,"font must be a Jimp loadFont",I);if(typeof g!="number"||typeof b!="number"||typeof A!="number")return r.throwError.call(this,"x, y and maxWidth must be numbers",I);if(typeof A!="number")return r.throwError.call(this,"maxWidth must be a number",I);if(typeof M!="number")return r.throwError.call(this,"maxHeight must be a number",I);var F,z;if((0,p.default)(y)==="object"&&y.text!==null&&y.text!==void 0){F=y.alignmentX||this.constructor.HORIZONTAL_ALIGN_LEFT,z=y.alignmentY||this.constructor.VERTICAL_ALIGN_TOP;var D=y;y=D.text}else F=this.constructor.HORIZONTAL_ALIGN_LEFT,z=this.constructor.VERTICAL_ALIGN_TOP,y=y.toString();M!==1/0&&z===this.constructor.VERTICAL_ALIGN_BOTTOM?b+=M-(0,t.measureTextHeight)(_,y,A):M!==1/0&&z===this.constructor.VERTICAL_ALIGN_MIDDLE&&(b+=M/2-(0,t.measureTextHeight)(_,y,A)/2);var O=Object.entries(_.chars)[0][1].xadvance,k=n(_,y,A),Z=k.lines,$=k.longestLine;return Z.forEach(function(te){var q=te.join(" "),U=e(R.constructor,_,q,A,F);l.call(R,_,g+U,b,q,O),b+=_.common.lineHeight}),(0,r.isNodePattern)(I)&&I.call(this,null,this,{x:g+$,y:b}),this}}}};w.default=u,j.exports=w.default}).call(this,"/../../node_modules/@jimp/plugin-print/dist")},{"./measure-text":218,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"load-bmfont":219,path:107}],218:[function(E,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.measureText=x,w.measureTextHeight=m;function x(p,d){for(var s=0,a=0;a<d.length;a++)if(p.chars[d[a]]){var r=p.kernings[d[a]]&&p.kernings[d[a]][d[a+1]]?p.kernings[d[a]][d[a+1]]:0;s+=(p.chars[d[a]].xadvance||0)+r}return s}function m(p,d,s){for(var a=d.split(" "),r="",t=p.common.lineHeight,e=0;e<a.length;e++){var o=r+a[e]+" ",l=x(p,o);l>s&&e>0?(t+=p.common.lineHeight,r=a[e]+" "):r=o}return t}},{}],219:[function(E,j,w){(function(x){var m=E("xhr"),p=function(){},d=E("parse-bmfont-ascii"),s=E("parse-bmfont-xml"),a=E("parse-bmfont-binary"),r=E("./lib/is-binary"),t=E("xtend"),e=function(){return self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}();j.exports=function(n,f){f=typeof f=="function"?f:p,typeof n=="string"?n={uri:n}:n||(n={});var i=n.binary;i&&(n=l(n)),m(n,function(u,h,c){if(u)return f(u);if(!/^2/.test(h.statusCode))return f(new Error("http status code: "+h.statusCode));if(!c)return f(new Error("no body result"));var _=!1;if(o(c)){var g=new Uint8Array(c);c=new x(g,"binary")}r(c)&&(_=!0,typeof c=="string"&&(c=new x(c,"binary"))),_||(x.isBuffer(c)&&(c=c.toString(n.encoding)),c=c.trim());var b;try{var y=h.headers["content-type"];_?b=a(c):/json/.test(y)||c.charAt(0)==="{"?b=JSON.parse(c):/xml/.test(y)||c.charAt(0)==="<"?b=s(c):b=d(c)}catch(A){f(new Error("error parsing font "+A.message)),f=p}f(null,b)})};function o(n){var f=Object.prototype.toString;return f.call(n)==="[object ArrayBuffer]"}function l(n){if(e)return t(n,{responseType:"arraybuffer"});if(typeof self.XMLHttpRequest>"u")throw new Error("your browser does not support XHR loading");var f=new self.XMLHttpRequest;return f.overrideMimeType("text/plain; charset=x-user-defined"),t({xhr:f},n)}}).call(this,E("buffer").Buffer)},{"./lib/is-binary":220,buffer:48,"parse-bmfont-ascii":102,"parse-bmfont-binary":103,"parse-bmfont-xml":104,xhr:187,xtend:189}],220:[function(E,j,w){(function(x){var m=E("buffer-equal"),p=new x([66,77,70,3]);j.exports=function(d){return typeof d=="string"?d.substring(0,3)==="BMF":d.length>4&&m(d.slice(0,4),p)}}).call(this,E("buffer").Buffer)},{buffer:48,"buffer-equal":49}],221:[function(E,j,w){(function(x){var m=E("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=E("@jimp/utils"),d=m(E("./modules/resize")),s=m(E("./modules/resize2")),a=function(){return{constants:{RESIZE_NEAREST_NEIGHBOR:"nearestNeighbor",RESIZE_BILINEAR:"bilinearInterpolation",RESIZE_BICUBIC:"bicubicInterpolation",RESIZE_HERMITE:"hermiteInterpolation",RESIZE_BEZIER:"bezierInterpolation"},class:{resize:function(e,o,l,n){if(typeof e!="number"||typeof o!="number")return p.throwError.call(this,"w and h must be numbers",n);if(typeof l=="function"&&typeof n>"u"&&(n=l,l=null),e===this.constructor.AUTO&&o===this.constructor.AUTO)return p.throwError.call(this,"w and h cannot both be set to auto",n);if(e===this.constructor.AUTO&&(e=this.bitmap.width*(o/this.bitmap.height)),o===this.constructor.AUTO&&(o=this.bitmap.height*(e/this.bitmap.width)),e<0||o<0)return p.throwError.call(this,"w and h must be positive numbers",n);if(e=Math.round(e),o=Math.round(o),typeof s.default[l]=="function"){var f={data:x.alloc(e*o*4),width:e,height:o};s.default[l](this.bitmap,f),this.bitmap=f}else{var i=this,u=new d.default(this.bitmap.width,this.bitmap.height,e,o,!0,!0,function(h){i.bitmap.data=x.from(h),i.bitmap.width=e,i.bitmap.height=o});u.resize(this.bitmap.data)}return(0,p.isNodePattern)(n)&&n.call(this,null,this),this}}}};w.default=a,j.exports=w.default}).call(this,E("buffer").Buffer)},{"./modules/resize":222,"./modules/resize2":223,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,buffer:48}],222:[function(E,j,w){function x(m,p,d,s,a,r,t){this.widthOriginal=Math.abs(Math.floor(m)||0),this.heightOriginal=Math.abs(Math.floor(p)||0),this.targetWidth=Math.abs(Math.floor(d)||0),this.targetHeight=Math.abs(Math.floor(s)||0),this.colorChannels=a?4:3,this.interpolationPass=!!r,this.resizeCallback=typeof t=="function"?t:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}x.prototype.initialize=function(){if(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0)this.configurePasses();else throw new Error("Invalid settings specified for the resizer.")},x.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=this.colorChannels===4?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=this.colorChannels===4?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=this.colorChannels===4?this.resizeHeightRGBA:this.resizeHeightRGB))},x.prototype._resizeWidthInterpolatedRGBChannels=function(m,p){var d=p?4:3,s=this.ratioWeightWidthPass,a=this.widthBuffer,r=0,t=0,e=0,o=0,l=0,n;for(n=0;r<1/3;n+=d,r+=s)for(t=n,e=0;t<this.widthPassResultSize;e+=this.originalWidthMultipliedByChannels,t+=this.targetWidthMultipliedByChannels)a[t]=m[e],a[t+1]=m[e+1],a[t+2]=m[e+2],p&&(a[t+3]=m[e+3]);r-=1/3;var f;for(f=this.widthOriginal-1;r<f;n+=d,r+=s)for(l=r%1,o=1-l,t=n,e=Math.floor(r)*d;t<this.widthPassResultSize;e+=this.originalWidthMultipliedByChannels,t+=this.targetWidthMultipliedByChannels)a[t+0]=m[e+0]*o+m[e+d+0]*l,a[t+1]=m[e+1]*o+m[e+d+1]*l,a[t+2]=m[e+2]*o+m[e+d+2]*l,p&&(a[t+3]=m[e+3]*o+m[e+d+3]*l);for(f=this.originalWidthMultipliedByChannels-d;n<this.targetWidthMultipliedByChannels;n+=d)for(t=n,e=f;t<this.widthPassResultSize;e+=this.originalWidthMultipliedByChannels,t+=this.targetWidthMultipliedByChannels)a[t]=m[e],a[t+1]=m[e+1],a[t+2]=m[e+2],p&&(a[t+3]=m[e+3]);return a},x.prototype._resizeWidthRGBChannels=function(m,p){var d=p?4:3,s=this.ratioWeightWidthPass,a=1/s,r=this.originalWidthMultipliedByChannels-d+1,t=this.targetWidthMultipliedByChannels-d+1,e=this.outputWidthWorkBench,o=this.widthBuffer,l=this.outputWidthWorkBenchOpaquePixelsCount,n=0,f=0,i=0,u=0,h=0,c=0,_=0,g=1,b=0,y=0,A=0,M=0;do{for(h=0;h<this.originalHeightMultipliedByChannels;)e[h++]=0,e[h++]=0,e[h++]=0,p&&(e[h++]=0,l[h/d-1]=0);n=s;do{for(f=1+i-u,g=Math.min(n,f),h=0,c=i;h<this.originalHeightMultipliedByChannels;c+=r)b=m[c],y=m[++c],A=m[++c],M=p?m[++c]:255,e[h++]+=(M?b:0)*g,e[h++]+=(M?y:0)*g,e[h++]+=(M?A:0)*g,p&&(e[h++]+=M*g,l[h/d-1]+=M?g:0);if(n>=f)i+=d,u=i,n-=f;else{u+=n;break}}while(n>0&&i<this.originalWidthMultipliedByChannels);for(h=0,c=_;h<this.originalHeightMultipliedByChannels;c+=t)n=p?l[h/d]:1,g=p?n?1/n:0:a,o[c]=e[h++]*g,o[++c]=e[h++]*g,o[++c]=e[h++]*g,p&&(o[++c]=e[h++]*a);_+=d}while(_<this.targetWidthMultipliedByChannels);return o},x.prototype._resizeHeightRGBChannels=function(m,p){var d=this.ratioWeightHeightPass,s=1/d,a=this.outputHeightWorkBench,r=this.heightBuffer,t=this.outputHeightWorkBenchOpaquePixelsCount,e=0,o=0,l=0,n=0,f=0,i=0,u=0,h=1,c=0,_=0,g=0,b=0;do{for(f=0;f<this.targetWidthMultipliedByChannels;)a[f++]=0,a[f++]=0,a[f++]=0,p&&(a[f++]=0,t[f/4-1]=0);e=d;do{for(o=1+l-n,h=Math.min(e,o),u=l,f=0;f<this.targetWidthMultipliedByChannels;)c=m[u++],_=m[u++],g=m[u++],b=p?m[u++]:255,a[f++]+=(b?c:0)*h,a[f++]+=(b?_:0)*h,a[f++]+=(b?g:0)*h,p&&(a[f++]+=b*h,t[f/4-1]+=b?h:0);if(e>=o)l=u,n=l,e-=o;else{n+=e;break}}while(e>0&&l<this.widthPassResultSize);for(f=0;f<this.targetWidthMultipliedByChannels;)e=p?t[f/4]:1,h=p?e?1/e:0:s,r[i++]=Math.round(a[f++]*h),r[i++]=Math.round(a[f++]*h),r[i++]=Math.round(a[f++]*h),p&&(r[i++]=Math.round(a[f++]*s))}while(i<this.finalResultSize);return r},x.prototype.resizeWidthInterpolatedRGB=function(m){return this._resizeWidthInterpolatedRGBChannels(m,!1)},x.prototype.resizeWidthInterpolatedRGBA=function(m){return this._resizeWidthInterpolatedRGBChannels(m,!0)},x.prototype.resizeWidthRGB=function(m){return this._resizeWidthRGBChannels(m,!1)},x.prototype.resizeWidthRGBA=function(m){return this._resizeWidthRGBChannels(m,!0)},x.prototype.resizeHeightInterpolated=function(m){for(var p=this.ratioWeightHeightPass,d=this.heightBuffer,s=0,a=0,r=0,t=0,e=0,o=0,l=0,n;s<1/3;s+=p)for(r=0;r<this.targetWidthMultipliedByChannels;)d[a++]=Math.round(m[r++]);for(s-=1/3,n=this.heightOriginal-1;s<n;s+=p)for(l=s%1,o=1-l,t=Math.floor(s)*this.targetWidthMultipliedByChannels,e=t+this.targetWidthMultipliedByChannels,r=0;r<this.targetWidthMultipliedByChannels;++r)d[a++]=Math.round(m[t++]*o+m[e++]*l);for(;a<this.finalResultSize;)for(r=0,t=n*this.targetWidthMultipliedByChannels;r<this.targetWidthMultipliedByChannels;++r)d[a++]=Math.round(m[t++]);return d},x.prototype.resizeHeightRGB=function(m){return this._resizeHeightRGBChannels(m,!1)},x.prototype.resizeHeightRGBA=function(m){return this._resizeHeightRGBChannels(m,!0)},x.prototype.resize=function(m){this.resizeCallback(this.resizeHeight(this.resizeWidth(m)))},x.prototype.bypassResizer=function(m){return m},x.prototype.initializeFirstPassBuffers=function(m){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),m||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},x.prototype.initializeSecondPassBuffers=function(m){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),m||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},x.prototype.generateFloatBuffer=function(m){try{return new Float32Array(m)}catch{return[]}},x.prototype.generateFloat64Buffer=function(m){try{return new Float64Array(m)}catch{return[]}},x.prototype.generateUint8Buffer=function(m){try{return new Uint8Array(m)}catch{return[]}},j.exports=x},{}],223:[function(E,j,w){(function(x){j.exports={nearestNeighbor:function(p,d){for(var s=p.width,a=p.height,r=d.width,t=d.height,e=p.data,o=d.data,l=0;l<t;l++)for(var n=0;n<r;n++){var f=(l*r+n)*4,i=Math.floor(l*a/t),u=Math.floor(n*s/r),h=(i*s+u)*4;o[f++]=e[h++],o[f++]=e[h++],o[f++]=e[h++],o[f++]=e[h++]}},bilinearInterpolation:function(p,d){for(var s=p.width,a=p.height,r=d.width,t=d.height,e=p.data,o=d.data,l=function(M,I,R,F,z){return I===F?R:Math.round((M-I)*z+(F-M)*R)},n=function(M,I,R,F,z,D,O,k){var Z=(O*s+F)*4+I,$=(O*s+z)*4+I,te=l(R,F,e[Z],z,e[$]);if(k===O)o[M+I]=te;else{Z=(k*s+F)*4+I,$=(k*s+z)*4+I;var q=l(R,F,e[Z],z,e[$]);o[M+I]=l(D,O,te,k,q)}},f=0;f<t;f++)for(var i=0;i<r;i++){var u=(f*r+i)*4,h=i*s/r,c=Math.floor(h),_=Math.min(Math.ceil(h),s-1),g=f*a/t,b=Math.floor(g),y=Math.min(Math.ceil(g),a-1);n(u,0,h,c,_,g,b,y),n(u,1,h,c,_,g,b,y),n(u,2,h,c,_,g,b,y),n(u,3,h,c,_,g,b,y)}},_interpolate2D:function(p,d,s,a){for(var r=p.data,t=d.data,e=p.width,o=p.height,l=d.width,n=d.height,f=Math.max(1,Math.floor(e/l)),i=l*f,u=Math.max(1,Math.floor(o/n)),h=n*u,c=x.alloc(i*o*4),_=0;_<o;_++)for(var g=0;g<i;g++)for(var b=g*(e-1)/i,y=Math.floor(b),A=b-y,M=(_*e+y)*4,I=(_*i+g)*4,R=0;R<4;R++){var F=M+R,z=y>0?r[F-4]:2*r[F]-r[F+4],D=r[F],O=r[F+4],k=y<e-2?r[F+8]:2*r[F+4]-r[F];c[I+R]=a(z,D,O,k,A)}for(var Z=x.alloc(i*h*4),$=0;$<h;$++)for(var te=0;te<i;te++)for(var q=$*(o-1)/h,U=Math.floor(q),W=q-U,G=(U*i+te)*4,V=($*i+te)*4,re=0;re<4;re++){var se=G+re,fe=U>0?c[se-i*4]:2*c[se]-c[se+i*4],ue=c[se],pe=c[se+i*4],ne=U<o-2?c[se+i*8]:2*c[se+i*4]-c[se];Z[V+re]=a(fe,ue,pe,ne,W)}var ie=f*u;if(ie>1)for(var X=0;X<n;X++)for(var J=0;J<l;J++){for(var ee=0,H=0,P=0,T=0,Y=0,N=0;N<u;N++)for(var C=X*u+N,S=0;S<f;S++){var Q=J*f+S,oe=(C*i+Q)*4,ve=Z[oe+3];ve&&(ee+=Z[oe],H+=Z[oe+1],P+=Z[oe+2],Y++),T+=ve}var ye=(X*l+J)*4;t[ye]=Y?Math.round(ee/Y):0,t[ye+1]=Y?Math.round(H/Y):0,t[ye+2]=Y?Math.round(P/Y):0,t[ye+3]=Math.round(T/ie)}else d.data=Z},bicubicInterpolation:function(p,d,s){var a=function(t,e,o,l,n){var f=l-o-t+e,i=t-e-f,u=o-t,h=e;return Math.max(0,Math.min(255,f*(n*n*n)+i*(n*n)+u*n+h))};return this._interpolate2D(p,d,s,a)},hermiteInterpolation:function(p,d,s){var a=function(t,e,o,l,n){var f=e,i=.5*(o-t),u=t-2.5*e+2*o-.5*l,h=.5*(l-t)+1.5*(e-o);return Math.max(0,Math.min(255,Math.round(((h*n+u)*n+i)*n+f)))};return this._interpolate2D(p,d,s,a)},bezierInterpolation:function(p,d,s){var a=function(t,e,o,l,n){var f=e+(o-t)/4,i=o-(l-e)/4,u=1-n,h=e*u*u*u,c=3*f*u*u*n,_=3*i*u*n*n,g=o*n*n*n;return Math.max(0,Math.min(255,Math.round(h+c+_+g)))};return this._interpolate2D(p,d,s,a)}}}).call(this,E("buffer").Buffer)},{buffer:48}],224:[function(E,j,w){(function(x){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var m=E("@jimp/utils");function p(s,a){s%=360;var r=s*Math.PI/180,t=Math.cos(r),e=Math.sin(r),o=this.bitmap.width,l=this.bitmap.height;if(a===!0||typeof a=="string"){o=Math.ceil(Math.abs(this.bitmap.width*t)+Math.abs(this.bitmap.height*e))+1,l=Math.ceil(Math.abs(this.bitmap.width*e)+Math.abs(this.bitmap.height*t))+1,o%2!==0&&o++,l%2!==0&&l++;var n=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(O,k,Z){this.bitmap.data.writeUInt32BE(this._background,Z)});var f=Math.max(o,l,this.bitmap.width,this.bitmap.height);this.resize(f,f,a),this.blit(n,this.bitmap.width/2-n.bitmap.width/2,this.bitmap.height/2-n.bitmap.height/2)}var i=this.bitmap.width,u=this.bitmap.height,h=x.alloc(this.bitmap.data.length);function c(O,k){return function(Z,$){return{x:Z+O,y:$+k}}}for(var _=c(-(i/2),-(u/2)),g=c(i/2+.5,u/2+.5),b=1;b<=u;b++)for(var y=1;y<=i;y++){var A=_(y,b),M=g(t*A.x-e*A.y,t*A.y+e*A.x),I=i*(b-1)+y-1<<2;if(M.x>=0&&M.x<i&&M.y>=0&&M.y<u){var R=(i*(M.y|0)+M.x|0)<<2,F=this.bitmap.data.readUInt32BE(R);h.writeUInt32BE(F,I)}else h.writeUInt32BE(this._background,I)}if(this.bitmap.data=h,a===!0||typeof a=="string"){var z=i/2-o/2,D=u/2-l/2;this.crop(z,D,o,l)}}var d=function(){return{rotate:function(r,t,e){return(typeof t>"u"||t===null)&&(t=!0),typeof t=="function"&&typeof e>"u"&&(e=t,t=!0),typeof r!="number"?m.throwError.call(this,"deg must be a number",e):typeof t!="boolean"&&typeof t!="string"?m.throwError.call(this,"mode must be a boolean or a string",e):(p.call(this,r,t,e),(0,m.isNodePattern)(e)&&e.call(this,null,this),this)}}};w.default=d,j.exports=w.default}).call(this,E("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],225:[function(E,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var x=E("@jimp/utils"),m=function(){return{scale:function(s,a,r){if(typeof s!="number")return x.throwError.call(this,"f must be a number",r);if(s<0)return x.throwError.call(this,"f must be a positive number",r);typeof a=="function"&&typeof r>"u"&&(r=a,a=null);var t=this.bitmap.width*s,e=this.bitmap.height*s;return this.resize(t,e,a),(0,x.isNodePattern)(r)&&r.call(this,null,this),this},scaleToFit:function(s,a,r,t){if(typeof s!="number"||typeof a!="number")return x.throwError.call(this,"w and h must be numbers",t);typeof r=="function"&&typeof t>"u"&&(t=r,r=null);var e=s/a>this.bitmap.width/this.bitmap.height?a/this.bitmap.height:s/this.bitmap.width;return this.scale(e,r),(0,x.isNodePattern)(t)&&t.call(this,null,this),this}}};w.default=m,j.exports=w.default},{"@jimp/utils":235}],226:[function(E,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var x=E("@jimp/utils"),m=function(){return{shadow:function(){var s=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;typeof a=="function"&&(r=a,a={});var t=a,e=t.opacity,o=e===void 0?.7:e,l=t.size,n=l===void 0?1.1:l,f=t.x,i=f===void 0?-25:f,u=t.y,h=u===void 0?25:u,c=t.blur,_=c===void 0?5:c,g=this.clone(),b=this.clone();return b.scan(0,0,b.bitmap.width,b.bitmap.height,function(y,A,M){b.bitmap.data[M]=0,b.bitmap.data[M+1]=0,b.bitmap.data[M+2]=0,b.bitmap.data[M+3]=b.constructor.limit255(b.bitmap.data[M+3]*o),s.bitmap.data[M]=0,s.bitmap.data[M+1]=0,s.bitmap.data[M+2]=0,s.bitmap.data[M+3]=0}),b.resize(b.bitmap.width*n,b.bitmap.height*n).blur(_),this.composite(b,i,h),this.composite(g,0,0),(0,x.isNodePattern)(r)&&r.call(this,null,this),this}}};w.default=m,j.exports=w.default},{"@jimp/utils":235}],227:[function(E,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var x=E("@jimp/utils"),m=function(){return{threshold:function(s,a){var r=this,t=s.max,e=s.replace,o=e===void 0?255:e,l=s.autoGreyscale,n=l===void 0?!0:l;return typeof t!="number"?x.throwError.call(this,"max must be a number",a):typeof o!="number"?x.throwError.call(this,"replace must be a number",a):typeof n!="boolean"?x.throwError.call(this,"autoGreyscale must be a boolean",a):(t=this.constructor.limit255(t),o=this.constructor.limit255(o),n&&this.greyscale(),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(f,i,u){var h=r.bitmap.data[u]<t?r.bitmap.data[u]:o;r.bitmap.data[u]=h,r.bitmap.data[u+1]=h,r.bitmap.data[u+2]=h}),(0,x.isNodePattern)(a)&&a.call(this,null,this),this)}}};w.default=m,j.exports=w.default},{"@jimp/utils":235}],228:[function(E,j,w){var x=E("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var m=x(E("@babel/runtime/helpers/toConsumableArray")),p=E("timm"),d=x(E("@jimp/plugin-blit")),s=x(E("@jimp/plugin-blur")),a=x(E("@jimp/plugin-circle")),r=x(E("@jimp/plugin-color")),t=x(E("@jimp/plugin-contain")),e=x(E("@jimp/plugin-cover")),o=x(E("@jimp/plugin-crop")),l=x(E("@jimp/plugin-displace")),n=x(E("@jimp/plugin-dither")),f=x(E("@jimp/plugin-fisheye")),i=x(E("@jimp/plugin-flip")),u=x(E("@jimp/plugin-gaussian")),h=x(E("@jimp/plugin-invert")),c=x(E("@jimp/plugin-mask")),_=x(E("@jimp/plugin-normalize")),g=x(E("@jimp/plugin-print")),b=x(E("@jimp/plugin-resize")),y=x(E("@jimp/plugin-rotate")),A=x(E("@jimp/plugin-scale")),M=x(E("@jimp/plugin-shadow")),I=x(E("@jimp/plugin-threshold")),R=[d.default,s.default,a.default,r.default,t.default,e.default,o.default,l.default,n.default,f.default,i.default,u.default,h.default,c.default,_.default,g.default,b.default,y.default,A.default,M.default,I.default],F=function(D){var O=R.map(function(k){var Z=k(D)||{};return!Z.class&&!Z.constants&&(Z={class:Z}),Z});return p.mergeDeep.apply(void 0,(0,m.default)(O))};w.default=F,j.exports=w.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/plugin-blit":201,"@jimp/plugin-blur":203,"@jimp/plugin-circle":204,"@jimp/plugin-color":205,"@jimp/plugin-contain":206,"@jimp/plugin-cover":207,"@jimp/plugin-crop":208,"@jimp/plugin-displace":209,"@jimp/plugin-dither":210,"@jimp/plugin-fisheye":211,"@jimp/plugin-flip":212,"@jimp/plugin-gaussian":213,"@jimp/plugin-invert":214,"@jimp/plugin-mask":215,"@jimp/plugin-normalize":216,"@jimp/plugin-print":217,"@jimp/plugin-resize":221,"@jimp/plugin-rotate":224,"@jimp/plugin-scale":225,"@jimp/plugin-shadow":226,"@jimp/plugin-threshold":227,timm:177}],229:[function(E,j,w){var x=E("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var m=x(E("@babel/runtime/helpers/defineProperty")),p=x(E("bmp-js")),d=E("@jimp/utils"),s="image/bmp",a="image/x-ms-bmp";function r(n){return(0,d.scan)(n,0,0,n.bitmap.width,n.bitmap.height,function(f,i,u){var h=this.bitmap.data[u+0],c=this.bitmap.data[u+1],_=this.bitmap.data[u+2],g=this.bitmap.data[u+3];this.bitmap.data[u+0]=g,this.bitmap.data[u+1]=_,this.bitmap.data[u+2]=c,this.bitmap.data[u+3]=h}).bitmap}function t(n){return(0,d.scan)({bitmap:n},0,0,n.width,n.height,function(f,i,u){var h=this.bitmap.data[u+0],c=this.bitmap.data[u+1],_=this.bitmap.data[u+2],g=this.bitmap.data[u+3];this.bitmap.data[u+0]=g,this.bitmap.data[u+1]=_,this.bitmap.data[u+2]=c,this.bitmap.data[u+3]=n.is_with_alpha?h:255}).bitmap}var e=function(f){return t(p.default.decode(f))},o=function(f){return p.default.encode(r(f)).data},l=function(){var f,i;return{mime:(0,m.default)({},s,["bmp"]),constants:{MIME_BMP:s,MIME_X_MS_BMP:a},decoders:(f={},(0,m.default)(f,s,e),(0,m.default)(f,a,e),f),encoders:(i={},(0,m.default)(i,s,o),(0,m.default)(i,a,o),i)}};w.default=l,j.exports=w.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"bmp-js":30}],230:[function(E,j,w){(function(x){var m=E("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=m(E("@babel/runtime/helpers/defineProperty")),d=m(E("omggif")),s=E("gifwrap"),a="image/gif",r=function(){return{mime:(0,p.default)({},a,["gif"]),constants:{MIME_GIF:a},decoders:(0,p.default)({},a,function(e){var o=new d.default.GifReader(e),l=x.alloc(o.width*o.height*4);return o.decodeAndBlitFrameRGBA(0,l),{data:l,width:o.width,height:o.height}}),encoders:(0,p.default)({},a,function(e){var o=new s.BitmapImage(e.bitmap);s.GifUtil.quantizeDekker(o,256);var l=new s.GifFrame(o),n=new s.GifCodec;return n.encodeGif([l],{}).then(function(f){return f.buffer})})}};w.default=r,j.exports=w.default}).call(this,E("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,gifwrap:70,omggif:85}],231:[function(E,j,w){var x=E("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var m=x(E("@babel/runtime/helpers/defineProperty")),p=x(E("jpeg-js")),d=E("@jimp/utils"),s="image/jpeg",a=function(){return{mime:(0,m.default)({},s,["jpeg","jpg","jpe"]),constants:{MIME_JPEG:s},decoders:(0,m.default)({},s,p.default.decode),encoders:(0,m.default)({},s,function(t){return p.default.encode(t.bitmap,t._quality).data}),class:{_quality:100,quality:function(e,o){return typeof e!="number"?d.throwError.call(this,"n must be a number",o):e<0||e>100?d.throwError.call(this,"n must be a number 0 - 100",o):(this._quality=Math.round(e),(0,d.isNodePattern)(o)&&o.call(this,null,this),this)}}}};w.default=a,j.exports=w.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"jpeg-js":80}],232:[function(E,j,w){var x=E("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var m=x(E("@babel/runtime/helpers/defineProperty")),p=E("pngjs"),d=E("@jimp/utils"),s="image/png",a=-1,r=0,t=1,e=2,o=3,l=4,n=function(){return{mime:(0,m.default)({},s,["png"]),constants:{MIME_PNG:s,PNG_FILTER_AUTO:a,PNG_FILTER_NONE:r,PNG_FILTER_SUB:t,PNG_FILTER_UP:e,PNG_FILTER_AVERAGE:o,PNG_FILTER_PATH:l},hasAlpha:(0,m.default)({},s,!0),decoders:(0,m.default)({},s,p.PNG.sync.read),encoders:(0,m.default)({},s,function(i){var u=new p.PNG({width:i.bitmap.width,height:i.bitmap.height});return u.data=i.bitmap.data,p.PNG.sync.write(u,{width:i.bitmap.width,height:i.bitmap.height,deflateLevel:i._deflateLevel,deflateStrategy:i._deflateStrategy,filterType:i._filterType,colorType:typeof i._colorType=="number"?i._colorType:i._rgba?6:2,inputHasAlpha:i._rgba})}),class:{_deflateLevel:9,_deflateStrategy:3,_filterType:a,_colorType:null,deflateLevel:function(u,h){return typeof u!="number"?d.throwError.call(this,"l must be a number",h):u<0||u>9?d.throwError.call(this,"l must be a number 0 - 9",h):(this._deflateLevel=Math.round(u),(0,d.isNodePattern)(h)&&h.call(this,null,this),this)},deflateStrategy:function(u,h){return typeof u!="number"?d.throwError.call(this,"s must be a number",h):u<0||u>3?d.throwError.call(this,"s must be a number 0 - 3",h):(this._deflateStrategy=Math.round(u),(0,d.isNodePattern)(h)&&h.call(this,null,this),this)},filterType:function(u,h){return typeof u!="number"?d.throwError.call(this,"n must be a number",h):u<-1||u>4?d.throwError.call(this,"n must be -1 (auto) or a number 0 - 4",h):(this._filterType=Math.round(u),(0,d.isNodePattern)(h)&&h.call(this,null,this),this)},colorType:function(u,h){return typeof u!="number"?d.throwError.call(this,"s must be a number",h):u!==0&&u!==2&&u!==4&&u!==6?d.throwError.call(this,"s must be a number 0, 2, 4, 6.",h):(this._colorType=Math.round(u),(0,d.isNodePattern)(h)&&h.call(this,null,this),this)}}}};w.default=n,j.exports=w.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,pngjs:129}],233:[function(E,j,w){(function(x){var m=E("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=m(E("@babel/runtime/helpers/defineProperty")),d=m(E("utif")),s="image/tiff",a=function(){return{mime:(0,p.default)({},s,["tiff","tif"]),constants:{MIME_TIFF:s},decoders:(0,p.default)({},s,function(t){var e=d.default.decode(t),o=e[0];d.default.decodeImages(t,e);var l=d.default.toRGBA8(o);return{data:x.from(l),width:o.t256[0],height:o.t257[0]}}),encoders:(0,p.default)({},s,function(t){var e=d.default.encodeImage(t.bitmap.data,t.bitmap.width,t.bitmap.height);return x.from(e)})}};w.default=a,j.exports=w.default}).call(this,E("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,utif:182}],234:[function(E,j,w){var x=E("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var m=E("timm"),p=x(E("@jimp/jpeg")),d=x(E("@jimp/png")),s=x(E("@jimp/bmp")),a=x(E("@jimp/tiff")),r=x(E("@jimp/gif")),t=function(){return(0,m.mergeDeep)((0,p.default)(),(0,d.default)(),(0,s.default)(),(0,a.default)(),(0,r.default)())};w.default=t,j.exports=w.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/bmp":229,"@jimp/gif":230,"@jimp/jpeg":231,"@jimp/png":232,"@jimp/tiff":233,timm:177}],235:[function(E,j,w){var x=E("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(w,"__esModule",{value:!0}),w.isNodePattern=d,w.throwError=s,w.scan=a,w.scanIterator=r;var m=x(E("@babel/runtime/regenerator")),p=m.default.mark(r);function d(t){if(typeof t>"u")return!1;if(typeof t!="function")throw new TypeError("Callback must be a function");return!0}function s(t,e){if(typeof t=="string"&&(t=new Error(t)),typeof e=="function")return e.call(this,t);throw t}function a(t,e,o,l,n,f){e=Math.round(e),o=Math.round(o),l=Math.round(l),n=Math.round(n);for(var i=o;i<o+n;i++)for(var u=e;u<e+l;u++){var h=t.bitmap.width*i+u<<2;f.call(t,u,i,h)}return t}function r(t,e,o,l,n){var f,i,u;return m.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:e=Math.round(e),o=Math.round(o),l=Math.round(l),n=Math.round(n),f=o;case 5:if(!(f<o+n)){c.next=17;break}i=e;case 7:if(!(i<e+l)){c.next=14;break}return u=t.bitmap.width*f+i<<2,c.next=11,{x:i,y:f,idx:u,image:t};case 11:i++,c.next=7;break;case 14:f++,c.next=5;break;case 17:case"end":return c.stop()}},p)}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/regenerator":22}]},{},[200])(200)})})(Ut);var Ht=Ut.exports;function gt(_e,ge){this.x=_e||0,this.y=ge||0}gt.prototype={copy:function(){return new gt(this.x,this.y)}};var pt=gt,yt=pt,ct={};function hr(_e){return ct[_e]||(ct[_e]=new RegExp(" "+_e+'="((?:\\\\(?=")"|[^"])+)"',"i")),ct[_e]}function cr(_e,ge,xe){var E=" "+ge+'="'+xe+'"';return _e.indexOf(" "+ge+'="')===-1?_e=_e.replace(/<[a-z]+/i,function(j){return j+E}):_e=_e.replace(hr(ge),E),_e}function et(_e){return _e.toFixed(3).replace(".000","")}function dr(_e,ge){return _e>=ge?_e%ge:_e>=0?_e:ge-1-(-1-_e)%ge}function pr(_e,ge){return _e.x*ge.y-_e.y*ge.x}function vr(_e,ge,xe){return _e<=xe?_e<=ge&&ge<xe:_e<=ge||ge<xe}function bt(_e){return _e>0?1:_e<0?-1:0}function mr(_e,ge){var xe=new Array(3),E,j,w;for(xe[0]=ge.x,xe[1]=ge.y,xe[2]=1,w=0,E=0;E<3;E++)for(j=0;j<3;j++)w+=xe[E]*_e.at(E,j)*xe[j];return w}function _r(_e,ge,xe){var E=new yt;return E.x=ge.x+_e*(xe.x-ge.x),E.y=ge.y+_e*(xe.y-ge.y),E}function Gt(_e,ge){var xe=new yt;return xe.y=bt(ge.x-_e.x),xe.x=-bt(ge.y-_e.y),xe}function gr(_e,ge){var xe=Gt(_e,ge);return xe.y*(ge.x-_e.x)-xe.x*(ge.y-_e.y)}function br(_e,ge,xe){var E,j,w,x;return E=ge.x-_e.x,j=ge.y-_e.y,w=xe.x-_e.x,x=xe.y-_e.y,E*x-w*j}function dt(_e,ge,xe,E){var j,w,x,m;return j=ge.x-_e.x,w=ge.y-_e.y,x=E.x-xe.x,m=E.y-xe.y,j*m-x*w}function yr(_e,ge,xe){var E,j,w,x;return E=ge.x-_e.x,j=ge.y-_e.y,w=xe.x-_e.x,x=xe.y-_e.y,E*w+j*x}function wr(_e,ge,xe,E){var j,w,x,m;return j=ge.x-_e.x,w=ge.y-_e.y,x=E.x-xe.x,m=E.y-xe.y,j*x+w*m}function xr(_e,ge){return Math.sqrt((_e.x-ge.x)*(_e.x-ge.x)+(_e.y-ge.y)*(_e.y-ge.y))}var vt={luminance:function(_e,ge,xe){return Math.round(.2126*_e+.7153*ge+.0721*xe)},between:function(_e,ge,xe){return _e>=ge&&_e<=xe},clamp:function(_e,ge,xe){return Math.min(xe,Math.max(ge,_e))},isNumber:function(_e){return typeof _e=="number"},setHtmlAttr:cr,renderCurve:function(_e,ge){ge=ge||{x:1,y:1};var xe=_e.c[(_e.n-1)*3+2],E=["M "+et(xe.x*ge.x)+" "+et(xe.y*ge.y)];return _e.tag.forEach(function(j,w){var x=w*3,m=_e.c[x],p=_e.c[x+1],d=_e.c[x+2];j==="CURVE"?E.push("C "+et(m.x*ge.x)+" "+et(m.y*ge.y)+", "+et(p.x*ge.x)+" "+et(p.y*ge.y)+", "+et(d.x*ge.x)+" "+et(d.y*ge.y)):j==="CORNER"&&E.push("L "+et(p.x*ge.x)+" "+et(p.y*ge.y)+" "+et(d.x*ge.x)+" "+et(d.y*ge.y))}),E.join(" ")},bezier:function(ge,xe,E,j,w){var x=1-ge,m=new yt;return m.x=x*x*x*xe.x+3*(x*x*ge)*E.x+3*(ge*ge*x)*j.x+ge*ge*ge*w.x,m.y=x*x*x*xe.y+3*(x*x*ge)*E.y+3*(ge*ge*x)*j.y+ge*ge*ge*w.y,m},tangent:function(ge,xe,E,j,w,x){var m,p,d,s,a,r,t,e,o,l;return m=dt(ge,xe,w,x),p=dt(xe,E,w,x),d=dt(E,j,w,x),s=m-2*p+d,a=-2*m+2*p,r=m,t=a*a-4*s*r,s===0||t<0?-1:(e=Math.sqrt(t),o=(-a+e)/(2*s),l=(-a-e)/(2*s),o>=0&&o<=1?o:l>=0&&l<=1?l:-1)},mod:dr,xprod:pr,cyclic:vr,sign:bt,quadform:mr,interval:_r,dorth_infty:Gt,ddenom:gr,dpara:br,cprod:dt,iprod:yr,iprod1:wr,ddist:xr},mt,Tt;function Ot(){if(Tt)return mt;Tt=1;var _e=vt,ge=null;try{ge=Ht}catch{}var xe=jt(),E=256,j=E-1;function w(p,d){return E*p+d}function x(p,d){if(p=typeof p=="number"?_e.clamp(Math.round(p),0,j):0,d=typeof d=="number"?_e.clamp(Math.round(d),0,j):j,p>d)throw new Error('Invalid range "'+p+"..."+d+'"');return[p,d]}function m(p,d){if(this.data=null,this.pixels=0,this._sortedIndexes=null,this._cachedStats={},this._lookupTableH=null,typeof p=="number")this._createArray(p);else if(p instanceof xe)this._collectValuesBitmap(p);else if(ge&&p instanceof ge)this._collectValuesJimp(p,d);else throw new Error("Unsupported image source")}return m.MODE_LUMINANCE="luminance",m.MODE_R="r",m.MODE_G="g",m.MODE_B="b",m.prototype={_createArray:function(p){var d=p<=Math.pow(2,8)?Uint8Array:p<=Math.pow(2,16)?Uint16Array:Uint32Array;return this.pixels=p,this.data=new d(E)},_collectValuesJimp:function(p,d){var s=p.bitmap.data,a=this._createArray(p.bitmap.width*p.bitmap.height);p.scan(0,0,p.bitmap.width,p.bitmap.height,function(r,t,e){var o=d===m.MODE_R?s[e]:d===m.MODE_G?s[e+1]:d===m.MODE_B?s[e+2]:_e.luminance(s[e],s[e+1],s[e+2]);a[o]++})},_collectValuesBitmap:function(p){for(var d=this._createArray(p.size),s=p.data.length,a,r=0;r<s;r++)a=p.data[r],d[a]++},_getSortedIndexes:function(p){if(!p&&this._sortedIndexes)return this._sortedIndexes;var d=this.data,s=new Array(E),a=0;for(a;a<E;a++)s[a]=a;return s.sort(function(r,t){return d[r]>d[t]?1:d[r]<d[t]?-1:0}),this._sortedIndexes=s,s},_thresholdingBuildLookupTable:function(){var p=new Float64Array(E*E),d=new Float64Array(E*E),s=new Float64Array(E*E),a=this.pixels,r,t,e,o;for(r=1;r<E;++r)e=w(r,r),o=this.data[r]/a,p[e]=o,d[e]=r*o;for(r=1;r<E-1;++r)o=this.data[r+1]/a,e=w(1,r),p[e+1]=p[e]+o,d[e+1]=d[e]+(r+1)*o;for(r=2;r<E;r++)for(t=r+1;t<E;t++)p[w(r,t)]=p[w(1,t)]-p[w(1,r-1)],d[w(r,t)]=d[w(1,t)]-d[w(1,r-1)];for(r=1;r<E;++r)for(t=r+1;t<E;t++)e=w(r,t),s[e]=p[e]!==0?d[e]*d[e]/p[e]:0;return this._lookupTableH=s},multilevelThresholding:function(p,d,s){if(d=x(d,s),s=d[1],d=d[0],p=Math.min(s-d-2,~~p),p<1)return[];this._lookupTableH||this._thresholdingBuildLookupTable();var a=this._lookupTableH,r=null,t=0;p>4&&console.log("[Warning]: Threshold computation for more than 5 levels may take a long time");function e(o,l,n,f){o=(o||0)+1,l=l||0,n=n||new Array(p),f=f||0;for(var i=f+1,u,h=o;h<s-p+f;h++)u=l+a[w(o,h)],n[i-1]=h,i+1<p+1?e(h,u,n,i):(u+=a[w(h+1,s)],t<u&&(t=u,r=n.slice()))}return e(d||0),r||[]},autoThreshold:function(p,d){var s=this.multilevelThresholding(1,p,d);return s.length?s[0]:null},getDominantColor:function(p,d,s){p=x(p,d),d=p[1],p=p[0],s=s||1;var a=this.data,r=-1,t=-1,e,o,l;if(p===d)return a[p]?p:-1;for(e=p;e<=d;e++){for(l=0,o=~~(s/-2);o<s;o++)l+=_e.between(e+o,0,j)?a[e+o]:0;var n=l>t,f=t===l&&(r<0||a[e]>a[r]);(n||f)&&(r=e,t=l)}return t<=0?-1:r},getStats:function(p,d,s){if(p=x(p,d),d=p[1],p=p[0],!s&&this._cachedStats[p+"-"+d])return this._cachedStats[p+"-"+d];var a=this.data,r=this._getSortedIndexes(),t=0,e=null,o,l,n,f,i=0,u=0,h=0,c,_,g,b=0,y=0;for(c=p;c<=d;c++)t+=a[c],h+=a[c]*c,b+=a[c]===0?0:1,y<a[c]&&(y=a[c]);for(o=h/t,n=t/(d-p),f=t/b,l=Math.floor(t/2),c=0;c<E;c++)g=r[c],_=a[g],!(g<p||g>d)&&(u+=_,i+=Math.pow(g-o,2)*_,e===null&&u>=l&&(e=g));return this._cachedStats[p+"-"+d]={levels:{mean:o,median:e,stdDev:Math.sqrt(i/t),unique:b},pixelsPerLevel:{mean:n,median:f,peak:y},pixels:t}}},mt=m,mt}var _t,Pt;function jt(){if(Pt)return _t;Pt=1;var _e=pt,ge=vt;function xe(E,j){this._histogram=null,this.width=E,this.height=j,this.size=E*j,this.arrayBuffer=new ArrayBuffer(this.size),this.data=new Uint8Array(this.arrayBuffer)}return _t=xe,Ot(),xe.prototype={getValueAt:function(E,j){var w=typeof E=="number"&&typeof j!="number"?E:this.pointToIndex(E,j);return this.data[w]},indexToPoint:function(E){var j=new _e;return ge.between(E,0,this.size)?(j.y=Math.floor(E/this.width),j.x=E-j.y*this.width):(j.x=-1,j.y=-1),j},pointToIndex:function(E,j){var w=E,x=j;return E instanceof _e&&(w=E.x,x=E.y),!ge.between(w,0,this.width)||!ge.between(x,0,this.height)?-1:this.width*x+w},copy:function(E){var j=new xe(this.width,this.height),w=typeof E=="function",x;for(x=0;x<this.size;x++)j.data[x]=w?E(this.data[x],x):this.data[x];return j},histogram:function(){var E=Ot();return this._histogram?this._histogram:(this._histogram=new E(this),this._histogram)}},_t}function Er(_e){this.n=_e,this.tag=new Array(_e),this.c=new Array(_e*3),this.alphaCurve=0,this.vertex=new Array(_e),this.alpha=new Array(_e),this.alpha0=new Array(_e),this.beta=new Array(_e)}var Sr=Er;function Ar(){this.area=0,this.len=0,this.curve={},this.pt=[],this.minX=1e5,this.minY=1e5,this.maxX=-1,this.maxY=-1}var Mr=Ar;function Wt(){this.data=[0,0,0,0,0,0,0,0,0]}Wt.prototype.at=function(_e,ge){return this.data[_e*3+ge]};var Rr=Wt;function Cr(_e,ge,xe,E,j){this.x=_e,this.y=ge,this.xy=xe,this.x2=E,this.y2=j}var Tr=Cr,It=pt;function Or(){this.pen=0,this.c=[new It,new It],this.t=0,this.s=0,this.alpha=0}var Pr=Or,Lt=Ht,Ir=jt(),kt=Sr,qe=pt,Lr=Mr,Dt=Rr,Bt=Tr,Ft=Pr,Ie=vt;function je(_e){this._luminanceData=null,this._pathlist=[],this._imageLoadingIdentifier=null,this._imageLoaded=!1,this._processed=!1,this._params={turnPolicy:je.TURNPOLICY_MINORITY,turdSize:2,alphaMax:1,optCurve:!0,optTolerance:.2,threshold:je.THRESHOLD_AUTO,blackOnWhite:!0,color:je.COLOR_AUTO,background:je.COLOR_TRANSPARENT,width:null,height:null},_e&&this.setParameters(_e)}je.COLOR_AUTO="auto";je.COLOR_TRANSPARENT="transparent";je.THRESHOLD_AUTO=-1;je.TURNPOLICY_BLACK="black";je.TURNPOLICY_WHITE="white";je.TURNPOLICY_LEFT="left";je.TURNPOLICY_RIGHT="right";je.TURNPOLICY_MINORITY="minority";je.TURNPOLICY_MAJORITY="majority";var Nt=[je.TURNPOLICY_BLACK,je.TURNPOLICY_WHITE,je.TURNPOLICY_LEFT,je.TURNPOLICY_RIGHT,je.TURNPOLICY_MINORITY,je.TURNPOLICY_MAJORITY];je.prototype={_bmToPathlist:function(){var _e=this,ge=this._params.threshold,xe=this._params.blackOnWhite,E,j=new qe(0,0),w;ge===je.THRESHOLD_AUTO&&(ge=this._luminanceData.histogram().autoThreshold()||128),E=this._luminanceData.copy(function(s){var a=xe?s>ge:s<ge;return a?0:1});function x(s){for(var a=E.pointToIndex(s);a<E.size&&E.data[a]!==1;)a++;return a<E.size&&E.indexToPoint(a)}function m(s,a){var r,t,e;for(r=2;r<5;r++){for(e=0,t=-r+1;t<=r-1;t++)e+=E.getValueAt(s+t,a+r-1)?1:-1,e+=E.getValueAt(s+r-1,a+t-1)?1:-1,e+=E.getValueAt(s+t-1,a-r)?1:-1,e+=E.getValueAt(s-r,a+t)?1:-1;if(e>0)return 1;if(e<0)return 0}return 0}function p(s){var a=new Lr,r=s.x,t=s.y,e=0,o=1,l;for(a.sign=E.getValueAt(s.x,s.y)?"+":"-";a.pt.push(new qe(r,t)),r>a.maxX&&(a.maxX=r),r<a.minX&&(a.minX=r),t>a.maxY&&(a.maxY=t),t<a.minY&&(a.minY=t),a.len++,r+=e,t+=o,a.area-=r*o,!(r===s.x&&t===s.y);){var n=E.getValueAt(r+(e+o-1)/2,t+(o-e-1)/2),f=E.getValueAt(r+(e-o-1)/2,t+(o+e-1)/2);f&&!n?_e._params.turnPolicy==="right"||_e._params.turnPolicy==="black"&&a.sign==="+"||_e._params.turnPolicy==="white"&&a.sign==="-"||_e._params.turnPolicy==="majority"&&m(r,t)||_e._params.turnPolicy==="minority"&&!m(r,t)?(l=e,e=-o,o=l):(l=e,e=o,o=-l):f?(l=e,e=-o,o=l):n||(l=e,e=o,o=-l)}return a}function d(s){var a=s.pt[0].y,r=s.len,t,e,o,l,n,f,i;for(n=1;n<r;n++)if(t=s.pt[n].x,e=s.pt[n].y,e!==a){for(l=a<e?a:e,o=s.maxX,f=t;f<o;f++)i=E.pointToIndex(f,l),E.data[i]=E.data[i]?0:1;a=e}}for(this._pathlist=[];j=x(j);)w=p(j),d(w),w.area>_e._params.turdSize&&this._pathlist.push(w)},_processPath:function(){var _e=this;function ge(s){var a,r,t;s.x0=s.pt[0].x,s.y0=s.pt[0].y,s.sums=[];var e=s.sums;for(e.push(new Bt(0,0,0,0,0)),a=0;a<s.len;a++)r=s.pt[a].x-s.x0,t=s.pt[a].y-s.y0,e.push(new Bt(e[a].x+r,e[a].y+t,e[a].xy+r*t,e[a].x2+r*r,e[a].y2+t*t))}function xe(s){var a=s.len,r=s.pt,t,e=new Array(a),o=new Array(a),l=new Array(4);s.lon=new Array(a);var n=[new qe,new qe],f=new qe,i=new qe,u=new qe,h,c,_,g,b,y,A,M,I=0;for(c=a-1;c>=0;c--)r[c].x!=r[I].x&&r[c].y!=r[I].y&&(I=c+1),o[c]=I;for(c=a-1;c>=0;c--){for(l[0]=l[1]=l[2]=l[3]=0,t=(3+3*(r[Ie.mod(c+1,a)].x-r[c].x)+(r[Ie.mod(c+1,a)].y-r[c].y))/2,l[t]++,n[0].x=0,n[0].y=0,n[1].x=0,n[1].y=0,I=o[c],g=c;;){if(h=0,t=(3+3*Ie.sign(r[I].x-r[g].x)+Ie.sign(r[I].y-r[g].y))/2,l[t]++,l[0]&&l[1]&&l[2]&&l[3]){e[c]=g,h=1;break}if(f.x=r[I].x-r[c].x,f.y=r[I].y-r[c].y,Ie.xprod(n[0],f)<0||Ie.xprod(n[1],f)>0||(Math.abs(f.x)<=1&&Math.abs(f.y)<=1||(i.x=f.x+(f.y>=0&&(f.y>0||f.x<0)?1:-1),i.y=f.y+(f.x<=0&&(f.x<0||f.y<0)?1:-1),Ie.xprod(n[0],i)>=0&&(n[0].x=i.x,n[0].y=i.y),i.x=f.x+(f.y<=0&&(f.y<0||f.x<0)?1:-1),i.y=f.y+(f.x>=0&&(f.x>0||f.y<0)?1:-1),Ie.xprod(n[1],i)<=0&&(n[1].x=i.x,n[1].y=i.y)),g=I,I=o[g],!Ie.cyclic(I,c,g)))break}h===0&&(u.x=Ie.sign(r[I].x-r[g].x),u.y=Ie.sign(r[I].y-r[g].y),f.x=r[g].x-r[c].x,f.y=r[g].y-r[c].y,b=Ie.xprod(n[0],f),y=Ie.xprod(n[0],u),A=Ie.xprod(n[1],f),M=Ie.xprod(n[1],u),_=1e7,y<0&&(_=Math.floor(b/-y)),M>0&&(_=Math.min(_,Math.floor(-A/M))),e[c]=Ie.mod(g+_,a))}for(_=e[a-1],s.lon[a-1]=_,c=a-2;c>=0;c--)Ie.cyclic(c+1,e[c],_)&&(_=e[c]),s.lon[c]=_;for(c=a-1;Ie.cyclic(Ie.mod(c+1,a),_,s.lon[c]);c--)s.lon[c]=_}function E(s){function a(y,A,M){var I=y.len,R=y.pt,F=y.sums,z,D,O,k,Z,$,te,q,U,W,G,V,re,se,fe=0;return M>=I&&(M-=I,fe=1),fe===0?(z=F[M+1].x-F[A].x,D=F[M+1].y-F[A].y,k=F[M+1].x2-F[A].x2,O=F[M+1].xy-F[A].xy,Z=F[M+1].y2-F[A].y2,$=M+1-A):(z=F[M+1].x-F[A].x+F[I].x,D=F[M+1].y-F[A].y+F[I].y,k=F[M+1].x2-F[A].x2+F[I].x2,O=F[M+1].xy-F[A].xy+F[I].xy,Z=F[M+1].y2-F[A].y2+F[I].y2,$=M+1-A+I),G=(R[A].x+R[M].x)/2-R[0].x,V=(R[A].y+R[M].y)/2-R[0].y,se=R[M].x-R[A].x,re=-(R[M].y-R[A].y),te=(k-2*z*G)/$+G*G,q=(O-z*V-D*G)/$+G*V,U=(Z-2*D*V)/$+V*V,W=re*re*te+2*re*se*q+se*se*U,Math.sqrt(W)}var r,t,e,o,l=s.len,n=new Array(l+1),f=new Array(l+1),i=new Array(l),u=new Array(l+1),h=new Array(l+1),c=new Array(l+1),_,g,b;for(r=0;r<l;r++)b=Ie.mod(s.lon[Ie.mod(r-1,l)]-1,l),b==r&&(b=Ie.mod(r+1,l)),b<r?i[r]=l:i[r]=b;for(t=1,r=0;r<l;r++)for(;t<=i[r];)u[t]=r,t++;for(r=0,t=0;r<l;t++)h[t]=r,r=i[r];for(h[t]=l,e=t,r=l,t=e;t>0;t--)c[t]=r,r=u[r];for(c[0]=0,n[0]=0,t=1;t<=e;t++)for(r=c[t];r<=h[t];r++){for(g=-1,o=h[t-1];o>=u[r];o--)_=a(s,o,r)+n[o],(g<0||_<g)&&(f[r]=o,g=_);n[r]=g}for(s.m=e,s.po=new Array(e),r=l,t=e-1;r>0;t--)r=f[r],s.po[t]=r}function j(s){function a(te,q,U,W,G){for(var V=te.len,re=te.sums,se,fe,ue,pe,ne,ie,X,J,ee,H,P,T=0;U>=V;)U-=V,T+=1;for(;q>=V;)q-=V,T-=1;for(;U<0;)U+=V,T-=1;for(;q<0;)q+=V,T+=1;se=re[U+1].x-re[q].x+T*re[V].x,fe=re[U+1].y-re[q].y+T*re[V].y,ue=re[U+1].x2-re[q].x2+T*re[V].x2,pe=re[U+1].xy-re[q].xy+T*re[V].xy,ne=re[U+1].y2-re[q].y2+T*re[V].y2,ie=U+1-q+T*V,W.x=se/ie,W.y=fe/ie,X=(ue-se*se/ie)/ie,J=(pe-se*fe/ie)/ie,ee=(ne-fe*fe/ie)/ie,H=(X+ee+Math.sqrt((X-ee)*(X-ee)+4*J*J))/2,X-=H,ee-=H,Math.abs(X)>=Math.abs(ee)?(P=Math.sqrt(X*X+J*J),P!==0&&(G.x=-J/P,G.y=X/P)):(P=Math.sqrt(ee*ee+J*J),P!==0&&(G.x=-ee/P,G.y=J/P)),P===0&&(G.x=G.y=0)}var r=s.m,t=s.po,e=s.len,o=s.pt,l=s.x0,n=s.y0,f=new Array(r),i=new Array(r),u=new Array(r),h=new Array(3),c,_,g,b,y,A=new qe;for(s.curve=new kt(r),_=0;_<r;_++)g=t[Ie.mod(_+1,r)],g=Ie.mod(g-t[_],e)+t[_],f[_]=new qe,i[_]=new qe,a(s,t[_],g,f[_],i[_]);for(_=0;_<r;_++)if(u[_]=new Dt,c=i[_].x*i[_].x+i[_].y*i[_].y,c===0)for(g=0;g<3;g++)for(b=0;b<3;b++)u[_].data[g*3+b]=0;else for(h[0]=i[_].y,h[1]=-i[_].x,h[2]=-h[1]*f[_].y-h[0]*f[_].x,y=0;y<3;y++)for(b=0;b<3;b++)u[_].data[y*3+b]=h[y]*h[b]/c;var M,I,R,F,z,D,O,k,Z,$;for(_=0;_<r;_++){for(M=new Dt,I=new qe,A.x=o[t[_]].x-l,A.y=o[t[_]].y-n,g=Ie.mod(_-1,r),y=0;y<3;y++)for(b=0;b<3;b++)M.data[y*3+b]=u[g].at(y,b)+u[_].at(y,b);for(;;){if(z=M.at(0,0)*M.at(1,1)-M.at(0,1)*M.at(1,0),z!==0){I.x=(-M.at(0,2)*M.at(1,1)+M.at(1,2)*M.at(0,1))/z,I.y=(M.at(0,2)*M.at(1,0)-M.at(1,2)*M.at(0,0))/z;break}for(M.at(0,0)>M.at(1,1)?(h[0]=-M.at(0,1),h[1]=M.at(0,0)):M.at(1,1)?(h[0]=-M.at(1,1),h[1]=M.at(1,0)):(h[0]=1,h[1]=0),c=h[0]*h[0]+h[1]*h[1],h[2]=-h[1]*A.y-h[0]*A.x,y=0;y<3;y++)for(b=0;b<3;b++)M.data[y*3+b]+=h[y]*h[b]/c}if(R=Math.abs(I.x-A.x),F=Math.abs(I.y-A.y),R<=.5&&F<=.5){s.curve.vertex[_]=new qe(I.x+l,I.y+n);continue}if(D=Ie.quadform(M,A),k=A.x,Z=A.y,M.at(0,0)!==0)for($=0;$<2;$++)I.y=A.y-.5+$,I.x=-(M.at(0,1)*I.y+M.at(0,2))/M.at(0,0),R=Math.abs(I.x-A.x),O=Ie.quadform(M,I),R<=.5&&O<D&&(D=O,k=I.x,Z=I.y);if(M.at(1,1)!==0)for($=0;$<2;$++)I.x=A.x-.5+$,I.y=-(M.at(1,0)*I.x+M.at(1,2))/M.at(1,1),F=Math.abs(I.y-A.y),O=Ie.quadform(M,I),F<=.5&&O<D&&(D=O,k=I.x,Z=I.y);for(y=0;y<2;y++)for(b=0;b<2;b++)I.x=A.x-.5+y,I.y=A.y-.5+b,O=Ie.quadform(M,I),O<D&&(D=O,k=I.x,Z=I.y);s.curve.vertex[_]=new qe(k+l,Z+n)}}function w(s){var a=s.curve,r=a.n,t=a.vertex,e,o,l;for(e=0,o=r-1;e<o;e++,o--)l=t[e],t[e]=t[o],t[o]=l}function x(s){var a=s.curve.n,r=s.curve,t,e,o,l,n,f,i,u,h;for(t=0;t<a;t++)e=Ie.mod(t+1,a),o=Ie.mod(t+2,a),h=Ie.interval(1/2,r.vertex[o],r.vertex[e]),n=Ie.ddenom(r.vertex[t],r.vertex[o]),n!==0?(l=Ie.dpara(r.vertex[t],r.vertex[e],r.vertex[o])/n,l=Math.abs(l),f=l>1?1-1/l:0,f=f/.75):f=4/3,r.alpha0[e]=f,f>=_e._params.alphaMax?(r.tag[e]="CORNER",r.c[3*e+1]=r.vertex[e],r.c[3*e+2]=h):(f<.55?f=.55:f>1&&(f=1),i=Ie.interval(.5+.5*f,r.vertex[t],r.vertex[e]),u=Ie.interval(.5+.5*f,r.vertex[o],r.vertex[e]),r.tag[e]="CURVE",r.c[3*e+0]=i,r.c[3*e+1]=u,r.c[3*e+2]=h),r.alpha[e]=f,r.beta[e]=.5;r.alphaCurve=1}function m(s){function a(D,O,k,Z,$,te,q){var U=D.curve.n,W=D.curve,G=W.vertex,V,re,se,fe,ue,pe,ne,ie,X,J,ee,H,P,T,Y,N,C,S,Q,oe,ve,ye,Ae;if(O==k||(V=O,ue=Ie.mod(O+1,U),re=Ie.mod(V+1,U),fe=te[re],fe===0))return 1;for(ie=Ie.ddist(G[O],G[ue]),V=re;V!=k;V=re)if(re=Ie.mod(V+1,U),se=Ie.mod(V+2,U),te[re]!=fe||Ie.sign(Ie.cprod(G[O],G[ue],G[re],G[se]))!=fe||Ie.iprod1(G[O],G[ue],G[re],G[se])<ie*Ie.ddist(G[re],G[se])*-.999847695156)return 1;if(ee=W.c[Ie.mod(O,U)*3+2].copy(),H=G[Ie.mod(O+1,U)].copy(),P=G[Ie.mod(k,U)].copy(),T=W.c[Ie.mod(k,U)*3+2].copy(),pe=q[k]-q[O],pe-=Ie.dpara(G[0],W.c[O*3+2],W.c[k*3+2])/2,O>=k&&(pe+=q[U]),S=Ie.dpara(ee,H,P),Q=Ie.dpara(ee,H,T),oe=Ie.dpara(ee,P,T),ve=S+oe-Q,Q==S||(Ae=oe/(oe-ve),ye=Q/(Q-S),N=Q*Ae/2,N===0))return 1;for(C=pe/N,ne=2-Math.sqrt(4-C/.3),Z.c[0]=Ie.interval(Ae*ne,ee,H),Z.c[1]=Ie.interval(ye*ne,T,P),Z.alpha=ne,Z.t=Ae,Z.s=ye,H=Z.c[0].copy(),P=Z.c[1].copy(),Z.pen=0,V=Ie.mod(O+1,U);V!=k;V=re){if(re=Ie.mod(V+1,U),Ae=Ie.tangent(ee,H,P,T,G[V],G[re]),Ae<-.5||(Y=Ie.bezier(Ae,ee,H,P,T),ie=Ie.ddist(G[V],G[re]),ie===0)||(X=Ie.dpara(G[V],G[re],Y)/ie,Math.abs(X)>$)||Ie.iprod(G[V],G[re],Y)<0||Ie.iprod(G[re],G[V],Y)<0)return 1;Z.pen+=X*X}for(V=O;V!=k;V=re){if(re=Ie.mod(V+1,U),Ae=Ie.tangent(ee,H,P,T,W.c[V*3+2],W.c[re*3+2]),Ae<-.5||(Y=Ie.bezier(Ae,ee,H,P,T),ie=Ie.ddist(W.c[V*3+2],W.c[re*3+2]),ie===0)||(X=Ie.dpara(W.c[V*3+2],W.c[re*3+2],Y)/ie,J=Ie.dpara(W.c[V*3+2],W.c[re*3+2],G[re])/ie,J*=.75*W.alpha[re],J<0&&(X=-X,J=-J),X<J-$))return 1;X<J&&(Z.pen+=(X-J)*(X-J))}return 0}var r=s.curve,t=r.n,e=r.vertex,o=new Array(t+1),l=new Array(t+1),n=new Array(t+1),f=new Array(t+1),i,u,h,c,_=new Ft,g,b,y,A,M,I,R,F=new Array(t),z=new Array(t+1);for(u=0;u<t;u++)r.tag[u]=="CURVE"?F[u]=Ie.sign(Ie.dpara(e[Ie.mod(u-1,t)],e[u],e[Ie.mod(u+1,t)])):F[u]=0;for(y=0,z[0]=0,g=r.vertex[0],u=0;u<t;u++)b=Ie.mod(u+1,t),r.tag[b]=="CURVE"&&(A=r.alpha[b],y+=.3*A*(4-A)*Ie.dpara(r.c[u*3+2],e[b],r.c[b*3+2])/2,y+=Ie.dpara(g,r.c[u*3+2],r.c[b*3+2])/2),z[u+1]=y;for(o[0]=-1,l[0]=0,n[0]=0,h=1;h<=t;h++)for(o[h]=h-1,l[h]=l[h-1],n[h]=n[h-1]+1,u=h-2;u>=0&&(c=a(s,u,Ie.mod(h,t),_,_e._params.optTolerance,F,z),!c);u--)(n[h]>n[u]+1||n[h]==n[u]+1&&l[h]>l[u]+_.pen)&&(o[h]=u,l[h]=l[u]+_.pen,n[h]=n[u]+1,f[h]=_,_=new Ft);for(i=n[t],M=new kt(i),I=new Array(i),R=new Array(i),h=t,u=i-1;u>=0;u--)o[h]==h-1?(M.tag[u]=r.tag[Ie.mod(h,t)],M.c[u*3+0]=r.c[Ie.mod(h,t)*3+0],M.c[u*3+1]=r.c[Ie.mod(h,t)*3+1],M.c[u*3+2]=r.c[Ie.mod(h,t)*3+2],M.vertex[u]=r.vertex[Ie.mod(h,t)],M.alpha[u]=r.alpha[Ie.mod(h,t)],M.alpha0[u]=r.alpha0[Ie.mod(h,t)],M.beta[u]=r.beta[Ie.mod(h,t)],I[u]=R[u]=1):(M.tag[u]="CURVE",M.c[u*3+0]=f[h].c[0],M.c[u*3+1]=f[h].c[1],M.c[u*3+2]=r.c[Ie.mod(h,t)*3+2],M.vertex[u]=Ie.interval(f[h].s,r.c[Ie.mod(h,t)*3+2],e[Ie.mod(h,t)]),M.alpha[u]=f[h].alpha,M.alpha0[u]=f[h].alpha,I[u]=f[h].s,R[u]=f[h].t),h=o[h];for(u=0;u<i;u++)b=Ie.mod(u+1,i),M.beta[u]=I[u]/(I[u]+R[b]);M.alphaCurve=1,s.curve=M}for(var p=0;p<this._pathlist.length;p++){var d=this._pathlist[p];ge(d),xe(d),E(d),j(d),d.sign==="-"&&w(d),x(d),_e._params.optCurve&&m(d)}},_validateParameters:function(_e){if(_e&&_e.turnPolicy&&Nt.indexOf(_e.turnPolicy)===-1){var ge="'"+Nt.join("', '")+"'";throw new Error("Bad turnPolicy value. Allowed values are: "+ge)}if(_e&&_e.threshold!=null&&_e.threshold!==je.THRESHOLD_AUTO&&(typeof _e.threshold!="number"||!Ie.between(_e.threshold,0,255)))throw new Error("Bad threshold value. Expected to be an integer in range 0..255");if(_e&&_e.optCurve!=null&&typeof _e.optCurve!="boolean")throw new Error("'optCurve' must be Boolean")},_processLoadedImage:function(_e){var ge=new Ir(_e.bitmap.width,_e.bitmap.height),xe=_e.bitmap.data;_e.scan(0,0,_e.bitmap.width,_e.bitmap.height,function(E,j,w){var x=xe[w+3]/255,m=255+(xe[w+0]-255)*x,p=255+(xe[w+1]-255)*x,d=255+(xe[w+2]-255)*x;ge.data[w/4]=Ie.luminance(m,p,d)}),this._luminanceData=ge,this._imageLoaded=!0},loadImage:function(_e,ge){var xe=this,E={};this._imageLoadingIdentifier=E,this._imageLoaded=!1,_e instanceof Lt?(this._imageLoadingIdentifier=null,this._imageLoaded=!0,xe._processLoadedImage(_e),ge.call(xe,null)):Lt.read(_e,function(j,w){var x=xe._imageLoadingIdentifier!==E;if(x){var m=j||new Error("Another image was loaded instead");return ge.call(xe,m)}xe._imageLoadingIdentifier=null,xe._processLoadedImage(w),ge.call(xe,null)})},setParameters:function(_e){var ge,xe;this._validateParameters(_e);for(ge in this._params)this._params.hasOwnProperty(ge)&&_e.hasOwnProperty(ge)&&(xe=this._params[ge],this._params[ge]=_e[ge],xe!==this._params[ge]&&["color","background"].indexOf(ge)===-1&&(this._processed=!1))},getPathTag:function(_e,ge){if(_e=arguments.length===0?this._params.color:_e,_e===je.COLOR_AUTO&&(_e=this._params.blackOnWhite?"black":"white"),!this._imageLoaded)throw new Error("Image should be loaded first");this._processed||(this._bmToPathlist(),this._processPath(),this._processed=!0);var xe='<path d="';return xe+=this._pathlist.map(function(E){return Ie.renderCurve(E.curve,ge)}).join(" "),xe+='" stroke="none" fill="'+_e+'" fill-rule="evenodd"/>',xe},getSymbol:function(_e){return'<symbol viewBox="0 0 '+this._luminanceData.width+" "+this._luminanceData.height+'" id="'+_e+'">'+this.getPathTag("")+"</symbol>"},getSVG:function(){var _e=this._params.width||this._luminanceData.width,ge=this._params.height||this._luminanceData.height,xe={x:this._params.width?this._params.width/this._luminanceData.width:1,y:this._params.height?this._params.height/this._luminanceData.height:1};return'<svg xmlns="http://www.w3.org/2000/svg" width="'+_e+'" height="'+ge+'" viewBox="0 0 '+_e+" "+ge+`" version="1.1">
`+(this._params.background!==je.COLOR_TRANSPARENT?'	<rect x="0" y="0" width="100%" height="100%" fill="'+this._params.background+`" />
`:"")+"	"+this.getPathTag(this._params.color,xe)+`
</svg>`}};var Zt=je,tt=Zt,rt=vt;function Ve(_e){this._potrace=new tt,this._calculatedThreshold=null,this._params={threshold:tt.THRESHOLD_AUTO,blackOnWhite:!0,steps:Ve.STEPS_AUTO,background:tt.COLOR_TRANSPARENT,fillStrategy:Ve.FILL_DOMINANT,rangeDistribution:Ve.RANGES_AUTO},_e&&this.setParameters(_e)}for(var lt in tt)Object.prototype.hasOwnProperty.call(tt,lt)&&lt===lt.toUpperCase()&&(Ve[lt]=tt[lt]);Ve.STEPS_AUTO=-1;Ve.FILL_SPREAD="spread";Ve.FILL_DOMINANT="dominant";Ve.FILL_MEDIAN="median";Ve.FILL_MEAN="mean";Ve.RANGES_AUTO="auto";Ve.RANGES_EQUAL="equal";Ve.prototype={_addExtraColorStop:function(_e){var ge=this._params.blackOnWhite,xe=_e[_e.length-1],E=ge?0:xe.value,j=ge?xe.value:255;if(j-E>25&&xe.colorIntensity!==1){var w=this._getImageHistogram(),x=w.getStats(E,j).levels,m=x.mean+x.stdDev<=25?x.mean+x.stdDev:x.mean-x.stdDev<=25?x.mean-x.stdDev:25,p=ge?w.getStats(0,m):w.getStats(m,255),d=p.levels.mean;_e.push({value:Math.abs((ge?0:255)-m),colorIntensity:isNaN(d)?0:(ge?255-d:d)/255})}return _e},_calcColorIntensity:function(_e){var ge=this._params.blackOnWhite,xe=this._params.fillStrategy,E=xe!==Ve.FILL_SPREAD?this._getImageHistogram():null,j=Math.abs(this._paramThreshold()-(ge?0:255));return _e.map(function(w,x){var m=x+1===_e.length?ge?-1:256:_e[x+1],p=Math.round(ge?m+1:w),d=Math.round(ge?w:m-1),s=x/(_e.length-1),a=d-p,r=E.getStats(p,d),t=-1;if(r.pixels===0)return{value:w,colorIntensity:0};switch(xe){case Ve.FILL_SPREAD:t=(ge?p:d)+(ge?1:-1)*a*Math.max(.5,j/255)*s;break;case Ve.FILL_DOMINANT:t=E.getDominantColor(p,d,rt.clamp(a,1,5));break;case Ve.FILL_MEAN:t=r.levels.mean;break;case Ve.FILL_MEDIAN:t=r.levels.median;break}return x!==0&&(t=ge?rt.clamp(t,p,d-Math.round(a*.1)):rt.clamp(t,p+Math.round(a*.1),d)),{value:w,colorIntensity:t===-1?0:(ge?255-t:t)/255}})},_getImageHistogram:function(){return this._potrace._luminanceData.histogram()},_getRanges:function(){var _e=this._paramSteps();if(!Array.isArray(_e))return this._params.rangeDistribution===Ve.RANGES_AUTO?this._getRangesAuto():this._getRangesEquallyDistributed();var ge=[],xe=this._paramThreshold(),E=this._params.blackOnWhite;return _e.forEach(function(j){ge.indexOf(j)===-1&&rt.between(j,0,255)&&ge.push(j)}),ge.length||ge.push(xe),ge=ge.sort(function(j,w){return j<w===E?1:-1}),E&&ge[0]<xe?ge.unshift(xe):!E&&ge[ge.length-1]<xe&&ge.push(xe),this._calcColorIntensity(ge)},_getRangesAuto:function(){var _e=this._getImageHistogram(),ge=this._paramSteps(!0),xe;if(this._params.threshold===tt.THRESHOLD_AUTO)xe=_e.multilevelThresholding(ge);else{var E=this._paramThreshold();xe=this._params.blackOnWhite?_e.multilevelThresholding(ge-1,0,E):_e.multilevelThresholding(ge-1,E,255),this._params.blackOnWhite?xe.push(E):xe.unshift(E)}return this._params.blackOnWhite&&(xe=xe.reverse()),this._calcColorIntensity(xe)},_getRangesEquallyDistributed:function(){for(var _e=this._params.blackOnWhite,ge=_e?this._paramThreshold():255-this._paramThreshold(),xe=this._paramSteps(),E=ge/xe,j=[],w=xe-1,x;w>=0;)x=Math.min(ge,(w+1)*E),x=_e?x:255-x,w--,j.push(x);return this._calcColorIntensity(j)},_paramSteps:function(_e){var ge=this._params.steps;if(Array.isArray(ge))return _e?ge.length:ge;if(ge===Ve.STEPS_AUTO&&this._params.threshold===tt.THRESHOLD_AUTO)return 4;var xe=this._params.blackOnWhite,E=xe?this._paramThreshold():255-this._paramThreshold();return ge===Ve.STEPS_AUTO?E>200?4:3:Math.min(E,Math.max(2,ge))},_paramThreshold:function(){if(this._calculatedThreshold!==null)return this._calculatedThreshold;if(this._params.threshold!==tt.THRESHOLD_AUTO)return this._calculatedThreshold=this._params.threshold,this._calculatedThreshold;var _e=this._getImageHistogram().multilevelThresholding(2);return this._calculatedThreshold=this._params.blackOnWhite?_e[1]:_e[0],this._calculatedThreshold=this._calculatedThreshold||128,this._calculatedThreshold},_pathTags:function(_e){var ge=this._getRanges(),xe=this._potrace,E=this._params.blackOnWhite;ge.length>=10&&(ge=this._addExtraColorStop(ge)),xe.setParameters({blackOnWhite:E});var j=0;return ge.map(function(w){var x=w.colorIntensity;if(x===0)return"";var m=!j||x===1?x:(j-x)/(j-1);m=rt.clamp(parseFloat(m.toFixed(3)),0,1),j=j+(1-j)*m,xe.setParameters({threshold:w.value});var p=_e?xe.getPathTag(""):xe.getPathTag();p=rt.setHtmlAttr(p,"fill-opacity",m.toFixed(3));var d=m===0||p.indexOf(' d=""')!==-1;return d?"":p})},loadImage:function(_e,ge){var xe=this;this._potrace.loadImage(_e,function(E){xe._calculatedThreshold=null,ge.call(xe,E)})},setParameters:function(_e){if(_e){if(this._potrace.setParameters(_e),_e.steps&&!Array.isArray(_e.steps)&&(!rt.isNumber(_e.steps)||!rt.between(_e.steps,1,255)))throw new Error("Bad 'steps' value");for(var ge in this._params)this._params.hasOwnProperty(ge)&&_e.hasOwnProperty(ge)&&(this._params[ge]=_e[ge]);this._calculatedThreshold=null}},getSymbol:function(_e){var ge=this._potrace._luminanceData.width,xe=this._potrace._luminanceData.height,E=this._pathTags(!0);return'<symbol viewBox="0 0 '+ge+" "+xe+'" id="'+_e+'">'+E.join("")+"</symbol>"},getSVG:function(){var _e=this._potrace._luminanceData.width,ge=this._potrace._luminanceData.height,xe=this._pathTags(!1),E='<svg xmlns="http://www.w3.org/2000/svg" width="'+_e+'" height="'+ge+'" viewBox="0 0 '+_e+" "+ge+`" version="1.1">
	`+(this._params.background!==tt.COLOR_TRANSPARENT?'<rect x="0" y="0" width="100%" height="100%" fill="'+this._params.background+`" />
	`:"")+xe.join(`
	`)+`
</svg>`;return E.replace(/\n(?:\t*\n)+(\t*)/g,`
$1`)}};var kr=Ve,Yt=Zt,Vt=kr;function Dr(_e,ge,xe){arguments.length===2&&(xe=ge,ge={});var E=new Yt(ge);E.loadImage(_e,function(j){if(j)return xe(j);xe(null,E.getSVG(),E)})}function Br(_e,ge,xe){arguments.length===2&&(xe=ge,ge={});var E=new Vt(ge);E.loadImage(_e,function(j){if(j)return xe(j);xe(null,E.getSVG(),E)})}var Fr={trace:Dr,posterize:Br,Potrace:Yt,Posterizer:Vt};const zt=Xt(Fr),Nr={style:{"text-align":"center"}},zr={style:{"text-align":"center"}},Ur=["src"],Hr=Qt({__name:"potrace",setup(_e){const{t:ge}=Kt();async function xe(s){return new Promise((a,r)=>{zt.trace(s,(t,e)=>{t&&r(t),a(e)})})}async function E(s){return new Promise((a,r)=>{zt.posterize(s,(t,e)=>{t&&r(t),a(e)})})}function j(s){return new Promise((a,r)=>{const t=new FileReader;t.addEventListener("load",()=>{const e=or.from(t.result);a(e)}),t.readAsArrayBuffer(s)})}const w=Rt(!0),x=Rt(),m=Jt(async()=>{const s=!w.value,a=x.value;if(!a)return"";try{const r=await j(a);return s?await xe(r):await E(r)}catch(r){return r.toString()}}),p=$t(()=>m.value?`data:image/svg+xml;base64,${sr.encode(m.value)}`:"");async function d(s){s&&(x.value=s)}return(s,a)=>{const r=nr,t=lr,e=ur;return qt(),er("div",null,[st(r,{title:at(ge)("tools.potrace.texts.title-drag-and-drop-an-image-here-or-click-to-select-a-file"),"paste-image":!0,onFileUpload:d},null,8,["title"]),ft("div",Nr,[st(t,{checked:at(w),"onUpdate:checked":a[0]||(a[0]=o=>ir(w)?w.value=o:null),"mt-2":""},{default:tr(()=>[rr(Ct(at(ge)("tools.potrace.texts.tag-posterize")),1)]),_:1},8,["checked"])]),st(e),ft("div",null,[ft("h3",null,Ct(at(ge)("tools.potrace.texts.tag-potrace-result")),1),st(fr,{value:at(m),"word-wrap":"","download-file-name":"output.svg"},null,8,["value"]),st(e),ft("div",zr,[ft("img",{width:"150",src:at(p),style:{"background-color":"white"}},null,8,Ur)])])])}}});const ei=ar(Hr,[["__scopeId","data-v-1b3eba76"]]);export{ei as default};
