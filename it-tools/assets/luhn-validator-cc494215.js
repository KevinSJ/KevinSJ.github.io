import{b as N,d as R,a0 as I,am as V,i as u,o as s,c as $,k as i,l as n,m as D,j as f,w as p,a6 as T,G as B,ad as v,x as F,af as G}from"./index-0c1fde36.js";import{_ as L}from"./c-key-value-list.vue_vue_type_script_setup_true_lang-6aa5d428.js";import{_ as M}from"./InputCopyable.vue_vue_type_script_setup_true_lang-294ac243.js";import{N as O}from"./Alert-a9fb131b.js";const P={isValid:function(t){const e=x(t);if(!e.match(m))throw new Error("Exception value of format '"+m+"', found: '"+e+"'");return c(e)===0},generate:function(t){const e=x(t);if(!e.match(h))throw new Error("Exception value of format '"+h+"', found: '"+e+"'");return e+((10-c(e+"0"))%10).toString()},getRemainder:function(t){return c(t)}},m=/^[0-9]{2,}$/,h=/^[0-9]{1,}$/,g="0".charCodeAt(0),S=[0,2,4,6,8,1,3,5,7,9];function c(t){for(var e=t.length,a=0,l=0;e-- >0;)a+=(l^=1)?t.charCodeAt(e)-g:S[t.charCodeAt(e)-g];return a%10}function x(t){if(t!=null){if(typeof t=="string")return t;throw new Error("Expecting value of type 'string', found: '"+typeof t+"'")}throw new Error("Expecting value of type 'string', found: '"+t+"'")}var j=P;const r=N(j),z=R({__name:"luhn-validator",setup(t){const{t:e}=I(),a=V({tool:"luhn-validator",name:"luhn",defaultValue:"44540661970241257"}),l=u(()=>a.value.replace(/[^\d]/g,"")),o=u(()=>{try{return r.isValid(l.value)}catch{return!1}}),d=u(()=>[{label:e("tools.luhn-validator.texts.label-is-valid"),value:o.value},{label:e("tools.luhn-validator.texts.label-luhn-key"),value:(o.value?l.value.slice(-1):r.generate(l.value).slice(-1))||""},{label:e("tools.luhn-validator.texts.label-value-with-luhn-key"),value:(o.value?l.value:r.generate(l.value))||""}]);return(y,_)=>{const b=F,E=M,k=O,A=L,C=G;return s(),$("div",null,[i(b,{value:n(a),"onUpdate:value":_[0]||(_[0]=w=>D(a)?a.value=w:null),placeholder:n(e)("tools.luhn-validator.texts.placeholder-enter-a-luhn-validated-value")},null,8,["value","placeholder"]),n(o)?v("",!0):(s(),f(k,{key:0,type:"error"},{default:p(()=>[T(B(n(e)("tools.luhn-validator.texts.tag-invalid-luhn-key")),1),i(E,{label:n(e)("tools.luhn-validator.texts.label-probably-correct"),"label-position":"left",value:n(r).generate(n(l)),disabled:"true"},null,8,["label","value"])]),_:1})),n(d).length>0?(s(),f(C,{key:1,"mt-5":"",title:n(e)("tools.luhn-validator.texts.title-infos")},{default:p(()=>[i(A,{items:n(d)},null,8,["items"])]),_:1},8,["title"])):v("",!0)])}}});export{z as default};
