import{Q as as,b as Ap,d as bp,a0 as Pp,r as Dt,i as Cp,o as ge,c as rt,a as gt,k as mt,l as M,j as Ut,w as ve,G as Ge,ad as We,a6 as ht,a7 as ls,a8 as ps,aW as Op,af as Np,ag as Rp,a_ as Dp,s as Up}from"./index-0c1fde36.js";import{_ as Mp}from"./InputCopyable.vue_vue_type_script_setup_true_lang-294ac243.js";import{B as re}from"./index-a6f01dde.js";import{f as Lp}from"./convert-3a925b00.js";let nu=class{constructor(t){if(Bp(t))throw new Error("DataView: Passed buffer type is unsupported.");this.buffer=t,this.byteLength=this.buffer.length}getUint8(t){return this.buffer.readUInt8(t)}getUint16(t,n){return n?this.buffer.readUInt16LE(t):this.buffer.readUInt16BE(t)}getUint32(t,n){return n?this.buffer.readUInt32LE(t):this.buffer.readUInt32BE(t)}getInt32(t,n){return n?this.buffer.readInt32LE(t):this.buffer.readInt32BE(t)}};function Bp(e){return typeof e!="object"||e.length===void 0||e.readUInt8===void 0||e.readUInt16LE===void 0||e.readUInt16BE===void 0||e.readUInt32LE===void 0||e.readUInt32BE===void 0||e.readInt32LE===void 0||e.readInt32BE===void 0}function ds(e,t,n){try{return new DataView(e,t,n)}catch{return new nu(e,t,n)}}function P(e,t,n){const i=[];for(let o=0;o<n&&t+o<e.byteLength;o++)i.push(e.getUint8(t+o));return xt(i)}function Bt(e,t){const n=[];let i=0;for(;t+i<e.byteLength;){const o=e.getUint8(t+i);if(o===0)break;n.push(o),i++}return xt(n)}function vp(e,t,n){const i=[];for(let o=0;o<n&&t+o<e.byteLength;o+=2)i.push(e.getUint16(t+o));return i[i.length-1]===0&&i.pop(),xt(i)}function ru(e,t){const n=e.getUint8(t),i=P(e,t+1,n);return[n,i]}function xt(e){return e.map(t=>String.fromCharCode(t)).join("")}function C(){for(let e=1;e<arguments.length;e++)for(const t in arguments[e])arguments[0][t]=arguments[e][t];return arguments[0]}function iu(e,t,n){let i=!1;Object.defineProperty(e,t,{get(){return i||(i=!0,Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n.apply(e),writable:!0})),e[t]},configurable:!0,enumerable:!0})}function ou(e){if(typeof btoa<"u")return btoa(typeof e=="string"?e:Array.prototype.reduce.call(new Uint8Array(e),(t,n)=>t+String.fromCharCode(n),""));if(!(typeof re>"u"))return typeof re.from<"u"?re.from(e).toString("base64"):new re(e).toString("base64")}function Gp(e){const t=e.substring(e.indexOf(",")+1);if(e.indexOf(";base64")!==-1)return typeof atob<"u"?Uint8Array.from(atob(t),i=>i.charCodeAt(0)).buffer:typeof re>"u"?void 0:typeof re.from<"u"?re.from(t,"base64"):new re(t,"base64");const n=decodeURIComponent(t);return typeof re<"u"?typeof re.from<"u"?re.from(n):new re(n):Uint8Array.from(n,i=>i.charCodeAt(0)).buffer}function kp(e,t,n){return su(n,t-e.length)+e}function wp(e,t){return parseInt(e.replace(".",""),t)/Math.pow(t,(e.split(".")[1]||"").length)}function su(e,t){return new Array(t+1).join(e)}const Ln=void 0,uu=0;function cu(e,t,n,i="string"){if(t===uu&&typeof DecompressionStream=="function"){const o=new DecompressionStream("deflate"),f=new Blob([e]).stream().pipeThrough(o);return i==="dataview"?new Response(f).arrayBuffer().then(u=>new DataView(u)):new Response(f).arrayBuffer().then(u=>new TextDecoder(n).decode(u))}return t!==void 0?Promise.reject(`Unknown compression method ${t}.`):e}const gs={USE_FILE:!0,USE_JFIF:!0,USE_PNG_FILE:!0,USE_EXIF:!0,USE_IPTC:!0,USE_XMP:!0,USE_ICC:!0,USE_MPF:!0,USE_PHOTOSHOP:!0,USE_THUMBNAIL:!0,USE_TIFF:!0,USE_JPEG:!0,USE_PNG:!0,USE_HEIC:!0,USE_AVIF:!0,USE_WEBP:!0,USE_GIF:!0,USE_MAKER_NOTES:!0};function K(e){return e.map(t=>String.fromCharCode(t)).join("")}function Yr(e){if(e.length>=8){const t=K(e.slice(0,8));if(t==="ASCII\0\0\0")return K(e.slice(8));if(t==="JIS\0\0\0\0\0")return"[JIS encoded text]";if(t==="UNICODE\0")return"[Unicode encoded text]";if(t==="\0\0\0\0\0\0\0\0")return"[Undefined encoding]"}return"Undefined"}function Bn(e){return e[0][0]/e[0][1]+e[1][0]/e[1][1]/60+e[2][0]/e[2][1]/3600}const zr=18761,Wr=19789,ke={BIG_ENDIAN:Wr,LITTLE_ENDIAN:zr,getByteOrder:Zp};function Zp(e,t){if(e.getUint16(t)===zr)return zr;if(e.getUint16(t)===Wr)return Wr;throw new Error("Illegal byte order value. Faulty image.")}const ms={isTiffFile:Hp,findTiffOffsets:$p};function Hp(e){return!!e&&e.byteLength>=4&&jp(e)}function jp(e){const i=e.getUint16(0)===ke.LITTLE_ENDIAN;return e.getUint16(2,i)===42}function $p(){return{hasAppMarkers:!0,tiffHeaderOffset:0}}const hs={isJpegFile:sd,findJpegOffsets:ud},Xp=2,Yp=65496,Es=2,Fe=4,ne=2,zp=2,Wp=10,Kp=18,Ss=33,xs=79,Is=18,Jp=8,Kr="ICC_PROFILE\0",fu=Fe+Kr.length,qp=fu+1,Ts="MPF\0",au=65472,lu=65474,Qp=65476,Vp=65499,ed=65501,td=65498,pu=65504,ui=65505,du=65506,nd=65517,rd=65519,id=65534,od=65535,_s="JFIF",ys="Exif",Fs="http://ns.adobe.com/xap/1.0/\0",As="http://ns.adobe.com/xmp/extension/\0",bs="Photoshop 3.0";function sd(e){return!!e&&e.byteLength>=Xp&&e.getUint16(0)===Yp}function ud(e){let t=Es,n,i,o,f,u,l,g,S,m;for(;t+Fe+5<=e.byteLength;){if(cd(e,t))n=e.getUint16(t+ne),i=t+ne;else if(fd(e,t))n=e.getUint16(t+ne),o=t+ne;else if(pd(e,t))n=e.getUint16(t+ne),f=t+zp;else if(dd(e,t))n=e.getUint16(t+ne),u=t+Wp;else if(gd(e,t))g||(g=[]),n=e.getUint16(t+ne),g.push(Sd(t,n));else if(hd(e,t))g||(g=[]),n=e.getUint16(t+ne),g.push(xd(t,n));else if(Id(e,t))n=e.getUint16(t+ne),l=t+Kp;else if(ad(e,t)){n=e.getUint16(t+ne);const E=t+Is,_=n-(Is-ne),y=e.getUint8(t+fu),w=e.getUint8(t+qp);S||(S=[]),S.push({offset:E,length:_,chunkNumber:y,chunksTotal:w})}else if(ld(e,t))n=e.getUint16(t+ne),m=t+Jp;else if(Td(e,t))n=e.getUint16(t+ne);else if(_d(e,t)){t++;continue}else break;t+=ne+n}return{hasAppMarkers:t>Es,fileDataOffset:i||o,jfifDataOffset:f,tiffHeaderOffset:u,iptcDataOffset:l,xmpChunks:g,iccChunks:S,mpfDataOffset:m}}function cd(e,t){return e.getUint16(t)===au}function fd(e,t){return e.getUint16(t)===lu}function ad(e,t){const n=Kr.length;return e.getUint16(t)===du&&P(e,t+Fe,n)===Kr}function ld(e,t){const n=Ts.length;return e.getUint16(t)===du&&P(e,t+Fe,n)===Ts}function pd(e,t){const n=_s.length;return e.getUint16(t)===pu&&P(e,t+Fe,n)===_s&&e.getUint8(t+Fe+n)===0}function dd(e,t){const n=ys.length;return e.getUint16(t)===ui&&P(e,t+Fe,n)===ys&&e.getUint8(t+Fe+n)===0}function gd(e,t){return e.getUint16(t)===ui&&md(e,t)}function md(e,t){const n=Fs.length;return P(e,t+Fe,n)===Fs}function hd(e,t){return e.getUint16(t)===ui&&Ed(e,t)}function Ed(e,t){const n=As.length;return P(e,t+Fe,n)===As}function Sd(e,t){return{dataOffset:e+Ss,length:t-(Ss-ne)}}function xd(e,t){return{dataOffset:e+xs,length:t-(xs-ne)}}function Id(e,t){const n=bs.length;return e.getUint16(t)===nd&&P(e,t+Fe,n)===bs&&e.getUint8(t+Fe+n)===0}function Td(e,t){const n=e.getUint16(t);return n>=pu&&n<=rd||n===id||n===au||n===lu||n===Qp||n===Vp||n===ed||n===td}function _d(e,t){return e.getUint16(t)===od}const Ps={isPngFile:Ad,findPngOffsets:bd},Jr=`PNG\r

`,vn=4,Ne=4,vt=0,ut=vn,te=vn+Ne,qr="XML:com.adobe.xmp\0",ci="tEXt",It="iTXt",kn="zTXt",gu="pHYs",mu="tIME",yd="eXIf",Fd="iCCP";function Ad(e){return!!e&&P(e,0,Jr.length)===Jr}function bd(e,t){const i={hasAppMarkers:!1};let o=Jr.length;for(;o+vn+Ne<=e.byteLength;){if(Pd(e,o))i.hasAppMarkers=!0,i.pngHeaderOffset=o+te;else if(Cd(e,o)){const f=Ud(e,o);f!==void 0&&(i.hasAppMarkers=!0,i.xmpChunks=[{dataOffset:f,length:e.getUint32(o+vt)-(f-(o+te))}])}else if(Od(e,o,t)){i.hasAppMarkers=!0;const f=P(e,o+ut,Ne);i.pngTextChunks||(i.pngTextChunks=[]),i.pngTextChunks.push({length:e.getUint32(o+vt),type:f,offset:o+te})}else if(Nd(e,o))i.hasAppMarkers=!0,i.tiffHeaderOffset=o+te;else if(t&&Rd(e,o)){i.hasAppMarkers=!0;const f=e.getUint32(o+vt),u=o+te,{profileName:l,compressionMethod:g,compressedProfileOffset:S}=Md(e,u);i.iccChunks||(i.iccChunks=[]),i.iccChunks.push({offset:S,length:f-(S-u),chunkNumber:1,chunksTotal:1,profileName:l,compressionMethod:g})}else Dd(e,o)&&(i.hasAppMarkers=!0,i.pngChunkOffsets||(i.pngChunkOffsets=[]),i.pngChunkOffsets.push(o+vt));o+=e.getUint32(o+vt)+vn+Ne+4}return i}function Pd(e,t){const n="IHDR";return P(e,t+ut,Ne)===n}function Cd(e,t){return P(e,t+ut,Ne)===It&&P(e,t+te,qr.length)===qr}function Od(e,t,n){const i=P(e,t+ut,Ne);return i===ci||i===It||i===kn&&n}function Nd(e,t){return P(e,t+ut,Ne)===yd}function Rd(e,t){return P(e,t+ut,Ne)===Fd}function Dd(e,t){const n=[gu,mu],i=P(e,t+ut,Ne);return n.includes(i)}function Ud(e,t){t+=te+qr.length+1+1;let o=0;for(;o<2&&t<e.byteLength;)e.getUint8(t)===0&&o++,t++;if(!(o<2))return t}function Md(e,t){const o=Bt(e,t);t+=o.length+1;const f=e.getUint8(t);return t+=1,{profileName:o,compressionMethod:f,compressedProfileOffset:t}}function Ld(e,t){return e.getUint32(t+4)}function Bd(e,t,n,i){const{offsets:f,sizes:u}=vd(t,n+3),l=e.getUint8(f.offsetSize)>>4;u.item.extent.extentOffset=l;const g=e.getUint8(f.lengthSize)&15;u.item.extent.extentLength=g;const S=e.getUint8(f.baseOffsetSize)>>4;u.item.baseOffset=S;const m=Gd(e,f.indexSize,t);u.item.extent.extentIndex=m!==void 0?m:0;const E=kd(e,f.itemCount,t);return{type:"iloc",items:wd(e,t,f,u,l,g,m,E),length:i}}function vd(e,t){const n={item:{dataReferenceIndex:2,extentCount:2,extent:{}}};e<2?(n.itemCount=2,n.item.itemId=2):e===2&&(n.itemCount=4,n.item.itemId=4),e===1||e===2?n.item.constructionMethod=2:n.item.constructionMethod=0;const i={offsetSize:t,lengthSize:t,baseOffsetSize:t+1,indexSize:t+1};return i.itemCount=t+2,i.items=i.itemCount+n.itemCount,i.item={itemId:0},i.item.constructionMethod=i.item.itemId+n.item.itemId,i.item.dataReferenceIndex=i.item.constructionMethod+n.item.constructionMethod,{offsets:i,sizes:n}}function Gd(e,t,n){if(n===1||n===2)return e.getUint8(t)&15}function kd(e,t,n){if(n<2)return e.getUint16(t);if(n===2)return e.getUint32(t)}function wd(e,t,n,i,o,f,u,l){if(l===void 0)return[];const g=[];let S=n.items;for(let m=0;m<l;m++){const E={extents:[]};E.itemId=Zd(e,S,t),S+=i.item.itemId,E.constructionMethod=t===1||t===2?e.getUint16(S)&15:void 0,S+=i.item.constructionMethod,E.dataReferenceIndex=e.getUint16(S),S+=i.item.dataReferenceIndex,E.baseOffset=Rn(e,S,i.item.baseOffset),S+=i.item.baseOffset,E.extentCount=e.getUint16(S),S+=i.item.extentCount;for(let _=0;_<E.extentCount;_++){const y={};y.extentIndex=Hd(e,t,S,u),S+=i.item.extent.extentIndex,y.extentOffset=Rn(e,S,o),S+=i.item.extent.extentOffset,y.extentLength=Rn(e,S,f),S+=i.item.extent.extentLength,E.extents.push(y)}g.push(E)}return g}function Zd(e,t,n){if(n<2)return e.getUint16(t);if(n===2)return e.getUint32(t)}function Hd(e,t,n,i){if((t===1||t===2)&&i>0)return Rn(e,n,i)}function Rn(e,t,n){return n===4?e.getUint32(t):n===8?(console.warn("This file uses an 8-bit offset which is currently not supported by ExifReader. Contact the maintainer to get it fixed."),Ld(e,t)):0}const jd=1718909296,$d=1768977008,Xd=1835365473,Yd=1768714083,zd=1768517222,Wd=1768842853,Kd=1768973167,Jd=1668246642,hu=1165519206,fi=1835625829,qd=1970432288;function wn(e,t){const{length:f,contentOffset:u}=Qd(e,t);if(f<8)return;const l=e.getUint32(t+4);if(l===jd)return fg(e,u,f);if(l===$d)return ag(e,t,u,f);if(l===Kd)return lg(e,t,u,f);if(l===Jd)return pg(e,u,f);const g=e.getUint8(u);return l===Xd?gg(e,t,u+1,f):l===Yd?Bd(e,g,u+1,f):l===zd?mg(e,t,g,u+1,f):l===Wd?Eg(e,t,g,u+1,f):{type:void 0,length:f}}function Qd(e,t){const u=e.getUint32(t);return Vd(u)?{length:e.byteLength-t,contentOffset:t+4+4}:eg(u)&&tg(e,t)?{length:e.getUint32(t+12),contentOffset:t+4+4+8}:{length:u,contentOffset:t+4+4}}function Vd(e){return e===0}function eg(e){return e===1}function tg(e,t){return e.getUint32(t+8)===0}function Eu(e){{const t={},n=ng(e);return n?(t.tiffHeaderOffset=rg(e,n),t.xmpChunks=sg(n),t.iccChunks=cg(n),t.hasAppMarkers=t.tiffHeaderOffset!==void 0||t.xmpChunks!==void 0||t.iccChunks!==void 0,t):{hasAppMarkers:!1}}}function ng(e){let i=0;for(;i+4+4<=e.byteLength;){const o=wn(e,i);if(o===void 0)break;if(o.type==="meta")return o;i+=o.length}}function rg(e,t){try{const n=ig(t).itemId,i=Qr(t,n),o=i.baseOffset+i.extents[0].extentOffset;return og(e,o)}catch{return}}function ig(e){return e.subBoxes.find(t=>t.type==="iinf").itemInfos.find(t=>t.itemType===hu)}function Qr(e,t){return e.subBoxes.find(n=>n.type==="iloc").items.find(n=>n.itemId===t)}function og(e,t){return t+4+e.getUint32(t)}function sg(e){try{const t=ug(e).itemId,n=Qr(e,t),i=Qr(e,t).extents[0];return[{dataOffset:n.baseOffset+i.extentOffset,length:i.extentLength}]}catch{return}}function ug(e){return e.subBoxes.find(t=>t.type==="iinf").itemInfos.find(t=>t.itemType===fi&&t.contentType==="application/rdf+xml")}function cg(e){try{const t=e.subBoxes.find(n=>n.type==="iprp").subBoxes.find(n=>n.type==="ipco").properties.find(n=>n.type==="colr").icc;if(t)return[t]}catch{}}function fg(e,t,n){return{type:"ftyp",majorBrand:P(e,t,4),length:n}}function ag(e,t,n,i){return{type:"iprp",subBoxes:Zn(e,n,i-(n-t)),length:i}}function lg(e,t,n,i){return{type:"ipco",properties:Zn(e,n,i-(n-t)),length:i}}function pg(e,t,n){return{type:"colr",icc:dg(e,t),length:n}}function dg(e,t){const i=P(e,t,4);if(!(i!=="prof"&&i!=="rICC"))return{offset:t+4,length:e.getUint32(t+4),chunkNumber:1,chunksTotal:1}}function gg(e,t,n,i){return{type:"meta",subBoxes:Zn(e,n+3,i-(n+3-t)),length:i}}function Zn(e,t,n){const i=[hu,fi],o=[];let f=t;for(;f<t+n;){const u=wn(e,f);if(u===void 0)break;u.type!==void 0&&(u.itemType===void 0||i.indexOf(u.itemType)!==-1)&&o.push(u),f+=u.length}return o}function mg(e,t,n,i,o){const{offsets:f}=hg(n,i);return{type:"iinf",itemInfos:Zn(e,f.itemInfos,o-(f.itemInfos-t)),length:o}}function hg(e,t){const i={entryCount:t+3},o={};return e===0?o.entryCount=2:o.entryCount=4,i.itemInfos=i.entryCount+o.entryCount,{offsets:i}}function Eg(e,t,n,i,o){i+=3;const u={type:"infe",length:o};return(n===0||n===1)&&(u.itemId=e.getUint16(i),i+=2,u.itemProtectionIndex=e.getUint16(i),i+=2,u.itemName=Bt(e,i),i+=u.itemName.length+1),n>=2&&(n===2?(u.itemId=e.getUint16(i),i+=2):n===3&&(u.itemId=e.getUint32(i),i+=4),u.itemProtectionIndex=e.getUint16(i),i+=2,u.itemType=e.getUint32(i),i+=4,u.itemName=Bt(e,i),i+=u.itemName.length+1,u.itemType===fi?(u.contentType=Bt(e,i),i+=u.contentType.length+1,t+o>i&&(u.contentEncoding=Bt(e,i),i+=u.contentEncoding.length+1)):u.itemType===qd&&(u.itemUri=Bt(e,i),i+=u.itemUri.length+1)),u}const Cs={isHeicFile:Sg,findHeicOffsets:xg};function Sg(e){if(!e)return!1;const t=["heic","heix","hevc","hevx","heim","heis","hevm","hevs","mif1"];try{const n=wn(e,0);return n&&t.indexOf(n.majorBrand)!==-1}catch{return!1}}function xg(e){return Eu(e)}const Os={isAvifFile:Ig,findAvifOffsets:Tg};function Ig(e){if(!e)return!1;try{const t=wn(e,0);return t&&t.majorBrand==="avif"}catch{return!1}}function Tg(e){return Eu(e)}const Ns={isWebpFile:_g,findOffsets:yg};function _g(e){const n="RIFF",o="WEBP";return!!e&&P(e,0,n.length)===n&&P(e,8,o.length)===o}function yg(e){const i="Exif\0\0";let f=12,u=!1,l,g,S,m;for(;f+8<e.byteLength;){const E=P(e,f,4),_=e.getUint32(f+4,!0);E==="EXIF"?(u=!0,P(e,f+8,i.length)===i?l=f+8+i.length:l=f+8):E==="XMP "?(u=!0,g=[{dataOffset:f+8,length:_}]):E==="ICCP"?(u=!0,S=[{offset:f+8,length:_,chunkNumber:1,chunksTotal:1}]):E==="VP8X"&&(u=!0,m=f+8),f+=8+(_%2===0?_:_+1)}return{hasAppMarkers:u,tiffHeaderOffset:l,xmpChunks:g,iccChunks:S,vp8xChunkOffset:m}}const Rs={isGifFile:bg,findOffsets:Pg},Fg=6,Ag=["GIF87a","GIF89a"];function bg(e){return!!e&&Ag.includes(P(e,0,Fg))}function Pg(){return{gifHeaderOffset:0}}const Ds={isXMLFile:Cg,findOffsets:Og},Su=0,Us="<?xpacket begin";function Cg(e){return!!e&&P(e,Su,Us.length)===Us}function Og(e){const t=[];return t.push({dataOffset:Su,length:e.byteLength}),{xmpChunks:t}}const Ng={parseAppMarkers:Rg};function Rg(e,t){if(ms.isTiffFile(e))return it(ms.findTiffOffsets(),"tiff","TIFF");if(hs.isJpegFile(e))return it(hs.findJpegOffsets(e),"jpeg","JPEG");if(Ps.isPngFile(e))return it(Ps.findPngOffsets(e,t),"png","PNG");if(Cs.isHeicFile(e))return it(Cs.findHeicOffsets(e),"heic","HEIC");if(Os.isAvifFile(e))return it(Os.findAvifOffsets(e),"avif","AVIF");if(Ns.isWebpFile(e))return it(Ns.findOffsets(e),"webp","WebP");if(Rs.isGifFile(e))return it(Rs.findOffsets(e),"gif","GIF");if(Ds.isXMLFile(e))return it(Ds.findOffsets(e),"xml","XML");throw new Error("Invalid image format")}function it(e,t,n){return C({},e,{fileType:{value:t,description:n}})}const b={ApertureValue:e=>Math.pow(Math.sqrt(2),e[0]/e[1]).toFixed(2),ColorSpace(e){return e===1?"sRGB":e===65535?"Uncalibrated":"Unknown"},ComponentsConfiguration(e){return e.map(t=>{if(t===49)return"Y";if(t===50)return"Cb";if(t===51)return"Cr";if(t===52)return"R";if(t===53)return"G";if(t===54)return"B"}).join("")},Contrast(e){return e===0?"Normal":e===1?"Soft":e===2?"Hard":"Unknown"},CustomRendered(e){return e===0?"Normal process":e===1?"Custom process":"Unknown"},ExposureMode(e){return e===0?"Auto exposure":e===1?"Manual exposure":e===2?"Auto bracket":"Unknown"},ExposureProgram(e){return e===0?"Undefined":e===1?"Manual":e===2?"Normal program":e===3?"Aperture priority":e===4?"Shutter priority":e===5?"Creative program":e===6?"Action program":e===7?"Portrait mode":e===8?"Landscape mode":e===9?"Bulb":"Unknown"},ExposureTime(e){if(e[0]/e[1]>.25){const t=e[0]/e[1];return Number.isInteger(t)?""+t:t.toFixed(1)}return e[0]!==0?`1/${Math.round(e[1]/e[0])}`:`0/${e[1]}`},FNumber:e=>`f/${Number(e[0]/e[1]).toFixed(1)}`,FocalLength:e=>e[0]/e[1]+" mm",FocalPlaneResolutionUnit(e){return e===2?"inches":e===3?"centimeters":e===4?"millimeters":"Unknown"},LightSource:e=>e===1?"Daylight":e===2?"Fluorescent":e===3?"Tungsten (incandescent light)":e===4?"Flash":e===9?"Fine weather":e===10?"Cloudy weather":e===11?"Shade":e===12?"Daylight fluorescent (D 5700 – 7100K)":e===13?"Day white fluorescent (N 4600 – 5400K)":e===14?"Cool white fluorescent (W 3900 – 4500K)":e===15?"White fluorescent (WW 3200 – 3700K)":e===17?"Standard light A":e===18?"Standard light B":e===19?"Standard light C":e===20?"D55":e===21?"D65":e===22?"D75":e===23?"D50":e===24?"ISO studio tungsten":e===255?"Other light source":"Unknown",MeteringMode(e){return e===1?"Average":e===2?"CenterWeightedAverage":e===3?"Spot":e===4?"MultiSpot":e===5?"Pattern":e===6?"Partial":e===255?"Other":"Unknown"},ResolutionUnit(e){return e===2?"inches":e===3?"centimeters":"Unknown"},Saturation(e){return e===0?"Normal":e===1?"Low saturation":e===2?"High saturation":"Unknown"},FocalLengthIn35mmFilm(e){return e===0?"Unknown":e+" mm"},SceneCaptureType(e){return e===0?"Standard":e===1?"Landscape":e===2?"Portrait":e===3?"Night scene":"Unknown"},Sharpness(e){return e===0?"Normal":e===1?"Soft":e===2?"Hard":"Unknown"},ShutterSpeedValue(e){const t=Math.pow(2,e[0]/e[1]);return t<=1?`${Math.round(1/t)}`:`1/${Math.round(t)}`},WhiteBalance(e){return e===0?"Auto white balance":e===1?"Manual white balance":"Unknown"},XResolution:e=>""+Math.round(e[0]/e[1]),YResolution:e=>""+Math.round(e[0]/e[1])},xu={11:"ProcessingSoftware",254:{name:"SubfileType",description:e=>({0:"Full-resolution image",1:"Reduced-resolution image",2:"Single page of multi-page image",3:"Single page of multi-page reduced-resolution image",4:"Transparency mask",5:"Transparency mask of reduced-resolution image",6:"Transparency mask of multi-page image",7:"Transparency mask of reduced-resolution multi-page image",65537:"Alternate reduced-resolution image",4294967295:"Invalid"})[e]||"Unknown"},255:{name:"OldSubfileType",description:e=>({0:"Full-resolution image",1:"Reduced-resolution image",2:"Single page of multi-page image"})[e]||"Unknown"},256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:{name:"Thresholding",description:e=>({1:"No dithering or halftoning",2:"Ordered dither or halfton",3:"Randomized dither"})[e]||"Unknown"},264:"CellWidth",265:"CellLength",266:{name:"FillOrder",description:e=>({1:"Normal",2:"Reversed"})[e]||"Unknown"},269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:e=>e===1?"top-left":e===2?"top-right":e===3?"bottom-right":e===4?"bottom-left":e===5?"left-top":e===6?"right-top":e===7?"right-bottom":e===8?"left-bottom":"Undefined"},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:{name:"XResolution",description:b.XResolution},283:{name:"YResolution",description:b.YResolution},284:"PlanarConfiguration",285:"PageName",286:{name:"XPosition",description:e=>""+Math.round(e[0]/e[1])},287:{name:"YPosition",description:e=>""+Math.round(e[0]/e[1])},290:{name:"GrayResponseUnit",description:e=>({1:"0.1",2:"0.001",3:"0.0001",4:"1e-05",5:"1e-06"})[e]||"Unknown"},296:{name:"ResolutionUnit",description:b.ResolutionUnit},297:"PageNumber",301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:{name:"WhitePoint",description:e=>e.map(t=>`${t[0]}/${t[1]}`).join(", ")},319:{name:"PrimaryChromaticities",description:e=>e.map(t=>`${t[0]}/${t[1]}`).join(", ")},321:"HalftoneHints",322:"TileWidth",323:"TileLength",330:"A100DataOffset",332:{name:"InkSet",description:e=>({1:"CMYK",2:"Not CMYK"})[e]||"Unknown"},337:"TargetPrinter",338:{name:"ExtraSamples",description:e=>({0:"Unspecified",1:"Associated Alpha",2:"Unassociated Alpha"})[e]||"Unknown"},339:{name:"SampleFormat",description:e=>{const t={1:"Unsigned",2:"Signed",3:"Float",4:"Undefined",5:"Complex int",6:"Complex float"};return Array.isArray(e)?e.map(n=>t[n]||"Unknown").join(", "):"Unknown"}},513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:{name:"YCbCrCoefficients",description:e=>e.map(t=>""+t[0]/t[1]).join("/")},530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:e=>e===1?"centered":e===2?"co-sited":"undefined "+e},532:{name:"ReferenceBlackWhite",description:e=>e.map(t=>""+t[0]/t[1]).join(", ")},700:"ApplicationNotes",18246:"Rating",18249:"RatingPercent",33432:{name:"Copyright",description:e=>e.join("; ")},33550:"PixelScale",33723:"IPTC-NAA",33920:"IntergraphMatrix",33922:"ModelTiePoint",34118:"SEMInfo",34264:"ModelTransform",34377:"PhotoshopSettings",34665:"Exif IFD Pointer",34675:"ICC_Profile",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34853:"GPS Info IFD Pointer",40091:{name:"XPTitle",description:Kt},40092:{name:"XPComment",description:Kt},40093:{name:"XPAuthor",description:Kt},40094:{name:"XPKeywords",description:Kt},40095:{name:"XPSubject",description:Kt},42112:"GDALMetadata",42113:"GDALNoData",50341:"PrintIM",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50739:"ShadowScale",50741:{name:"MakerNoteSafety",description:e=>({0:"Unsafe",1:"Safe"})[e]||"Unknown"},50778:{name:"CalibrationIlluminant1",description:b.LightSource},50779:{name:"CalibrationIlluminant2",description:b.LightSource},50781:"RawDataUniqueID",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50885:"SRawType",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:{name:"ProfileEmbedPolicy",description:e=>({0:"Allow Copying",1:"Embed if Used",2:"Never Embed",3:"No Restrictions"})[e]||"Unknown"},50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:{name:"PreviewColorSpace",description:e=>({1:"Gray Gamma 2.2",2:"sRGB",3:"Adobe RGB",4:"ProPhoto RGB"})[e]||"Unknown"},50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:{name:"ProfileHueSatMapEncoding",description:e=>({0:"Linear",1:"sRGB"})[e]||"Unknown"},51108:{name:"ProfileLookTableEncoding",description:e=>({0:"Linear",1:"sRGB"})[e]||"Unknown"},51109:"BaselineExposureOffset",51110:{name:"DefaultBlackRender",description:e=>({0:"Auto",1:"None"})[e]||"Unknown"},51111:"NewRawImageDigest",51112:"RawToPreviewGain"};function Kt(e){return new TextDecoder("utf-16").decode(new Uint8Array(e)).replace(/\u0000+$/,"")}const Dg={33434:{name:"ExposureTime",description:b.ExposureTime},33437:{name:"FNumber",description:b.FNumber},34850:{name:"ExposureProgram",description:b.ExposureProgram},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:()=>"[Raw OECF table data]"},34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:{name:"SensitivityType",description:e=>({1:"Standard Output Sensitivity",2:"Recommended Exposure Index",3:"ISO Speed",4:"Standard Output Sensitivity and Recommended Exposure Index",5:"Standard Output Sensitivity and ISO Speed",6:"Recommended Exposure Index and ISO Speed",7:"Standard Output Sensitivity, Recommended Exposure Index and ISO Speed"})[e]||"Unknown"},34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:{name:"ExifVersion",description:e=>K(e)},36867:"DateTimeOriginal",36868:"DateTimeDigitized",36873:"GooglePlusUploadCode",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37121:{name:"ComponentsConfiguration",description:b.ComponentsConfiguration},37122:"CompressedBitsPerPixel",37377:{name:"ShutterSpeedValue",description:b.ShutterSpeedValue},37378:{name:"ApertureValue",description:b.ApertureValue},37379:"BrightnessValue",37380:"ExposureBiasValue",37381:{name:"MaxApertureValue",description:e=>Math.pow(Math.sqrt(2),e[0]/e[1]).toFixed(2)},37382:{name:"SubjectDistance",description:e=>e[0]/e[1]+" m"},37383:{name:"MeteringMode",description:b.MeteringMode},37384:{name:"LightSource",description:b.LightSource},37385:{name:"Flash",description:e=>e===0?"Flash did not fire":e===1?"Flash fired":e===5?"Strobe return light not detected":e===7?"Strobe return light detected":e===9?"Flash fired, compulsory flash mode":e===13?"Flash fired, compulsory flash mode, return light not detected":e===15?"Flash fired, compulsory flash mode, return light detected":e===16?"Flash did not fire, compulsory flash mode":e===24?"Flash did not fire, auto mode":e===25?"Flash fired, auto mode":e===29?"Flash fired, auto mode, return light not detected":e===31?"Flash fired, auto mode, return light detected":e===32?"No flash function":e===65?"Flash fired, red-eye reduction mode":e===69?"Flash fired, red-eye reduction mode, return light not detected":e===71?"Flash fired, red-eye reduction mode, return light detected":e===73?"Flash fired, compulsory flash mode, red-eye reduction mode":e===77?"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected":e===79?"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected":e===89?"Flash fired, auto mode, red-eye reduction mode":e===93?"Flash fired, auto mode, return light not detected, red-eye reduction mode":e===95?"Flash fired, auto mode, return light detected, red-eye reduction mode":"Unknown"},37386:{name:"FocalLength",description:b.FocalLength},37393:"ImageNumber",37394:{name:"SecurityClassification",description:e=>({C:"Confidential",R:"Restricted",S:"Secret",T:"Top Secret",U:"Unclassified"})[e]||"Unknown"},37395:"ImageHistory",37396:{name:"SubjectArea",description:e=>e.length===2?`Location; X: ${e[0]}, Y: ${e[1]}`:e.length===3?`Circle; X: ${e[0]}, Y: ${e[1]}, diameter: ${e[2]}`:e.length===4?`Rectangle; X: ${e[0]}, Y: ${e[1]}, width: ${e[2]}, height: ${e[3]}`:"Unknown"},37500:{name:"MakerNote",description:()=>"[Raw maker note data]"},37510:{name:"UserComment",description:Yr},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37724:"ImageSourceData",37888:{name:"AmbientTemperature",description:e=>e[0]/e[1]+" °C"},37889:{name:"Humidity",description:e=>e[0]/e[1]+" %"},37890:{name:"Pressure",description:e=>e[0]/e[1]+" hPa"},37891:{name:"WaterDepth",description:e=>e[0]/e[1]+" m"},37892:{name:"Acceleration",description:e=>e[0]/e[1]+" mGal"},37893:{name:"CameraElevationAngle",description:e=>e[0]/e[1]+" °"},40960:{name:"FlashpixVersion",description:e=>e.map(t=>String.fromCharCode(t)).join("")},40961:{name:"ColorSpace",description:b.ColorSpace},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:()=>"[Raw SFR table data]"},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:b.FocalPlaneResolutionUnit},41492:{name:"SubjectLocation",description:([e,t])=>`X: ${e}, Y: ${t}`},41493:"ExposureIndex",41495:{name:"SensingMethod",description:e=>e===1?"Undefined":e===2?"One-chip color area sensor":e===3?"Two-chip color area sensor":e===4?"Three-chip color area sensor":e===5?"Color sequential area sensor":e===7?"Trilinear sensor":e===8?"Color sequential linear sensor":"Unknown"},41728:{name:"FileSource",description:e=>e===3?"DSC":"Unknown"},41729:{name:"SceneType",description:e=>e===1?"A directly photographed image":"Unknown"},41730:{name:"CFAPattern",description:()=>"[Raw CFA pattern table data]"},41985:{name:"CustomRendered",description:b.CustomRendered},41986:{name:"ExposureMode",description:b.ExposureMode},41987:{name:"WhiteBalance",description:b.WhiteBalance},41988:{name:"DigitalZoomRatio",description:e=>e[0]===0?"Digital zoom was not used":""+e[0]/e[1]},41989:{name:"FocalLengthIn35mmFilm",description:b.FocalLengthIn35mmFilm},41990:{name:"SceneCaptureType",description:b.SceneCaptureType},41991:{name:"GainControl",description:e=>e===0?"None":e===1?"Low gain up":e===2?"High gain up":e===3?"Low gain down":e===4?"High gain down":"Unknown"},41992:{name:"Contrast",description:b.Contrast},41993:{name:"Saturation",description:b.Saturation},41994:{name:"Sharpness",description:b.Sharpness},41995:{name:"DeviceSettingDescription",description:()=>"[Raw device settings table data]"},41996:{name:"SubjectDistanceRange",description:e=>e===1?"Macro":e===2?"Close view":e===3?"Distant view":"Unknown"},42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:{name:"LensSpecification",description:e=>{const t=parseFloat((e[0][0]/e[0][1]).toFixed(5)),n=parseFloat((e[1][0]/e[1][1]).toFixed(5)),i=`${t}-${n} mm`;if(e[3][1]===0)return`${i} f/?`;const o=1/(e[2][1]/e[2][1]/(e[3][0]/e[3][1]));return`${i} f/${parseFloat(o.toFixed(5))}`}},42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42080:{name:"CompositeImage",description:e=>({1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"})[e]||"Unknown"},42081:"SourceImageNumberOfCompositeImage",42082:"SourceExposureTimesOfCompositeImage",42240:"Gamma",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},Ug={0:{name:"GPSVersionID",description:e=>e[0]===2&&e[1]===2&&e[2]===0&&e[3]===0?"Version 2.2":"Unknown"},1:{name:"GPSLatitudeRef",description:e=>{const t=e.join("");return t==="N"?"North latitude":t==="S"?"South latitude":"Unknown"}},2:{name:"GPSLatitude",description:Bn},3:{name:"GPSLongitudeRef",description:e=>{const t=e.join("");return t==="E"?"East longitude":t==="W"?"West longitude":"Unknown"}},4:{name:"GPSLongitude",description:Bn},5:{name:"GPSAltitudeRef",description:e=>e===0?"Sea level":e===1?"Sea level reference (negative value)":"Unknown"},6:{name:"GPSAltitude",description:e=>e[0]/e[1]+" m"},7:{name:"GPSTimeStamp",description:e=>e.map(([t,n])=>{const i=t/n;return/^\d(\.|$)/.test(`${i}`)?`0${i}`:i}).join(":")},8:"GPSSatellites",9:{name:"GPSStatus",description:e=>{const t=e.join("");return t==="A"?"Measurement in progress":t==="V"?"Measurement Interoperability":"Unknown"}},10:{name:"GPSMeasureMode",description:e=>{const t=e.join("");return t==="2"?"2-dimensional measurement":t==="3"?"3-dimensional measurement":"Unknown"}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:e=>{const t=e.join("");return t==="K"?"Kilometers per hour":t==="M"?"Miles per hour":t==="N"?"Knots":"Unknown"}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:e=>{const t=e.join("");return t==="T"?"True direction":t==="M"?"Magnetic direction":"Unknown"}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:e=>{const t=e.join("");return t==="T"?"True direction":t==="M"?"Magnetic direction":"Unknown"}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:e=>{const t=e.join("");return t==="N"?"North latitude":t==="S"?"South latitude":"Unknown"}},20:{name:"GPSDestLatitude",description:e=>e[0][0]/e[0][1]+e[1][0]/e[1][1]/60+e[2][0]/e[2][1]/3600},21:{name:"GPSDestLongitudeRef",description:e=>{const t=e.join("");return t==="E"?"East longitude":t==="W"?"West longitude":"Unknown"}},22:{name:"GPSDestLongitude",description:e=>e[0][0]/e[0][1]+e[1][0]/e[1][1]/60+e[2][0]/e[2][1]/3600},23:{name:"GPSDestBearingRef",description:e=>{const t=e.join("");return t==="T"?"True direction":t==="M"?"Magnetic direction":"Unknown"}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:e=>{const t=e.join("");return t==="K"?"Kilometers":t==="M"?"Miles":t==="N"?"Knots":"Unknown"}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:Yr},28:{name:"GPSAreaInformation",description:Yr},29:"GPSDateStamp",30:{name:"GPSDifferential",description:e=>e===0?"Measurement without differential correction":e===1?"Differential correction applied":"Unknown"},31:"GPSHPositioningError"},Mg={1:"InteroperabilityIndex",2:{name:"InteroperabilityVersion",description:e=>K(e)},4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight"},Lg={45056:{name:"MPFVersion",description:e=>K(e)},45057:"NumberOfImages",45058:"MPEntry",45059:"ImageUIDList",45060:"TotalFrames"},Bg={4:{name:"ShotInfo",description:e=>e}},vg={0:{name:"PentaxVersion",description:e=>e.join(".")},5:"PentaxModelID",555:"LevelInfo"},Ms=C({},xu,Dg),ai="0th",Iu="1st",Tu="exif",_u="gps",yu="interoperability",Fu="mpf",Au="canon",li="pentax",ot={[ai]:Ms,[Iu]:xu,[Tu]:Ms,[_u]:Ug,[yu]:Mg,[Fu]:Lg,[Au]:Bg,[li]:vg},bu={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8,13:4},Vr={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10,IFD:13},I={getAsciiValue:Gg,getByteAt:Pu,getAsciiAt:kg,getShortAt:wg,getLongAt:Gn,getRationalAt:Zg,getUndefinedAt:Hg,getSlongAt:ei,getSrationalAt:jg,getIfdPointerAt:$g,typeSizes:bu,tagTypes:Vr,getTypeSize:Xg};function Gg(e){return e.map(t=>String.fromCharCode(t))}function Pu(e,t){return e.getUint8(t)}function kg(e,t){return e.getUint8(t)}function wg(e,t,n){return e.getUint16(t,n===ke.LITTLE_ENDIAN)}function Gn(e,t,n){return e.getUint32(t,n===ke.LITTLE_ENDIAN)}function Zg(e,t,n){return[Gn(e,t,n),Gn(e,t+4,n)]}function Hg(e,t){return Pu(e,t)}function ei(e,t,n){return e.getInt32(t,n===ke.LITTLE_ENDIAN)}function jg(e,t,n){return[ei(e,t,n),ei(e,t+4,n)]}function $g(e,t,n){return Gn(e,t,n)}function Xg(e){if(Vr[e]===void 0)throw new Error("No such type found.");return bu[Vr[e]]}const Yg={1:I.getByteAt,2:I.getAsciiAt,3:I.getShortAt,4:I.getLongAt,5:I.getRationalAt,7:I.getUndefinedAt,9:I.getSlongAt,10:I.getSrationalAt,13:I.getIfdPointerAt};function Cu(e,t,n){return t+I.getLongAt(e,t+4,n)}function ct(e,t,n,i,o,f){const u=I.getTypeSize("SHORT"),l=12,g={},S=zg(e,i,o);i+=u;for(let m=0;m<S&&!(i+l>e.byteLength);m++){const E=Wg(e,t,n,i,o,f);E!==void 0&&(g[E.name]={id:E.id,value:E.value,description:E.description},(E.name==="MakerNote"||t===li&&E.name==="LevelInfo")&&(g[E.name].__offset=E.__offset)),i+=l}if(i<e.byteLength-I.getTypeSize("LONG")){const m=I.getLongAt(e,i,o);m!==0&&t===ai&&(g.Thumbnail=ct(e,Iu,n,n+m,o,f))}return g}function zg(e,t,n){return t+I.getTypeSize("SHORT")<=e.byteLength?I.getShortAt(e,t,n):0}function Wg(e,t,n,i,o,f){const l=I.getTypeSize("SHORT"),g=l+I.getTypeSize("SHORT"),S=g+I.getTypeSize("LONG"),m=I.getShortAt(e,i,o),E=I.getShortAt(e,i+l,o),_=I.getLongAt(e,i+g,o);let y,w;if(I.typeSizes[E]===void 0||!f&&ot[t][m]===void 0)return;if(Kg(E,_))w=i+S,y=Ls(e,w,E,_,o);else if(w=I.getLongAt(e,i+S,o),Jg(e,n,w,E,_)){const q=m===33723;y=Ls(e,n+w,E,_,o,q)}else y="<faulty value>";E===I.tagTypes.ASCII&&(y=qg(y),y=Qg(y));let L=`undefined-${m}`,Y=y;if(ot[t][m]!==void 0)if(ot[t][m].name!==void 0&&ot[t][m].description!==void 0){L=ot[t][m].name;try{Y=ot[t][m].description(y)}catch{Y=Bs(y)}}else E===I.tagTypes.RATIONAL||E===I.tagTypes.SRATIONAL?(L=ot[t][m],Y=""+y[0]/y[1]):(L=ot[t][m],Y=Bs(y));return{id:m,name:L,value:y,description:Y,__offset:w}}function Kg(e,t){return I.typeSizes[e]*t<=I.getTypeSize("LONG")}function Ls(e,t,n,i,o,f=!1){let u=[];f&&(i=i*I.typeSizes[n],n=I.tagTypes.BYTE);for(let l=0;l<i;l++)u.push(Yg[n](e,t,o)),t+=I.typeSizes[n];return n===I.tagTypes.ASCII?u=I.getAsciiValue(u):u.length===1&&(u=u[0]),u}function Jg(e,t,n,i,o){return t+n+I.typeSizes[i]*o<=e.byteLength}function qg(e){const t=[];let n=0;for(let i=0;i<e.length;i++){if(e[i]==="\0"){n++;continue}t[n]===void 0&&(t[n]=""),t[n]+=e[i]}return t}function Qg(e){try{return e.map(t=>decodeURIComponent(escape(t)))}catch{return e}}function Bs(e){return e instanceof Array?e.join(", "):e}const vs="Exif IFD Pointer",Gs="GPS Info IFD Pointer",ks="Interoperability IFD Pointer",Ou={read:Vg};function Vg(e,t,n){const i=ke.getByteOrder(e,t);let o=em(e,t,i,n);return o=tm(o,e,t,i,n),o=nm(o,e,t,i,n),o=rm(o,e,t,i,n),{tags:o,byteOrder:i}}function em(e,t,n,i){return ct(e,ai,t,Cu(e,t,n),n,i)}function tm(e,t,n,i,o){return e[vs]!==void 0?C(e,ct(t,Tu,n,n+e[vs].value,i,o)):e}function nm(e,t,n,i,o){return e[Gs]!==void 0?C(e,ct(t,_u,n,n+e[Gs].value,i,o)):e}function rm(e,t,n,i,o){return e[ks]!==void 0?C(e,ct(t,yu,n,n+e[ks].value,i,o)):e}const im={read:om},Gt=16;function om(e,t,n){const i=ke.getByteOrder(e,t),o=ct(e,Fu,t,Cu(e,t,i),i,n);return sm(e,t,o,i)}function sm(e,t,n,i){if(!n.MPEntry)return n;const o=[];for(let f=0;f<Math.ceil(n.MPEntry.value.length/Gt);f++){o[f]={};const u=qt(n.MPEntry.value,f*Gt,I.getTypeSize("LONG"),i);o[f].ImageFlags=um(u),o[f].ImageFormat=cm(u),o[f].ImageType=fm(u);const l=qt(n.MPEntry.value,f*Gt+4,I.getTypeSize("LONG"),i);o[f].ImageSize={value:l,description:""+l};const g=am(f,n.MPEntry,i,t);o[f].ImageOffset={value:g,description:""+g};const S=qt(n.MPEntry.value,f*Gt+12,I.getTypeSize("SHORT"),i);o[f].DependentImage1EntryNumber={value:S,description:""+S};const m=qt(n.MPEntry.value,f*Gt+14,I.getTypeSize("SHORT"),i);o[f].DependentImage2EntryNumber={value:m,description:""+m},o[f].image=e.buffer.slice(g,g+l),iu(o[f],"base64",function(){return ou(this.image)})}return n.Images=o,n}function qt(e,t,n,i){if(i===ke.LITTLE_ENDIAN){let f=0;for(let u=0;u<n;u++)f+=e[t+u]<<8*u;return f}let o=0;for(let f=0;f<n;f++)o+=e[t+f]<<8*(n-1-f);return o}function um(e){const t=[e>>31&1,e>>30&1,e>>29&1],n=[];return t[0]&&n.push("Dependent Parent Image"),t[1]&&n.push("Dependent Child Image"),t[2]&&n.push("Representative Image"),{value:t,description:n.join(", ")||"None"}}function cm(e){const t=e>>24&7;return{value:t,description:t===0?"JPEG":"Unknown"}}function fm(e){const t=e&16777215;return{value:t,description:{196608:"Baseline MP Primary Image",65537:"Large Thumbnail (VGA equivalent)",65538:"Large Thumbnail (Full HD equivalent)",131073:"Multi-Frame Image (Panorama)",131074:"Multi-Frame Image (Disparity)",131075:"Multi-Frame Image (Multi-Angle)",0:"Undefined"}[t]||"Unknown"}}function am(e,t,n,i){return lm(e)?0:qt(t.value,e*Gt+8,I.getTypeSize("LONG"),n)+i}function lm(e){return e===0}const pm={read:dm};function dm(e,t){const n=gm(e,t),i=Sm(e,t,n);return{"Bits Per Sample":mm(e,t,n),"Image Height":hm(e,t,n),"Image Width":Em(e,t,n),"Color Components":i,Subsampling:i&&xm(e,t,i.value,n)}}function gm(e,t){return I.getShortAt(e,t)}function mm(e,t,n){if(2+1>n)return;const f=I.getByteAt(e,t+2);return{value:f,description:""+f}}function hm(e,t,n){if(3+2>n)return;const f=I.getShortAt(e,t+3);return{value:f,description:`${f}px`}}function Em(e,t,n){if(5+2>n)return;const f=I.getShortAt(e,t+5);return{value:f,description:`${f}px`}}function Sm(e,t,n){if(7+1>n)return;const f=I.getByteAt(e,t+7);return{value:f,description:""+f}}function xm(e,t,n,i){if(8+3*n>i)return;const u=[];for(let l=0;l<n;l++){const g=t+8+l*3;u.push([I.getByteAt(e,g),I.getByteAt(e,g+1),I.getByteAt(e,g+2)])}return{value:u,description:u.length>1?Im(u)+Tm(u):""}}function Im(e){const t={1:"Y",2:"Cb",3:"Cr",4:"I",5:"Q"};return e.map(n=>t[n[0]]).join("")}function Tm(e){const t={17:"4:4:4 (1 1)",18:"4:4:0 (1 2)",20:"4:4:1 (1 4)",33:"4:2:2 (2 1)",34:"4:2:0 (2 2)",36:"4:2:1 (2 4)",65:"4:1:1 (4 1)",66:"4:1:0 (4 2)"};return e.length===0||e[0][1]===void 0||t[e[0][1]]===void 0?"":t[e[0][1]]}const _m={read:ym};function ym(e,t){const n=Fm(e,t),i=Nm(e,t,n),o=Rm(e,t,n),f={"JFIF Version":Am(e,t,n),"Resolution Unit":bm(e,t,n),XResolution:Cm(e,t,n),YResolution:Om(e,t,n),"JFIF Thumbnail Width":i,"JFIF Thumbnail Height":o};if(i!==void 0&&o!==void 0){const u=Dm(e,t,3*i.value*o.value,n);u&&(f["JFIF Thumbnail"]=u)}for(const u in f)f[u]===void 0&&delete f[u];return f}function Fm(e,t){return I.getShortAt(e,t)}function Am(e,t,n){if(7+2>n)return;const f=I.getByteAt(e,t+7),u=I.getByteAt(e,t+7+1);return{value:f*256+u,description:f+"."+u}}function bm(e,t,n){if(9+1>n)return;const f=I.getByteAt(e,t+9);return{value:f,description:Pm(f)}}function Pm(e){return e===0?"None":e===1?"inches":e===2?"cm":"Unknown"}function Cm(e,t,n){if(10+2>n)return;const f=I.getShortAt(e,t+10);return{value:f,description:""+f}}function Om(e,t,n){if(12+2>n)return;const f=I.getShortAt(e,t+12);return{value:f,description:""+f}}function Nm(e,t,n){if(14+1>n)return;const f=I.getByteAt(e,t+14);return{value:f,description:`${f}px`}}function Rm(e,t,n){if(15+1>n)return;const f=I.getByteAt(e,t+15);return{value:f,description:`${f}px`}}function Dm(e,t,n,i){return n===0||16+n>i?void 0:{value:e.buffer.slice(t+16,t+16+n),description:"<24-bit RGB pixel data>"}}const st={iptc:{256:{name:"Model Version",description:e=>((e[0]<<8)+e[1]).toString()},261:{name:"Destination",repeatable:!0},276:{name:"File Format",description:e=>((e[0]<<8)+e[1]).toString()},278:{name:"File Format Version",description:e=>((e[0]<<8)+e[1]).toString()},286:"Service Identifier",296:"Envelope Number",306:"Product ID",316:"Envelope Priority",326:{name:"Date Sent",description:vr},336:{name:"Time Sent",description:Gr},346:{name:"Coded Character Set",description:ws,encoding_name:ws},356:"UNO",376:{name:"ARM Identifier",description:e=>((e[0]<<8)+e[1]).toString()},378:{name:"ARM Version",description:e=>((e[0]<<8)+e[1]).toString()},512:{name:"Record Version",description:e=>((e[0]<<8)+e[1]).toString()},515:"Object Type Reference",516:"Object Attribute Reference",517:"Object Name",519:"Edit Status",520:{name:"Editorial Update",description:e=>K(e)==="01"?"Additional Language":"Unknown"},522:"Urgency",524:{name:"Subject Reference",repeatable:!0,description:e=>{const t=K(e).split(":");return t[2]+(t[3]?"/"+t[3]:"")+(t[4]?"/"+t[4]:"")}},527:"Category",532:{name:"Supplemental Category",repeatable:!0},534:"Fixture Identifier",537:{name:"Keywords",repeatable:!0},538:{name:"Content Location Code",repeatable:!0},539:{name:"Content Location Name",repeatable:!0},542:"Release Date",547:"Release Time",549:"Expiration Date",550:"Expiration Time",552:"Special Instructions",554:{name:"Action Advised",description:e=>{const t=K(e);return t==="01"?"Object Kill":t==="02"?"Object Replace":t==="03"?"Object Append":t==="04"?"Object Reference":"Unknown"}},557:{name:"Reference Service",repeatable:!0},559:{name:"Reference Date",repeatable:!0},562:{name:"Reference Number",repeatable:!0},567:{name:"Date Created",description:vr},572:{name:"Time Created",description:Gr},574:{name:"Digital Creation Date",description:vr},575:{name:"Digital Creation Time",description:Gr},577:"Originating Program",582:"Program Version",587:{name:"Object Cycle",description:e=>{const t=K(e);return t==="a"?"morning":t==="p"?"evening":t==="b"?"both":"Unknown"}},592:{name:"By-line",repeatable:!0},597:{name:"By-line Title",repeatable:!0},602:"City",604:"Sub-location",607:"Province/State",612:"Country/Primary Location Code",613:"Country/Primary Location Name",615:"Original Transmission Reference",617:"Headline",622:"Credit",627:"Source",628:"Copyright Notice",630:{name:"Contact",repeatable:!0},632:"Caption/Abstract",634:{name:"Writer/Editor",repeatable:!0},637:{name:"Rasterized Caption",description:e=>e},642:"Image Type",643:{name:"Image Orientation",description:e=>{const t=K(e);return t==="P"?"Portrait":t==="L"?"Landscape":t==="S"?"Square":"Unknown"}},647:"Language Identifier",662:{name:"Audio Type",description:e=>{const t=K(e),n=t.charAt(0),i=t.charAt(1);let o="";return n==="1"?o+="Mono":n==="2"&&(o+="Stereo"),i==="A"?o+=", actuality":i==="C"?o+=", question and answer session":i==="M"?o+=", music, transmitted by itself":i==="Q"?o+=", response to a question":i==="R"?o+=", raw sound":i==="S"?o+=", scener":i==="V"?o+=", voicer":i==="W"&&(o+=", wrap"),o!==""?o:t}},663:{name:"Audio Sampling Rate",description:e=>parseInt(K(e),10)+" Hz"},664:{name:"Audio Sampling Resolution",description:e=>{const t=parseInt(K(e),10);return t+(t===1?" bit":" bits")}},665:{name:"Audio Duration",description:e=>{const t=K(e);return t.length>=6?t.substr(0,2)+":"+t.substr(2,2)+":"+t.substr(4,2):t}},666:"Audio Outcue",698:"Short Document ID",699:"Unique Document ID",700:"Owner ID",712:{name:e=>e.length===2?"ObjectData Preview File Format":"Record 2 destination",description:e=>{if(e.length===2){const t=(e[0]<<8)+e[1];return t===0?"No ObjectData":t===1?"IPTC-NAA Digital Newsphoto Parameter Record":t===2?"IPTC7901 Recommended Message Format":t===3?"Tagged Image File Format (Adobe/Aldus Image data)":t===4?"Illustrator (Adobe Graphics data)":t===5?"AppleSingle (Apple Computer Inc)":t===6?"NAA 89-3 (ANPA 1312)":t===7?"MacBinary II":t===8?"IPTC Unstructured Character Oriented File Format (UCOFF)":t===9?"United Press International ANPA 1312 variant":t===10?"United Press International Down-Load Message":t===11?"JPEG File Interchange (JFIF)":t===12?"Photo-CD Image-Pac (Eastman Kodak)":t===13?"Microsoft Bit Mapped Graphics File [*.BMP]":t===14?"Digital Audio File [*.WAV] (Microsoft & Creative Labs)":t===15?"Audio plus Moving Video [*.AVI] (Microsoft)":t===16?"PC DOS/Windows Executable Files [*.COM][*.EXE]":t===17?"Compressed Binary File [*.ZIP] (PKWare Inc)":t===18?"Audio Interchange File Format AIFF (Apple Computer Inc)":t===19?"RIFF Wave (Microsoft Corporation)":t===20?"Freehand (Macromedia/Aldus)":t===21?'Hypertext Markup Language "HTML" (The Internet Society)':t===22?"MPEG 2 Audio Layer 2 (Musicom), ISO/IEC":t===23?"MPEG 2 Audio Layer 3, ISO/IEC":t===24?"Portable Document File (*.PDF) Adobe":t===25?"News Industry Text Format (NITF)":t===26?"Tape Archive (*.TAR)":t===27?"Tidningarnas Telegrambyrå NITF version (TTNITF DTD)":t===28?"Ritzaus Bureau NITF version (RBNITF DTD)":t===29?"Corel Draw [*.CDR]":`Unknown format ${t}`}return K(e)}},713:{name:"ObjectData Preview File Format Version",description:(e,t)=>{const n={"00":{"00":"1"},"01":{"01":"1","02":"2","03":"3","04":"4"},"02":{"04":"4"},"03":{"01":"5.0","02":"6.0"},"04":{"01":"1.40"},"05":{"01":"2"},"06":{"01":"1"},11:{"01":"1.02"},20:{"01":"3.1","02":"4.0","03":"5.0","04":"5.5"},21:{"02":"2.0"}},i=K(e);if(t["ObjectData Preview File Format"]){const o=K(t["ObjectData Preview File Format"].value);if(n[o]&&n[o][i])return n[o][i]}return i}},714:"ObjectData Preview Data",1802:{name:"Size Mode",description:e=>e[0].toString()},1812:{name:"Max Subfile Size",description:e=>{let t=0;for(let n=0;n<e.length;n++)t=(t<<8)+e[n];return t.toString()}},1882:{name:"ObjectData Size Announced",description:e=>{let t=0;for(let n=0;n<e.length;n++)t=(t<<8)+e[n];return t.toString()}},1887:{name:"Maximum ObjectData Size",description:e=>{let t=0;for(let n=0;n<e.length;n++)t=(t<<8)+e[n];return t.toString()}}}};function vr(e){const t=K(e);return t.length>=8?t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2):t}function Gr(e){const t=K(e);let n=t;return t.length>=6&&(n=t.substr(0,2)+":"+t.substr(2,2)+":"+t.substr(4,2),t.length===11&&(n+=t.substr(6,1)+t.substr(7,2)+":"+t.substr(9,2))),n}function ws(e){const t=K(e);return t==="\x1B%G"?"UTF-8":t==="\x1B%5"?"Windows-1252":t==="\x1B%/G"?"UTF-8 Level 1":t==="\x1B%/H"?"UTF-8 Level 2":t==="\x1B%/I"?"UTF-8 Level 3":t==="\x1B/A"?"ISO-8859-1":t==="\x1B/B"?"ISO-8859-2":t==="\x1B/C"?"ISO-8859-3":t==="\x1B/D"?"ISO-8859-4":t==="\x1B/@"?"ISO-8859-5":t==="\x1B/G"?"ISO-8859-6":t==="\x1B/F"?"ISO-8859-7":t==="\x1B/H"?"ISO-8859-8":"Unknown"}const Um={get:Mm};function Mm(){if(typeof TextDecoder<"u")return TextDecoder}const Lm=5,Nu={decode:Bm,TAG_HEADER_SIZE:Lm};function Bm(e,t){const n=Um.get();if(typeof n<"u"&&e!==void 0)try{return new n(e).decode(t instanceof DataView?t.buffer:Uint8Array.from(t))}catch{}const i=t.map(o=>String.fromCharCode(o)).join("");return vm(i)}function vm(e){try{return decodeURIComponent(escape(e))}catch{return e}}const Gm=943868237,Qt=4,Dn=2,km=1,wm=2,Ru=4,Zm=Qt+Dn+wm+Ru,Hm=1028,Du=5,ti={read:jm};function jm(e,t,n){try{if(Array.isArray(e))return Zs(new DataView(Uint8Array.from(e).buffer),{size:e.length},0,n);const{naaBlock:i,dataOffset:o}=$m(e,t);return Zs(e,i,o,n)}catch{return{}}}function $m(e,t){for(;t+Zm<=e.byteLength;){const n=Xm(e,t);if(Ym(n))return{naaBlock:n,dataOffset:t+n.headerSize};t+=n.headerSize+n.size+zm(n)}throw new Error("No IPTC NAA resource block.")}function Xm(e,t){if(e.getUint32(t,!1)!==Gm)throw new Error("Not an IPTC resource block.");const n=e.getUint8(t+Qt+Dn),i=(n%2===0?n+1:n)+km;return{headerSize:Qt+Dn+i+Ru,type:e.getUint16(t+Qt),size:e.getUint32(t+Qt+Dn+i)}}function Ym(e){return e.type===Hm}function zm(e){return e.size%2!==0?1:0}function Zs(e,t,n,i){const o={};let f;const u=n+t.size;for(;n<u&&n<e.byteLength;){const{tag:l,tagSize:g}=Wm(e,n,o,f,i);if(l===null)break;l&&("encoding"in l&&(f=l.encoding),o[l.name]===void 0||l.repeatable===void 0?o[l.name]={id:l.id,value:l.value,description:l.description}:(o[l.name]instanceof Array||(o[l.name]=[{id:o[l.name].id,value:o[l.name].value,description:o[l.name].description}]),o[l.name].push({id:l.id,value:l.value,description:l.description}))),n+=Du+g}return o}function Wm(e,t,n,i,o){if(Km(e,t))return{tag:null,tagSize:0};const l=e.getUint16(t+1),g=e.getUint16(t+3);if(!o&&!st.iptc[l])return{tag:void 0,tagSize:g};const S=Jm(e,t+Du,g),m={id:l,name:qm(st.iptc[l],l,S),value:S,description:e1(st.iptc[l],S,n,i)};return r1(l)&&(m.repeatable=!0),i1(l)&&(m.encoding=st.iptc[l].encoding_name(S)),{tag:m,tagSize:g}}function Km(e,t){return e.getUint8(t)!==28}function Jm(e,t,n){const i=[];for(let o=0;o<n;o++)i.push(e.getUint8(t+o));return i}function qm(e,t,n){return e?Qm(e)?e:Vm(e)?e.name(n):e.name:`undefined-${t}`}function Qm(e){return typeof e=="string"}function Vm(e){return typeof e.name=="function"}function e1(e,t,n,i){if(n1(e))try{return e.description(t,n)}catch{}return t1(e,t)?Nu.decode(i,t):t}function t1(e,t){return e&&t instanceof Array}function n1(e){return e&&e.description!==void 0}function r1(e){return st.iptc[e]&&st.iptc[e].repeatable}function i1(e){return st.iptc[e]&&st.iptc[e].encoding_name!==void 0}const Pn={"tiff:Orientation"(e){return e==="1"?"Horizontal (normal)":e==="2"?"Mirror horizontal":e==="3"?"Rotate 180":e==="4"?"Mirror vertical":e==="5"?"Mirror horizontal and rotate 270 CW":e==="6"?"Rotate 90 CW":e==="7"?"Mirror horizontal and rotate 90 CW":e==="8"?"Rotate 270 CW":e},"tiff:ResolutionUnit":e=>b.ResolutionUnit(parseInt(e,10)),"tiff:XResolution":e=>Mt(b.XResolution,e),"tiff:YResolution":e=>Mt(b.YResolution,e),"exif:ApertureValue":e=>Mt(b.ApertureValue,e),"exif:GPSLatitude":Hs,"exif:GPSLongitude":Hs,"exif:FNumber":e=>Mt(b.FNumber,e),"exif:FocalLength":e=>Mt(b.FocalLength,e),"exif:FocalPlaneResolutionUnit":e=>b.FocalPlaneResolutionUnit(parseInt(e,10)),"exif:ColorSpace":e=>b.ColorSpace(o1(e)),"exif:ComponentsConfiguration"(e,t){if(/^\d, \d, \d, \d$/.test(t)){const n=t.split(", ").map(i=>i.charCodeAt(0));return b.ComponentsConfiguration(n)}return t},"exif:Contrast":e=>b.Contrast(parseInt(e,10)),"exif:CustomRendered":e=>b.CustomRendered(parseInt(e,10)),"exif:ExposureMode":e=>b.ExposureMode(parseInt(e,10)),"exif:ExposureProgram":e=>b.ExposureProgram(parseInt(e,10)),"exif:ExposureTime"(e){return Uu(e)?b.ExposureTime(e.split("/").map(t=>parseInt(t,10))):e},"exif:MeteringMode":e=>b.MeteringMode(parseInt(e,10)),"exif:Saturation":e=>b.Saturation(parseInt(e,10)),"exif:SceneCaptureType":e=>b.SceneCaptureType(parseInt(e,10)),"exif:Sharpness":e=>b.Sharpness(parseInt(e,10)),"exif:ShutterSpeedValue":e=>Mt(b.ShutterSpeedValue,e),"exif:WhiteBalance":e=>b.WhiteBalance(parseInt(e,10))};function Mt(e,t){return Uu(t)?e(t.split("/")):t}function o1(e){return e.substring(0,2)==="0x"?parseInt(e.substring(2),16):parseInt(e,10)}function Uu(e){return/^-?\d+\/-?\d+$/.test(e)}function Hs(e){const[t,n]=e.split(",");if(t!==void 0&&n!==void 0){const i=parseFloat(t),o=parseFloat(n),f=n.charAt(n.length-1);if(!Number.isNaN(i)&&!Number.isNaN(o))return""+(i+o/60)+f}return e}const s1={get:u1};function u1(e){if(e)return e;if(typeof DOMParser<"u")return new DOMParser;try{const{DOMParser:t,onErrorStopParsing:n}=__non_webpack_require__("@xmldom/xmldom");return new t({onError:n})}catch{return}}function c1(e){const t=["prefix is non-null and namespace is null","prefix not bound to a namespace","prefix inte bundet till en namnrymd",/Namespace prefix .+ is not defined/];for(let n=0;n<t.length;n++)if(new RegExp(t[n]).test(e.message))return!0;return!1}function f1(e){const t=e.match(/<([A-Za-z_][A-Za-z0-9._-]*)([^>]*)>/);if(!t)return e;const n=t[1],i=a1(e),f=l1(e).filter(l=>i.indexOf(l)===-1);if(f.length===0)return e;const u=d1(f);return g1(e,n,u)}function a1(e){const t=[],n=/xmlns:([\w-]+)=["'][^"']+["']/g;let i;for(;(i=n.exec(e))!==null;)t.indexOf(i[1])===-1&&t.push(i[1]);return t}function l1(e){const t=[],n=/\b([A-Za-z_][A-Za-z0-9._-]*):[A-Za-z_][A-Za-z0-9._-]*\b/g;let i;for(;(i=n.exec(e))!==null;){const o=i[1];o==="xmlns"||o==="xml"||t.indexOf(o)===-1&&t.push(o)}return t}const p1={xmp:"http://ns.adobe.com/xap/1.0/",tiff:"http://ns.adobe.com/tiff/1.0/",exif:"http://ns.adobe.com/exif/1.0/",dc:"http://purl.org/dc/elements/1.1/",xmpMM:"http://ns.adobe.com/xap/1.0/mm/",stEvt:"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#",stRef:"http://ns.adobe.com/xap/1.0/sType/ResourceRef#",photoshop:"http://ns.adobe.com/photoshop/1.0/"};function d1(e){const t=[];for(let n=0;n<e.length;n++){const i=e[n],o=p1[i]||"http://fallback.namespace/"+i;t.push(" xmlns:"+i+'="'+o+'"')}return t.join("")}function g1(e,t,n){const i=new RegExp("<"+t+"([^>]*)>");return e.replace(i,"<"+t+"$1"+n+">")}const js={read:h1};class m1 extends Error{constructor(t){super(t),this.name="ParseError"}}function h1(e,t,n){const i={};if(typeof e=="string")return Cn(i,e,n),i;const[o,f]=E1(e,t),u=Cn(i,o,n);if(f){const l=Cn(i,f,n);!u&&!l&&(delete i._raw,Cn(i,ni(e,t),n))}return i}function E1(e,t){if(t.length===0)return[];const n=[ni(e,t.slice(0,1))];return t.length>1&&n.push(ni(e,t.slice(1))),n}function ni(e,t){const n=t.reduce((f,u)=>f+u.length,0),i=new Uint8Array(n);let o=0;for(let f=0;f<t.length;f++){const u=t[f],l=e.buffer.slice(u.dataOffset,u.dataOffset+u.length);i.set(new Uint8Array(l),o),o+=u.length}return new DataView(i.buffer)}function Cn(e,t,n){try{const{doc:i,raw:o}=S1(t,n);e._raw=(e._raw||"")+o;const f=Lu(i);return C(e,vu(Bu(f,!0))),!0}catch{return!1}}function S1(e,t){const n=s1.get(t);if(!n)throw console.warn("Warning: DOMParser is not available. It is needed to be able to parse XMP tags."),new Error;const i=typeof e=="string"?e:P(e,0,e.byteLength);return{doc:Mu(n,x1(i)),raw:i}}function x1(e){return e.replace(/^.+(<\?xpacket begin)/,"$1").replace(/(<\?xpacket end=".*"\?>).+$/,"$1")}function Mu(e,t,n=!1){try{const i=e.parseFromString(t,"application/xml"),o=i.getElementsByTagName("parsererror");if(o.length>0)throw new m1(o[0].textContent);return i}catch(i){if(i.name==="ParseError"&&c1(i)&&!n)return Mu(e,f1(t),!0);throw i}}function Lu(e){for(let t=0;t<e.childNodes.length;t++){if(e.childNodes[t].tagName==="x:xmpmeta")return Lu(e.childNodes[t]);if(e.childNodes[t].tagName==="rdf:RDF")return e.childNodes[t]}throw new Error}function Bu(e,t=!1){const n=I1(e);return T1(n)?t?{}:_1(n[0]):y1(n)}function I1(e){const t=[];for(let n=0;n<e.childNodes.length;n++)t.push(e.childNodes[n]);return t}function T1(e){return e.length===1&&e[0].nodeName==="#text"}function _1(e){return e.nodeValue}function y1(e){const t={};return e.forEach(n=>{if(F1(n)){const i=A1(n);t[n.nodeName]!==void 0?(Array.isArray(t[n.nodeName])||(t[n.nodeName]=[t[n.nodeName]]),t[n.nodeName].push(i)):t[n.nodeName]=i}}),t}function F1(e){return e.nodeName&&e.nodeName!=="#text"}function A1(e){return{attributes:b1(e),value:Bu(e)}}function b1(e){const t={};for(let n=0;n<e.attributes.length;n++)t[e.attributes[n].nodeName]=decodeURIComponent(escape(e.attributes[n].value));return t}function vu(e){const t={};if(typeof e=="string")return e;for(const n in e){let i=e[n];Array.isArray(i)||(i=[i]),i.forEach(o=>{C(t,pi(o.attributes)),typeof o.value=="object"&&C(t,Gu(o.value))})}return t}function pi(e){const t={};for(const n in e)try{P1(n)&&(t[jn(n)]={value:e[n],attributes:{},description:Je(e[n],n)})}catch{}return t}function P1(e){return e!=="rdf:parseType"&&!Hn(e)}function Hn(e){return e.split(":")[0]==="xmlns"}function jn(e){return/^MicrosoftPhoto(_\d+_)?:Rating$/i.test(e)?"RatingPercent":e.split(":")[1]}function Je(e,t=void 0){if(Array.isArray(e)){const n=C1(e);return t&&typeof Pn[t]=="function"?Pn[t](e,n):n}if(typeof e=="object")return O1(e);try{return t&&typeof Pn[t]=="function"?Pn[t](e):decodeURIComponent(escape(e))}catch{return e}}function C1(e){return e.map(t=>t.value!==void 0?Je(t.value):Je(t)).join(", ")}function O1(e){const t=[];for(const n in e)t.push(`${N1(n)}: ${Je(e[n].value)}`);return t.join("; ")}function N1(e){return e==="CiAdrCity"?"CreatorCity":e==="CiAdrCtry"?"CreatorCountry":e==="CiAdrExtadr"?"CreatorAddress":e==="CiAdrPcode"?"CreatorPostalCode":e==="CiAdrRegion"?"CreatorRegion":e==="CiEmailWork"?"CreatorWorkEmail":e==="CiTelWork"?"CreatorWorkPhone":e==="CiUrlWork"?"CreatorWorkUrl":e}function Gu(e){const t={};for(const n in e)try{Hn(n)||(t[jn(n)]=R1(e[n],n))}catch{}return t}function R1(e,t){return U1(e)?M1(e,t):D1(e)?{value:"",attributes:{},description:""}:ku(e)?wu(e,t):Zu(e)?Hu(e,t):ju(e)?$u(e,t):v1(e)?G1(e,t):di(e,t)}function D1(e){return e.attributes["rdf:parseType"]==="Resource"&&typeof e.value=="string"&&e.value.trim()===""}function U1(e){return Array.isArray(e)}function M1(e,t){return di(e[e.length-1],t)}function ku(e){return e.attributes["rdf:parseType"]==="Resource"&&e.value["rdf:value"]!==void 0||e.value["rdf:Description"]!==void 0&&e.value["rdf:Description"].value["rdf:value"]!==void 0}function wu(e,t){const n=Vt(e);e.value["rdf:Description"]!==void 0&&(e=e.value["rdf:Description"]),C(n,Vt(e),L1(e));const i=B1(e);return{value:i,attributes:n,description:Je(i,t)}}function Vt(e){const t={};for(const n in e.attributes)n!=="rdf:parseType"&&n!=="rdf:resource"&&!Hn(n)&&(t[jn(n)]=e.attributes[n]);return t}function L1(e){const t={};for(const n in e.value)n!=="rdf:value"&&!Hn(n)&&(t[jn(n)]=e.value[n].value);return t}function B1(e){return Yu(e.value["rdf:value"])||e.value["rdf:value"].value}function Zu(e){return e.attributes["rdf:parseType"]==="Resource"||e.value["rdf:Description"]!==void 0&&e.value["rdf:Description"].value["rdf:value"]===void 0}function Hu(e,t){const n={value:{},attributes:{}};return e.value["rdf:Description"]!==void 0&&(C(n.value,pi(e.value["rdf:Description"].attributes)),C(n.attributes,Vt(e)),e=e.value["rdf:Description"]),C(n.value,Gu(e.value)),n.description=Je(n.value,t),n}function ju(e){return Object.keys(e.value).length===0&&e.attributes["xml:lang"]===void 0&&e.attributes["rdf:resource"]===void 0}function $u(e,t){const n=pi(e.attributes);return{value:n,attributes:{},description:Je(n,t)}}function v1(e){return Xu(e.value)!==void 0}function Xu(e){return e["rdf:Bag"]||e["rdf:Seq"]||e["rdf:Alt"]}function G1(e,t){let n=Xu(e.value).value["rdf:li"];const i=Vt(e),o=[];return n===void 0?n=[]:Array.isArray(n)||(n=[n]),n.forEach(f=>{o.push(k1(f))}),{value:o,attributes:i,description:Je(o,t)}}function k1(e){return ku(e)?wu(e):Zu(e)?Hu(e).value:ju(e)?$u(e).value:di(e)}function di(e,t){const n=Yu(e)||vu(e.value);return{value:n,attributes:Vt(e),description:Je(n,t)}}function Yu(e){return e.attributes&&e.attributes["rdf:resource"]}const Ke={CLOSED_SUBPATH_LENGTH:0,CLOSED_SUBPATH_BEZIER_LINKED:1,CLOSED_SUBPATH_BEZIER_UNLINKED:2,OPEN_SUBPATH_LENGTH:3,OPEN_SUBPATH_BEZIER_LINKED:4,OPEN_SUBPATH_BEZIER_UNLINKED:5,FILL_RULE:6,CLIPBOARD:7,INITIAL_FILL_RULE:8},zu=24,kr={2e3:{name:"PathInformation",description:w1},2999:{name:"ClippingPathName",description(e){const[,t]=ru(e,0);return t}}};function w1(e){const n={},i=[];for(let o=0;o<e.byteLength;o+=2+zu){const f=I.getShortAt(e,o);wr[f]&&(n[f]||(n[f]=wr[f].description),i.push({type:f,path:wr[f].path(e,o+2)}))}return JSON.stringify({types:n,paths:i})}const wr={[Ke.CLOSED_SUBPATH_LENGTH]:{description:"Closed subpath length",path:(e,t)=>[I.getShortAt(e,t)]},[Ke.CLOSED_SUBPATH_BEZIER_LINKED]:{description:"Closed subpath Bezier knot, linked",path:On},[Ke.CLOSED_SUBPATH_BEZIER_UNLINKED]:{description:"Closed subpath Bezier knot, unlinked",path:On},[Ke.OPEN_SUBPATH_LENGTH]:{description:"Open subpath length",path:(e,t)=>[I.getShortAt(e,t)]},[Ke.OPEN_SUBPATH_BEZIER_LINKED]:{description:"Open subpath Bezier knot, linked",path:On},[Ke.OPEN_SUBPATH_BEZIER_UNLINKED]:{description:"Open subpath Bezier knot, unlinked",path:On},[Ke.FILL_RULE]:{description:"Path fill rule",path:()=>[]},[Ke.INITIAL_FILL_RULE]:{description:"Initial fill rule",path:(e,t)=>[I.getShortAt(e,t)]},[Ke.CLIPBOARD]:{description:"Clipboard",path:H1}};function On(e,t){const i=[];for(let o=0;o<zu;o+=8)i.push(Z1(e,t+o));return i}function Z1(e,t){const n=St(e,t,8);return[St(e,t+4,8),n]}function H1(e,t){return[[St(e,t,8),St(e,t+4,8),St(e,t+8,8),St(e,t+12,8)],St(e,t+16,8)]}function St(e,t,n){const i=I.getLongAt(e,t),o=i>>>31?-1:1,f=(i&2130706432)>>>32-n,u=i&parseInt(su("1",32-n),2);return o*wp(f.toString(2)+"."+kp(u.toString(2),32-n,"0"),2)}const j1={read:Y1},Wu="8BIM",$1=2,X1=4,$s=Wu.length;function Y1(e,t){const n=ds(new Uint8Array(e).buffer),i={};let o=0;for(;o<e.length;){const f=P(n,o,$s);o+=$s;const u=I.getShortAt(n,o);o+=$1;const{tagName:l,tagNameSize:g}=z1(n,o);o+=g;const S=I.getLongAt(n,o);if(o+=X1,f===Wu){const m=ds(n.buffer,o,S),E={id:u,value:P(m,0,S)};if(kr[u]){try{E.description=kr[u].description(m)}catch{E.description="<no description formatter>"}i[l||kr[u].name]=E}else t&&(i[`undefined-${u}`]=E)}o+=S+S%2}return i}function z1(e,t){const[n,i]=ru(e,t);return{tagName:i,tagNameSize:1+n+(n%2===0?1:0)}}const Xs={desc:{name:"ICC Description"},cprt:{name:"ICC Copyright"},dmdd:{name:"ICC Device Model Description"},vued:{name:"ICC Viewing Conditions Description"},dmnd:{name:"ICC Device Manufacturer for Display"},tech:{name:"Technology"}},Ys={4:{name:"Preferred CMM type",value:(e,t)=>P(e,t,4),description:e=>e!==null?Zr(e):""},8:{name:"Profile Version",value:(e,t)=>e.getUint8(t).toString(10)+"."+(e.getUint8(t+1)>>4).toString(10)+"."+(e.getUint8(t+1)%16).toString(10)},12:{name:"Profile/Device class",value:(e,t)=>P(e,t,4),description:e=>{switch(e.toLowerCase()){case"scnr":return"Input Device profile";case"mntr":return"Display Device profile";case"prtr":return"Output Device profile";case"link":return"DeviceLink profile";case"abst":return"Abstract profile";case"spac":return"ColorSpace profile";case"nmcl":return"NamedColor profile";case"cenc":return"ColorEncodingSpace profile";case"mid ":return"MultiplexIdentification profile";case"mlnk":return"MultiplexLink profile";case"mvis":return"MultiplexVisualization profile";default:return e}}},16:{name:"Color Space",value:(e,t)=>P(e,t,4)},20:{name:"Connection Space",value:(e,t)=>P(e,t,4)},24:{name:"ICC Profile Date",value:(e,t)=>W1(e,t).toISOString()},36:{name:"ICC Signature",value:(e,t)=>K1(e.buffer.slice(t,t+4))},40:{name:"Primary Platform",value:(e,t)=>P(e,t,4),description:e=>Zr(e)},48:{name:"Device Manufacturer",value:(e,t)=>P(e,t,4),description:e=>Zr(e)},52:{name:"Device Model Number",value:(e,t)=>P(e,t,4)},64:{name:"Rendering Intent",value:(e,t)=>e.getUint32(t),description:e=>{switch(e){case 0:return"Perceptual";case 1:return"Relative Colorimetric";case 2:return"Saturation";case 3:return"Absolute Colorimetric";default:return e}}},80:{name:"Profile Creator",value:(e,t)=>P(e,t,4)}};function W1(e,t){const n=e.getUint16(t),i=e.getUint16(t+2)-1,o=e.getUint16(t+4),f=e.getUint16(t+6),u=e.getUint16(t+8),l=e.getUint16(t+10);return new Date(Date.UTC(n,i,o,f,u,l))}function K1(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function Zr(e){switch(e.toLowerCase()){case"appl":return"Apple";case"adbe":return"Adobe";case"msft":return"Microsoft";case"sunw":return"Sun Microsystems";case"sgi":return"Silicon Graphics";case"tgnt":return"Taligent";default:return e}}const zs={read:ih},J1=84,q1=128,Q1="acsp",V1="desc",eh="mluc",th="text",nh="sig ",rh=12;function ih(e,t,n){return n&&t[0].compressionMethod!==Ln?oh(e,t):uh(e,t)}function oh(e,t){if(!sh(t[0].compressionMethod))return{};const n=new DataView(e.buffer.slice(t[0].offset,t[0].offset+t[0].length));return cu(n,t[0].compressionMethod,"utf-8","dataview").then(Ku).catch(()=>({}))}function sh(e){return e===uu}function uh(e,t){try{const n=t.reduce((u,l)=>u+l.length,0),i=new Uint8Array(n);let o=0;const f=ch(e);for(let u=1;u<=t.length;u++){const l=t.find(m=>m.chunkNumber===u);if(!l)throw new Error(`ICC chunk ${u} not found`);const g=f.slice(l.offset,l.offset+l.length),S=new Uint8Array(g);i.set(S,o),o+=S.length}return Ku(new DataView(i.buffer))}catch{return{}}}function ch(e){return Array.isArray(e)?new DataView(Uint8Array.from(e).buffer).buffer:e.buffer}function fh(e){return e.length<q1+4}function ah(e,t){return e.length<t+rh}function Ku(e){const t=e.buffer,n=e.getUint32();if(e.byteLength!==n)throw new Error("ICC profile length not matching");if(e.byteLength<J1)throw new Error("ICC profile too short");const i={},o=Object.keys(Ys);for(let g=0;g<o.length;g++){const S=o[g],m=Ys[S],E=m.value(e,parseInt(S,10));let _=E;m.description&&(_=m.description(E)),i[m.name]={value:E,description:_}}if(Nn(t.slice(36,40))!==Q1)throw new Error("ICC profile: missing signature");if(fh(t))return i;const u=e.getUint32(128);let l=132;for(let g=0;g<u;g++){if(ah(t,l))return i;const S=P(e,l,4),m=e.getUint32(l+4),E=e.getUint32(l+8);if(m>t.length)return i;const _=P(e,m,4);if(_===V1){const y=e.getUint32(m+8);if(y>E)return i;const w=Nn(t.slice(m+12,m+y+11));Jt(i,S,w)}else if(_===eh){const y=e.getUint32(m+8),w=e.getUint32(m+12);let L=m+16;const Y=[];for(let q=0;q<y;q++){const V=P(e,L+0,2),ee=P(e,L+2,2),me=e.getUint32(L+4),Ie=e.getUint32(L+8),he=vp(e,m+Ie,me);Y.push({languageCode:V,countryCode:ee,text:he}),L+=w}if(y===1)Jt(i,S,Y[0].text);else{const q={};for(let V=0;V<Y.length;V++)q[`${Y[V].languageCode}-${Y[V].countryCode}`]=Y[V].text;Jt(i,S,q)}}else if(_===th){const y=Nn(t.slice(m+8,m+E-7));Jt(i,S,y)}else if(_===nh){const y=Nn(t.slice(m+8,m+12));Jt(i,S,y)}l=l+12}return i}function Nn(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function Jt(e,t,n){Xs[t]?e[Xs[t].name]={value:n,description:n}:e[t]={value:n,description:n}}const Un=27,lh={read:ph,SHOT_INFO_AUTO_ROTATE:Un};function ph(e,t,n,i,o){let f=ct(e,Au,t,t+n,i,o);return f.ShotInfo&&(f=C({},f,dh(f.ShotInfo.value)),delete f.ShotInfo),f}function dh(e){const t={};return e[Un]!==void 0&&(t.AutoRotate={value:e[Un],description:gh(e[Un])}),t}function gh(e){return e===0?"None":e===1?"Rotate 90 CW":e===2?"Rotate 180":e===3?"Rotate 270 CW":"Unknown"}const Ju=8,qu=Ju+2,Qu={K3_III:78420},Mn={CAMERA_ORIENTATION:1,ROLL_ANGLE:3,PITCH_ANGLE:5},mh={read:hh,PENTAX_IFD_OFFSET:qu,MODEL_ID:Qu,LIK3III:Mn};function hh(e,t,n,i){const o=ke.getByteOrder(e,t+n+Ju),f=t+n;let u=ct(e,li,f,f+qu,o,i);return Eh(u)&&(u=C({},u,Sh(e,f+u.LevelInfo.__offset,o)),delete u.LevelInfo),u}function Eh(e){return e.PentaxModelID&&e.PentaxModelID.value===Qu.K3_III&&e.LevelInfo}function Sh(e,t,n){const i={};if(t+7>e.byteLength)return i;const o=e.getInt8(t+Mn.CAMERA_ORIENTATION);i.CameraOrientation={value:o,description:xh(o)};const f=e.getInt16(t+Mn.ROLL_ANGLE,n===ke.LITTLE_ENDIAN);i.RollAngle={value:f,description:Ih(f)};const u=e.getInt16(t+Mn.PITCH_ANGLE,n===ke.LITTLE_ENDIAN);return i.PitchAngle={value:u,description:Th(u)},i}function xh(e){return e===0?"Horizontal (normal)":e===1?"Rotate 270 CW":e===2?"Rotate 180":e===3?"Rotate 90 CW":e===4?"Upwards":e===5?"Downwards":"Unknown"}function Ih(e){return""+e*-.5}function Th(e){return""+e*-.5}const _h={read:yh};function yh(e,t){return{"Image Width":Fh(e,t),"Image Height":Ah(e,t),"Bit Depth":bh(e,t),"Color Type":Ph(e,t),Compression:Ch(e,t),Filter:Oh(e,t),Interlace:Nh(e,t)}}function Fh(e,t){if(t+0+4>e.byteLength)return;const o=I.getLongAt(e,t);return{value:o,description:`${o}px`}}function Ah(e,t){if(t+4+4>e.byteLength)return;const o=I.getLongAt(e,t+4);return{value:o,description:`${o}px`}}function bh(e,t){if(t+8+1>e.byteLength)return;const o=I.getByteAt(e,t+8);return{value:o,description:`${o}`}}function Ph(e,t){const o={0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha"};if(t+9+1>e.byteLength)return;const f=I.getByteAt(e,t+9);return{value:f,description:o[f]||"Unknown"}}function Ch(e,t){if(t+10+1>e.byteLength)return;const o=I.getByteAt(e,t+10);return{value:o,description:o===0?"Deflate/Inflate":"Unknown"}}function Oh(e,t){if(t+11+1>e.byteLength)return;const o=I.getByteAt(e,t+11);return{value:o,description:o===0?"Adaptive":"Unknown"}}function Nh(e,t){const o={0:"Noninterlaced",1:"Adam7 Interlace"};if(t+12+1>e.byteLength)return;const f=I.getByteAt(e,t+12);return{value:f,description:o[f]||"Unknown"}}const Rh={read:Bh},ri="STATE_KEYWORD",ii="STATE_COMPRESSION",oi="STATE_LANG",Dh="STATE_TRANSLATED_KEYWORD",si="STATE_TEXT",Uh=1,Mh=1,Lh=6;function Bh(e,t,n,i){const o={},f=[];for(let u=0;u<t.length;u++){const{offset:l,length:g,type:S}=t[u],m=vh(e,l,g,S,n);if(m instanceof Promise)f.push(m.then(({name:E,value:_,description:y})=>{try{if(gs.USE_EXIF&&Ks(E,_))return{__exif:Ou.read(qs(_),Lh,i).tags};if(gs.USE_IPTC&&Js(E,_))return{__iptc:ti.read(qs(_),0,i)};if(E&&!Ks(E,_)&&!Js(E,_))return{[E]:{value:_,description:y}}}catch{}return{}}));else{const{name:E,value:_,description:y}=m;E&&(o[E]={value:_,description:y})}}return{readTags:o,readTagsPromise:f.length>0?Promise.all(f):void 0}}function vh(e,t,n,i,o){const f=[],u=[];let l,g=ri,S=Ln;for(let E=0;E<n&&t+E<e.byteLength;E++){if(g===ii){S=Gh({type:i,dataView:e,offset:t+E}),i===It&&(E+=Uh),g=Ws(i,g);continue}else if(g===si){l=new DataView(e.buffer.slice(t+E,t+n));break}const _=e.getUint8(t+E);_===0?g=Ws(i,g):g===ri?f.push(_):g===oi&&u.push(_)}if(S!==Ln&&!o)return{};const m=cu(l,S,kh(i));return m instanceof Promise?m.then(E=>Hr(E,i,u,f)).catch(()=>Hr("<text using unknown compression>".split(""),i,u,f)):Hr(m,i,u,f)}function Gh({type:e,dataView:t,offset:n}){if(e===It){if(t.getUint8(n)===Mh)return t.getUint8(n+1)}else if(e===kn)return t.getUint8(n);return Ln}function Ws(e,t){return t===ri&&[It,kn].includes(e)?ii:t===ii?e===It?oi:si:t===oi?Dh:si}function kh(e){return e===ci||e===kn?"latin1":"utf-8"}function Hr(e,t,n,i){const o=Zh(e);return{name:wh(t,n,i),value:o,description:t===It?Hh(e):o}}function wh(e,t,n){const i=xt(n);if(e===ci||t.length===0)return i;const o=xt(t);return`${i} (${o})`}function Zh(e){return e instanceof DataView?P(e,0,e.byteLength):e}function Hh(e){return Nu.decode("UTF-8",e)}function Ks(e,t){return e.toLowerCase()==="raw profile type exif"&&t.substring(1,5)==="exif"}function Js(e,t){return e.toLowerCase()==="raw profile type iptc"&&t.substring(1,5)==="iptc"}function qs(e){const t=e.match(/\n(exif|iptc)\n\s*\d+\n([\s\S]*)$/);return jh(t[2].replace(/\n/g,""))}function jh(e){const t=new DataView(new ArrayBuffer(e.length/2));for(let n=0;n<e.length;n+=2)t.setUint8(n/2,parseInt(e.substring(n,n+2),16));return t}const $h={read:Xh};function Xh(e,t){const n={};for(let i=0;i<t.length;i++){const o=I.getLongAt(e,t[i]+vt),f=P(e,t[i]+ut,Ne);f===gu?(n["Pixels Per Unit X"]=Yh(e,t[i],o),n["Pixels Per Unit Y"]=zh(e,t[i],o),n["Pixel Units"]=Wh(e,t[i],o)):f===mu&&(n["Modify Date"]=Kh(e,t[i],o))}return n}function Yh(e,t,n){if(!$n(e,t,n,0,4))return;const f=I.getLongAt(e,t+te+0);return{value:f,description:""+f}}function zh(e,t,n){if(!$n(e,t,n,4,4))return;const f=I.getLongAt(e,t+te+4);return{value:f,description:""+f}}function Wh(e,t,n){if(!$n(e,t,n,8,1))return;const f=I.getByteAt(e,t+te+8);return{value:f,description:f===1?"meters":"Unknown"}}function Kh(e,t,n){if(!$n(e,t,n,0,7))return;const o=I.getShortAt(e,t+te),f=I.getByteAt(e,t+te+2),u=I.getByteAt(e,t+te+3),l=I.getByteAt(e,t+te+4),g=I.getByteAt(e,t+te+5),S=I.getByteAt(e,t+te+6);return{value:[o,f,u,l,g,S],description:`${Lt(o,4)}-${Lt(f,2)}-${Lt(u,2)} ${Lt(l,2)}:${Lt(g,2)}:${Lt(S,2)}`}}function $n(e,t,n,i,o){return i+o<=n&&t+te+i+o<=e.byteLength}function Lt(e,t){return`${"0".repeat(t-(""+e).length)}${e}`}const Jh={read:Vh},qh=4,Qh=7;function Vh(e,t){const n={},i=I.getByteAt(e,t);return n.Alpha=eE(i),n.Animation=tE(i),n.ImageWidth=Qs(e,t+qh),n.ImageHeight=Qs(e,t+Qh),n}function eE(e){const t=e&16;return{value:t?1:0,description:t?"Yes":"No"}}function tE(e){const t=e&2;return{value:t?1:0,description:t?"Yes":"No"}}function Qs(e,t){const n=I.getByteAt(e,t)+256*I.getByteAt(e,t+1)+65536*I.getByteAt(e,t+2)+1;return{value:n,description:n+"px"}}const nE={read:rE};function rE(e){return{"GIF Version":iE(e),"Image Width":oE(e),"Image Height":sE(e),"Global Color Map":uE(e),"Bits Per Pixel":fE(e),"Color Resolution Depth":cE(e)}}function iE(e){if(3+3>e.byteLength)return;const i=P(e,3,3);return{value:i,description:i}}function oE(e){if(6+2>e.byteLength)return;const i=e.getUint16(6,!0);return{value:i,description:`${i}px`}}function sE(e){if(8+2>e.byteLength)return;const i=e.getUint16(8,!0);return{value:i,description:`${i}px`}}function uE(e){if(10+1>e.byteLength)return;const o=(e.getUint8(10)&128)>>>7;return{value:o,description:o===1?"Yes":"No"}}function cE(e){if(10+1>e.byteLength)return;const o=((e.getUint8(10)&112)>>>4)+1;return{value:o,description:`${o} ${o===1?"bit":"bits"}`}}function fE(e){if(10+1>e.byteLength)return;const o=(e.getUint8(10)&7)+1;return{value:o,description:`${o} ${o===1?"bit":"bits"}`}}const aE=[6,7,99],lE={get:pE};function pE(e,t,n){if(dE(t)){t.type="image/jpeg";const i=n+t.JPEGInterchangeFormat.value;t.image=e.buffer.slice(i,i+t.JPEGInterchangeFormatLength.value),iu(t,"base64",function(){return ou(this.image)})}return t}function dE(e){return e&&(e.Compression===void 0||aE.includes(e.Compression.value))&&e.JPEGInterchangeFormat&&e.JPEGInterchangeFormat.value&&e.JPEGInterchangeFormatLength&&e.JPEGInterchangeFormatLength.value}const jr={INCHES:2,CENTIMETERS:3,MILLIMETERS:4},$r={INCHES_TO_MM:25.4,CM_TO_MM:10,MM_TO_MM:1},gE={get:mE};function mE(e,t){const n={};let i=!1;const o=Et(e,"exif","FocalLength",t),f=Et(e,"exif","FocalPlaneXResolution",t),u=Et(e,"exif","FocalPlaneYResolution",t),l=Et(e,"exif","FocalPlaneResolutionUnit",t),g=Et(e,"file","Image Width",t),S=Et(e,"file","Image Height",t),m=Et(e,"exif","FocalLengthIn35mmFilm",t)||hE(f,u,l,g,S,o);m&&(n.FocalLength35efl={value:m,description:b.FocalLengthIn35mmFilm(m)},i=!0);const E=EE(o,m);E&&(n.ScaleFactorTo35mmEquivalent=E,i=!0);const _=SE(m);if(_&&(n.FieldOfView=_,i=!0),i)return n}function Et(e,t,n,i){if(i&&e[t]&&e[t][n])return e[t][n].value;if(!i&&e[n])return e[n].value}function hE(e,t,n,i,o,f){if(e&&t&&n&&i&&o&&f)try{let l;switch(n){case jr.INCHES:l=$r.INCHES_TO_MM;break;case jr.CENTIMETERS:l=$r.CM_TO_MM;break;case jr.MILLIMETERS:l=$r.MM_TO_MM;break;default:return}const g=e[0]/e[1]*l,S=t[0]/t[1]*l,m=i/g,E=o/S,_=Math.sqrt(m**2+E**2);return f[0]/f[1]*(43.27/_)}catch{}}function EE(e,t){if(e&&t)try{const n=t/(e[0]/e[1]);return{value:n,description:n.toFixed(1)}}catch{}}function SE(e){if(e)try{const n=2*Math.atan(36/(2*e))*(180/Math.PI);return{value:n,description:n.toFixed(1)+" deg"}}catch{}}function Vu(e){this.name="MetadataMissingError",this.message=e||"No Exif data",this.stack=new Error().stack}Vu.prototype=new Error;const ec={MetadataMissingError:Vu},xE={load:IE,loadView:tc,errors:ec};function IE(e,t={}){return TE(e)?(t.async=!0,_E(e,t).then(n=>Xr(n,t))):OE(e)?(t.async=!0,NE(e,t).then(n=>Xr(n,t))):Xr(e,t)}function TE(e){return typeof e=="string"}function _E(e,t){return/^\w+:\/\//.test(e)?typeof fetch<"u"?yE(e,t):FE(e,t):bE(e)?Promise.resolve(Gp(e)):PE(e,t)}function yE(e,{length:t}={}){const n={method:"GET"};return Number.isInteger(t)&&t>=0&&(n.headers={range:`bytes=0-${t-1}`}),fetch(e,n).then(i=>i.arrayBuffer())}function FE(e,{length:t}={}){return new Promise((n,i)=>{const o={};Number.isInteger(t)&&t>=0&&(o.headers={range:`bytes=0-${t-1}`}),AE(e)(e,o,u=>{if(u.statusCode>=200&&u.statusCode<=299){const l=[];u.on("data",g=>l.push(re.from(g))),u.on("error",g=>i(g)),u.on("end",()=>n(re.concat(l)))}else i(`Could not fetch file: ${u.statusCode} ${u.statusMessage}`),u.resume()}).on("error",u=>i(u))})}function AE(e){return/^https:\/\//.test(e)?__non_webpack_require__("https").get:__non_webpack_require__("http").get}function bE(e){return/^data:[^;,]*(;base64)?,/.test(e)}function PE(e,{length:t}={}){return new Promise((n,i)=>{const o=CE();o.open(e,(f,u)=>{f?i(f):o.stat(e,(l,g)=>{if(l)i(l);else{const S=Math.min(g.size,t!==void 0?t:g.size),m=re.alloc(S),E={buffer:m,length:S};o.read(u,E,_=>{_?i(_):o.close(u,y=>{y&&console.warn(`Could not close file ${e}:`,y),n(m)})})}})})})}function CE(){try{return __non_webpack_require__("fs")}catch{return}}function OE(e){return typeof File<"u"&&e instanceof File}function NE(e,{length:t}){return new Promise((n,i)=>{const o=new FileReader;o.onload=f=>n(f.target.result),o.onerror=()=>i(o.error),Number.isInteger(t)&&t>=0&&e.slice!==void 0?o.readAsArrayBuffer(e.slice(0,t)):o.readAsArrayBuffer(e)})}function Xr(e,t){return RE(e)&&(e=new Uint8Array(e).buffer),tc(DE(e),t)}function RE(e){try{return re.isBuffer(e)}catch{return!1}}function DE(e){try{return new DataView(e)}catch{return new nu(e)}}function tc(e,{expanded:t=!1,async:n=!1,includeUnknown:i=!1,domParser:o=void 0}={expanded:!1,async:!1,includeUnknown:!1,domParser:void 0}){let f=!1,u={};const l=[],{fileType:g,fileDataOffset:S,jfifDataOffset:m,tiffHeaderOffset:E,iptcDataOffset:_,xmpChunks:y,iccChunks:w,mpfDataOffset:L,pngHeaderOffset:Y,pngTextChunks:q,pngChunkOffsets:V,vp8xChunkOffset:ee,gifHeaderOffset:me}=Ng.parseAppMarkers(e,n);if(UE(S)){f=!0;const x=pm.read(e,S);t?u.file=x:u=C({},u,x)}if(ME(m)){f=!0;const x=_m.read(e,m);t?u.jfif=x:u=C({},u,x)}if(LE(E)){f=!0;const{tags:x,byteOrder:Ae}=Ou.read(e,E,i);if(x.Thumbnail&&(u.Thumbnail=x.Thumbnail,delete x.Thumbnail),t?(u.exif=x,BE(u)):u=C({},u,x),x["IPTC-NAA"]&&!Vs(_)){const G=ti.read(x["IPTC-NAA"].value,0,i);t?u.iptc=G:u=C({},u,G)}if(x.ApplicationNotes&&!eu(y)){const G=js.read(xt(x.ApplicationNotes.value),void 0,o);t?u.xmp=G:(delete G._raw,u=C({},u,G))}if(x.ImageSourceData&&x.PhotoshopSettings){const G=j1.read(x.PhotoshopSettings.value,i);t?u.photoshop=G:u=C({},u,G)}if(x.ICC_Profile&&!tu(w)){const G=zs.read(x.ICC_Profile.value,[{offset:0,length:x.ICC_Profile.value.length,chunkNumber:1,chunksTotal:1}]);t?u.icc=G:u=C({},u,G)}if(x.MakerNote){if(vE(x)){const G=lh.read(e,E,x.MakerNote.__offset,Ae,i);t?u.makerNotes=G:u=C({},u,G)}else if(GE(x)){const G=mh.read(e,E,x.MakerNote.__offset,i);t?u.makerNotes=G:u=C({},u,G)}}x.MakerNote&&delete x.MakerNote.__offset}if(Vs(_)){f=!0;const x=ti.read(e,_,i);t?u.iptc=x:u=C({},u,x)}if(eu(y)){f=!0;const x=js.read(e,y,o);t?u.xmp=x:(delete x._raw,u=C({},u,x))}if(tu(w)){f=!0;const x=zs.read(e,w,n);x instanceof Promise?l.push(x.then(Tt)):Tt(x)}if(kE(L)){f=!0;const x=im.read(e,L,i);t?u.mpf=x:u=C({},u,x)}if(wE(Y)){f=!0;const x=_h.read(e,Y);t?(u.png=u.png?C({},u.png,x):x,u.pngFile=x):u=C({},u,x)}if(ZE(q)){f=!0;const{readTags:x,readTagsPromise:Ae}=Rh.read(e,q,n,i);qe(x),Ae&&l.push(Ae.then(G=>G.forEach(qe)))}if(HE(V)){f=!0;const x=$h.read(e,V);t?u.png=u.png?C({},u.png,x):x:u=C({},u,x)}if(jE(ee)){f=!0;const x=Jh.read(e,ee);t?u.riff=u.riff?C({},u.riff,x):x:u=C({},u,x)}if($E(me)){f=!0;const x=nE.read(e,me);t?u.gif=u.gif?C({},u.gif,x):x:u=C({},u,x)}const Ie=gE.get(u,t);Ie&&(t?u.composite=Ie:u=C({},u,Ie));const he=lE.get(e,u.Thumbnail,E);if(he?(f=!0,u.Thumbnail=he):delete u.Thumbnail,g&&(t?(u.file||(u.file={}),u.file.FileType=g):u.FileType=g,f=!0),!f)throw new ec.MetadataMissingError;if(n)return Promise.all(l).then(()=>u);return u;function Tt(x){t?u.icc=x:u=C({},u,x)}function qe(x){if(t){for(const Ae of["exif","iptc"]){const G=`__${Ae}`;x[G]&&(u[Ae]=u[Ae]?C({},u.exif,x[G]):x[G],delete x[G])}u.png=u.png?C({},u.png,x):x,u.pngText=u.pngText?C({},u.png,x):x}else u=C({},u,x.__exif?x.__exif:{},x.__iptc?x.__iptc:{},x),delete u.__exif,delete u.__iptc}}function UE(e){return e!==void 0}function ME(e){return e!==void 0}function LE(e){return e!==void 0}function BE(e){if(e.exif){if(e.exif.GPSLatitude&&e.exif.GPSLatitudeRef)try{e.gps=e.gps||{},e.gps.Latitude=Bn(e.exif.GPSLatitude.value),e.exif.GPSLatitudeRef.value.join("")==="S"&&(e.gps.Latitude=-e.gps.Latitude)}catch{}if(e.exif.GPSLongitude&&e.exif.GPSLongitudeRef)try{e.gps=e.gps||{},e.gps.Longitude=Bn(e.exif.GPSLongitude.value),e.exif.GPSLongitudeRef.value.join("")==="W"&&(e.gps.Longitude=-e.gps.Longitude)}catch{}if(e.exif.GPSAltitude&&e.exif.GPSAltitudeRef)try{e.gps=e.gps||{},e.gps.Altitude=e.exif.GPSAltitude.value[0]/e.exif.GPSAltitude.value[1],e.exif.GPSAltitudeRef.value===1&&(e.gps.Altitude=-e.gps.Altitude)}catch{}}}function Vs(e){return e!==void 0}function eu(e){return Array.isArray(e)&&e.length>0}function tu(e){return Array.isArray(e)&&e.length>0}function vE(e){return e.Make&&e.Make.value&&Array.isArray(e.Make.value)&&e.Make.value[0]==="Canon"&&e.MakerNote&&e.MakerNote.__offset}function GE(e){const t="PENTAX ";return e.MakerNote.value.length>t.length&&xt(e.MakerNote.value.slice(0,t.length))===t&&e.MakerNote.__offset}function kE(e){return e!==void 0}function wE(e){return e!==void 0}function ZE(e){return e!==void 0}function HE(e){return e!==void 0}function jE(e){return e!==void 0}function $E(e){return e!==void 0}var nc={exports:{}};(function(e){e()})(function(){function e(r){return r&&r.Math===Math&&r}function t(r){try{return!!r()}catch{return!0}}function n(r,s){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:s}}function i(r){return sc(oc(r),8,-1)}function o(r){return r==null}function f(r){if(fc(r))throw new ac("Can't call method on "+r);return r}function u(r){return lc(pc(r))}function l(r){return typeof r=="object"?r!==null:dc(r)}function g(r,s){return arguments.length<2?(c=qn[r],gc(c)?c:void 0):qn[r]&&qn[r][s];var c}function S(r){try{return Ic(r)}catch{return"Object"}}function m(r){if(Tc(r))return r;throw new yc(_c(r)+" is not a function")}function E(r,s){return r=r[s],Ac(r)?void 0:Fc(r)}function _(r,s){try{Pc(Ai,r,{value:s,configurable:!0,writable:!0})}catch{Ai[r]=s}return s}function y(r){return Oc(Cc(r))}function w(r){return"Symbol("+(r===void 0?"":r)+")_"+Mc(++Dc+Uc,36)}function L(r){return Pi(tr,r)||(tr[r]=Lc&&Pi(yt,r)?yt[r]:Bc("Symbol."+r)),tr[r]}function Y(r,s){if(!Ci(r)||Oi(r))return r;var c=Gc(r,Zc);if(c){if(c=vc(c,r,s=s===void 0?"default":s),!Ci(c)||Oi(c))return c;throw new wc("Can't convert object to primitive value")}return kc(r,s=s===void 0?"number":s)}function q(r){return r=Hc(r,"string"),jc(r)?r:r+""}function V(r){return $c?nr.createElement(r):{}}function ee(r){if(Vc(r))return r;throw new tf(ef(r)+" is not an object")}function me(r){return Mi[r]||(Mi[r]=ff(r))}function Ie(r,s,c,a){var p=(a=a||{}).enumerable,d=a.name!==void 0?a.name:s;if(_f(c)&&Ff(c,d,a),a.global)p?r[s]=c:Af(s,c);else{try{a.unsafe?r[s]&&(p=!0):delete r[s]}catch{}p?r[s]=c:yf.f(r,s,{value:c,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return r}function he(r){return(r=+r)!=r||r==0?0:Cf(r)}function Tt(r,s){return(r=Of(r))<0?Nf(r+s,0):Rf(r,s)}function qe(r){return 0<r?Uf(Df(r),9007199254740991):0}function x(r){return Mf(r.length)}function Ae(r){return function(s,c,a){var p,d=Lf(s),h=vf(d),F=Bf(a,h);if(r&&c!=c){for(;F<h;)if((p=d[F++])!=p)return!0}else for(;F<h;F++)if((r||F in d)&&d[F]===c)return r||F||0;return!r&&-1}}function G(r,s){var c,a=Gf(r),p=0,d=[];for(c in a)!cr(wf,c)&&cr(a,c)&&Gi(d,c);for(;s.length>p;)!cr(a,c=s[p++])||~kf(d,c)||Gi(d,c);return d}function gi(r,s,c){for(var a=zf(s),p=Kf.f,d=Wf.f,h=0;h<a.length;h++){var F=a[h];ki(r,F)||c&&ki(c,F)||p(r,F,d(s,F))}}function kt(r,s){return(r=ea[Vf(r)])===na||r!==ta&&(qf(s)?Jf(s):!!s)}function Xn(r,s){var c,a,p,d=r.target,h=r.global,F=r.stat,A=h?fr:F?fr[d]||sa(d,{}):(fr[d]||{}).prototype;if(A)for(c in s){if(a=s[c],p=r.dontCallGetSet?(p=ra(A,c))&&p.value:A[c],!ca(h?c:d+(F?".":"#")+c,r.forced)&&p!==void 0){if(typeof a==typeof p)continue;ua(a,p)}(r.sham||p&&p.sham)&&ia(a,"sham",!0),oa(A,c,a,r)}}function en(r){if(fa(r)==="Function")return aa(r)}function tn(r,s,c){return c.get&&wi(c.get,s,{getter:!0}),c.set&&wi(c.set,s,{setter:!0}),la.f(r,s,c)}function mi(r,s){if(da(s,r))return r;throw new ga("Incorrect invocation")}function hi(s){if(s===void 0)return 0;var s=ma(s),c=ha(s);if(s!==c)throw new Ea("Wrong length or index");return c}function Ei(r){for(var s=ka(this),c=wa(s),a=arguments.length,p=$i(1<a?arguments[1]:void 0,c),d=(a=2<a?arguments[2]:void 0)===void 0?c:$i(a,c);p<d;)s[p++]=r;return s}function Si(r,s,c){return Xi&&Za(s=s.constructor)&&s!==c&&Ha(s=s.prototype)&&s!==c.prototype&&Xi(r,s),r}function xi(r){return[255&r]}function Ii(r){return[255&r,r>>8&255]}function Ti(r){return[255&r,r>>8&255,r>>16&255,r>>24&255]}function _i(r){return r[3]<<24|r[2]<<16|r[1]<<8|r[0]}function rc(r){return qi(Wa(r),23,4)}function ic(r){return qi(r,52,8)}function nn(r,s,c){Xa(r[At],s,{configurable:!0,get:function(){return c(this)[s]}})}function Qe(h,s,d,a){if(h=Ht(h),d=pn(d),a=!!a,d+s>h.byteLength)throw new gn(Wi);var p=h.bytes,d=d+h.byteOffset,h=Ka(p,d,d+s);return a?h:Va(h)}function Ve(h,s,F,a,p,d){var h=Ht(h),F=pn(F),A=a(+p),T=!!d;if(F+s>h.byteLength)throw new gn(Wi);for(var O=h.bytes,N=F+h.byteOffset,D=0;D<s;D++)O[N+D]=A[T?D:s-D-1]}var rn,wt,Re,_t,Yn,zn,k=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof as<"u"?as:typeof self<"u"?self:{},k=e(typeof globalThis=="object"&&globalThis)||e(typeof window=="object"&&window)||e(typeof self=="object"&&self)||e(typeof k=="object"&&k)||e(typeof k=="object"&&k)||function(){return this}()||Function("return this")(),Rt={},le=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),on=!t(function(){var r=function(){}.bind();return typeof r!="function"||r.hasOwnProperty("prototype")}),sn=Function.prototype.call,we=on?sn.bind(sn):function(){return sn.apply(sn,arguments)},Be={},Q={}.propertyIsEnumerable,yi=Object.getOwnPropertyDescriptor,j=yi&&!Q.call({1:2},1),j=(Be.f=j?function(r){return r=yi(this,r),!!r&&r.enumerable}:Q,on),Q=Function.prototype,Wn=Q.call,Q=j&&Q.bind.bind(Wn,Wn),j=j?Q:function(r){return function(){return Wn.apply(r,arguments)}},Q=j,oc=Q({}.toString),sc=Q("".slice),Q=t,uc=i,Kn=Object,cc=j("".split),Q=Q(function(){return!Kn("z").propertyIsEnumerable(0)})?function(r){return uc(r)==="String"?cc(r,""):Kn(r)}:Kn,fc=o,ac=TypeError,lc=Q,pc=f,Jn=typeof document=="object"&&document.all,X=Jn===void 0&&Jn!==void 0?function(r){return typeof r=="function"||r===Jn}:function(r){return typeof r=="function"},dc=X,qn=k,gc=X,Zt=j({}.isPrototypeOf),un=typeof navigator<"u"&&String(navigator.userAgent)||"",J=un,et=k.process,H=k.Deno,et=et&&et.versions||H&&H.version,H=et&&et.v8,et=Ye=!(Ye=H?0<(R=H.split("."))[0]&&R[0]<4?1:+(R[0]+R[1]):Ye)&&J&&(!(R=J.match(/Edge\/(\d+)/))||74<=R[1])&&(R=J.match(/Chrome\/(\d+)/))?+R[1]:Ye,Fi=et,H=t,mc=k.String,J=!!Object.getOwnPropertySymbols&&!H(function(){var r=Symbol("symbol detection");return!mc(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&Fi&&Fi<41}),R=J&&!Symbol.sham&&typeof Symbol.iterator=="symbol",hc=g,Ec=X,Sc=Zt,xc=Object,Ye=R?function(r){return typeof r=="symbol"}:function(r){var s=hc("Symbol");return Ec(s)&&Sc(s.prototype,xc(r))},Ic=String,Tc=X,_c=S,yc=TypeError,Fc=m,Ac=o,Qn=we,Vn=X,er=l,bc=TypeError,H={exports:{}},Ai=k,Pc=Object.defineProperty,B=_,W="__core-js_shared__",B=k[W]||B(W,{}),bi=B,W=((H.exports=function(r,s){return bi[r]||(bi[r]=s!==void 0?s:{})})("versions",[]).push({version:"3.35.0",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.35.0/LICENSE",source:"https://github.com/zloirock/core-js"}),H.exports),Cc=f,Oc=Object,Nc=y,Rc=j({}.hasOwnProperty),H=Object.hasOwn||function(r,s){return Rc(Nc(r),s)},oe=j,Dc=0,Uc=Math.random(),Mc=oe(1 .toString),oe=W,Pi=H,pt=w,Lc=J,J=R,yt=k.Symbol,tr=oe("wks"),Bc=J?yt.for||yt:yt&&yt.withoutSetter||pt,vc=we,Ci=l,Oi=Ye,Gc=E,kc=function(r,s){var c,a;if(s==="string"&&Vn(c=r.toString)&&!er(a=Qn(c,r))||Vn(c=r.valueOf)&&!er(a=Qn(c,r))||s!=="string"&&Vn(c=r.toString)&&!er(a=Qn(c,r)))return a;throw new bc("Can't convert object to primitive value")},wc=TypeError,Zc=L("toPrimitive"),Hc=Y,jc=Ye,R=l,nr=k.document,$c=R(nr)&&R(nr.createElement),Xc=V,oe=!le&&!t(function(){return Object.defineProperty(Xc("div"),"a",{get:function(){return 7}}).a!==7}),Yc=we,zc=Be,Wc=n,Kc=u,Jc=q,qc=H,Qc=oe,Ni=Object.getOwnPropertyDescriptor,J=(Rt.f=le?Ni:function(r,s){if(r=Kc(r),s=Jc(s),Qc)try{return Ni(r,s)}catch{}if(qc(r,s))return Wc(!Yc(zc.f,r,s),r[s])},{}),pt=le&&t(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Vc=l,ef=String,tf=TypeError,nf=oe,cn=ee,Ri=q,rf=TypeError,rr=Object.defineProperty,of=Object.getOwnPropertyDescriptor,Di="enumerable",Ui="configurable",ir="writable",R=(J.f=le?pt?function(r,s,c){var a;return cn(r),s=Ri(s),cn(c),typeof r=="function"&&s==="prototype"&&"value"in c&&ir in c&&!c[ir]&&(a=of(r,s))&&a[ir]&&(r[s]=c.value,c={configurable:(Ui in c?c:a)[Ui],enumerable:(Di in c?c:a)[Di],writable:!1}),rr(r,s,c)}:rr:function(r,s,c){if(cn(r),s=Ri(s),cn(c),nf)try{return rr(r,s,c)}catch{}if("get"in c||"set"in c)throw new rf("Accessors not supported");return"value"in c&&(r[s]=c.value),r},le),sf=J,uf=n,Be=R?function(r,s,c){return sf.f(r,s,uf(1,c))}:function(r,s,c){return r[s]=c,r},oe={exports:{}},R=le,De=H,ce=Function.prototype,fe=R&&Object.getOwnPropertyDescriptor,De=De(ce,"name"),De={EXISTS:De,PROPER:De&&function(){}.name==="something",CONFIGURABLE:De&&(!R||fe(ce,"name").configurable)},R=X,fe=B,cf=j(Function.toString),ce=(R(fe.inspectSource)||(fe.inspectSource=function(r){return cf(r)}),fe.inspectSource),R=X,fe=k.WeakMap,R=R(fe)&&/native code/.test(String(fe)),ff=w,Mi=W("keys"),fe={},af=l,lf=Be,or=H,W=B,B=me,ae=fe,Li="Object already initialized",sr=k.TypeError,Z=k.WeakMap,Bi=R||W.state?((Re=W.state||(W.state=new Z)).get=Re.get,Re.has=Re.has,Re.set=Re.set,rn=function(r,s){if(Re.has(r))throw new sr(Li);return s.facade=r,Re.set(r,s),s},wt=function(r){return Re.get(r)||{}},function(r){return Re.has(r)}):(ae[_t=B("state")]=!0,rn=function(r,s){if(or(r,_t))throw new sr(Li);return s.facade=r,lf(r,_t,s),s},wt=function(r){return or(r,_t)?r[_t]:{}},function(r){return or(r,_t)}),R={set:rn,get:wt,has:Bi,enforce:function(r){return Bi(r)?wt(r):rn(r,{})},getterFor:function(r){return function(s){if(af(s)&&(s=wt(s)).type===r)return s;throw new sr("Incompatible receiver, "+r+" required")}}},W=j,Z=t,pf=X,fn=H,ur=le,df=De.CONFIGURABLE,gf=ce,mf=R.enforce,hf=R.get,vi=String,an=Object.defineProperty,Ef=W("".slice),Sf=W("".replace),xf=W([].join),If=ur&&!Z(function(){return an(function(){},"length",{value:8}).length!==8}),Tf=String(String).split("String"),ae=oe.exports=function(r,s,c){Ef(vi(s),0,7)==="Symbol("&&(s="["+Sf(vi(s),/^Symbol\(([^)]*)\)/,"$1")+"]"),c&&c.getter&&(s="get "+s),c&&c.setter&&(s="set "+s),(!fn(r,"name")||df&&r.name!==s)&&(ur?an(r,"name",{value:s,configurable:!0}):r.name=s),If&&c&&fn(c,"arity")&&r.length!==c.arity&&an(r,"length",{value:c.arity});try{c&&fn(c,"constructor")&&c.constructor?ur&&an(r,"prototype",{writable:!1}):r.prototype&&(r.prototype=void 0)}catch{}return c=mf(r),fn(c,"source")||(c.source=xf(Tf,typeof s=="string"?s:"")),r},B=(Function.prototype.toString=ae(function(){return pf(this)&&hf(this).source||gf(this)},"toString"),oe.exports),_f=X,yf=J,Ff=B,Af=_,W={},bf=Math.ceil,Pf=Math.floor,Cf=Math.trunc||function(r){return r=+r,(0<r?Pf:bf)(r)},Of=he,Nf=Math.max,Rf=Math.min,Df=he,Uf=Math.min,Mf=qe,Lf=u,Bf=Tt,vf=x,Z={includes:Ae(!0),indexOf:Ae(!1)},ae=j,cr=H,Gf=u,kf=Z.indexOf,wf=fe,Gi=ae([].push),oe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Zf=G,Hf=oe.concat("length","prototype"),Z=(W.f=Object.getOwnPropertyNames||function(r){return Zf(r,Hf)},{}),ae=(Z.f=Object.getOwnPropertySymbols,g),jf=W,$f=Z,Xf=ee,Yf=j([].concat),Z=ae("Reflect","ownKeys")||function(r){var s=jf.f(Xf(r)),c=$f.f;return c?Yf(s,c(r)):s},ki=H,zf=Z,Wf=Rt,Kf=J,Jf=t,qf=X,Qf=/#|\.prototype\./,Vf=kt.normalize=function(r){return String(r).replace(Qf,".").toLowerCase()},ea=kt.data={},ta=kt.NATIVE="N",na=kt.POLYFILL="P",fr=k,ra=Rt.f,ia=Be,oa=Ie,sa=_,ua=gi,ca=kt,fa=i,aa=j,ae=typeof ArrayBuffer<"u"&&typeof DataView<"u",wi=B,la=J,pa=Ie,da=Zt,ga=TypeError,ma=he,ha=qe,Ea=RangeError,Sa=Math.sign||function(r){return r=+r,r==0||r!=r?r:r<0?-1:1},xa=Math.abs,Zi=2220446049250313e-31,Hi=1/Zi,Ia=function(d,s,c,a){var d=+d,p=xa(d),d=Sa(d);return p<a?d*(p/a/s+Hi-Hi)*a*s:c<(c=(a=(1+s/Zi)*p)-(a-p))||c!=c?d*(1/0):d*c},Z=Math.fround||function(r){return Ia(r,11920928955078125e-23,34028234663852886e22,11754943508222875e-54)},Ta=Array,_a=Math.abs,Ze=Math.pow,ya=Math.floor,Fa=Math.log,Aa=Math.LN2,B={pack:function(r,s,A){var a,p,d,h=Ta(A),F=8*A-s-1,A=(1<<F)-1,T=A>>1,O=s===23?Ze(2,-24)-Ze(2,-77):0,N=r<0||r===0&&1/r<0?1:0,D=0;for((r=_a(r))!=r||r===1/0?(p=r!=r?1:0,a=A):(a=ya(Fa(r)/Aa),r*(d=Ze(2,-a))<1&&(a--,d*=2),2<=(r+=1<=a+T?O/d:O*Ze(2,1-T))*d&&(a++,d/=2),A<=a+T?(p=0,a=A):1<=a+T?(p=(r*d-1)*Ze(2,s),a+=T):(p=r*Ze(2,T-1)*Ze(2,s),a=0));8<=s;)h[D++]=255&p,p/=256,s-=8;for(a=a<<s|p,F+=s;0<F;)h[D++]=255&a,a/=256,F-=8;return h[--D]|=128*N,h},unpack:function(r,s){var c,a=r.length,A=8*a-s-1,p=(1<<A)-1,d=p>>1,h=A-7,F=a-1,A=r[F--],T=127&A;for(A>>=7;0<h;)T=256*T+r[F--],h-=8;for(c=T&(1<<-h)-1,T>>=-h,h+=s;0<h;)c=256*c+r[F--],h-=8;if(T===0)T=1-d;else{if(T===p)return c?NaN:A?-1/0:1/0;c+=Ze(2,s),T-=d}return(A?-1:1)*c*Ze(2,T-s)}},Se=!t(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype}),ba=H,Pa=X,Ca=y,ji=me("IE_PROTO"),ar=Object,Oa=ar.prototype,Se=Se?ar.getPrototypeOf:function(c){var s,c=Ca(c);return ba(c,ji)?c[ji]:(s=c.constructor,Pa(s)&&c instanceof s?s.prototype:c instanceof ar?Oa:null)},Na=j,Ra=m,Da=l,Ua=function(r){return Da(r)||r===null},Ma=String,La=TypeError,Ba=function(r,s,c){try{return Na(Ra(Object.getOwnPropertyDescriptor(r,s)[c]))}catch{}},va=ee,Ga=function(r){if(Ua(r))return r;throw new La("Can't set "+Ma(r)+" as a prototype")},Nt=Object.setPrototypeOf||("__proto__"in{}?function(){var r,s=!1,c={};try{(r=Ba(Object.prototype,"__proto__","set"))(c,[]),s=c instanceof Array}catch{}return function(a,p){return va(a),Ga(p),s?r(a,p):a.__proto__=p,a}}():void 0),ka=y,$i=Tt,wa=x,lr=j([].slice),Za=X,Ha=l,Xi=Nt,ja=J.f,$a=H,Yi=L("toStringTag"),se=k,Ee=j,pr=le,ye=ae,Ce=Be,Xa=tn,Xe=function(r,s,c){for(var a in s)pa(r,a,s[a],c);return r},pe=t,ln=mi,Ya=he,za=qe,pn=hi,Wa=Z,Z=B,B=Se,Te=Nt,at=Ei,Ka=lr,Ja=Si,Ct=gi,Oe=function(r,s,c){(r=r&&!c?r.prototype:r)&&!$a(r,Yi)&&ja(r,Yi,{configurable:!0,value:s})},z=R,He=De.PROPER,zi=De.CONFIGURABLE,Ft="ArrayBuffer",dn="DataView",At="prototype",Wi="Wrong index",Ki=z.getterFor(Ft),Ht=z.getterFor(dn),Ji=z.set,be=se[Ft],Ue=be,jt=Ue&&Ue[At],z=se[dn],ft=z&&z[At],_e=Object.prototype,qa=se.Array,gn=se.RangeError,Qa=Ee(at),Va=Ee([].reverse),qi=Z.pack,Qi=Z.unpack,at=(ye?(Yn=He&&be.name!==Ft,pe(function(){be(1)})&&pe(function(){new be(-1)})&&!pe(function(){return new be,new be(1.5),new be(NaN),be.length!==1||Yn&&!zi})?Yn&&zi&&Ce(be,"name",Ft):Ct(((Ue=function(r){return ln(this,jt),Ja(new be(pn(r)),this,Ue)})[At]=jt).constructor=Ue,be),Te&&B(ft)!==_e&&Te(ft,_e),se=new z(new Ue(2)),zn=Ee(ft.setInt8),se.setInt8(0,2147483648),se.setInt8(1,2147483649),!se.getInt8(0)&&se.getInt8(1)||Xe(ft,{setInt8:function(r,s){zn(this,r,s<<24>>24)},setUint8:function(r,s){zn(this,r,s<<24>>24)}},{unsafe:!0})):(jt=(Ue=function(r){ln(this,jt),r=pn(r),Ji(this,{type:Ft,bytes:Qa(qa(r),0),byteLength:r}),pr||(this.byteLength=r,this.detached=!1)})[At],ft=(z=function(r,d,c){ln(this,ft),ln(r,jt);var a=Ki(r),p=a.byteLength,d=Ya(d);if(d<0||p<d)throw new gn("Wrong offset");if(p<d+(c=c===void 0?p-d:za(c)))throw new gn("Wrong length");Ji(this,{type:dn,buffer:r,byteLength:c,byteOffset:d,bytes:a.bytes}),pr||(this.buffer=r,this.byteLength=c,this.byteOffset=d)})[At],pr&&(nn(Ue,"byteLength",Ki),nn(z,"buffer",Ht),nn(z,"byteLength",Ht),nn(z,"byteOffset",Ht)),Xe(ft,{getInt8:function(r){return Qe(this,1,r)[0]<<24>>24},getUint8:function(r){return Qe(this,1,r)[0]},getInt16:function(r){return r=Qe(this,2,r,1<arguments.length&&arguments[1]),(r[1]<<8|r[0])<<16>>16},getUint16:function(r){return r=Qe(this,2,r,1<arguments.length&&arguments[1]),r[1]<<8|r[0]},getInt32:function(r){return _i(Qe(this,4,r,1<arguments.length&&arguments[1]))},getUint32:function(r){return _i(Qe(this,4,r,1<arguments.length&&arguments[1]))>>>0},getFloat32:function(r){return Qi(Qe(this,4,r,1<arguments.length&&arguments[1]),23)},getFloat64:function(r){return Qi(Qe(this,8,r,1<arguments.length&&arguments[1]),52)},setInt8:function(r,s){Ve(this,1,r,xi,s)},setUint8:function(r,s){Ve(this,1,r,xi,s)},setInt16:function(r,s){Ve(this,2,r,Ii,s,2<arguments.length&&arguments[2])},setUint16:function(r,s){Ve(this,2,r,Ii,s,2<arguments.length&&arguments[2])},setInt32:function(r,s){Ve(this,4,r,Ti,s,2<arguments.length&&arguments[2])},setUint32:function(r,s){Ve(this,4,r,Ti,s,2<arguments.length&&arguments[2])},setFloat32:function(r,s){Ve(this,4,r,rc,s,2<arguments.length&&arguments[2])},setFloat64:function(r,s){Ve(this,8,r,ic,s,2<arguments.length&&arguments[2])}})),Oe(Ue,Ft),Oe(z,dn),{ArrayBuffer:Ue,DataView:z}),Z={};Z[L("toStringTag")]="z";function Vi(){}function $t(r){if(!no(r))return!1;try{return ro(Vi,sl,r),!0}catch{return!1}}function eo(r){if(!no(r))return!1;switch(il(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return cl||!!ul(dr,ol(r))}catch{return!0}}function to(r){if(fl(r))return r;throw new ll(al(r)+" is not a constructor")}var ye=String(Z)==="[object z]",el=X,mn=i,tl=L("toStringTag"),nl=Object,rl=mn(function(){return arguments}())==="Arguments",He=ye?mn:function(r){var s;return r===void 0?"Undefined":r===null?"Null":typeof(s=function(c,a){try{return c[a]}catch{}}(r=nl(r),tl))=="string"?s:rl?mn(r):(s=mn(r))==="Object"&&el(r.callee)?"Arguments":s},pe=j,Ce=t,no=X,il=He,ol=ce,sl=[],ro=g("Reflect","construct"),dr=/^\s*(?:class|function)\b/,ul=pe(dr.exec),cl=!dr.test(Vi),Ct=(eo.sham=!0,!ro||Ce(function(){var r;return $t($t.call)||!$t(Object)||!$t(function(){r=!0})||r})?eo:$t),fl=Ct,al=S,ll=TypeError,io=ee,pl=to,dl=o,gl=L("species"),B=Xn,Te=en,_e=t,oo=ee,so=Tt,ml=qe,hl=function(c,s){var c=io(c).constructor;return c===void 0||dl(c=io(c)[gl])?s:pl(c)},gr=at.ArrayBuffer,mr=at.DataView,Ee=mr.prototype,uo=Te(gr.prototype.slice),El=Te(Ee.getUint8),Sl=Te(Ee.setUint8),se=(B({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:_e(function(){return!new gr(2).slice(1,void 0).byteLength})},{slice:function(r,s){if(uo&&s===void 0)return uo(oo(this),r);for(var c=oo(this).byteLength,a=so(r,c),p=so(s===void 0?c:s,c),r=new(hl(this,gr))(ml(p-a)),d=new mr(this),h=new mr(r),F=0;a<p;)Sl(h,F++,El(d,a++));return r}}),{exports:{}}),co=L("iterator"),fo=!1;try{var xl=0,Le={next:function(){return{done:!!xl++}},return:function(){fo=!0}};Le[co]=function(){return this},Array.from(Le,function(){throw 2})}catch{}function ao(c){var s,c=Sn(c);if(En(c))return(s=yl(c))&&tt(s,xn)?s[xn]:ao(c)}function lo(r){return!!En(r)&&(r=Er(r),tt($e,r)||tt(_r,r))}var ue,bt,hn,Xe=ae,hr=le,ie=k,po=X,En=l,tt=H,Er=He,Il=S,Tl=Be,Sr=Ie,Oe=tn,_l=Zt,Sn=Se,Pt=Nt,z=L,Z=w,go=R.enforce,yl=R.get,ye=ie.Int8Array,xr=ye&&ye.prototype,ce=ie.Uint8ClampedArray,pe=ce&&ce.prototype,Me=ye&&Sn(ye),Pe=xr&&Sn(xr),Ce=Object.prototype,Ir=ie.TypeError,Te=z("toStringTag"),Tr=Z("TYPED_ARRAY_TAG"),xn="TypedArrayConstructor",je=Xe&&!!Pt&&Er(ie.opera)!=="Opera",Ee=!1,$e={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},_r={BigInt64Array:8,BigUint64Array:8};for(ue in $e)(hn=(bt=ie[ue])&&bt.prototype)?go(hn)[xn]=bt:je=!1;for(ue in _r)(hn=(bt=ie[ue])&&bt.prototype)&&(go(hn)[xn]=bt);if((!je||!po(Me)||Me===Function.prototype)&&(Me=function(){throw new Ir("Incorrect invocation")},je))for(ue in $e)ie[ue]&&Pt(ie[ue],Me);if((!je||!Pe||Pe===Ce)&&(Pe=Me.prototype,je))for(ue in $e)ie[ue]&&Pt(ie[ue].prototype,Pe);if(je&&Sn(pe)!==Pe&&Pt(pe,Pe),hr&&!tt(Pe,Te))for(ue in Oe(Pe,Te,{configurable:Ee=!0,get:function(){return En(this)?this[Tr]:void 0}}),$e)ie[ue]&&Tl(ie[ue],Tr,ue);function mo(r,s){if((r=Ol(r))%s)throw new Nl("Wrong offset");return r}var B={NATIVE_ARRAY_BUFFER_VIEWS:je,TYPED_ARRAY_TAG:Ee&&Tr,aTypedArray:function(r){if(lo(r))return r;throw new Ir("Target is not a typed array")},aTypedArrayConstructor:function(r){if(!po(r)||Pt&&!_l(Me,r))throw new Ir(Il(r)+" is not a typed array constructor");return r},exportTypedArrayMethod:function(r,s,c,a){if(hr){if(c){for(var p in $e)if(p=ie[p],p&&tt(p.prototype,r))try{delete p.prototype[r]}catch{try{p.prototype[r]=s}catch{}}}Pe[r]&&!c||Sr(Pe,r,!c&&je&&xr[r]||s,a)}},exportTypedArrayStaticMethod:function(r,s,c){var a,p;if(hr){if(Pt){if(c){for(a in $e)if((p=ie[a])&&tt(p,r))try{delete p[r]}catch{}}if(Me[r]&&!c)return;try{return Sr(Me,r,!c&&je&&Me[r]||s)}catch{}}for(a in $e)!(p=ie[a])||p[r]&&!c||Sr(p,r,s)}},getTypedArrayConstructor:ao,isView:function(r){return!!En(r)&&((r=Er(r))==="DataView"||tt($e,r)||tt(_r,r))},isTypedArray:lo,TypedArray:Me,TypedArrayPrototype:Pe},_e=t,Le=function(r,s){try{if(!s&&!fo)return!1}catch{return!1}var c=!1;try{var a={};a[co]=function(){return{next:function(){return{done:c=!0}}}},r(a)}catch{}return c},Fl=k.ArrayBuffer,lt=k.Int8Array,ae=!B.NATIVE_ARRAY_BUFFER_VIEWS||!_e(function(){lt(1)})||!_e(function(){new lt(-1)})||!Le(function(r){new lt,new lt(null),new lt(1.5),new lt(r)},!0)||_e(function(){return new lt(new Fl(2),1,void 0).length!==1}),Al=l,bl=Math.floor,X=Number.isInteger||function(r){return!Al(r)&&isFinite(r)&&bl(r)===r},Pl=he,Cl=RangeError,Ol=function(r){if(r=Pl(r),r<0)throw new Cl("The argument can't be less than 0");return r},Nl=RangeError,Rl=Math.round,Se={},Dl=G,Ul=oe,ce=Object.keys||function(r){return Dl(r,Ul)},Ml=J,Ll=ee,Bl=u,vl=ce;Se.f=le&&!pt?Object.defineProperties:function(r,s){Ll(r);for(var c,a=Bl(s),p=vl(s),d=p.length,h=0;h<d;)Ml.f(r,c=p[h++],a[c]);return r};function yr(){}function Gl(r){r.write(Po("")),r.close();var s=r.parentWindow.Object;return r=null,s}function ho(r,s){return $l(r),s===void 0?r:Xl?Yl(r,s):function(){return r.apply(s,arguments)}}function Eo(r){if(!Wl(r))return Co(r,Jl)||Co(r,"@@iterator")||Kl[zl(r)]}function So(r){if(typeof(r=u0(r,"number"))=="number")throw new c0("Can't convert number to bigint");return BigInt(r)}function kl(r,s){return new(F0(r))(s===0?0:s)}function nt(r){var s=r===1,c=r===2,a=r===3,p=r===4,d=r===6,h=r===7,F=r===5||d;return function(A,T,O,N){for(var D,$,U=P0(A),v=b0(U),de=C0(v),ze=A0(T,O),xe=0,T=N||kl,dt=s?T(A,de):c||h?T(A,0):void 0;xe<de;xe++)if((F||xe in v)&&($=ze(D=v[xe],xe,U),r))if(s)dt[xe]=$;else if($)switch(r){case 3:return!0;case 5:return D;case 6:return xe;case 2:Ro(dt,D)}else switch(r){case 4:return!1;case 7:Ro(dt,D)}return d?-1:a||p?p:dt}}function xo(r){r=O0(r),R0&&r&&!r[Do]&&N0(r,Do,{configurable:!0,get:function(){return this}})}function Io(N){var s,c,a,p,d,h,F,A,T=l0(this),O=p0(N),N=arguments.length,D=1<N?arguments[1]:void 0,$=D!==void 0,U=m0(O);if(U&&!h0(U))for(A=(F=g0(O,U)).next,O=[];!(h=a0(A,F)).done;)O.push(h.value);for($&&2<N&&(D=f0(D,arguments[2])),c=d0(O),a=new(S0(T))(c),p=E0(a),s=0;s<c;s++)d=$?D(O[s],s):O[s],a[s]=p?x0(d):+d;return a}function In(r,s){X0(r,s,{configurable:!0,get:function(){return Or(this)[s]}})}function To(r){return Z0(J0,r)||(r=G0(r))==="ArrayBuffer"||r==="SharedArrayBuffer"}function _o(r,s){return Rr(r)&&!k0(s)&&s in r&&L0(+s)&&0<=s}function yo(r,s){return s=Go(s),_o(r,s)?M0(2,r[s]):K0(r,s)}function Fo(r,s,c){return s=Go(s),!(_o(r,s)&&Cr(c)&&Yt(c,"value"))||Yt(c,"get")||Yt(c,"set")||c.configurable||Yt(c,"writable")&&!c.writable||Yt(c,"enumerable")&&!c.enumerable?wo(r,s,c):(r[s]=c.value,r)}var Fr,ye=g("document","documentElement"),wl=ee,Zl=Se,Ao=oe,z=fe,Hl=ye,jl=V,Ar="prototype",br="script",bo=me("IE_PROTO"),Po=function(r){return"<"+br+">"+r+"</"+br+">"},Tn=function(){try{Fr=new ActiveXObject("htmlfile")}catch{}Tn=typeof document>"u"||document.domain&&Fr?Gl(Fr):(r=jl("iframe"),s="java"+br+":",r.style.display="none",Hl.appendChild(r),r.src=String(s),(s=r.contentWindow.document).open(),s.write(Po("document.F=Object")),s.close(),s.F);for(var r,s,c=Ao.length;c--;)delete Tn[Ar][Ao[c]];return Tn()},Z=(z[bo]=!0,Object.create||function(r,s){var c;return r!==null?(yr[Ar]=wl(r),c=new yr,yr[Ar]=null,c[bo]=r):c=Tn(),s===void 0?c:Zl.f(c,s)}),$l=m,Xl=on,Yl=en(en.bind),Xe={},zl=He,Co=E,Wl=o,Kl=Xe,Jl=L("iterator"),ql=we,Ql=m,Vl=ee,e0=S,t0=Eo,n0=TypeError,r0=Xe,i0=L("iterator"),o0=Array.prototype,s0=He,u0=Y,c0=TypeError,f0=ho,a0=we,l0=to,p0=y,d0=x,g0=function(r,s){if(s=arguments.length<2?t0(r):s,Ql(s))return Vl(ql(s,r));throw new n0(e0(r)+" is not iterable")},m0=Eo,h0=function(r){return r!==void 0&&(r0.Array===r||o0[i0]===r)},E0=function(r){return r=s0(r),r==="BigInt64Array"||r==="BigUint64Array"},S0=B.aTypedArrayConstructor,x0=So,I0=i,Oo=Array.isArray||function(r){return I0(r)==="Array"},T0=Ct,_0=l,y0=L("species"),No=Array,F0=function(r){var s;return(s=Oo(r)&&(s=r.constructor,T0(s)&&(s===No||Oo(s.prototype))||_0(s)&&(s=s[y0])===null)?void 0:s)===void 0?No:s},A0=ho,b0=Q,P0=y,C0=x,Ro=j([].push),Ce={forEach:nt(0),map:nt(1),filter:nt(2),some:nt(3),every:nt(4),find:nt(5),findIndex:nt(6),filterReject:nt(7)},O0=g,N0=tn,R0=le,Do=L("species"),D0=x,Uo=Xn,Mo=k,Lo=we,U0=ae,Bo=mi,M0=n,Xt=Be,L0=X,B0=qe,vo=hi,Pr=mo,v0=function(r){return r=Rl(r),r<0?0:255<r?255:255&r},Go=q,Yt=H,G0=He,Cr=l,k0=Ye,w0=Z,Z0=Zt,_n=Nt,H0=W.f,j0=Ce.forEach,$0=xo,X0=tn,pe=J,Oe=Rt,ko=function(r,s,c){for(var a=0,p=2<arguments.length?c:D0(s),d=new r(p);a<p;)d[a]=s[a++];return d},Y0=Si,Or=R.get,z0=R.set,W0=R.enforce,wo=pe.f,K0=Oe.f,Nr=Mo.RangeError,Zo=at.ArrayBuffer,J0=Zo.prototype,q0=at.DataView,yn=B.NATIVE_ARRAY_BUFFER_VIEWS,Ho=B.TYPED_ARRAY_TAG,jo=B.TypedArray,zt=B.TypedArrayPrototype,Rr=B.isTypedArray,Fn="BYTES_PER_ELEMENT",Dr="Wrong length",Te=(le?(yn||(Oe.f=yo,pe.f=Fo,In(zt,"buffer"),In(zt,"byteOffset"),In(zt,"byteLength"),In(zt,"length")),Uo({target:"Object",stat:!0,forced:!yn},{getOwnPropertyDescriptor:yo,defineProperty:Fo}),se.exports=function(N,D,c){function a($,U){wo($,U,{get:function(){var v=this,de=U;return(v=Or(v)).view[h](de*p+v.byteOffset,!0)},set:function(v){var de=this,ze=U;(de=Or(de)).view[F](ze*p+de.byteOffset,c?v0(v):v,!0)},enumerable:!0})}var p=N.match(/\d+/)[0]/8,d=N+(c?"Clamped":"")+"Array",h="get"+N,F="set"+N,A=Mo[d],T=A,O=T&&T.prototype,N={},D=(yn?U0&&(T=D(function($,U,v,de){return Bo($,O),Y0(Cr(U)?To(U)?de!==void 0?new A(U,Pr(v,p),de):v!==void 0?new A(U,Pr(v,p)):new A(U):Rr(U)?ko(T,U):Lo(Io,T,U):new A(vo(U)),$,T)}),_n&&_n(T,jo),j0(H0(A),function($){$ in T||Xt(T,$,A[$])}),T.prototype=O):(T=D(function($,U,v,de){Bo($,O);var ze,xe,dt=0,bn=0;if(Cr(U)){if(!To(U))return Rr(U)?ko(T,U):Lo(Io,T,U);var Br=U,bn=Pr(v,p),v=U.byteLength;if(de===void 0){if(v%p)throw new Nr(Dr);if((ze=v-bn)<0)throw new Nr(Dr)}else if(v<(ze=B0(de)*p)+bn)throw new Nr(Dr);xe=ze/p}else xe=vo(U),Br=new Zo(ze=xe*p);for(z0($,{buffer:Br,byteOffset:bn,byteLength:ze,length:xe,view:new q0(Br)});dt<xe;)a($,dt++)}),_n&&_n(T,jo),O=T.prototype=w0(zt)),O.constructor!==T&&Xt(O,"constructor",T),W0(O).TypedArrayConstructor=T,Ho&&Xt(O,Ho,d),T!==A);N[d]=T,Uo({global:!0,constructor:!0,forced:D,sham:!yn},N),Fn in T||Xt(T,Fn,p),Fn in O||Xt(O,Fn,p),$0(d)}):se.exports=function(){},se.exports);Te("Int32",function(r){return function(s,c,a){return r(this,s,c,a)}});var Q0=Ei,V0=So,ep=He,tp=we,Ee=j,Le=t,np=B.aTypedArray,_e=B.exportTypedArrayMethod,rp=Ee("".slice);_e("fill",function(c){var s=arguments.length,c=(np(this),rp(ep(this),0,3)==="Big"?V0(c):+c);return tp(Q0,this,c,1<s?arguments[1]:void 0,2<s?arguments[2]:void 0)},Le(function(){var r=0;return new Int8Array(2).fill({valueOf:function(){return r++}}),r!==1}));function Ur(r,s){var c=r.length;if(c<8)for(var a,p,d=1;d<c;){for(a=r[p=d];p&&0<s(r[p-1],a);)r[p]=r[--p];p!==d++&&(r[p]=a)}else for(var h=ap(c/2),F=Ur(Yo(r,0,h),s),A=Ur(Yo(r,h),s),T=F.length,O=A.length,N=0,D=0;N<T||D<O;)r[N+D]=N<T&&D<O?s(F[N],A[D])<=0?F[N++]:A[D++]:N<T?F[N++]:A[D++];return r}function ip(){var r=xp(this),s="";return r.hasIndices&&(s+="d"),r.global&&(s+="g"),r.ignoreCase&&(s+="i"),r.multiline&&(s+="m"),r.dotAll&&(s+="s"),r.unicode&&(s+="u"),r.unicodeSets&&(s+="v"),r.sticky&&(s+="y"),s}var $o=we,ce=B,op=x,sp=mo,up=y,pt=t,cp=k.RangeError,Mr=k.Int8Array,Se=Mr&&Mr.prototype,Xo=Se&&Se.set,fp=ce.aTypedArray,oe=ce.exportTypedArrayMethod,Lr=!pt(function(){var r=new Uint8ClampedArray(2);return $o(Xo,r,{length:1,0:3},1),r[1]!==3}),fe=Lr&&ce.NATIVE_ARRAY_BUFFER_VIEWS&&pt(function(){var r=new Mr(2);return r.set(1),r.set("2",1),r[0]!==0||r[1]!==2}),Yo=(oe("set",function(a){fp(this);var s=sp(1<arguments.length?arguments[1]:void 0,1),c=up(a);if(Lr)return $o(Xo,this,c,s);var a=this.length,p=op(c),d=0;if(a<p+s)throw new cp("Wrong length");for(;d<p;)this[s+d]=c[d++]},!Lr||fe),lr),ap=Math.floor,ye=Ur,z=un.match(/firefox\/(\d+)/i),Xe=!!z&&+z[1],Ct=/MSIE|Trident/.test(un),Q=un.match(/AppleWebKit\/(\d+)\./),ae=!!Q&&+Q[1],Be=en,X=t,lp=m,pp=ye,zo=Xe,dp=Ct,Wo=et,Ko=ae,gp=B.aTypedArray,Ye=B.exportTypedArrayMethod,Wt=k.Uint16Array,Ot=Wt&&Be(Wt.prototype.sort),Z=!(!Ot||X(function(){Ot(new Wt(2),null)})&&X(function(){Ot(new Wt(2),{})})),Jo=!!Ot&&!X(function(){if(Wo)return Wo<74;if(zo)return zo<67;if(dp)return!0;if(Ko)return Ko<602;for(var r,s=new Wt(516),c=Array(516),a=0;a<516;a++)r=a%4,s[a]=515-a,c[a]=a-2*r+3;for(Ot(s,function(p,d){return(p/4|0)-(d/4|0)}),a=0;a<516;a++)if(s[a]!==c[a])return!0}),Nt=(Ye("sort",function(r){return r!==void 0&&lp(r),Jo?Ot(this,r):pp(gp(this),(s=r,function(c,a){return s!==void 0?+s(c,a)||0:a!=a?-1:c!=c?1:c===0&&a===0?0<1/c&&1/a<0?1:-1:a<c}));var s},!Jo||Z),on),W=Function.prototype,qo=W.apply,Qo=W.call,mp=typeof Reflect=="object"&&Reflect.apply||(Nt?Qo.bind(qo):function(){return Qo.apply(qo,arguments)}),Ce=t,Vo=lr,An=k.Int8Array,es=B.aTypedArray,J=B.exportTypedArrayMethod,ts=[].toLocaleString,hp=!!An&&Ce(function(){ts.call(new An(1))}),Ep=(J("toLocaleString",function(){return mp(ts,hp?Vo(es(this)):es(this),Vo(arguments))},Ce(function(){return[1,2].toLocaleString()!==new An([1,2]).toLocaleString()})||!Ce(function(){An.prototype.toLocaleString.call([1,2])})),He),Sp=String,xp=ee,Ip=we,Tp=H,_p=Zt,ns=RegExp.prototype,Rt=De.PROPER,R=Ie,yp=ee,rs=function(r){if(Ep(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return Sp(r)},le=t,Fp=function(r){var s=r.flags;return s!==void 0||"flags"in ns||Tp(r,"flags")||!_p(ns,r)?s:Ip(ip,r)},Oe="toString",pe=RegExp.prototype,is=pe[Oe],se=le(function(){return is.call({source:"a",flags:"b"})!=="/a/b"}),j=Rt&&is.name!==Oe;(se||j)&&R(pe,Oe,function(){var r=yp(this);return"/"+rs(r.source)+"/"+rs(Fp(r))},{unsafe:!0}),Te("Uint8",function(r){return function(s,c,a){return r(this,s,c,a)}}),Ee=Xn,_e=xo,Le="ArrayBuffer",Se=at[Le],Ee({global:!0,constructor:!0,forced:k[Le]!==Se},{ArrayBuffer:Se}),_e(Le);const os=[1020,1015,932,848,780,735,702,679,660,645,632,623,613,607,600,594,589,585,581,571,555,542,529,514,494,474,457,439,424,410,397,386,373,364,351,341,334,324,317,309,299,294,287,279,274,267,262,257,251,247,243,237,232,227,222,217,213,207,202,198,192,188,183,177,173,168,163,157,153,148,143,139,132,128,125,119,115,108,104,99,94,90,84,79,74,70,64,59,55,49,45,40,34,30,25,20,15,11,6,4,0],ss=[32640,32635,32266,31495,30665,29804,29146,28599,28104,27670,27225,26725,26210,25716,25240,24789,24373,23946,23572,22846,21801,20842,19949,19121,18386,17651,16998,16349,15800,15247,14783,14321,13859,13535,13081,12702,12423,12056,11779,11513,11135,10955,10676,10392,10208,9928,9747,9564,9369,9193,9017,8822,8639,8458,8270,8084,7896,7710,7527,7347,7156,6977,6788,6607,6422,6236,6054,5867,5684,5495,5305,5128,4945,4751,4638,4442,4248,4065,3888,3698,3509,3326,3139,2957,2775,2586,2405,2216,2037,1846,1666,1483,1297,1109,927,735,554,375,201,128,0],us=[510,505,422,380,355,338,326,318,311,305,300,297,293,291,288,286,284,283,281,280,279,278,277,273,262,251,243,233,225,218,211,205,198,193,186,181,177,172,168,164,158,156,152,148,145,142,139,136,133,131,129,126,123,120,118,115,113,110,107,105,102,100,97,94,92,89,87,83,81,79,76,74,70,68,66,63,61,57,55,52,50,48,44,42,39,37,34,31,29,26,24,21,18,16,13,11,8,6,3,2,0],cs=[16320,16315,15946,15277,14655,14073,13623,13230,12859,12560,12240,11861,11456,11081,10714,10360,10027,9679,9368,9056,8680,8331,7995,7668,7376,7084,6823,6562,6345,6125,5939,5756,5571,5421,5240,5086,4976,4829,4719,4616,4463,4393,4280,4166,4092,3980,3909,3835,3755,3688,3621,3541,3467,3396,3323,3247,3170,3096,3021,2952,2874,2804,2727,2657,2583,2509,2437,2362,2290,2211,2136,2068,1996,1915,1858,1773,1692,1620,1552,1477,1398,1326,1251,1179,1109,1031,961,884,814,736,667,592,518,441,369,292,221,151,86,64,0],fs=";base64,";nc.exports=function(r){let s=r;typeof s=="string"&&(s=function(F){var h=F.indexOf(fs)+fs.length,F=F.substring(h),A=window.atob(F),T=A.length,O=new Uint8Array(new ArrayBuffer(T));for(let N=0;N<T;N+=1)O[N]=A.charCodeAt(N);return O}(s));{var c=function(h){var F=[],A=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);let T=0;function O(){var v=h[T]<<8|h[T+1];return T+=2,v}let N=O();if(N!==65496)throw new Error("SOI not found");for(N=O();N!==65497;){switch(N){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:case 65472:case 65473:case 65474:case 65476:case 65501:T+=O();break;case 65499:for(var D=O()+T-2;T<D;){var $=h[T],U=(T+=1,new Int32Array(64));if($>>4){if($>>4!=1)throw new Error("DQT: invalid table spec");for(let v=0;v<64;v+=1)U[A[v]]=O()}else for(let v=0;v<64;v+=1)U[A[v]]=h[T],T+=1;F[15&$]=U}break;case 65498:return F;case 65535:h[T]!==255&&--T;break;default:if(h[T-3]===255&&192<=h[T-2]&&h[T-2]<=254){T-=3;break}throw new Error("unknown JPEG marker ".concat(N.toString(16)))}N=O()}return F}(s);let d=0;for(let h=0;h<4;h+=1)if(c[h])for(let F=0;F<64;F+=1)d+=c[h][F];if(c[0]&&c[1]){var a=c[0][2]+c[0][53]+c[1][0]+c[1][63];for(let h=0;h<100;h+=1)if(!(a<os[h]&&d<ss[h])&&(a<=os[h]&&d<=ss[h]||50<=h))return h+1}else if(c[0]){var p=c[0][2]+c[0][53];for(let h=0;h<100;h+=1)if(!(p<us[h]&&d<cs[h])&&(p<=us[h]&&d<=cs[h]||50<=h))return h+1}}}});var XE=nc.exports;const YE=Ap(XE),zE={style:{flex:"0 0 100%"}},WE={"mx-auto":"","max-w-600px":""},KE={"font-bold":""},JE={key:0},qE=["src"],QE={key:1},VE={flex:"","gap-2":""},eS={key:5},tS={key:6,style:{flex:"0 0 100%"},"mt-5":"",flex:"","flex-col":"","gap-4":""},nS={"font-size-3":""},rS={href:"https://github.com/mattiasw/ExifReader",target:"_blank"},fS=bp({__name:"image-exif-reader",setup(e){const{t}=Pp(),n=Dt([{name:"file",title:"File Tags"},{name:"jfif",title:"JFIF Tags"},{name:"pngFile",title:"PNG File Tags"},{name:"pngText",title:"PNG Text Tags"},{name:"png",title:"PNG Tags"},{name:"exif",title:"EXIF Tags"},{name:"iptc",title:"IPTC Tags"},{name:"xmp",title:"XMP Tags"},{name:"icc",title:"ICC Tags"},{name:"riff",title:"RIFF Tags"},{name:"gif",title:"GIF Tags"},{name:"Thumbnail",title:"Thumbnail Tags"},{name:"photoshop",title:"Photoshop Tags"}]),i=Dt(""),o=Dt({}),f=Dt("idle"),u=Dt(null),l=Dt(-1),g=Cp(()=>{const _=o.value.gps?.Latitude,y=o.value.gps?.Longitude;return _&&y?`https://www.openstreetmap.org/?mlat=${_}&mlon=${y}#map=18/${_}/${y}`:void 0});async function S(_){u.value=_;const y=await _.arrayBuffer();f.value="loading";try{l.value=YE(new Uint8Array(y))}catch{l.value=-1}try{o.value=await xE.load(y,{expanded:!0}),f.value="parsed"}catch(w){i.value=w.toString(),f.value="error"}}function m(_){const y=o.value;return y[_]?y[_]:null}const E=_=>_.replace(/([A-Z][a-z])/g," $1").trim();return(_,y)=>{const w=Op,L=Np,Y=Rp,q=Mp,V=Dp,ee=Up;return ge(),rt("div",zE,[gt("div",WE,[mt(w,{title:M(t)("tools.image-exif-reader.texts.title-drag-and-drop-a-image-file-here-or-click-to-select-a-file"),onFileUpload:S},null,8,["title"]),M(u)?(ge(),Ut(L,{key:0,"mt-4":"",flex:"","gap-2":""},{default:ve(()=>[gt("div",KE,Ge(M(u).name),1),gt("div",null,Ge(M(Lp)(M(u).size)),1),M(o).Thumbnail?(ge(),rt("div",JE,[gt("img",{src:`data:image/jpeg;base64,${M(o).Thumbnail.base64}`,"max-w-200px":""},null,8,qE)])):We("",!0)]),_:1})):We("",!0),M(f)==="error"?(ge(),rt("div",QE,[mt(Y,{"mt-4":""},{default:ve(()=>[ht(" Error parsing image file: "+Ge(M(i)),1)]),_:1})])):We("",!0),M(l)>=0?(ge(),Ut(L,{key:2,title:M(t)("tools.image-exif-reader.texts.title-jpeg-quality"),"mt-4":""},{default:ve(()=>[mt(q,{label:M(t)("tools.image-exif-reader.texts.label-jpeg-quality"),"label-position":"left","label-width":"150px","label-align":"right","mb-2":"",value:M(l)},null,8,["label","value"])]),_:1},8,["title"])):We("",!0),M(f)==="parsed"&&M(g)?(ge(),Ut(L,{key:3,title:M(t)("tools.image-exif-reader.texts.title-gps-infos"),"mt-4":""},{default:ve(()=>[gt("div",VE,[mt(V,{label:M(t)("tools.image-exif-reader.texts.label-latitude")},{default:ve(()=>[ht(Ge(M(o).gps?.Latitude?.toFixed(4)),1)]),_:1},8,["label"]),mt(V,{label:M(t)("tools.image-exif-reader.texts.label-longitude")},{default:ve(()=>[ht(Ge(M(o).gps?.Longitude?.toFixed(4)),1)]),_:1},8,["label"]),mt(V,{label:M(t)("tools.image-exif-reader.texts.label-altitude")},{default:ve(()=>[ht(Ge(M(o).gps?.Altitude?.toFixed(4)),1)]),_:1},8,["label"])]),mt(ee,{href:M(g),target:"_blank","mt-4":""},{default:ve(()=>[ht(Ge(M(t)("tools.image-exif-reader.texts.tag-localize-on-open-street-map")),1)]),_:1},8,["href"])]),_:1},8,["title"])):We("",!0),M(f)==="parsed"&&!M(g)?(ge(),Ut(L,{key:4,"mt-4":""},{default:ve(()=>[ht(Ge(M(t)("tools.image-exif-reader.texts.tag-no-gps-information")),1)]),_:1})):We("",!0),M(f)==="parsed"?(ge(),rt("div",eS,[(ge(!0),rt(ls,null,ps(M(n),me=>(ge(),rt("div",{key:me.name},[m(me.name)?(ge(),Ut(L,{key:0,title:me.title,"mt-4":""},{default:ve(()=>[(ge(!0),rt(ls,null,ps(m(me.name),({description:Ie},he)=>(ge(),Ut(q,{key:he,label:E(String(he)),"label-position":"left","label-width":"150px","label-align":"right","mb-2":"",disabled:"disabled",value:Ie??"<binary>"},null,8,["label","value"]))),128))]),_:2},1032,["title"])):We("",!0)]))),128))])):We("",!0),M(f)==="parsed"?(ge(),rt("div",tS)):We("",!0),gt("div",nS,[ht(Ge(M(t)("tools.image-exif-reader.texts.tag-made-with")),1),gt("a",rS,Ge(M(t)("tools.image-exif-reader.texts.tag-exifreader")),1)])])])}}});export{fS as default};
