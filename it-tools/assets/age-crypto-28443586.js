import{d as Z,a0 as ee,b6 as te,bm as D,r as u,o as v,j as le,w as r,k as l,l as e,m as c,a6 as _,G as d,a as E,c as L,a8 as G,a7 as I,aj as oe,ah as ae,aW as re}from"./index-0c1fde36.js";import{_ as ne}from"./TextareaCopyable-59231e95.js";import{_ as se}from"./Card-7ba5ce79.js";import{_ as pe,a as ie}from"./Tabs-1c90a6ea.js";import"./base64-ae7cf34b.js";import"./index-a6f01dde.js";import"./downloadBase64-508288e2.js";import"./index-6fddb70d.js";import"./index-cfd4d427.js";import"./Copy-ef9ec73c.js";import"./Scrollbar-54724e22.js";import"./debounce-a6b2605e.js";import"./now-e8fe0d27.js";import"./toNumber-29aad22f.js";const ue="/it-tools/age-wasm/age.wasm",Ce=Z({__name:"age-crypto",async setup(ce){let m,b;const{t}=ee(),S="/it-tools/",{load:V}=te(`${S}age-wasm/wasm_exec.js`,void 0,{type:"module",manual:!0});[m,b]=D(()=>V()),await m,b();const O=new Go,W=([m,b]=D(()=>WebAssembly.instantiateStreaming(fetch(ue),O.importObject)),m=await m,b(),m);O.run(W.instance);const x=u(""),w=u(""),k=u(""),h=u(""),U=u(""),B=u(""),C=u([]),A=u(""),R=u(""),F=u(""),j=u(""),q=u([]),y=u("");function $(a,o){const s=document.createElement("a");s.href=a,s.download=o,document.body.appendChild(s),s.style.display="none",s.click(),s.remove()}function N(a,o){const s=new Blob([a],{type:"application/octet-stream"}),p=window.URL.createObjectURL(s);$(p,o),setTimeout(()=>window.URL.revokeObjectURL(p),1e3)}function X(){const a=window.generateX25519Identity();x.value=a.privateKey,w.value=a.publicKey}function z(){y.value="";const a=window.encrypt(k.value,h.value);a.error?y.value=a.error:U.value=a.output}function H(){y.value="";const a=C.value;a.length&&(a.forEach(o=>{const s=new FileReader;s.onload=()=>{const p=new Uint8Array(s.result),i=window.encryptBinary(B.value,p);typeof i=="string"?y.value=i:N(i,`${o.name}.age`)},s.readAsArrayBuffer(o)}),C.value=[])}function J(){y.value="";const a=window.decrypt(A.value,R.value);a.error?y.value=a.error:F.value=a.output}function M(){y.value="";const a=q.value;a.length&&(a.forEach(o=>{const s=new FileReader;s.onload=()=>{const p=new Uint8Array(s.result),i=window.decryptBinary(j.value,p);typeof i=="string"?y.value=i:N(i,o.name.replace(".age",""))},s.readAsArrayBuffer(o)}),q.value=[])}function P(a){C.value=a}function Q(a){q.value=a}return(a,o)=>{const s=ne,p=se,i=oe,f=pe,g=ae,T=re,Y=ie;return v(),le(Y,{type:"card"},{default:r(()=>[l(f,{name:"keys",tab:e(t)("tools.age-crypto.text.generate-keys")},{default:r(()=>[l(p,{title:e(t)("tools.age-crypto.texts.title-private-key"),"mb-1":""},{default:r(()=>[l(s,{value:e(x),"onUpdate:value":o[0]||(o[0]=n=>c(x)?x.value=n:null),rows:"3",multiline:"",placeholder:e(t)("tools.age-crypto.texts.placeholder-your-private-key-will-be-generated-here")},null,8,["value","placeholder"])]),_:1},8,["title"]),l(p,{title:e(t)("tools.age-crypto.texts.title-public-key"),"mb-1":""},{default:r(()=>[l(s,{value:e(w),"onUpdate:value":o[1]||(o[1]=n=>c(w)?w.value=n:null),rows:"3",multiline:"",placeholder:e(t)("tools.age-crypto.texts.placeholder-your-public-key-will-be-generated-here")},null,8,["value","placeholder"])]),_:1},8,["title"]),l(i,{type:"primary",onClick:X},{default:r(()=>[_(d(e(t)("tools.age-crypto.texts.tag-generate-keys")),1)]),_:1})]),_:1},8,["tab"]),l(f,{name:"encrypt",tab:e(t)("tools.age-crypto.text.encrypt")},{default:r(()=>[l(p,{title:e(t)("tools.age-crypto.texts.title-public-keys"),"mb-1":""},{default:r(()=>[l(g,{value:e(k),"onUpdate:value":o[2]||(o[2]=n=>c(k)?k.value=n:null),type:"textarea",placeholder:e(t)("tools.age-crypto.texts.placeholder-recipient-key-or-keys-one-per-line"),required:""},null,8,["value","placeholder"])]),_:1},8,["title"]),l(p,{title:e(t)("tools.age-crypto.texts.title-message"),"mb-1":""},{default:r(()=>[l(g,{value:e(h),"onUpdate:value":o[3]||(o[3]=n=>c(h)?h.value=n:null),type:"textarea",placeholder:e(t)("tools.age-crypto.texts.placeholder-message-to-encrypt"),required:""},null,8,["value","placeholder"])]),_:1},8,["title"]),l(p,{title:e(t)("tools.age-crypto.texts.title-output"),"mb-1":""},{default:r(()=>[l(s,{value:e(U),"onUpdate:value":o[4]||(o[4]=n=>c(U)?U.value=n:null),rows:"3",multiline:"",placeholder:e(t)("tools.age-crypto.texts.placeholder-encrypted-output-will-be-generated-here")},null,8,["value","placeholder"])]),_:1},8,["title"]),l(i,{type:"primary",onClick:z},{default:r(()=>[_(d(e(t)("tools.age-crypto.texts.tag-encrypt")),1)]),_:1})]),_:1},8,["tab"]),l(f,{name:"encryptBinary",tab:e(t)("tools.age-crypto.text.encrypt-binary")},{default:r(()=>[l(p,{title:e(t)("tools.age-crypto.texts.title-public-keys"),"mb-1":""},{default:r(()=>[l(g,{value:e(B),"onUpdate:value":o[5]||(o[5]=n=>c(B)?B.value=n:null),type:"textarea",placeholder:e(t)("tools.age-crypto.texts.placeholder-recipient-key-or-keys-one-per-line"),required:""},null,8,["value","placeholder"])]),_:1},8,["title"]),l(p,{title:e(t)("tools.age-crypto.texts.title-files"),"mb-1":""},{default:r(()=>[l(T,{title:e(t)("tools.age-crypto.texts.title-drag-and-drop-files-here-or-click-to-select-some-files"),multiple:"",onFilesUpload:P},null,8,["title"]),E("ul",null,[(v(!0),L(I,null,G(e(C),(n,K)=>(v(),L("li",{key:K},d(n.name),1))),128))])]),_:1},8,["title"]),l(p,{title:e(t)("tools.age-crypto.texts.title-output"),"mb-1":""},{default:r(()=>[E("p",null,d(e(t)("tools.age-crypto.texts.tag-the-encrypted-files-will-be-downloaded")),1)]),_:1},8,["title"]),l(i,{type:"primary",onClick:H},{default:r(()=>[_(d(e(t)("tools.age-crypto.texts.tag-encrypt-binary")),1)]),_:1})]),_:1},8,["tab"]),l(f,{name:"decrypt",tab:e(t)("tools.age-crypto.text.decrypt")},{default:r(()=>[l(p,{title:e(t)("tools.age-crypto.texts.title-private-keys"),"mb-1":""},{default:r(()=>[l(g,{value:e(A),"onUpdate:value":o[6]||(o[6]=n=>c(A)?A.value=n:null),type:"textarea",placeholder:e(t)("tools.age-crypto.texts.placeholder-identity-key-or-keys-one-per-line"),required:""},null,8,["value","placeholder"])]),_:1},8,["title"]),l(p,{title:e(t)("tools.age-crypto.texts.title-encrypted-text"),"mb-1":""},{default:r(()=>[l(g,{value:e(R),"onUpdate:value":o[7]||(o[7]=n=>c(R)?R.value=n:null),type:"textarea",placeholder:e(t)("tools.age-crypto.texts.placeholder-paste-here-encrypted-text"),required:""},null,8,["value","placeholder"])]),_:1},8,["title"]),l(p,{title:e(t)("tools.age-crypto.texts.title-output"),"mb-1":""},{default:r(()=>[l(s,{value:e(F),"onUpdate:value":o[8]||(o[8]=n=>c(F)?F.value=n:null),rows:"3",multiline:"",placeholder:e(t)("tools.age-crypto.texts.placeholder-decrypted-output-will-be-generated-here")},null,8,["value","placeholder"])]),_:1},8,["title"]),l(i,{type:"primary",onClick:J},{default:r(()=>[_(d(e(t)("tools.age-crypto.texts.tag-decrypt")),1)]),_:1})]),_:1},8,["tab"]),l(f,{name:"decryptBinary",tab:e(t)("tools.age-crypto.text.decrypt-binary")},{default:r(()=>[l(p,{title:e(t)("tools.age-crypto.texts.title-private-keys"),"mb-1":""},{default:r(()=>[l(g,{value:e(j),"onUpdate:value":o[9]||(o[9]=n=>c(j)?j.value=n:null),type:"textarea",placeholder:e(t)("tools.age-crypto.texts.placeholder-identity-key-or-keys-one-per-line"),required:""},null,8,["value","placeholder"])]),_:1},8,["title"]),l(p,{title:e(t)("tools.age-crypto.texts.title-encrypted-files"),"mb-1":""},{default:r(()=>[l(T,{title:e(t)("tools.age-crypto.texts.title-drag-and-drop-files-here-or-click-to-select-some-files"),multiple:"",onFilesUpload:Q},null,8,["title"]),E("ul",null,[(v(!0),L(I,null,G(e(q),(n,K)=>(v(),L("li",{key:K},d(n.name),1))),128))])]),_:1},8,["title"]),l(p,{title:e(t)("tools.age-crypto.texts.title-output"),"mb-1":""},{default:r(()=>[E("p",null,d(e(t)("tools.age-crypto.texts.tag-the-decrypted-files-will-be-downloaded")),1)]),_:1},8,["title"]),l(i,{type:"primary",onClick:M},{default:r(()=>[_(d(e(t)("tools.age-crypto.texts.tag-decrypt-binary")),1)]),_:1})]),_:1},8,["tab"])]),_:1})}}});export{Ce as default};
