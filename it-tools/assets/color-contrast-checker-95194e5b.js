import{bF as ae,h as M,ao as oe,an as S,ar as R,aq as H,aE as re,d as J,au as se,u as Y,bz as ne,r as T,aG as ce,bA as ue,i as P,aw as ie,ay as fe,cj as de,a8 as me,bE as be,az as $,a0 as ge,am as U,o as C,c as ve,k as s,w as c,l,m as O,j as L,a6 as V,G as _,ad as A,a as j,ag as he,af as _e}from"./index-0c1fde36.js";import{_ as pe}from"./InputCopyable.vue_vue_type_script_setup_true_lang-294ac243.js";import{_ as xe}from"./ColorPicker-f5c5efe0.js";import{_ as ye}from"./FormItem-1b9a5952.js";import{_ as Ce}from"./Divider-5fc425b0.js";import{N as ke}from"./Tag-e75b8dae.js";import{_ as we}from"./p-77eb774b.js";import"./InputGroup-c4275982.js";import"./context-00991937.js";function Le(t){const{railColor:e}=t;return{itemColor:e,itemColorActive:"#FFCC33",sizeSmall:"16px",sizeMedium:"20px",sizeLarge:"24px"}}const Ae={name:"Rate",common:ae,self:Le},Me=Ae,Ne=()=>M("svg",{viewBox:"0 0 512 512"},M("path",{d:"M394 480a16 16 0 01-9.39-3L256 383.76 127.39 477a16 16 0 01-24.55-18.08L153 310.35 23 221.2a16 16 0 019-29.2h160.38l48.4-148.95a16 16 0 0130.44 0l48.4 149H480a16 16 0 019.05 29.2L359 310.35l50.13 148.53A16 16 0 01394 480z"})),Ve=oe("rate",{display:"inline-flex",flexWrap:"nowrap"},[S("&:hover",[R("item",`
 transition:
 transform .1s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),R("item",`
 position: relative;
 display: flex;
 transition:
 transform .1s var(--n-bezier),
 color .3s var(--n-bezier);
 transform: scale(1);
 font-size: var(--n-item-size);
 color: var(--n-item-color);
 `,[S("&:not(:first-child)",`
 margin-left: 6px;
 `),H("active",`
 color: var(--n-item-color-active);
 `)]),re("readonly",`
 cursor: pointer;
 `,[R("item",[S("&:hover",`
 transform: scale(1.05);
 `),S("&:active",`
 transform: scale(0.96);
 `)])]),R("half",`
 display: flex;
 transition: inherit;
 position: absolute;
 top: 0;
 left: 0;
 bottom: 0;
 width: 50%;
 overflow: hidden;
 color: rgba(255, 255, 255, 0);
 `,[H("active",`
 color: var(--n-item-color-active);
 `)])]),ze=Object.assign(Object.assign({},Y.props),{allowHalf:Boolean,count:{type:Number,default:5},value:Number,defaultValue:{type:Number,default:null},readonly:Boolean,size:{type:[String,Number],default:"medium"},clearable:Boolean,color:String,onClear:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),Se=J({name:"Rate",props:ze,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:o}=se(t),r=Y("Rate","-rate",Ve,Me,t,e),v=ne(t,"value"),p=T(t.defaultValue),x=T(null),a=ce(t),d=ue(v,p);function i(n){const{"onUpdate:value":f,onUpdateValue:b}=t,{nTriggerFormChange:N,nTriggerFormInput:w}=a;f&&$(f,n),b&&$(b,n),p.value=n,N(),w()}function m(n,f){return t.allowHalf?f.offsetX>=Math.floor(f.currentTarget.offsetWidth/2)?n+1:n+.5:n+1}let u=!1;function B(n,f){u||(x.value=m(n,f))}function I(){x.value=null}function z(n,f){var b;const{clearable:N}=t,w=m(n,f);N&&w===d.value?(u=!0,(b=t.onClear)===null||b===void 0||b.call(t),x.value=null,i(null)):i(w)}function g(){u=!1}const k=P(()=>{const{size:n}=t,{self:f}=r.value;return typeof n=="number"?`${n}px`:f[ie("size",n)]}),y=P(()=>{const{common:{cubicBezierEaseInOut:n},self:f}=r.value,{itemColor:b,itemColorActive:N}=f,{color:w}=t;return{"--n-bezier":n,"--n-item-color":b,"--n-item-color-active":w||N,"--n-item-size":k.value}}),h=o?fe("rate",P(()=>{const n=k.value,{color:f}=t;let b="";return n&&(b+=n[0]),f&&(b+=de(f)),b}),y,t):void 0;return{mergedClsPrefix:e,mergedValue:d,hoverIndex:x,handleMouseMove:B,handleClick:z,handleMouseLeave:I,handleMouseEnterSomeStar:g,cssVars:o?void 0:y,themeClass:h?.themeClass,onRender:h?.onRender}},render(){const{readonly:t,hoverIndex:e,mergedValue:o,mergedClsPrefix:r,onRender:v,$slots:{default:p}}=this;return v?.(),M("div",{class:[`${r}-rate`,{[`${r}-rate--readonly`]:t},this.themeClass],style:this.cssVars,onMouseleave:this.handleMouseLeave},me(this.count,(x,a)=>{const d=p?p({index:a}):M(be,{clsPrefix:r},{default:Ne}),i=e!==null?a+1<=e:a+1<=(o||0);return M("div",{key:a,class:[`${r}-rate__item`,i&&`${r}-rate__item--active`],onClick:t?void 0:m=>{this.handleClick(a,m)},onMouseenter:this.handleMouseEnterSomeStar,onMousemove:t?void 0:m=>{this.handleMouseMove(a,m)}},d,this.allowHalf?M("div",{class:[`${r}-rate__half`,{[`${r}-rate__half--active`]:!i&&e!==null?a+.5<=e:a+.5<=(o||0)}]},d):null)}))}}),Z=t=>t.charAt(0)==="#"?t.slice(1):t,ee=t=>t.length===3||t.length===4,Re=t=>t.length===4||t.length===8,Fe=t=>[3,4,6,8].some(e=>Z(t).length===e),Pe=t=>{const e=Z(t.trim());return Re(e)&&ee(e)?e.slice(0,3):e.slice(0,6)},te=(t,e,o=[])=>t.length>0?te(t.slice(e),e,[...o,t.slice(0,e).repeat(e===2?1:2)]):o;function W(t){if(t.length===0||!Fe(t.trim()))return[NaN,NaN,NaN];const e=Pe(t);return te(e,ee(e)?1:2).map(o=>parseInt(o,16))}const D=({level:t="AAA",size:e="normal"})=>({level:t??"AAA",size:e??"normal"});function F(t,e=[255,255,255],o){const r=le(t,e),v=r>=Ie(D({...o}));return{...D({...o}),score:r,pass:v}}function Be(t,e=[255,255,255]){return le(t,e)}const Ie=({level:t="AAA",size:e="normal"})=>t=="AAA"&&e==="normal"?7:t=="AAA"&&e==="large"?4.5:t=="AA"&&e==="large"?3:4.5;function E(t){const e=t/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function G(t){const e=E(t[0]),o=E(t[1]),r=E(t[2]);return .2126*e+.7152*o+.0722*r}function le(t,e=[255,255,255]){const o=G(t),r=G(e);return o>r?(o+.05)/(r+.05):(r+.05)/(o+.05)}const Ee=1.414,q=.022,He=5e-4,X=1.14,K=.027,Te=.1;function $e(t,e=[255,255,255]){return Ge(Ue(t,e)*100,1)}const Ue=(t,e)=>{const o=je(t,e);return Math.abs(o)<Te?0:o>0?o-K:o+K};function Oe(t){const e=Math.pow(t[0]/255,2.4)*.2126729,o=Math.pow(t[1]/255,2.4)*.7151522,r=Math.pow(t[2]/255,2.4)*.072175;return e+o+r}const Q=t=>{const e=Oe(t);return e>=q?e:e+Math.pow(q-e,Ee)},je=(t,e)=>{const o=Q(e),r=Q(t);return Math.abs(o-r)<He?0:r<o?We(r,o)*X:De(r,o)*X},We=(t,e)=>Math.pow(e,.56)-Math.pow(t,.57),De=(t,e)=>Math.pow(e,.65)-Math.pow(t,.62);function Ge(t,e=2,o=Math.pow(10,e)){return Math.round((t+Number.EPSILON)*o)/o+0}const qe={"max-w-600px":""},at=J({__name:"color-contrast-checker",setup(t){const{t:e}=ge(),o=U({tool:"color-constrast-checker",name:"fg",defaultValue:"#000"}),r=U({tool:"color-constrast-checker",name:"bg",defaultValue:"#fff"}),v=[{score:3,text:e("tools.color-contrast-checker.texts.text-very-poor"),bg:"#fbd0da",fg:"#5f071c",stars:1},{score:4.5,text:e("tools.color-contrast-checker.texts.text-poor"),bg:"#fbd0da",fg:"#5f071c",stars:2},{score:7,text:e("tools.color-contrast-checker.texts.text-good"),bg:"#fbf5d0",fg:"#5f5207",stars:3},{score:12,text:e("tools.color-contrast-checker.texts.text-very-good"),bg:"#d2fbd0",fg:"#0d5f07",stars:4},{score:9999,text:e("tools.color-contrast-checker.texts.text-super"),bg:"#d2fbd0",fg:"#0d5f07",stars:5}],p=[{score:4.5,bg:"#fbd0da",fg:"#5f071c",stars:1},{score:7,bg:"#fbf5d0",fg:"#5f5207",stars:2},{score:9999,bg:"#d2fbd0",fg:"#0d5f07",stars:3}],x=[{score:3,bg:"#fbd0da",fg:"#5f071c",stars:1},{score:4.5,bg:"#fbf5d0",fg:"#5f5207",stars:2},{score:9999,bg:"#d2fbd0",fg:"#0d5f07",stars:3}],a=P(()=>{try{const d=W(o.value),i=W(r.value),m=Be(i,d);return{wcag21ConstrastValue:m,aaNormal:F(i,d,{level:"AA",size:"normal"}).pass,aaaNormal:F(i,d,{level:"AAA",size:"normal"}).pass,aaLarge:F(i,d,{level:"AA",size:"large"}).pass,aaaLarge:F(i,d,{level:"AAA",size:"large"}).pass,level:v.find(u=>m<u.score),largeLevel:x.find(u=>m<u.score),smallLevel:p.find(u=>m<u.score),apcaContrastValue:$e(i,d),error:""}}catch(d){return{error:d.toString()}}});return(d,i)=>{const m=xe,u=ye,B=Ce,I=he,z=pe,g=ke,k=Se,y=_e,h=we;return C(),ve("div",qe,[s(u,{label:l(e)("tools.color-contrast-checker.texts.label-forecolor"),"label-placement":"left","mb-1":""},{default:c(()=>[s(m,{value:l(o),"onUpdate:value":i[0]||(i[0]=n=>O(o)?o.value=n:null),modes:["hex"],"show-alpha":!1},null,8,["value"])]),_:1},8,["label"]),s(u,{label:l(e)("tools.color-contrast-checker.texts.label-backcolor"),"label-placement":"left","mb-1":""},{default:c(()=>[s(m,{value:l(r),"onUpdate:value":i[1]||(i[1]=n=>O(r)?r.value=n:null),modes:["hex"],"show-alpha":!1},null,8,["value"])]),_:1},8,["label"]),s(B),l(a).error?(C(),L(I,{key:0},{default:c(()=>[V(_(l(a).error),1)]),_:1})):A("",!0),l(a).error?A("",!0):(C(),L(y,{key:1,title:l(e)("tools.color-contrast-checker.texts.title-wcag-2-1")},{default:c(()=>[s(z,{readonly:"",label:l(e)("tools.color-contrast-checker.texts.label-wcag-constrast"),"label-width":"130px","label-position":"left",value:l(a).wcag21ConstrastValue,"mb-3":""},null,8,["label","value"]),l(a).level?(C(),L(u,{key:0,label:l(e)("tools.color-contrast-checker.texts.label-contrast-quality"),"label-width":"130px","label-placement":"left"},{default:c(()=>[s(g,{max:5,color:{color:l(a).level.bg,textColor:l(a).level.fg,borderColor:l(a).level.fg},"mr-2":""},{default:c(()=>[j("span",null,_(l(a).wcag21ConstrastValue.toFixed(2))+" - "+_(l(a).level.text),1)]),_:1},8,["color"]),s(g,{max:5,color:{color:l(a).level.bg,textColor:l(a).level.fg,borderColor:l(a).level.fg}},{default:c(()=>[s(k,{count:5,readonly:"","default-value":l(a).level.stars,color:l(a).level.fg},null,8,["default-value","color"])]),_:1},8,["color"])]),_:1},8,["label"])):A("",!0),l(a).smallLevel?(C(),L(u,{key:1,label:l(e)("tools.color-contrast-checker.texts.label-small-texts"),"label-width":"130px","label-placement":"left"},{default:c(()=>[s(g,{color:{color:l(a).smallLevel.bg,textColor:l(a).smallLevel.fg,borderColor:l(a).smallLevel.fg}},{default:c(()=>[s(k,{count:3,readonly:"","default-value":l(a).smallLevel.stars,color:l(a).smallLevel.fg},null,8,["default-value","color"])]),_:1},8,["color"])]),_:1},8,["label"])):A("",!0),l(a).largeLevel?(C(),L(u,{key:2,label:l(e)("tools.color-contrast-checker.texts.label-large-texts"),"label-width":"130px","label-placement":"left"},{default:c(()=>[s(g,{color:{color:l(a).largeLevel.bg,textColor:l(a).largeLevel.fg,borderColor:l(a).largeLevel.fg}},{default:c(()=>[s(k,{count:3,readonly:"","default-value":l(a).largeLevel.stars,color:l(a).largeLevel.fg},null,8,["default-value","color"])]),_:1},8,["color"])]),_:1},8,["label"])):A("",!0),s(y,{title:l(e)("tools.color-contrast-checker.texts.title-normal-text")},{default:c(()=>[s(u,{label:l(e)("tools.color-contrast-checker.texts.label-wcag-2-1-aa"),"label-width":"130px","label-placement":"left"},{default:c(()=>[s(g,{bordered:!1,type:l(a).aaNormal?"success":"error"},{default:c(()=>[V(_(l(a).aaNormal?"Pass":"Fail"),1)]),_:1},8,["type"])]),_:1},8,["label"]),s(u,{label:l(e)("tools.color-contrast-checker.texts.label-wcag-2-1-aaa"),"label-width":"130px","label-placement":"left"},{default:c(()=>[s(g,{bordered:!1,type:l(a).aaaNormal?"success":"error"},{default:c(()=>[V(_(l(a).aaaNormal?"Pass":"Fail"),1)]),_:1},8,["type"])]),_:1},8,["label"])]),_:1},8,["title"]),s(y,{title:l(e)("tools.color-contrast-checker.texts.title-large-text")},{default:c(()=>[s(h,null,{default:c(()=>[j("i",null,_(l(e)("tools.color-contrast-checker.texts.tag-text-that-is-14pt-18-67px-and-bold-or-any-text-bigger-than-18pt-24px-is-defined-as-large-scale-text")),1)]),_:1}),s(u,{label:l(e)("tools.color-contrast-checker.texts.label-wcag-2-1-aa"),"label-width":"130px","label-placement":"left"},{default:c(()=>[s(g,{bordered:!1,type:l(a).aaLarge?"success":"error"},{default:c(()=>[V(_(l(a).aaLarge?"Pass":"Fail"),1)]),_:1},8,["type"])]),_:1},8,["label"]),s(u,{label:l(e)("tools.color-contrast-checker.texts.label-wcag-2-1-aaa"),"label-width":"130px","label-placement":"left"},{default:c(()=>[s(g,{bordered:!1,type:l(a).aaaLarge?"success":"error"},{default:c(()=>[V(_(l(a).aaaLarge?"Pass":"Fail"),1)]),_:1},8,["type"])]),_:1},8,["label"])]),_:1},8,["title"])]),_:1},8,["title"])),l(a).error?A("",!0):(C(),L(y,{key:2,title:l(e)("tools.color-contrast-checker.texts.title-apca")},{default:c(()=>[s(z,{readonly:"",label:l(e)("tools.color-contrast-checker.texts.label-apca-constrast"),"label-width":"130px","label-position":"left",value:l(a).apcaContrastValue,"mb-2":""},null,8,["label","value"])]),_:1},8,["title"]))])}}});export{at as default};
