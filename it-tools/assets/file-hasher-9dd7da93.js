import{d as P,a0 as U,r as H,ac as $,i as z,o as u,c as S,k as r,w as p,l as a,m as I,a as O,j as b,a6 as K,G as E,ad as v,a7 as F,a8 as T,aW as q,ae as G,af as J,ag as Q}from"./index-0c1fde36.js";import{d as X,e as Y,f as Z,g as ee,h as ae,i as h,j as te,k as se,l as oe,m as ne,n as re,o as le,p as d,q as ce,r as ie,s as ue,t as _e}from"./index.esm-96792a16.js";import{c as y}from"./index-e845e9df.js";import{_ as me}from"./InputCopyable.vue_vue_type_script_setup_true_lang-294ac243.js";import{c as pe}from"./hash-text.service-9de4e2c4.js";import{w as fe}from"./defaults-4d6daddf.js";import{_ as he}from"./Divider-5fc425b0.js";import{_ as de}from"./Spin-885f2a22.js";import{_ as Ae}from"./InputGroupLabel-d205d594.js";import{_ as we}from"./InputGroup-c4275982.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./index-892bd980.js";import"./browser-703720a1.js";import"./index-649b5bab.js";import"./index-a6f01dde.js";import"./inherits_browser-6f38ab1b.js";import"./index-0397ab6f.js";import"./index-fdbe2ce9.js";import"./string_decoder-8ac4312e.js";import"./hash-f152040d.js";const ge={"mt-3":"",flex:"","justify-center":""},k=64*1024*1024,$e=P({__name:"file-hasher",setup(He){const{t:l}=U(),c=H("idle"),A=H(null);async function M(){return{adler32:await X(),BLAKE2b:await Y(),BLAKE2s:await Z(),BLAKE3:await ee(),CRC32:await ae(),Keccak_224:await h(224),Keccak_256:await h(256),Keccak_384:await h(384),Keccak_512:await h(512),MD4:await te(),MD5:await se(),RIPEMD160:await oe(),SHA1:await ne(),SHA224:await re(),SHA256:await le(),SHA3_224:await d(224),SHA3_256:await d(256),SHA3_384:await d(384),SHA3_512:await d(512),SHA384:await ce(),SHA512:await ie(),SM3:await ue(),Whirlpool:await _e()}}const _={adler32:"",BLAKE2b:"",BLAKE2s:"",BLAKE3:"",CRC32:"",Keccak_224:"",Keccak_256:"",Keccak_384:"",Keccak_512:"",MD4:"",MD5:"",RIPEMD160:"",SHA1:"",SHA224:"",SHA256:"",SHA3_224:"",SHA3_256:"",SHA3_384:"",SHA3_512:"",SHA384:"",SHA512:"",SM3:"",Whirlpool:""},x=new FileReader;async function C(e,t){return new Promise((o,n)=>{x.onload=async s=>{const i=new Uint8Array(s.target?.result);for(const g of t)g.update(i);o()},x.readAsArrayBuffer(e)})}const w=Object.keys(_);async function D(e){const t=Math.floor(e.size/k),o=await M();for(let s=0;s<=t;s++){const i=e.slice(k*s,Math.min(k*(s+1),e.size));await C(i,Object.values(o))}const n={..._};for(const s of w)n[s]=o[s].digest();return Promise.resolve(n)}const B=H(_);async function L(e){A.value=e,c.value="processing";try{B.value=await D(e),c.value="done"}catch{c.value="error"}}const f=$({defaultValue:"Hex",storageName:"hash-text:encoding",name:"encoding"});function R(e,t){return t==="Bin"?pe(e.toString(y.enc.Hex)):e.toString(y.enc[t])}const V=z(()=>fe(()=>{const e=f.value,t=B.value,o=_;for(const n of w)o[n]=R(y.enc.Hex.parse(t[n]),e);return o},_));return(e,t)=>{const o=q,n=he,s=G,i=J,g=Q,W=de,N=Ae,j=we;return u(),S("div",null,[r(i,null,{default:p(()=>[r(o,{title:a(l)("tools.file-hasher.texts.title-drag-and-drop-a-file-here-or-click-to-select-a-file"),onFileUpload:L},null,8,["title"]),r(n),r(s,{value:a(f),"onUpdate:value":t[0]||(t[0]=m=>I(f)?f.value=m:null),"mb-4":"",label:a(l)("tools.file-hasher.texts.label-digest-encoding"),options:[{label:a(l)("tools.file-hasher.texts.label-binary-base-2"),value:"Bin"},{label:a(l)("tools.file-hasher.texts.label-hexadecimal-base-16"),value:"Hex"},{label:a(l)("tools.file-hasher.texts.label-base64-base-64"),value:"Base64"},{label:a(l)("tools.file-hasher.texts.label-base64url-base-64-with-url-safe-chars"),value:"Base64url"}]},null,8,["value","label","options"])]),_:1}),O("div",ge,[a(c)==="error"?(u(),b(g,{key:0,type:"error"},{default:p(()=>[K(" An error occured hashing file '"+E(a(A)?.name)+"'. ",1)]),_:1})):v("",!0),a(c)==="processing"?(u(),b(W,{key:1,size:"small"})):v("",!0)]),a(c)==="done"?(u(),b(i,{key:0,title:`Hashes of ${a(A)?.name}`},{default:p(()=>[(u(!0),S(F,null,T(a(w),m=>(u(),S("div",{key:m,style:{margin:"5px 0"}},[r(j,null,{default:p(()=>[r(N,{style:{flex:"0 0 120px"}},{default:p(()=>[K(E(m.toUpperCase()),1)]),_:2},1024),r(me,{value:a(V)[m],readonly:""},null,8,["value"])]),_:2},1024)]))),128))]),_:1},8,["title"])):v("",!0)])}}});export{$e as default};
