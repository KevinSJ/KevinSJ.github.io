import{B as Al}from"./index-a6f01dde.js";import{Q as ko,b as Il,p as mn}from"./index-0c1fde36.js";var Eo={exports:{}};(function(So,Cl){((yn,Bt)=>{So.exports=Bt()})(ko,function(){function yn(t,e,r){(e=(s=>typeof(s=((n,i)=>{if(typeof n!="object"||!n)return n;var c=n[Symbol.toPrimitive];if(c===void 0)return(i==="string"?String:Number)(n);if(typeof(c=c.call(n,i))!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")})(s,"string"))=="symbol"?s:s+"")(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}function Bt(t,e){var r,s=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,r)),s}function gn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bt(Object(r),!0).forEach(function(s){yn(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bt(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Oo(t,e){if(t==null)return{};var r,s=((c,f)=>{if(c==null)return{};var l,o={};for(l in c)if({}.hasOwnProperty.call(c,l)){if(f.indexOf(l)!==-1)continue;o[l]=c[l]}return o})(t,e);if(Object.getOwnPropertySymbols)for(var n=Object.getOwnPropertySymbols(t),i=0;i<n.length;i++)r=n[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(s[r]=t[r]);return s}function jr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Nr(t){var e,r;return Object.prototype.hasOwnProperty.call(t,"__esModule")?t:(typeof(e=t.default)=="function"?(r=function s(){var n=!1;try{n=this instanceof s}catch{}return n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)}).prototype=e.prototype:r={},Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var n=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,n.get?n:{enumerable:!0,get:function(){return t[s]}})}),r)}var vn,bn,xr={exports:{}};function wn(t,e){for(var r=0,s=t.length-1;0<=s;s--){var n=t[s];n==="."?t.splice(s,1):n===".."?(t.splice(s,1),r++):r&&(t.splice(s,1),r--)}if(e)for(;r--;)t.unshift("..");return t}function Ar(t){return Po.exec(t).slice(1)}var Po=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function Ut(){for(var t="",e=!1,r=arguments.length-1;-1<=r&&!e;r--){var s=0<=r?arguments[r]:"/";if(typeof s!="string")throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,e=s.charAt(0)==="/")}return(e?"/":"")+(t=wn(Cr(t.split("/"),function(n){return!!n}),!e).join("/"))||"."}function Ir(t){var e=Tr(t),r=jo(t,-1)==="/";return(t=(t=wn(Cr(t.split("/"),function(s){return!!s}),!e).join("/"))||e?t:".")&&r&&(t+="/"),(e?"/":"")+t}function Tr(t){return t.charAt(0)==="/"}function _n(){return Ir(Cr(Array.prototype.slice.call(arguments,0),function(t,e){if(typeof t!="string")throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))}function $n(t,e){function r(o){for(var a=0;a<o.length&&o[a]==="";a++);for(var h=o.length-1;0<=h&&o[h]==="";h--);return h<a?[]:o.slice(a,h-a+1)}t=Ut(t).substr(1),e=Ut(e).substr(1);for(var s=r(t.split("/")),n=r(e.split("/")),i=Math.min(s.length,n.length),c=i,f=0;f<i;f++)if(s[f]!==n[f]){c=f;break}for(var l=[],f=c;f<s.length;f++)l.push("..");return(l=l.concat(n.slice(c))).join("/")}function kn(r){var r=Ar(r),e=r[0],r=r[1];return e||r?e+(r=r&&r.substr(0,r.length-1)):"."}function En(t,e){return t=Ar(t)[2],t=e&&t.substr(-1*e.length)===e?t.substr(0,t.length-e.length):t}function Sn(t){return Ar(t)[3]}var ot={extname:Sn,basename:En,dirname:kn,sep:"/",delimiter:":",relative:$n,join:_n,isAbsolute:Tr,normalize:Ir,resolve:Ut};function Cr(t,e){if(t.filter)return t.filter(e);for(var r=[],s=0;s<t.length;s++)e(t[s],s,t)&&r.push(t[s]);return r}var On,jo="ab".substr(-1)==="b"?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)},ot=Nr(Object.freeze({__proto__:null,basename:En,default:ot,delimiter:":",dirname:kn,extname:Sn,isAbsolute:Tr,join:_n,normalize:Ir,relative:$n,resolve:Ut,sep:"/"})),Ft={env:{}},Je=typeof Object.create=="function"?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;function r(){}r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t},No=/%[sdj%]/g;function zt(t){if(!bt(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(Ee(arguments[r]));return e.join(" ")}for(var r=1,s=arguments,n=s.length,i=String(t).replace(No,function(l){if(l==="%%")return"%";if(n<=r)return l;switch(l){case"%s":return String(s[r++]);case"%d":return Number(s[r++]);case"%j":try{return JSON.stringify(s[r++])}catch{return"[Circular]"}default:return l}}),c=s[r];r<n;c=s[++r])vt(c)||!Ke(c)?i+=" "+c:i+=" "+Ee(c);return i}function Mr(t,e){var r;return Se(ko.process)?function(){return Mr(t,e).apply(this,arguments)}:Ft.noDeprecation===!0?t:(r=!1,function(){if(!r){if(Ft.throwDeprecation)throw new Error(e);Ft.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)})}var Lr,Gt={};function Pn(t){return Se(Lr)&&(Lr=Ft.env.NODE_DEBUG||""),t=t.toUpperCase(),Gt[t]||(new RegExp("\\b"+t+"\\b","i").test(Lr)?Gt[t]=function(){var e=zt.apply(null,arguments);console.error("%s %d: %s",t,0,e)}:Gt[t]=function(){}),Gt[t]}function Ee(t,e){var r={seen:[],stylize:Ao};return 3<=arguments.length&&(r.depth=arguments[2]),4<=arguments.length&&(r.colors=arguments[3]),Jt(e)?r.showHidden=e:e&&Fr(r,e),Se(r.showHidden)&&(r.showHidden=!1),Se(r.depth)&&(r.depth=2),Se(r.colors)&&(r.colors=!1),Se(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=xo),Rr(r,t,r.depth)}function xo(t,e){return e=Ee.styles[e],e?"\x1B["+Ee.colors[e][0]+"m"+t+"\x1B["+Ee.colors[e][1]+"m":t}function Ao(t,e){return t}function Rr(t,e,r){if(t.customInspect&&e&&$t(e.inspect)&&e.inspect!==Ee&&(!e.constructor||e.constructor.prototype!==e))return bt(n=e.inspect(r,t))?n:Rr(t,n,r);var n=((a,h)=>{var d;return Se(h)?a.stylize("undefined","undefined"):bt(h)?(d="'"+JSON.stringify(h).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",a.stylize(d,"string")):Kr(h)?a.stylize(""+h,"number"):Jt(h)?a.stylize(""+h,"boolean"):vt(h)?a.stylize("null","null"):void 0})(t,e);if(n)return n;var s,n=Object.keys(e),i=(s={},n.forEach(function(a,h){s[a]=!0}),s);if(t.showHidden&&(n=Object.getOwnPropertyNames(e)),_t(e)&&(0<=n.indexOf("message")||0<=n.indexOf("description")))return Dr(e);if(n.length===0){if($t(e))return c=e.name?": "+e.name:"",t.stylize("[Function"+c+"]","special");if(wt(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Ht(e))return t.stylize(Date.prototype.toString.call(e),"date");if(_t(e))return Dr(e)}var c="",f=!1,l=["{","}"];if(qr(e)&&(f=!0,l=["[","]"]),$t(e)&&(c=" [Function"+(e.name?": "+e.name:"")+"]"),wt(e)&&(c=" "+RegExp.prototype.toString.call(e)),Ht(e)&&(c=" "+Date.prototype.toUTCString.call(e)),_t(e)&&(c=" "+Dr(e)),n.length===0&&(!f||e.length==0))return l[0]+c+l[1];if(r<0)return wt(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e),o=f?((a,h,d,p,u)=>{for(var y=[],g=0,b=h.length;g<b;++g)Tn(h,String(g))?y.push(Vr(a,h,d,p,String(g),!0)):y.push("");return u.forEach(function(m){m.match(/^\d+$/)||y.push(Vr(a,h,d,p,m,!0))}),y})(t,e,r,i,n):n.map(function(a){return Vr(t,e,r,i,a,f)}),t.seen.pop();var o;return 60<o.reduce(function(a,h){return h.indexOf(`
`),a+h.replace(/\u001b\[\d\d?m/g,"").length+1},0)?l[0]+(c===""?"":c+`
 `)+" "+o.join(`,
  `)+" "+l[1]:l[0]+c+" "+o.join(", ")+" "+l[1]}function Dr(t){return"["+Error.prototype.toString.call(t)+"]"}function Vr(t,l,r,s,n,i){var c,f,l=Object.getOwnPropertyDescriptor(l,n)||{value:l[n]};if(l.get?f=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(f=t.stylize("[Setter]","special")),Tn(s,n)||(c="["+n+"]"),f||(t.seen.indexOf(l.value)<0?-1<(f=Rr(t,l.value,vt(r)?null:r-1)).indexOf(`
`)&&(f=i?f.split(`
`).map(function(o){return"  "+o}).join(`
`).substr(2):`
`+f.split(`
`).map(function(o){return"   "+o}).join(`
`)):f=t.stylize("[Circular]","special")),Se(c)){if(i&&n.match(/^\d+$/))return f;c=(c=JSON.stringify(""+n)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(c=c.substr(1,c.length-2),t.stylize(c,"name")):(c=c.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),t.stylize(c,"string"))}return c+": "+f}function qr(t){return Array.isArray(t)}function Jt(t){return typeof t=="boolean"}function vt(t){return t===null}function jn(t){return t==null}function Kr(t){return typeof t=="number"}function bt(t){return typeof t=="string"}function Nn(t){return typeof t=="symbol"}function Se(t){return t===void 0}function wt(t){return Ke(t)&&Br(t)==="[object RegExp]"}function Ke(t){return typeof t=="object"&&t!==null}function Ht(t){return Ke(t)&&Br(t)==="[object Date]"}function _t(t){return Ke(t)&&(Br(t)==="[object Error]"||t instanceof Error)}function $t(t){return typeof t=="function"}function xn(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||t===void 0}function An(t){return Al.isBuffer(t)}function Br(t){return Object.prototype.toString.call(t)}function Ur(t){return t<10?"0"+t.toString(10):t.toString(10)}Ee.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Ee.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var Io=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function In(){var t,e;console.log("%s - %s",(t=new Date,e=[Ur(t.getHours()),Ur(t.getMinutes()),Ur(t.getSeconds())].join(":"),[t.getDate(),Io[t.getMonth()],e].join(" ")),zt.apply(null,arguments))}function Fr(t,e){if(e&&Ke(e))for(var r=Object.keys(e),s=r.length;s--;)t[r[s]]=e[r[s]];return t}function Tn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Cn,kt,Mn,Ze,Ln,Rn,Je=Nr(Object.freeze({__proto__:null,_extend:Fr,debuglog:Pn,default:{inherits:Je,_extend:Fr,log:In,isBuffer:An,isPrimitive:xn,isFunction:$t,isError:_t,isDate:Ht,isObject:Ke,isRegExp:wt,isUndefined:Se,isSymbol:Nn,isString:bt,isNumber:Kr,isNullOrUndefined:jn,isNull:vt,isBoolean:Jt,isArray:qr,inspect:Ee,deprecate:Mr,format:zt,debuglog:Pn},deprecate:Mr,format:zt,inherits:Je,inspect:Ee,isArray:qr,isBoolean:Jt,isBuffer:An,isDate:Ht,isError:_t,isFunction:$t,isNull:vt,isNullOrUndefined:jn,isNumber:Kr,isObject:Ke,isPrimitive:xn,isRegExp:wt,isString:bt,isSymbol:Nn,isUndefined:Se,log:In}));function Dn(t,e){e=e||{},t=Ln(t);for(var r,s,n,i,c,f,l=(L=>{var D=[],K=!0,F={};for(Object.keys(L).forEach(function(Y){D.push([].concat(L[Y],Y))});K;){K=!1;for(var z=0;z<D.length;z++)for(var H=z+1;H<D.length;H++)if(D[z].filter(function(Y){return D[H].indexOf(Y)!==-1}).length){D[z]=D[z].concat(D[H]),D.splice(H,1),K=!0;break}}return D.forEach(function(Y){Y=Y.filter(function(ce,te,Kt){return Kt.indexOf(ce)===te}),F[Y.pop()]=Y}),F})(e.alias||{}),o=Object.assign({"short-option-groups":!0,"camel-case-expansion":!0,"dot-notation":!0,"parse-numbers":!0,"boolean-negation":!0,"negation-prefix":"no-","duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"populate--":!1,"combine-arrays":!1,"set-placeholder-key":!1,"halt-at-non-option":!1,"strip-aliased":!1,"strip-dashed":!1},e.configuration),a=e.default||{},h=e.configObjects||[],d=e.envPrefix,p=o["populate--"],u=p?"--":"_",y={},g=e.__||Rn.format,b=null,m={aliases:{},arrays:{},bools:{},strings:{},numbers:{},counts:{},normalize:{},configs:{},defaulted:{},nargs:{},coercions:{},keys:[]},$=/^-[0-9]+(\.[0-9]+)?/,E=new RegExp("^--"+o["negation-prefix"]+"(.+)"),O=([].concat(e.array).filter(Boolean).forEach(function(K){var D=K.key||K,K=Object.keys(K).map(function(F){return{boolean:"bools",string:"strings",number:"numbers"}[F]}).filter(Boolean).pop();K&&(m[K][D]=!0),m.arrays[D]=!0,m.keys.push(D)}),[].concat(e.boolean).filter(Boolean).forEach(function(L){m.bools[L]=!0,m.keys.push(L)}),[].concat(e.string).filter(Boolean).forEach(function(L){m.strings[L]=!0,m.keys.push(L)}),[].concat(e.number).filter(Boolean).forEach(function(L){m.numbers[L]=!0,m.keys.push(L)}),[].concat(e.count).filter(Boolean).forEach(function(L){m.counts[L]=!0,m.keys.push(L)}),[].concat(e.normalize).filter(Boolean).forEach(function(L){m.normalize[L]=!0,m.keys.push(L)}),Object.keys(e.narg||{}).forEach(function(L){m.nargs[L]=e.narg[L],m.keys.push(L)}),Object.keys(e.coerce||{}).forEach(function(L){m.coercions[L]=e.coerce[L],m.keys.push(L)}),Array.isArray(e.config)||typeof e.config=="string"?[].concat(e.config).filter(Boolean).forEach(function(L){m.configs[L]=!0}):Object.keys(e.config||{}).forEach(function(L){m.configs[L]=e.config[L]}),[e.key,l,e.default,m.arrays].forEach(function(L){Object.keys(L||{}).forEach(function(D){m.aliases[D]||(m.aliases[D]=[].concat(l[D]||[]),m.aliases[D].concat(D).forEach(function(K){/-/.test(K)&&o["camel-case-expansion"]&&(K=kt(K))!==D&&m.aliases[D].indexOf(K)===-1&&(m.aliases[D].push(K),y[K]=!0)}),m.aliases[D].concat(D).forEach(function(K){1<K.length&&/[A-Z]/.test(K)&&o["camel-case-expansion"]&&(K=Mn(K,"-"))!==D&&m.aliases[D].indexOf(K)===-1&&(m.aliases[D].push(K),y[K]=!0)}),m.aliases[D].forEach(function(K){m.aliases[K]=[D].concat(m.aliases[D].filter(function(F){return K!==F}))}))})}),Object.keys(a).forEach(function(L){(m.aliases[L]||[]).forEach(function(D){a[D]=a[L]})}),{_:[]}),x=(Object.keys(m.bools).forEach(function(L){Object.prototype.hasOwnProperty.call(a,L)&&(T(L,a[L]),[].concat(m.aliases[L]||[],L).forEach(function(D){m.defaulted[D]=!0}))}),[]),M=0;M<t.length;M++){var q,V,A,R,I=t[M];if(I.match(/^--.+=/)||!o["short-option-groups"]&&I.match(/^-.+=/))J((V=I.match(/^--?([^=]+)=([\s\S]*)$/))[1],m.nargs)?(t.splice(M+1,0,V[2]),M=P(M,V[1],t)):J(V[1],m.arrays)&&t.length>M+1?(t.splice(M+1,0,V[2]),M=N(M,V[1],t)):T(V[1],V[2]);else if(I.match(E)&&o["boolean-negation"])T(q=I.match(E)[1],!1);else if(I.match(/^--.+/)||!o["short-option-groups"]&&I.match(/^-[^-]+/))J(q=I.match(/^--?(.+)/)[1],m.nargs)?M=P(M,q,t):J(q,m.arrays)&&t.length>M+1?M=N(M,q,t):!((A=m.nargs[q]===0?void 0:t[M+1])===void 0||A.match(/^-/)&&!A.match($)||J(q,m.bools)||J(q,m.counts))||/^(true|false)$/.test(A)?(T(q,A),M++):T(q,le(q));else if(I.match(/^-.\..+=/))T((V=I.match(/^-([^=]+)=([\s\S]*)$/))[1],V[2]);else if(I.match(/^-.\..+/))A=t[M+1],q=I.match(/^-(.\..+)/)[1],A===void 0||A.match(/^-/)||J(q,m.bools)||J(q,m.counts)?T(q,le(q)):(T(q,A),M++);else if(I.match(/^-[^-]+/)&&!I.match($)){for(var v=I.slice(1,-1).split(""),k=!1,S=0;S<v.length;S++){if(A=I.slice(S+2),v[S+1]&&v[S+1]==="="){R=I.slice(S+3),J(q=v[S],m.nargs)?(t.splice(M+1,0,R),M=P(M,q,t)):J(q,m.arrays)&&t.length>M+1?(t.splice(M+1,0,R),M=N(M,q,t)):T(q,R),k=!0;break}if(A==="-")T(v[S],A);else{if(/[A-Za-z]/.test(v[S])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(A)){T(v[S],A),k=!0;break}if(v[S+1]&&v[S+1].match(/\W/)){T(v[S],A),k=!0;break}T(v[S],le(v[S]))}}q=I.slice(-1)[0],k||q==="-"||(J(q,m.nargs)?M=P(M,q,t):J(q,m.arrays)&&t.length>M+1?M=N(M,q,t):!((A=t[M+1])===void 0||/^(-|--)[^-]/.test(A)&&!A.match($)||J(q,m.bools)||J(q,m.counts))||/^(true|false)$/.test(A)?(T(q,A),M++):T(q,le(q)))}else{if(I==="--"){x=t.slice(M+1);break}if(o["halt-at-non-option"]){x=t.slice(M);break}O._.push(w("_",I))}}function P(L,D,K){for(var F=J(D,m.nargs),z=0,H=L+1;H<K.length&&!K[H].match(/^-[^0-9]/);H++)z++;z<F&&(b=Error(g("Not enough arguments following: %s",D)));var Y=Math.min(z,F);for(H=L+1;H<Y+L+1;H++)T(D,K[H]);return L+Y}function N(L,D,K){for(var F=L+1,z=[],H=0<L,Y=L+1;Y<K.length;Y++){if(/^-/.test(K[Y])&&!$.test(K[Y])){Y===F&&T(D,ye("array")),H=!0;break}L=Y,z.push(K[Y])}return H?T(D,z.map(function(ce){return _(D,ce)})):z.forEach(function(ce){T(D,ce)}),L}function T(L,D){[].concat(m.aliases[L]||[],L).forEach(function(H){delete m.defaulted[H]}),/-/.test(L)&&o["camel-case-expansion"]&&(K=L.split(".").map(function(H){return kt(H)}).join("."),function H(Y,ce){m.aliases[Y]&&m.aliases[Y].length||(m.aliases[Y]=[ce],y[ce]=!0),m.aliases[ce]&&m.aliases[ce].length||H(ce,Y)}(L,K));var K,F=_(L,D),z=L.split(".");Q(O,z,F),m.aliases[L]&&m.aliases[L].forEach&&m.aliases[L].forEach(function(H){H=H.split("."),Q(O,H,F)}),1<z.length&&o["dot-notation"]&&(m.aliases[z[0]]||[]).forEach(function(H){H=H.split(".");var Y=[].concat(z);Y.shift(),H=H.concat(Y),Q(O,H,F)}),J(L,m.normalize)&&!J(L,m.arrays)&&[L].concat(m.aliases[L]||[]).forEach(function(H){O.__defineSetter__(H,function(Y){D=Ze.normalize(Y)}),O.__defineGetter__(H,function(){return typeof D=="string"?Ze.normalize(D):D})})}function _(L,D){typeof D!="string"||D[0]!=="'"&&D[0]!=='"'||D[D.length-1]!==D[0]||(D=D.substring(1,D.length-1));var K=w(L,D=(J(L,m.bools)||J(L,m.counts))&&typeof D=="string"?D==="true":D);return J(L,m.counts)&&(we(K)||typeof K=="boolean")&&(K=zr),K=J(L,m.normalize)&&J(L,m.arrays)?Array.isArray(D)?D.map(Ze.normalize):Ze.normalize(D):K}function w(L,D){var K;return D=J(L,m.strings)||J(L,m.coercions)||!((K=D)!=null&&(typeof K=="number"||/^0x[0-9a-f]+$/i.test(K)||!(1<K.length&&K[0]==="0")&&/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(K))&&o["parse-numbers"]&&Number.isSafeInteger(Math.floor(D))||!we(D)&&J(L,m.numbers))?D:Number(D)}function j(L,D){Object.keys(L).forEach(function(z){var F=L[z],z=D?D+"."+z:z;typeof F=="object"&&F!==null&&!Array.isArray(F)&&o["dot-notation"]?j(F,z):(!G(O,z.split("."))||m.defaulted[z]||m.arrays[z]&&o["combine-arrays"])&&T(z,F)})}function C(L,D){var K;d!==void 0&&(K=typeof d=="string"?d:"",Object.keys(mn.env).forEach(function(F){var z;K!==""&&F.lastIndexOf(K,0)!==0||(z=F.split("__").map(function(H,Y){return Y===0&&(H=H.substring(K.length)),kt(H)}),!(D&&m.configs[z.join(".")]||!D))||G(L,z)&&!m.defaulted[z.join(".")]||T(z.join("."),mn.env[F])}))}function B(L,D,K){Object.keys(K).forEach(function(F){G(L,F.split("."))||(Q(L,F.split("."),K[F]),(D[F]||[]).forEach(function(z){G(L,z.split("."))||Q(L,z.split("."),K[F])}))})}function G(F,D){var K=F,F=((D=o["dot-notation"]?D:[D.join(".")]).slice(0,-1).forEach(function(z){K=K[z]||{}}),D[D.length-1]);return typeof K=="object"&&F in K}function Q(z,D,K){var F=z,z=((D=o["dot-notation"]?D:[D.join(".")]).slice(0,-1).forEach(function(te,Kt){te=qn(te),typeof F=="object"&&F[te]===void 0&&(F[te]={}),F=typeof F[te]!="object"||Array.isArray(F[te])?(Array.isArray(F[te])?F[te].push({}):F[te]=[F[te],{}],F[te][F[te].length-1]):F[te]}),qn(D[D.length-1])),H=J(D.join("."),m.arrays),Y=Array.isArray(K);let ce=o["duplicate-arguments-array"];!ce&&J(z,m.nargs)&&(ce=!0,!we(F[z])&&m.nargs[z]===1||Array.isArray(F[z])&&F[z].length===m.nargs[z])&&(F[z]=void 0),K===zr?F[z]=zr(F[z]):Array.isArray(F[z])?ce&&H&&Y?F[z]=o["flatten-duplicate-arrays"]?F[z].concat(K):(Array.isArray(F[z][0])?F[z]:[F[z]]).concat([K]):ce||!!H!=!!Y?F[z]=F[z].concat([K]):F[z]=K:F[z]===void 0&&H?F[z]=Y?K:[K]:ce&&!(F[z]===void 0||J(z,m.bools)||J(D.join("."),m.bools)||J(z,m.counts))?F[z]=[F[z],K]:F[z]=K}function J(L,D){var K=!1;return[].concat(m.aliases[L]||[],L).forEach(function(F){D[F]&&(K=D[F])}),K}function le(L){return!J(L,m.bools)&&!J(L,m.counts)&&""+L in a?a[L]:ye((D=>{var K="boolean";return J(D,m.strings)?K="string":J(D,m.numbers)?K="number":J(D,m.arrays)&&(K="array"),K})(L))}function ye(L){return{boolean:!0,string:"",number:void 0,array:[]}[L]}function we(L){return L===void 0}return C(O,!0),C(O,!1),r=O,B(s={},m.aliases,a),Object.keys(m.configs).forEach(function(L){var D=r[L]||s[L];if(D)try{var K=null,F=Ze.resolve(mn.cwd(),D);if(typeof m.configs[L]=="function"){try{K=m.configs[L](F)}catch(z){K=z}if(K instanceof Error)return void(b=K)}else K=(z=>{throw new Error('Could not dynamically require "'+z+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')})(F);j(K)}catch{r[L]&&(b=Error(g("Invalid JSON config file: %s",D)))}}),h!==void 0&&h.forEach(function(L){j(L)}),B(O,m.aliases,a),n=O,c={},Object.keys(n).forEach(function(L){if(!c.hasOwnProperty(L)&&typeof(i=J(L,m.coercions))=="function")try{var D=i(n[L]);[].concat(m.aliases[L]||[],L).forEach(K=>{c[K]=n[K]=D})}catch(K){b=K}}),o["set-placeholder-key"]&&(f=O,m.keys.forEach(L=>{~L.indexOf(".")||f[L]===void 0&&(f[L]=void 0)})),Object.keys(m.counts).forEach(function(L){G(O,L.split("."))||T(L,0)}),p&&x.length&&(O[u]=[]),x.forEach(function(L){O[u].push(L)}),o["camel-case-expansion"]&&o["strip-dashed"]&&Object.keys(O).filter(L=>L!=="--"&&L.includes("-")).forEach(L=>{delete O[L]}),o["strip-aliased"]&&[].concat(...Object.keys(l).map(L=>l[L])).forEach(L=>{o["camel-case-expansion"]&&delete O[L.split(".").map(D=>kt(D)).join(".")],delete O[L]}),{argv:O,error:b,aliases:m.aliases,newAliases:y,configuration:o}}function zr(t){return t!==void 0?t+1:1}function Vn(t,e){return Dn(t.slice(),e).argv}function qn(t){return t==="__proto__"?"___proto___":t}He||(He=1,kt=(()=>{if(!vn){vn=1;var t=(e,r)=>{if(typeof e!="string"&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");return r=Object.assign({pascalCase:!1},r),(e=Array.isArray(e)?e.map(s=>s.trim()).filter(s=>s.length).join("-"):e.trim()).length===0?"":e.length===1?r.pascalCase?e.toUpperCase():e.toLowerCase():(e=(e=e!==e.toLowerCase()?(s=>{let n=!1,i=!1,c=!1;for(let l=0;l<s.length;l++){var f=s[l];n&&/[a-zA-Z]/.test(f)&&f.toUpperCase()===f?(s=s.slice(0,l)+"-"+s.slice(l),n=!1,c=i,i=!0,l++):i&&c&&/[a-zA-Z]/.test(f)&&f.toLowerCase()===f?(s=s.slice(0,l-1)+"-"+s.slice(l-1),c=i,i=!1,n=!0):(n=f.toLowerCase()===f&&f.toUpperCase()!==f,c=i,i=f.toUpperCase()===f&&f.toLowerCase()!==f)}return s})(e):e).replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(s,n)=>n.toUpperCase()).replace(/\d+(\w|$)/g,s=>s.toUpperCase()),e=e,r.pascalCase?e.charAt(0).toUpperCase()+e.slice(1):e)};xr.exports=t,xr.exports.default=t}return xr.exports})(),ar||(ar=1,bn=function(t,e){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/([a-z\d])([A-Z])/g,"$1"+(e=e===void 0?"_":e)+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()}),Mn=bn,Ze=ot,or||(or=1,On=function(t){if(Array.isArray(t))return t.map(f=>typeof f!="string"?f+"":f);t=t.trim();for(var e,r=0,s=null,n=null,i=[],c=0;c<t.length;c++)e=s,(s=t.charAt(c))!==" "||n?(s===n?n=null:s!=="'"&&s!=='"'||(n=n||s),i[r]||(i[r]=""),i[r]+=s):e!==" "&&r++;return i}),Ln=On,Rn=Je,Vn.detailed=function(t,e){return Dn(t.slice(),e)},Cn=Vn);function To(t){return!(!(e=t)||typeof e!="object"||(e=t,(t=Object.prototype.toString.call(e))==="[object RegExp]")||t==="[object Date]"||(r=>r.$$typeof===Mo)(e));var e}var Co=jr(Cn),Mo=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function Wt(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Et(Array.isArray(t)?[]:{},t,e):t}function Lo(t,e,r){return t.concat(e).map(function(s){return Wt(s,r)})}function Et(t,e,r){(r=r||{}).arrayMerge=r.arrayMerge||Lo,r.isMergeableObject=r.isMergeableObject||To;var s,n,i,c,f=Array.isArray(e);return f===Array.isArray(t)?f?r.arrayMerge(t,e,r):(s=t,n=e,c={},(i=r).isMergeableObject(s)&&Object.keys(s).forEach(function(l){c[l]=Wt(s[l],i)}),Object.keys(n).forEach(function(l){i.isMergeableObject(n[l])&&s[l]?c[l]=Et(s[l],n[l],i):c[l]=Wt(n[l],i)}),c):Wt(e,r)}Et.all=function(t,e){if(Array.isArray(t))return t.reduce(function(r,s){return Et(r,s,e)},{});throw new Error("first argument should be an array")};var St=Et,Kn={exports:{}};let Gr=Symbol.for("yaml.alias"),Jr=Symbol.for("yaml.document"),Be=Symbol.for("yaml.map"),Bn=Symbol.for("yaml.pair"),je=Symbol.for("yaml.scalar"),Xe=Symbol.for("yaml.seq"),ge=Symbol.for("yaml.node.type"),Ne=t=>!!t&&typeof t=="object"&&t[ge]===Gr,Ce=t=>!!t&&typeof t=="object"&&t[ge]===Jr,Ue=t=>!!t&&typeof t=="object"&&t[ge]===Be,ie=t=>!!t&&typeof t=="object"&&t[ge]===Bn,re=t=>!!t&&typeof t=="object"&&t[ge]===je,Fe=t=>!!t&&typeof t=="object"&&t[ge]===Xe;function ae(t){if(t&&typeof t=="object")switch(t[ge]){case Be:case Xe:return!0}return!1}function oe(t){if(t&&typeof t=="object")switch(t[ge]){case Gr:case Be:case je:case Xe:return!0}return!1}let Un=t=>(re(t)||ae(t))&&!!t.anchor,fe=Symbol("break visit");var He=Symbol("skip children");let Oe=Symbol("remove node");function Me(t,e){e=Fn(e),Ce(t)?et(null,t.contents,e,Object.freeze([t]))===Oe&&(t.contents=null):et(null,t,e,Object.freeze([]))}function et(t,e,r,s){var n=zn(t,e,r,s);if(oe(n)||ie(n))return Gn(t,s,n),et(t,n,r,s);if(typeof n!="symbol"){if(ae(e)){s=Object.freeze(s.concat(e));for(let c=0;c<e.items.length;++c){var i=et(c,e.items[c],r,s);if(typeof i=="number")c=i-1;else{if(i===fe)return fe;i===Oe&&(e.items.splice(c,1),--c)}}}else if(ie(e)){if(s=Object.freeze(s.concat(e)),t=et("key",e.key,r,s),t===fe||(t===Oe&&(e.key=null),t=et("value",e.value,r,s),t===fe))return fe;t===Oe&&(e.value=null)}}return n}async function Ot(t,e){e=Fn(e),Ce(t)?await tt(null,t.contents,e,Object.freeze([t]))===Oe&&(t.contents=null):await tt(null,t,e,Object.freeze([]))}async function tt(t,e,r,s){var n=await zn(t,e,r,s);if(oe(n)||ie(n))return Gn(t,s,n),tt(t,n,r,s);if(typeof n!="symbol"){if(ae(e)){s=Object.freeze(s.concat(e));for(let c=0;c<e.items.length;++c){var i=await tt(c,e.items[c],r,s);if(typeof i=="number")c=i-1;else{if(i===fe)return fe;i===Oe&&(e.items.splice(c,1),--c)}}}else if(ie(e)){if(s=Object.freeze(s.concat(e)),t=await tt("key",e.key,r,s),t===fe||(t===Oe&&(e.key=null),t=await tt("value",e.value,r,s),t===fe))return fe;t===Oe&&(e.value=null)}}return n}function Fn(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function zn(t,e,r,s){return typeof r=="function"?r(t,e,s):Ue(e)?r.Map?.(t,e,s):Fe(e)?r.Seq?.(t,e,s):ie(e)?r.Pair?.(t,e,s):re(e)?r.Scalar?.(t,e,s):Ne(e)?r.Alias?.(t,e,s):void 0}function Gn(t,e,r){if(e=e[e.length-1],ae(e))e.items[t]=r;else if(ie(e))t==="key"?e.key=r:e.value=r;else{if(!Ce(e))throw t=Ne(e)?"alias":"scalar",new Error(`Cannot replace node with ${t} parent`);e.contents=r}}Me.BREAK=fe,Me.SKIP=He,Me.REMOVE=Oe,Ot.BREAK=fe,Ot.SKIP=He,Ot.REMOVE=Oe;let Ro={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"};class de{constructor(e,r){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},de.defaultYaml,e),this.tags=Object.assign({},de.defaultTags,r)}clone(){var e=new de(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){var e=new de(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:de.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},de.defaultTags)}return e}add(e,r){this.atNextDocument&&(this.yaml={explicit:de.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},de.defaultTags),this.atNextDocument=!1);var s,n,i=e.trim().split(/[ \t]+/),c=i.shift();switch(c){case"%TAG":return i.length!==2&&(r(0,"%TAG directive should contain exactly two parts"),i.length<2)?!1:([n,s]=i,this.tags[n]=s,!0);case"%YAML":return this.yaml.explicit=!0,i.length!==1?(r(0,"%YAML directive should contain exactly one part"),!1):([n]=i,n==="1.1"||n==="1.2"?(this.yaml.version=n,!0):(r(6,"Unsupported YAML version "+n,/^\d+\.\d+$/.test(n)),!1));default:return r(0,"Unknown directive "+c,!0),!1}}tagName(e,r){if(e==="!")return"!";if(e[0]!=="!")r("Not a valid tag: "+e);else{if(e[1]==="<")return(s=e.slice(2,-1))==="!"||s==="!!"?(r(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&r("Verbatim tags must end with a >"),s);var[,s,n]=e.match(/^(.*!)([^!]*)$/s),i=(n||r(`The ${e} tag has no suffix`),this.tags[s]);if(i)try{return i+decodeURIComponent(n)}catch(c){return r(String(c)),null}if(s==="!")return e;r("Could not resolve tag: "+e)}return null}tagString(e){for(let[r,s]of Object.entries(this.tags))if(e.startsWith(s))return r+e.substring(s.length).replace(/[!,[\]{}]/g,n=>Ro[n]);return e[0]==="!"?e:`!<${e}>`}toString(e){var r=this.yaml.explicit?["%YAML "+(this.yaml.version||"1.2")]:[],s=Object.entries(this.tags);let n;if(e&&0<s.length&&oe(e.contents)){let i={};Me(e.contents,(c,f)=>{oe(f)&&f.tag&&(i[f.tag]=!0)}),n=Object.keys(i)}else n=[];for(let[i,c]of s)i==="!!"&&c==="tag:yaml.org,2002:"||e&&!n.some(f=>f.startsWith(c))||r.push(`%TAG ${i} `+c);return r.join(`
`)}}function Jn(t){if(/[\x00-\x19\s,[\]{}]/.test(t))throw t=JSON.stringify(t),new Error("Anchor must not contain whitespace or control characters: "+t);return 1}function Hn(t){let e=new Set;return Me(t,{Value(r,s){s.anchor&&e.add(s.anchor)}}),e}function Wn(t,e){for(let s=1;;++s){var r=""+t+s;if(!e.has(r))return r}}function rt(t,e,r,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let u=0,y=s.length;u<y;++u){var n=s[u],i=rt(t,s,String(u),n);i===void 0?delete s[u]:i!==n&&(s[u]=i)}else if(s instanceof Map)for(var c of Array.from(s.keys())){var f=s.get(c),l=rt(t,s,c,f);l===void 0?s.delete(c):l!==f&&s.set(c,l)}else if(s instanceof Set)for(var o of Array.from(s)){var a=rt(t,s,o,o);a===void 0?s.delete(o):a!==o&&(s.delete(o),s.add(a))}else for(var[h,d]of Object.entries(s)){var p=rt(t,s,h,d);p===void 0?delete s[h]:p!==d&&(s[h]=p)}return t.call(e,r,s)}function ve(t,e,r){if(Array.isArray(t))return t.map((s,n)=>ve(s,String(n),r));if(t&&typeof t.toJSON=="function"){if(!r||!Un(t))return t.toJSON(e,r);let s={aliasCount:0,count:1,res:void 0};return r.anchors.set(t,s),r.onCreate=n=>{s.res=n,delete r.onCreate},e=t.toJSON(e,r),r.onCreate&&r.onCreate(e),e}return typeof t!="bigint"||r?.keep?t:Number(t)}de.defaultYaml={explicit:!1,version:"1.2"},de.defaultTags={"!!":"tag:yaml.org,2002:"};class Hr{constructor(e){Object.defineProperty(this,ge,{value:e})}clone(){var e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:r,maxAliasCount:s,onAnchor:n,reviver:i}={}){if(!Ce(e))throw new TypeError("A document argument is required");e={anchors:new Map,doc:e,keep:!0,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100};let c=ve(this,"",e);if(typeof n=="function")for(let{count:f,res:l}of e.anchors.values())n(l,f);return typeof i=="function"?rt(i,{"":c},"",c):c}}class Pt extends Hr{constructor(e){super(Gr),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,r){let s,n=(r?.aliasResolveCache?s=r.aliasResolveCache:(s=[],Me(e,{Node:(c,f)=>{(Ne(f)||Un(f))&&s.push(f)}}),r&&(r.aliasResolveCache=s)),void 0);for(var i of s){if(i===this)break;i.anchor===this.source&&(n=i)}return n}toJSON(e,r){if(!r)return{source:this.source};var s,{anchors:n,doc:i,maxAliasCount:c}=r,f=this.resolve(i,r);if(!f)throw s="Unresolved alias (the anchor must be set before the alias): "+this.source,new ReferenceError(s);let l=n.get(f);if(l||(ve(f,null,r),l=n.get(f)),!l||l.res===void 0)throw new ReferenceError("This should not happen: Alias anchor was not resolved?");if(0<=c&&(l.count+=1,l.aliasCount===0&&(l.aliasCount=function o(a,h,d){{if(Ne(h)){let u=h.resolve(a),y=d&&u&&d.get(u);return y?y.count*y.aliasCount:0}if(ae(h)){let u=0;for(var p of h.items){let y=o(a,p,d);y>u&&(u=y)}return u}if(ie(h)){let u=o(a,h.key,d),y=o(a,h.value,d);return Math.max(u,y)}}return 1}(i,f,n)),l.count*l.aliasCount>c))throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack");return l.res}toString(e,r,s){var n,i="*"+this.source;if(e){if(Jn(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source))throw n="Unresolved alias (the anchor must be set before the alias): "+this.source,new Error(n);if(e.implicitKey)return i+" "}return i}}let Yn=t=>!t||typeof t!="function"&&typeof t!="object";class W extends Hr{constructor(e){super(je),this.value=e}toJSON(e,r){return r?.keep?this.value:ve(this.value,e,r)}toString(){return String(this.value)}}W.BLOCK_FOLDED="BLOCK_FOLDED",W.BLOCK_LITERAL="BLOCK_LITERAL",W.PLAIN="PLAIN",W.QUOTE_DOUBLE="QUOTE_DOUBLE",W.QUOTE_SINGLE="QUOTE_SINGLE";let Do="tag:yaml.org,2002:";function jt(t,e,r){if(oe(t=Ce(t)?t.contents:t))return t;if(ie(t))return(s=r.schema[Be].createNode?.(r.schema,null,r)).items.push(t),s;(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());var{aliasDuplicateObjects:s,onAnchor:n,onTagObj:i,schema:c,sourceObjects:f}=r;let l;if(s&&t&&typeof t=="object"){if(l=f.get(t))return l.anchor??(l.anchor=n(t)),new Pt(l.anchor);l={anchor:null,node:null},f.set(t,l)}let o=((h,d,p)=>{if(d){var u=p.filter(y=>y.tag===d),u=u.find(y=>!y.format)??u[0];if(u)return u;throw new Error(`Tag ${d} not found`)}return p.find(y=>y.identify?.(h)&&!y.format)})(t,e=e?.startsWith("!!")?Do+e.slice(2):e,c.tags);if(!o){if(!(t=t&&typeof t.toJSON=="function"?t.toJSON():t)||typeof t!="object"){let h=new W(t);return l&&(l.node=h),h}o=!(t instanceof Map)&&Symbol.iterator in Object(t)?c[Xe]:c[Be]}i&&(i(o),delete r.onTagObj);let a=o?.createNode?o.createNode(r.schema,t,r):typeof o?.nodeClass?.from=="function"?o.nodeClass.from(r.schema,t,r):new W(t);return e?a.tag=e:o.default||(a.tag=o.tag),l&&(l.node=a),a}function Yt(t,e,r){let s=r;for(let c=e.length-1;0<=c;--c){var n,i=e[c];s=typeof i=="number"&&Number.isInteger(i)&&0<=i?((n=[])[i]=s,n):new Map([[i,s]])}return jt(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}let Nt=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class Qn extends Hr{constructor(e,r){super(e),Object.defineProperty(this,"schema",{value:r,configurable:!0,enumerable:!1,writable:!0})}clone(e){var r=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(r.schema=e),r.items=r.items.map(s=>oe(s)||ie(s)?s.clone(e):s),this.range&&(r.range=this.range.slice()),r}addIn(e,r){if(Nt(e))this.add(r);else{var[e,...s]=e,n=this.get(e,!0);if(ae(n))n.addIn(s,r);else{if(n!==void 0||!this.schema)throw new Error(`Expected YAML collection at ${e}. Remaining path: `+s);this.set(e,Yt(this.schema,s,r))}}}deleteIn(r){var[r,...s]=r;if(s.length===0)return this.delete(r);var n=this.get(r,!0);if(ae(n))return n.deleteIn(s);throw new Error(`Expected YAML collection at ${r}. Remaining path: `+s)}getIn(n,r){var[n,...s]=n,n=this.get(n,!0);return s.length===0?!r&&re(n)?n.value:n:ae(n)?n.getIn(s,r):void 0}hasAllNullValues(e){return this.items.every(r=>!!ie(r)&&((r=r.value)==null||e&&re(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag))}hasIn(r){var[r,...s]=r;return s.length===0?this.has(r):!!ae(r=this.get(r,!0))&&r.hasIn(s)}setIn(s,r){var[s,...n]=s;if(n.length===0)this.set(s,r);else{var i=this.get(s,!0);if(ae(i))i.setIn(n,r);else{if(i!==void 0||!this.schema)throw new Error(`Expected YAML collection at ${s}. Remaining path: `+n);this.set(s,Yt(this.schema,n,r))}}}}let Vo=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function xe(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}let ze=(t,e,r)=>t.endsWith(`
`)?xe(r,e):r.includes(`
`)?`
`+xe(r,e):(t.endsWith(" ")?"":" ")+r,Zn="flow",Wr="block",Qt="quoted";function Zt(t,e,r="flow",{indentAtStart:s,lineWidth:n=80,minContentWidth:i=20,onFold:c,onOverflow:f}={}){if(!n||n<0)return t;n<i&&(i=0);var l=Math.max(1+i,1+n-e.length);if(t.length<=l)return t;var o=[],a={};let h=n-e.length,d=(typeof s=="number"&&(s>n-Math.max(2,i)?o.push(0):h=n-s),void 0),p,u=!1,y=-1,g=-1,b=-1;r===Wr&&(y=Xn(t,y,e.length))!==-1&&(h=y+l);for(let O;O=t[y+=1];){if(r===Qt&&O==="\\"){switch(t[(g=y)+1]){case"x":y+=3;break;case"u":y+=5;break;case"U":y+=9;break;default:y+=1}b=y}if(O===`
`)r===Wr&&(y=Xn(t,y,e.length)),h=y+e.length+l,d=void 0;else if(O===" "&&p&&p!==" "&&p!==`
`&&p!=="	"&&(m=t[y+1])&&m!==" "&&m!==`
`&&m!=="	"&&(d=y),y>=h)if(d)o.push(d),h=d+l,d=void 0;else if(r===Qt){for(;p===" "||p==="	";)p=O,O=t[y+=1],u=!0;var m=y>b+1?y-2:g-1;if(a[m])return t;o.push(m),a[m]=!0,h=m+l,d=void 0}else u=!0;p=O}if(u&&f&&f(),o.length===0)return t;c&&c();let $=t.slice(0,o[0]);for(let O=0;O<o.length;++O){var E=o[O];let x=o[O+1]||t.length;E===0?$=`
`+e+t.slice(0,x):(r===Qt&&a[E]&&($+=t[E]+"\\"),$+=`
`+e+t.slice(E+1,x))}return $}function Xn(t,e,r){let s=e,n=e+1,i=t[n];for(;i===" "||i==="	";)if(e<n+r)i=t[++e];else{for(;(i=t[++e])&&i!==`
`;);s=e,n=e+1,i=t[n]}return s}let Xt=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),er=t=>/^(%|---|\.\.\.)/m.test(t);function Yr(t,e){var r=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return r;var s=e.implicitKey,n=e.options.doubleQuotedMinMultiLineLength,i=e.indent||(er(t)?"  ":"");let c="",f=0;for(let o=0,a=r[o];a;a=r[++o])if(a===" "&&r[o+1]==="\\"&&r[o+2]==="n"&&(c+=r.slice(f,o)+"\\ ",o+=1,f=o,a="\\"),a==="\\")switch(r[o+1]){case"u":c+=r.slice(f,o);var l=r.substr(o+2,4);switch(l){case"0000":c+="\\0";break;case"0007":c+="\\a";break;case"000b":c+="\\v";break;case"001b":c+="\\e";break;case"0085":c+="\\N";break;case"00a0":c+="\\_";break;case"2028":c+="\\L";break;case"2029":c+="\\P";break;default:l.substr(0,2)==="00"?c+="\\x"+l.substr(2):c+=r.substr(o,6)}o+=5,f=o+1;break;case"n":if(s||r[o+2]==='"'||r.length<n)o+=1;else{for(c+=r.slice(f,o)+`

`;r[o+2]==="\\"&&r[o+3]==="n"&&r[o+4]!=='"';)c+=`
`,o+=2;c+=i,r[o+2]===" "&&(c+="\\"),o+=1,f=o+1}break;default:o+=1}return c=f?c+r.slice(f):r,s?c:Zt(c,i,Qt,Xt(e,!1))}function ei(t,e){var r;return e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t)?Yr(t,e):(r=e.indent||(er(t)?"  ":""),t="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
`+r)+"'",e.implicitKey?t:Zt(t,r,Zn,Xt(e,!1)))}function st(t,e){var r,s,n=e.options.singleQuote;return(n!==!1&&(r=t.includes('"'),s=t.includes("'"),r&&!s||(!s||r)&&n)?ei:Yr)(t,e)}let Qr;try{Qr=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{Qr=/\n+(?!\n|$)/g}function tr({comment:t,type:e,value:r},s,n,i){var{blockQuote:c,commentString:f,lineWidth:o}=s.options;if(!c||/\n[\t ]+$/.test(r)||/^\s*$/.test(r))return st(r,s);var l=s.indent||(s.forceBlockIndent||er(r)?"  ":""),o=c==="literal"||c!=="folded"&&e!==W.BLOCK_FOLDED&&(e===W.BLOCK_LITERAL||!((O,x,M)=>{if(x&&!(x<0)){var q=x-M,V=O.length;if(!(V<=q)){for(let A=0,R=0;A<V;++A)if(O[A]===`
`){if(A-R>q)return 1;if(V-(R=A+1)<=q)return}return 1}}})(r,o,l.length));if(!r)return o?`|
`:`>
`;let a,h;for(h=r.length;0<h;--h){var d=r[h-1];if(d!==`
`&&d!=="	"&&d!==" ")break}let p=r.substring(h);var u=p.indexOf(`
`);u===-1?a="-":r===p||u!==p.length-1?(a="+",i&&i()):a="",p&&(r=r.slice(0,-p.length),p=(p=p[p.length-1]===`
`?p.slice(0,-1):p).replace(Qr,"$&"+l));let y=!1,g,b=-1;for(g=0;g<r.length;++g){var m=r[g];if(m===" ")y=!0;else{if(m!==`
`)break;b=g}}let $=r.substring(0,b<g?b+1:g),E=($&&(r=r.substring($.length),$=$.replace(/\n+/g,"$&"+l)),(y?l?"2":"1":"")+a);if(t&&(E+=" "+f(t.replace(/ ?[\r\n]+/g," ")),n)&&n(),!o){u=r.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,"$&"+l);let O=!1;if(i=Xt(s,!0),f=(c!=="folded"&&e!==W.BLOCK_FOLDED&&(i.onOverflow=()=>{O=!0}),Zt(""+$+u+p,l,Wr,i)),!O)return`>${E}
`+l+f}return r=r.replace(/\n+/g,"$&"+l),`|${E}
`+l+$+r+p}function xt(t,e,r,s){let{implicitKey:n,inFlow:i}=e,c=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)}),f=t.type;t=h=>{switch(h){case W.BLOCK_FOLDED:case W.BLOCK_LITERAL:return n||i?st(c.value,e):tr(c,e,r,s);case W.QUOTE_DOUBLE:return Yr(c.value,e);case W.QUOTE_SINGLE:return ei(c.value,e);case W.PLAIN:{var d=c,p=e,u=r,y=s,{type:g,value:b}=d,{actualString:m,implicitKey:$,indent:E,indentStep:O,inFlow:x}=p;if($&&b.includes(`
`)||x&&/[[\]{},]/.test(b))return st(b,p);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(b))return $||x||!b.includes(`
`)?st(b,p):tr(d,p,u,y);if(!$&&!x&&g!==W.PLAIN&&b.includes(`
`))return tr(d,p,u,y);if(er(b)){if(E==="")return p.forceBlockIndent=!0,tr(d,p,u,y);if($&&E===O)return st(b,p)}let M=b.replace(/\n+/g,`$&
`+E);if(m){var x=R=>R.default&&R.tag!=="tag:yaml.org,2002:str"&&R.test?.test(M),{compat:g,tags:d}=p.doc.schema;if(d.some(x)||g?.some(x))return st(b,p)}return $?M:Zt(M,E,Zn,Xt(p,!1))}default:return null}};let l=t(f=f!==W.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(c.value)?W.QUOTE_DOUBLE:f);if(l===null){var{defaultKeyType:a,defaultStringType:o}=e.options,a=n&&a||o;if((l=t(a))===null)throw new Error("Unsupported default string type "+a)}return l}function ti(t,e){e=Object.assign({blockQuote:!0,commentString:Vo,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let r;switch(e.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:t,flowCollectionPadding:e.flowCollectionPadding?" ":"",indent:"",indentStep:typeof e.indent=="number"?" ".repeat(e.indent):"  ",inFlow:r,options:e}}function nt(o,e,r,s){if(ie(o))return o.toString(e,r,s);if(Ne(o)){if(e.doc.directives)return o.toString(e);if(e.resolvedAliases?.has(o))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(o):e.resolvedAliases=new Set([o]),o=o.resolve(e.doc)}let n;var i,c,f,l,o=oe(o)?o:e.doc.createNode(o,{onTagObj:d=>n=d}),a=(n=n??((d,p)=>{if(p.tag){var u=d.filter(b=>b.tag===p.tag);if(0<u.length)return u.find(b=>b.format===p.format)??u[0]}let y,g;if(re(p)){g=p.value;let b=d.filter(m=>m.identify?.(g));1<b.length&&0<(u=b.filter(m=>m.test)).length&&(b=u),y=b.find(m=>m.format===p.format)??b.find(m=>!m.format)}else g=p,y=d.find(b=>b.nodeClass&&g instanceof b.nodeClass);if(y)return y;throw u=g?.constructor?.name??(g===null?"null":typeof g),new Error(`Tag not resolved for ${u} value`)})(e.doc.schema.tags,o),[h,i,{anchors:c,doc:f}]=[o,n,e],f.directives?(l=[],(a=(re(h)||ae(h))&&h.anchor)&&Jn(a)&&(c.add(a),l.push("&"+a)),(c=h.tag??(i.default?null:i.tag))&&l.push(f.directives.tagString(c)),l.join(" ")):""),h=(0<a.length&&(e.indentAtStart=(e.indentAtStart??0)+a.length+1),typeof n.stringify=="function"?n.stringify(o,e,r,s):re(o)?xt(o,e,r,s):o.toString(e,r,s));return a?re(o)||h[0]==="{"||h[0]==="["?a+" "+h:a+`
`+e.indent+h:h}function ri(t,e){t!=="debug"&&t!=="warn"||console.warn(e)}let Ae={identify:t=>t==="<<"||typeof t=="symbol"&&t.description==="<<",default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new W(Symbol("<<")),{addToJSMap:si}),stringify:()=>"<<"};function si(t,e,r){if(r=t&&Ne(r)?r.resolve(t.doc):r,Fe(r))for(var s of r.items)Zr(t,e,s);else if(Array.isArray(r))for(var n of r)Zr(t,e,n);else Zr(t,e,r)}function Zr(t,e,r){var s=t&&Ne(r)?r.resolve(t.doc):r;if(!Ue(s))throw new Error("Merge sources must be maps or map aliases");for(let[n,i]of s.toJSON(null,t,Map))e instanceof Map?e.has(n)||e.set(n,i):e instanceof Set?e.add(n):Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{value:i,writable:!0,enumerable:!0,configurable:!0})}function ni(t,e,{key:r,value:s}){var n,i;return oe(r)&&r.addToJSMap?r.addToJSMap(t,e,s):(n=t,i=r,(Ae.identify(i)||re(i)&&(!i.type||i.type===W.PLAIN)&&Ae.identify(i.value))&&n?.doc.schema.tags.some(c=>c.tag===Ae.tag&&c.default)?si(t,e,s):(i=ve(r,"",t),e instanceof Map?e.set(i,ve(s,i,t)):e instanceof Set?e.add(i):(s=ve(s,n=((c,f,l)=>{if(f===null)return"";if(typeof f!="object")return String(f);if(oe(c)&&l?.doc){var o,a=ti(l.doc,{});a.anchors=new Set;for(o of l.anchors.keys())a.anchors.add(o.anchor);if(a.inFlow=!0,a.inStringifyKey=!0,c=c.toString(a),!l.mapKeyWarned){let h=JSON.stringify(c);40<h.length&&(h=h.substring(0,36)+'..."'),ri(l.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${h}. Set mapAsMap: true to use object keys.`),l.mapKeyWarned=!0}return c}return JSON.stringify(f)})(r,i,t),t),n in e?Object.defineProperty(e,n,{value:s,writable:!0,enumerable:!0,configurable:!0}):e[n]=s))),e}function Xr(t,e,r){return t=jt(t,void 0,r),e=jt(e,void 0,r),new ue(t,e)}class ue{constructor(e,r=null){Object.defineProperty(this,ge,{value:Bn}),this.key=e,this.value=r}clone(e){let{key:r,value:s}=this;return oe(r)&&(r=r.clone(e)),oe(s)&&(s=s.clone(e)),new ue(r,s)}toJSON(e,r){return ni(r,r?.mapAsMap?new Map:{},this)}toString(e,r,s){if(e?.doc){var[{key:e,value:r},s,n,i]=[this,e,r,s],{allNullValues:c,doc:f,indent:l,indentStep:o,options:{commentString:a,indentSeq:h,simpleKeys:d}}=s;let g=oe(e)&&e.comment||null;if(d){if(g)throw new Error("With simple keys, key nodes cannot have comments");if(ae(e)||!oe(e)&&typeof e=="object")throw new Error("With simple keys, collection cannot be used as a key value")}let b=!d&&(!e||g&&r==null&&!s.inFlow||ae(e)||(re(e)?e.type===W.BLOCK_FOLDED||e.type===W.BLOCK_LITERAL:typeof e=="object")),m=(s=Object.assign({},s,{allNullValues:!1,implicitKey:!b&&(d||!c),indent:l+o}),!1),$=!1,E=nt(e,s,()=>m=!0,()=>$=!0);if(!b&&!s.inFlow&&1024<E.length){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");b=!0}if(s.inFlow){if(c||r==null)return m&&n&&n(),E===""?"?":b?"? "+E:E}else if(c&&!d||r==null&&b)return E="? "+E,g&&!m?E+=ze(E,s.indent,a(g)):$&&i&&i(),E;m&&(g=null),b?(g&&(E+=ze(E,s.indent,a(g))),E=`? ${E}
${l}:`):(E+=":",g&&(E+=ze(E,s.indent,a(g))));let O,x,M,q=(oe(r)?(O=!!r.spaceBefore,x=r.commentBefore,M=r.comment):(O=!1,x=null,M=null,r&&typeof r=="object"&&(r=f.createNode(r))),s.implicitKey=!1,b||g||!re(r)||(s.indentAtStart=E.length+1),$=!1,h||!(2<=o.length)||s.inFlow||b||!Fe(r)||r.flow||r.tag||r.anchor||(s.indent=s.indent.substring(2)),!1),V=(e=nt(r,s,()=>q=!0,()=>$=!0)," ");if(g||O||x)V=O?`
`:"",x&&(c=a(x),V+=`
`+xe(c,s.indent)),e!==""||s.inFlow?V+=`
`+s.indent:V===`
`&&(V=`

`);else if(!b&&ae(r)){if(d=e[0],l=e.indexOf(`
`),f=l!==-1,h=s.inFlow??r.flow??r.items.length===0,f||!h){let A=!1;if(f&&(d==="&"||d==="!")){let R=e.indexOf(" ");((R=d==="&"&&R!==-1&&R<l&&e[R+1]==="!"?e.indexOf(" ",R+1):R)===-1||l<R)&&(A=!0)}A||(V=`
`+s.indent)}}else e!==""&&e[0]!==`
`||(V="");return E+=V+e,s.inFlow?q&&n&&n():M&&!q?E+=ze(E,s.indent,a(M)):$&&i&&i(),E}return JSON.stringify(this)}}function ii(t,e,r){return(e.inFlow??t.flow?Ko:qo)(t,e,r)}function qo({comment:t,items:e},r,{blockItemPrefix:s,flowChars:n,itemIndent:i,onChompKeep:c,onComment:f}){var{indent:l,options:{commentString:o}}=r,a=Object.assign({},r,{indent:i,type:null});let h=!1;var d=[];for(let b=0;b<e.length;++b){var p,u=e[b];let m=null,$=(oe(u)?(!h&&u.spaceBefore&&d.push(""),rr(r,d,u.commentBefore,h),u.comment&&(m=u.comment)):ie(u)&&(p=oe(u.key)?u.key:null)&&(!h&&p.spaceBefore&&d.push(""),rr(r,d,p.commentBefore,h)),h=!1,nt(u,a,()=>m=null,()=>h=!0));m&&($+=ze($,i,o(m))),h&&m&&(h=!1),d.push(s+$)}let y;if(d.length===0)y=n.start+n.end;else{y=d[0];for(let b=1;b<d.length;++b){var g=d[b];y+=g?`
`+l+g:`
`}}return t?(y+=`
`+xe(o(t),l),f&&f()):h&&c&&c(),y}function Ko({items:t},e,{flowChars:g,itemIndent:s}){var{indent:n,indentStep:i,flowCollectionPadding:c,options:{commentString:f}}=e,l=(s+=i,Object.assign({},e,{indent:s,inFlow:!0,type:null}));let o=!1,a=0;var h=[];for(let $=0;$<t.length;++$){var d,p,u=t[$];let E=null,O=(oe(u)?(u.spaceBefore&&h.push(""),rr(e,h,u.commentBefore,!1),u.comment&&(E=u.comment)):ie(u)&&((d=oe(u.key)?u.key:null)&&(d.spaceBefore&&h.push(""),rr(e,h,d.commentBefore,!1),d.comment)&&(o=!0),(p=oe(u.value)?u.value:null)?(p.comment&&(E=p.comment),p.commentBefore&&(o=!0)):u.value==null&&d?.comment&&(E=d.comment)),E&&(o=!0),nt(u,l,()=>E=null));$<t.length-1&&(O+=","),E&&(O+=ze(O,s,f(E))),!o&&(h.length>a||O.includes(`
`))&&(o=!0),h.push(O),a=h.length}var y,{start:g,end:b}=g;if(h.length===0)return g+b;if(o||(y=h.reduce(($,E)=>$+E.length+2,2),o=0<e.options.lineWidth&&y>e.options.lineWidth),o){let $=g;for(var m of h)$+=m?`
`+i+n+m:`
`;return $+`
`+n+b}return""+g+c+h.join(" ")+c+b}function rr({indent:t,options:{commentString:e}},r,s,n){(s=s&&n?s.replace(/^\n+/,""):s)&&(n=xe(e(s),t),r.push(n.trimStart()))}function Ge(t,e){var r,s=re(e)?e.value:e;for(r of t)if(ie(r)&&(r.key===e||r.key===s||re(r.key)&&r.key.value===s))return r}class he extends Qn{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Be,e),this.items=[]}static from(e,r,s){let{keepUndefined:n,replacer:i}=s,c=new this(e);var f=(h,d)=>{if(typeof i=="function")d=i.call(r,h,d);else if(Array.isArray(i)&&!i.includes(h))return;d===void 0&&!n||c.items.push(Xr(h,d,s))};if(r instanceof Map)for(var[l,o]of r)f(l,o);else if(r&&typeof r=="object")for(var a of Object.keys(r))f(a,r[a]);return typeof e.sortMapEntries=="function"&&c.items.sort(e.sortMapEntries),c}add(e,r){let s;s=ie(e)?e:e&&typeof e=="object"&&"key"in e?new ue(e.key,e.value):new ue(e,e?.value),e=Ge(this.items,s.key);let n=this.schema?.sortMapEntries;if(e){if(!r)throw new Error(`Key ${s.key} already set`);re(e.value)&&Yn(s.value)?e.value.value=s.value:e.value=s.value}else!n||(r=this.items.findIndex(i=>n(s,i)<0))===-1?this.items.push(s):this.items.splice(r,0,s)}delete(e){return e=Ge(this.items,e),!!e&&0<this.items.splice(this.items.indexOf(e),1).length}get(e,r){return e=Ge(this.items,e)?.value,(!r&&re(e)?e.value:e)??void 0}has(e){return!!Ge(this.items,e)}set(e,r){this.add(new ue(e,r),!0)}toJSON(e,r,s){var n,i=s?new s:r?.mapAsMap?new Map:{};r?.onCreate&&r.onCreate(i);for(n of this.items)ni(r,i,n);return i}toString(e,r,s){if(!e)return JSON.stringify(this);for(var n of this.items)if(!ie(n))throw new Error(`Map items must all be pairs; found ${JSON.stringify(n)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),ii(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:r})}}let it={collection:"map",default:!0,nodeClass:he,tag:"tag:yaml.org,2002:map",resolve(t,e){return Ue(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,r)=>he.from(t,e,r)};class Ie extends Qn{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(Xe,e),this.items=[]}add(e){this.items.push(e)}delete(e){return e=sr(e),typeof e=="number"&&0<this.items.splice(e,1).length}get(s,r){var s=sr(s);if(typeof s=="number")return s=this.items[s],!r&&re(s)?s.value:s}has(e){return e=sr(e),typeof e=="number"&&e<this.items.length}set(e,r){var s=sr(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);e=this.items[s],re(e)&&Yn(r)?e.value=r:this.items[s]=r}toJSON(e,r){var s,n=[];r?.onCreate&&r.onCreate(n);let i=0;for(s of this.items)n.push(ve(s,String(i++),r));return n}toString(e,r,s){return e?ii(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:r}):JSON.stringify(this)}static from(e,r,s){var n,i=s.replacer,c=new this(e);if(r&&Symbol.iterator in Object(r)){let l=0;for(var f of r)typeof i=="function"&&(n=r instanceof Set?f:String(l++),f=i.call(r,n,f)),c.items.push(jt(f,void 0,s))}return c}}function sr(t){let e=re(t)?t.value:t;return typeof(e=e&&typeof e=="string"?Number(e):e)=="number"&&Number.isInteger(e)&&0<=e?e:null}let at={collection:"seq",default:!0,nodeClass:Ie,tag:"tag:yaml.org,2002:seq",resolve(t,e){return Fe(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,r)=>Ie.from(t,e,r)},nr={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,r,s){return xt(t,e=Object.assign({actualString:!0},e),r,s)}},ir={identify:t=>t==null,createNode:()=>new W(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new W(null),stringify:({source:t},e)=>typeof t=="string"&&ir.test.test(t)?t:e.options.nullStr},es={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new W(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},r){return t&&es.test.test(t)&&e===(t[0]==="t"||t[0]==="T")?t:e?r.options.trueStr:r.options.falseStr}};function _e({format:t,minFractionDigits:e,tag:r,value:s}){if(typeof s=="bigint")return String(s);var n=typeof s=="number"?s:Number(s);if(!isFinite(n))return isNaN(n)?".nan":n<0?"-.inf":".inf";let i=JSON.stringify(s);if(!t&&e&&(!r||r==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let c=i.indexOf("."),f=(c<0&&(c=i.length,i+="."),e-(i.length-c-1));for(;0<f--;)i+="0"}return i}var ar={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:_e},ot={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){var e=Number(t.value);return isFinite(e)?e.toExponential():_e(t)}},or={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){var e=new W(parseFloat(t)),r=t.indexOf(".");return r!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-r-1),e},stringify:_e};let lr=t=>typeof t=="bigint"||Number.isInteger(t),ts=(t,e,r,{intAsBigInt:s})=>s?BigInt(t):parseInt(t.substring(e),r);function ai(t,e,r){var s=t.value;return lr(s)&&0<=s?r+s.toString(e):_e(t)}var Je={identify:t=>lr(t)&&0<=t,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,r)=>ts(t,2,8,r),stringify:t=>ai(t,8,"0o")},He={identify:lr,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,r)=>ts(t,0,10,r),stringify:_e},oi={identify:t=>lr(t)&&0<=t,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,r)=>ts(t,2,16,r),stringify:t=>ai(t,16,"0x")},Bo=[it,at,nr,ir,es,Je,He,oi,ar,ot,or];function li(t){return typeof t=="bigint"||Number.isInteger(t)}var lt=({value:t})=>JSON.stringify(t),lt=[it,at].concat([{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:lt},{identify:t=>t==null,createNode:()=>new W(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:lt},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>t==="true",stringify:lt},{identify:li,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:r})=>r?BigInt(t):parseInt(t,10),stringify:({value:t})=>li(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:lt}],{default:!0,tag:"",test:/^/,resolve(t,e){return e("Unresolved plain scalar "+JSON.stringify(t)),t}}),rs={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof atob!="function")return e("This environment does not support reading binary tags; either Buffer or atob is required"),t;var r=atob(t.replace(/[\n\r]/g,"")),s=new Uint8Array(r.length);for(let n=0;n<r.length;++n)s[n]=r.charCodeAt(n);return s},stringify({comment:t,type:e,value:r},s,n,i){if(!r)return"";var c=r;let f;if(typeof btoa!="function")throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let h="";for(let d=0;d<c.length;++d)h+=String.fromCharCode(c[d]);f=btoa(h)}if((e=e??W.BLOCK_LITERAL)!==W.QUOTE_DOUBLE){var l=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),o=Math.ceil(f.length/l),a=new Array(o);for(let h=0,d=0;h<o;++h,d+=l)a[h]=f.substr(d,l);f=a.join(e===W.BLOCK_LITERAL?`
`:" ")}return xt({comment:t,type:e,value:f},s,n,i)}};function ci(t,e){if(Fe(t))for(let n=0;n<t.items.length;++n){let i=t.items[n];var r,s;ie(i)||(Ue(i)&&(1<i.items.length&&e("Each pair must have its own sequence indicator"),r=i.items[0]||new ue(new W(null)),i.commentBefore&&(r.key.commentBefore=r.key.commentBefore?i.commentBefore+`
`+r.key.commentBefore:i.commentBefore),i.comment&&((s=r.value??r.key).comment=s.comment?i.comment+`
`+s.comment:i.comment),i=r),t.items[n]=ie(i)?i:new ue(i))}else e("Expected a sequence for this tag");return t}function ui(t,e,r){var s=r.replacer,n=new Ie(t);n.tag="tag:yaml.org,2002:pairs";let i=0;if(e&&Symbol.iterator in Object(e))for(var c of e){typeof s=="function"&&(c=s.call(e,String(i++),c));let l,o;if(Array.isArray(c)){if(c.length!==2)throw new TypeError("Expected [key, value] tuple: "+c);l=c[0],o=c[1]}else if(c&&c instanceof Object){var f=Object.keys(c);if(f.length!==1)throw new TypeError(`Expected tuple with one key, not ${f.length} keys`);l=f[0],o=c[l]}else l=c;n.items.push(Xr(l,o,r))}return n}var ss={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:ci,createNode:ui};class ct extends Ie{constructor(){super(),this.add=he.prototype.add.bind(this),this.delete=he.prototype.delete.bind(this),this.get=he.prototype.get.bind(this),this.has=he.prototype.has.bind(this),this.set=he.prototype.set.bind(this),this.tag=ct.tag}toJSON(e,r){if(!r)return super.toJSON(e);var s,n=new Map;r?.onCreate&&r.onCreate(n);for(s of this.items){let i,c;if(ie(s)?(i=ve(s.key,"",r),c=ve(s.value,i,r)):i=ve(s,"",r),n.has(i))throw new Error("Ordered maps must not include duplicate keys");n.set(i,c)}return n}static from(e,r,s){return e=ui(e,r,s),r=new this,r.items=e.items,r}}ct.tag="tag:yaml.org,2002:omap";var ns={collection:"seq",identify:t=>t instanceof Map,nodeClass:ct,default:!1,tag:"tag:yaml.org,2002:omap",resolve(s,e){var r,s=ci(s,e),n=[];for({key:r}of s.items)re(r)&&(n.includes(r.value)?e("Ordered maps must not include duplicate keys: "+r.value):n.push(r.value));return Object.assign(new ct,s)},createNode:(t,e,r)=>ct.from(t,e,r)};function pi({value:t,source:e},r){var s=t?di:fi;return e&&s.test.test(e)?e:t?r.options.trueStr:r.options.falseStr}let di={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new W(!0),stringify:pi},fi={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new W(!1),stringify:pi};var U={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:_e},Uo={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){var e=Number(t.value);return isFinite(e)?e.toExponential():_e(t)}},Fo={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){var e=new W(parseFloat(t.replace(/_/g,""))),r=t.indexOf(".");return r!==-1&&(t=t.substring(r+1).replace(/_/g,""))[t.length-1]==="0"&&(e.minFractionDigits=t.length),e},stringify:_e};let At=t=>typeof t=="bigint"||Number.isInteger(t);function cr(t,e,r,{intAsBigInt:s}){var n=t[0];if(n!=="-"&&n!=="+"||(e+=1),t=t.substring(e).replace(/_/g,""),s){switch(r){case 2:t="0b"+t;break;case 8:t="0o"+t;break;case 16:t="0x"+t}let c=BigInt(t);return n==="-"?BigInt(-1)*c:c}let i=parseInt(t,r);return n==="-"?-1*i:i}function is(t,e,r){var s=t.value;return At(s)?(e=s.toString(e),s<0?"-"+r+e.substr(1):r+e):_e(t)}var ur={identify:At,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,r)=>cr(t,2,2,r),stringify:t=>is(t,2,"0b")},as={identify:At,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,r)=>cr(t,1,8,r),stringify:t=>is(t,8,"0")},pr={identify:At,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,r)=>cr(t,0,10,r),stringify:_e},$s={identify:At,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,r)=>cr(t,2,16,r),stringify:t=>is(t,16,"0x")};class ut extends he{constructor(e){super(e),this.tag=ut.tag}add(e){let r;r=ie(e)?e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?new ue(e.key,null):new ue(e,null),Ge(this.items,r.key)||this.items.push(r)}get(e,r){return e=Ge(this.items,e),!r&&ie(e)?re(e.key)?e.key.value:e.key:e}set(e,r){if(typeof r!="boolean")throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof r);var s=Ge(this.items,e);s&&!r?this.items.splice(this.items.indexOf(s),1):!s&&r&&this.items.push(new ue(e))}toJSON(e,r){return super.toJSON(e,r,Set)}toString(e,r,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),r,s);throw new Error("Set items must all have null values")}static from(e,r,s){var n=s.replacer,i=new this(e);if(r&&Symbol.iterator in Object(r))for(var c of r)typeof n=="function"&&(c=n.call(r,c,c)),i.items.push(Xr(c,null,s));return i}}ut.tag="tag:yaml.org,2002:set";var os={collection:"map",identify:t=>t instanceof Set,nodeClass:ut,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,r)=>ut.from(t,e,r),resolve(t,e){if(Ue(t)){if(t.hasAllNullValues(!0))return Object.assign(new ut,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function ls(s,e){var r=s[0],s=r==="-"||r==="+"?s.substring(1):s;let n=i=>(e?BigInt:Number)(i);return s=s.replace(/_/g,"").split(":").reduce((i,c)=>i*n(60)+n(c),n(0)),r==="-"?n(-1)*s:s}function hi(n){let e=n.value,r=c=>c;if(typeof e=="bigint")r=c=>BigInt(c);else if(isNaN(e)||!isFinite(e))return _e(n);let s="";e<0&&(s="-",e*=r(-1));var n=r(60),i=[e%n];return e<60?i.unshift(0):(e=(e-i[0])/n,i.unshift(e%n),60<=e&&(e=(e-i[0])/n,i.unshift(e))),s+i.map(c=>String(c).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var mi={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:r})=>ls(t,r),stringify:hi},yi={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>ls(t,!1),stringify:hi};let dr={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){if(t=t.match(dr.test),!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");var[,e,r,s,n,i,c]=t.map(Number),f=t[7]?Number((t[7]+"00").substr(1,3)):0;let l=Date.UTC(e,r-1,s,n||0,i||0,c||0,f);if(e=t[8],e&&e!=="Z"){let o=ls(e,!1);Math.abs(o)<30&&(o*=60),l-=6e4*o}return new Date(l)},stringify:({value:t})=>t?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""};ur=[it,at,nr,ir,di,fi,ur,as,pr,$s,U,Uo,Fo,rs,Ae,ns,ss,os,mi,yi,dr];let gi=new Map([["core",Bo],["failsafe",[it,at,nr]],["json",lt],["yaml11",ur],["yaml-1.1",ur]]),vi={binary:rs,bool:es,float:or,floatExp:ot,floatNaN:ar,floatTime:yi,int:He,intHex:oi,intOct:Je,intTime:mi,map:it,merge:Ae,null:ir,omap:ns,pairs:ss,seq:at,set:os,timestamp:dr},zo={"tag:yaml.org,2002:binary":rs,"tag:yaml.org,2002:merge":Ae,"tag:yaml.org,2002:omap":ns,"tag:yaml.org,2002:pairs":ss,"tag:yaml.org,2002:set":os,"tag:yaml.org,2002:timestamp":dr};function cs(t,e,r){var s=gi.get(e);if(s&&!t)return r&&!s.includes(Ae)?s.concat(Ae):s.slice();let n=s;if(!n){if(!Array.isArray(t))throw s=Array.from(gi.keys()).filter(c=>c!=="yaml11").map(c=>JSON.stringify(c)).join(", "),new Error(`Unknown schema "${e}"; use one of ${s} or define customTags array`);n=[]}if(Array.isArray(t))for(var i of t)n=n.concat(i);else typeof t=="function"&&(n=t(n.slice()));return(n=r?n.concat(Ae):n).reduce((c,f)=>{var l=typeof f=="string"?vi[f]:f;if(l)return c.includes(l)||c.push(l),c;throw l=JSON.stringify(f),c=Object.keys(vi).map(o=>JSON.stringify(o)).join(", "),new Error(`Unknown custom tag ${l}; use one of `+c)},[])}let Go=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class It{constructor({compat:e,customTags:r,merge:s,resolveKnownTags:n,schema:i,sortMapEntries:c,toStringDefaults:f}){this.compat=Array.isArray(e)?cs(e,"compat"):e?cs(null,e):null,this.name=typeof i=="string"&&i||"core",this.knownTags=n?zo:{},this.tags=cs(r,this.name,s),this.toStringOptions=f??null,Object.defineProperty(this,Be,{value:it}),Object.defineProperty(this,je,{value:nr}),Object.defineProperty(this,Xe,{value:at}),this.sortMapEntries=typeof c=="function"?c:c===!0?Go:null}clone(){var e=Object.create(It.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}class We{constructor(e,r,s){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,ge,{value:Jr});let n=null;typeof r=="function"||Array.isArray(r)?n=r:s===void 0&&r&&(s=r,r=void 0),r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},s);let i=(this.options=r).version;s?._directives?(this.directives=s._directives.atDocument(),this.directives.yaml.explicit&&(i=this.directives.yaml.version)):this.directives=new de({version:i}),this.setSchema(i,s),this.contents=e===void 0?null:this.createNode(e,n,s)}clone(){var e=Object.create(We.prototype,{[ge]:{value:Jr}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=oe(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){pt(this.contents)&&this.contents.add(e)}addIn(e,r){pt(this.contents)&&this.contents.addIn(e,r)}createAlias(e,r){var s;return e.anchor||(s=Hn(this),e.anchor=!r||s.has(r)?Wn(r||"a",s):r),new Pt(e.anchor)}createNode(p,a,c){let n;typeof a=="function"?(p=a.call({"":p},"",p),n=a):Array.isArray(a)?(0<(i=a.filter(u=>typeof u=="number"||u instanceof String||u instanceof Number).map(String)).length&&(a=a.concat(i)),n=a):c===void 0&&a&&(c=a,a=void 0);var{aliasDuplicateObjects:i,anchorPrefix:a,flow:c,keepUndefined:f,onTagObj:l,tag:o}=c??{},{onAnchor:a,setAnchors:h,sourceObjects:d}=((u,y)=>{let g=[],b=new Map,m=null;return{onAnchor:$=>(g.push($),m=m??Hn(u),$=Wn(y,m),m.add($),$),setAnchors:()=>{for(var $ of g){var E,O=b.get($);if(typeof O!="object"||!O.anchor||!re(O.node)&&!ae(O.node))throw(E=new Error("Failed to resolve repeated object (this should not happen)")).source=$,E;O.node.anchor=O.anchor}},sourceObjects:b}})(this,a||"a"),p=jt(p,o,{aliasDuplicateObjects:i??!0,keepUndefined:f??!1,onAnchor:a,onTagObj:l,replacer:n,schema:this.schema,sourceObjects:d});return c&&ae(p)&&(p.flow=!0),h(),p}createPair(e,r,s={}){return e=this.createNode(e,null,s),r=this.createNode(r,null,s),new ue(e,r)}delete(e){return!!pt(this.contents)&&this.contents.delete(e)}deleteIn(e){return Nt(e)?this.contents!=null&&!(this.contents=null):!!pt(this.contents)&&this.contents.deleteIn(e)}get(e,r){return ae(this.contents)?this.contents.get(e,r):void 0}getIn(e,r){return Nt(e)?!r&&re(this.contents)?this.contents.value:this.contents:ae(this.contents)?this.contents.getIn(e,r):void 0}has(e){return!!ae(this.contents)&&this.contents.has(e)}hasIn(e){return Nt(e)?this.contents!==void 0:!!ae(this.contents)&&this.contents.hasIn(e)}set(e,r){this.contents==null?this.contents=Yt(this.schema,[e],r):pt(this.contents)&&this.contents.set(e,r)}setIn(e,r){Nt(e)?this.contents=r:this.contents==null?this.contents=Yt(this.schema,Array.from(e),r):pt(this.contents)&&this.contents.setIn(e,r)}setSchema(e,r={}){let s;switch(e=typeof e=="number"?String(e):e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new de({version:"1.1"}),s={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new de({version:e}),s={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,s=null;break;default:var n=JSON.stringify(e);throw new Error("Expected '1.1', '1.2' or null as first argument, but found: "+n)}if(r.schema instanceof Object)this.schema=r.schema;else{if(!s)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new It(Object.assign(s,r))}}toJS({json:e,jsonArg:r,mapAsMap:s,maxAliasCount:n,onAnchor:i,reviver:c}={}){e={anchors:new Map,doc:this,keep:!e,mapAsMap:s===!0,mapKeyWarned:!1,maxAliasCount:typeof n=="number"?n:100};let f=ve(this.contents,r??"",e);if(typeof i=="function")for(let{count:l,res:o}of e.anchors.values())i(o,l);return typeof c=="function"?rt(c,{"":f},"",f):f}toJSON(e,r){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:r})}toString(e={}){if(0<this.errors.length)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0))throw r=JSON.stringify(e.indent),new Error('"indent" option must be a positive integer, not '+r);{var r=this,s=[];let c=e.directives===!0;e.directives!==!1&&r.directives&&((n=r.directives.toString(r))?(s.push(n),c=!0):r.directives.docStart&&(c=!0)),c&&s.push("---");var n=ti(r,e),e=n.options.commentString;r.commentBefore&&(s.length!==1&&s.unshift(""),i=e(r.commentBefore),s.unshift(xe(i,"")));let l=!1,o=null;if(r.contents){oe(r.contents)&&(r.contents.spaceBefore&&c&&s.push(""),r.contents.commentBefore&&(i=e(r.contents.commentBefore),s.push(xe(i,""))),n.forceBlockIndent=!!r.comment,o=r.contents.comment);var i=o?void 0:()=>l=!0;let a=nt(r.contents,n,()=>o=null,i);o&&(a+=ze(a,"",e(o))),a[0]!=="|"&&a[0]!==">"||s[s.length-1]!=="---"?s.push(a):s[s.length-1]="--- "+a}else s.push(nt(r.contents,n));if(r.directives?.docEnd)r.comment?(i=e(r.comment)).includes(`
`)?(s.push("..."),s.push(xe(i,""))):s.push("... "+i):s.push("...");else{let a=r.comment;(a=a&&l?a.replace(/^\n+/,""):a)&&(l&&!o||s[s.length-1]===""||s.push(""),s.push(xe(e(a),"")))}return s.join(`
`)+`
`}}}function pt(t){if(ae(t))return 1;throw new Error("Expected a YAML collection as document contents")}class fr extends Error{constructor(e,r,s,n){super(),this.name=e,this.code=s,this.message=n,this.pos=r}}class Le extends fr{constructor(e,r,s){super("YAMLParseError",e,r,s)}}class us extends fr{constructor(e,r,s){super("YAMLWarning",e,r,s)}}let hr=(t,e)=>r=>{if(r.pos[0]!==-1){r.linePos=r.pos.map(l=>e.linePos(l));var{line:s,col:n}=r.linePos[0];r.message+=` at line ${s}, column `+n;let c=n-1,f=t.substring(e.lineStarts[s-1],e.lineStarts[s]).replace(/[\n\r]+$/,"");if(60<=c&&80<f.length&&(i=Math.min(c-39,f.length-79),f=""+f.substring(i),c-=i-1),80<f.length&&(f=f.substring(0,79)+""),1<s&&/^ *$/.test(f.substring(0,c))){let l=t.substring(e.lineStarts[s-2],e.lineStarts[s-1]);80<l.length&&(l=l.substring(0,79)+`
`),f=l+f}if(/[^ ]/.test(f)){let l=1;var i=r.linePos[1],s=(i&&i.line===s&&i.col>n&&(l=Math.max(1,Math.min(i.col-n,80-c)))," ".repeat(c)+"^".repeat(l));r.message+=`:

${f}
${s}
`}}};function dt(t,{flow:e,indicator:r,next:s,offset:n,onError:i,parentIndent:c,startOnNewline:f}){let l=!1,o=f,a=f,h="",d="",p=!1,u=!1,y=null,g=null,b=null,m=null,$=null,E=null,O=null;for(var x of t)switch(u&&(x.type!=="space"&&x.type!=="newline"&&x.type!=="comma"&&i(x.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),u=!1),y&&(o&&x.type!=="comment"&&x.type!=="newline"&&i(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),y=null),x.type){case"space":e||r==="doc-start"&&s?.type==="flow-collection"||!x.source.includes("	")||(y=x),a=!0;break;case"comment":a||i(x,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");var M=x.source.substring(1)||" ";h?h+=d+M:h=M,d="",o=!1;break;case"newline":o?h?h+=x.source:E&&r==="seq-item-ind"||(l=!0):d+=x.source,o=!0,p=!0,(g||b)&&(m=x),a=!0;break;case"anchor":g&&i(x,"MULTIPLE_ANCHORS","A node can have at most one anchor"),x.source.endsWith(":")&&i(x.offset+x.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),g=x,O=O??x.offset,o=!1,a=!1,u=!0;break;case"tag":b&&i(x,"MULTIPLE_TAGS","A node can have at most one tag"),b=x,O=O??x.offset,o=!1,a=!1,u=!0;break;case r:(g||b)&&i(x,"BAD_PROP_ORDER",`Anchors and tags must be after the ${x.source} indicator`),E&&i(x,"UNEXPECTED_TOKEN",`Unexpected ${x.source} in `+(e??"collection")),E=x,o=r==="seq-item-ind"||r==="explicit-key-ind",a=!1;break;case"comma":if(e){$&&i(x,"UNEXPECTED_TOKEN","Unexpected , in "+e),$=x,o=!1,a=!1;break}default:i(x,"UNEXPECTED_TOKEN",`Unexpected ${x.type} token`),o=!1,a=!1}return f=t[t.length-1],t=f?f.offset+f.source.length:n,u&&s&&s.type!=="space"&&s.type!=="newline"&&s.type!=="comma"&&(s.type!=="scalar"||s.source!=="")&&i(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y&&(o&&y.indent<=c||s?.type==="block-map"||s?.type==="block-seq")&&i(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:$,found:E,spaceBefore:l,comment:h,hasNewline:p,anchor:g,tag:b,newlineAfterProp:m,end:t,start:O??t}}function Tt(t){if(t)switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return 1;if(t.end){for(var e of t.end)if(e.type==="newline")return 1}return;case"flow-collection":for(var r of t.items){for(var s of r.start)if(s.type==="newline")return 1;if(r.sep){for(var n of r.sep)if(n.type==="newline")return 1}if(Tt(r.key)||Tt(r.value))return 1}return;default:return 1}}function ps(t,e,r){var s;e?.type!=="flow-collection"||(s=e.end[0]).indent!==t||s.source!=="]"&&s.source!=="}"||!Tt(e)||r(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}function bi(t,e,r){if(t=t.options.uniqueKeys,t!==!1){let s=typeof t=="function"?t:(n,i)=>n===i||re(n)&&re(i)&&n.value===i.value;return e.some(n=>s(n.key,r))}}let wi="All mapping items must start at the same column";function Ct(t,e,r,s){let n="";if(t){let o=!1,a="";for(var i of t){var{source:c,type:f}=i;switch(f){case"space":o=!0;break;case"comment":r&&!o&&s(i,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");var l=c.substring(1)||" ";n?n+=a+l:n=l,a="";break;case"newline":n&&(a+=c),o=!0;break;default:s(i,"UNEXPECTED_TOKEN",`Unexpected ${f} at node end`)}e+=c.length}}return{comment:n,offset:e}}let ds="Block collections are not allowed within flow collections",fs=t=>t&&(t.type==="block-map"||t.type==="block-seq");function hs(t,e,r,s,n,i){return t=(r.type==="block-map"?({composeNode:c,composeEmptyNode:f},l,o,a,h)=>{var d,p=new(h?.nodeClass??he)(l.schema);l.atRoot&&(l.atRoot=!1);let u=o.offset,y=null;for(d of o.items){var{start:O,key:g,sep:b,value:m}=d,$=dt(O,{indicator:"explicit-key-ind",next:g??b?.[0],offset:u,onError:a,parentIndent:o.indent,startOnNewline:!0}),E=!$.found;if(E){if(g&&(g.type==="block-seq"?a(u,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in g&&g.indent!==o.indent&&a(u,"BAD_INDENT",wi)),!$.anchor&&!$.tag&&!b){y=$.end,$.comment&&(p.comment?p.comment+=`
`+$.comment:p.comment=$.comment);continue}($.newlineAfterProp||Tt(g))&&a(g??O[O.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else $.found?.indent!==o.indent&&a(u,"BAD_INDENT",wi);l.atKey=!0;var x=$.end,O=g?c(l,g,$,a):f(l,x,O,null,$,a),x=(l.schema.compat&&ps(o.indent,g,a),l.atKey=!1,bi(l,p.items,O)&&a(x,"DUPLICATE_KEY","Map keys must be unique"),dt(b??[],{indicator:"map-value-ind",next:m,offset:O.range[2],onError:a,parentIndent:o.indent,startOnNewline:!g||g.type==="block-scalar"}));u=x.end,x.found?(E&&(m?.type!=="block-map"||x.hasNewline||a(u,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),l.options.strict)&&$.start<x.found.offset-1024&&a(O.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"),g=m?c(l,m,x,a):f(l,u,b,null,x,a),l.schema.compat&&ps(o.indent,m,a),u=g.range[2],$=new ue(O,g),l.options.keepSourceTokens&&($.srcToken=d),p.items.push($)):(E&&a(O.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),x.comment&&(O.comment?O.comment+=`
`+x.comment:O.comment=x.comment),b=new ue(O),l.options.keepSourceTokens&&(b.srcToken=d),p.items.push(b))}return y&&y<u&&a(y,"IMPOSSIBLE","Map comment with trailing content"),p.range=[o.offset,u,y??u],p}:r.type==="block-seq"?({composeNode:c,composeEmptyNode:f},l,o,a,h)=>{var d,p,u=new(h?.nodeClass??Ie)(l.schema);l.atRoot&&(l.atRoot=!1),l.atKey&&(l.atKey=!1);let y=o.offset,g=null;for({start:d,value:p}of o.items){var b=dt(d,{indicator:"seq-item-ind",next:p,offset:y,onError:a,parentIndent:o.indent,startOnNewline:!0});if(!b.found){if(!(b.anchor||b.tag||p)){g=b.end,b.comment&&(u.comment=b.comment);continue}p&&p.type==="block-seq"?a(b.end,"BAD_INDENT","All sequence items must start at the same column"):a(y,"MISSING_CHAR","Sequence item without - indicator")}b=p?c(l,p,b,a):f(l,b.end,d,null,b,a),l.schema.compat&&ps(o.indent,p,a),y=b.range[2],u.items.push(b)}return u.range=[o.offset,y,g??y],u}:({composeNode:c,composeEmptyNode:f},l,o,a,h)=>{var d=o.start.source==="{",p=d?"flow map":"flow sequence",u=new(h?.nodeClass??(d?he:Ie))(l.schema);u.flow=!0,(h=l.atRoot)&&(l.atRoot=!1),l.atKey&&(l.atKey=!1);let y=o.offset+o.start.source.length;for(let N=0;N<o.items.length;++N){var g=o.items[N],{start:b,key:m,sep:$,value:E}=g,O=dt(b,{flow:p,indicator:"explicit-key-ind",next:m??$?.[0],offset:y,onError:a,parentIndent:o.indent,startOnNewline:!1});if(!O.found){if(!(O.anchor||O.tag||$||E)){N===0&&O.comma?a(O.comma,"UNEXPECTED_TOKEN","Unexpected , in "+p):N<o.items.length-1&&a(O.start,"UNEXPECTED_TOKEN","Unexpected empty item in "+p),O.comment&&(u.comment?u.comment+=`
`+O.comment:u.comment=O.comment),y=O.end;continue}!d&&l.options.strict&&Tt(m)&&a(m,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(N===0)O.comma&&a(O.comma,"UNEXPECTED_TOKEN","Unexpected , in "+p);else if(O.comma||a(O.start,"MISSING_CHAR",`Missing , between ${p} items`),O.comment){let T="";e:for(var x of b)switch(x.type){case"comma":case"space":break;case"comment":T=x.source.substring(1);break e;default:break e}if(T){let _=u.items[u.items.length-1];(_=ie(_)?_.value??_.key:_).comment?_.comment+=`
`+T:_.comment=T,O.comment=O.comment.substring(T.length+1)}}if(d||$||O.found){l.atKey=!0;var M=O.end,q=m?c(l,m,O,a):f(l,M,b,null,O,a),V=(fs(m)&&a(q.range,"BLOCK_IN_FLOW",ds),l.atKey=!1,dt($??[],{flow:p,indicator:"map-value-ind",next:E,offset:q.range[2],onError:a,parentIndent:o.indent,startOnNewline:!1}));if(V.found){if(!d&&!O.found&&l.options.strict){if($)for(var A of $){if(A===V.found)break;if(A.type==="newline"){a(A,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}O.start<V.found.offset-1024&&a(V.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else E&&("source"in E&&E.source&&E.source[0]===":"?a(E,"MISSING_CHAR","Missing space after : in "+p):a(V.start,"MISSING_CHAR",`Missing , or : between ${p} items`));var m=E?c(l,E,V,a):V.found?f(l,V.end,$,null,V,a):null,R=(m?fs(E)&&a(m.range,"BLOCK_IN_FLOW",ds):V.comment&&(q.comment?q.comment+=`
`+V.comment:q.comment=V.comment),new ue(q,m));l.options.keepSourceTokens&&(R.srcToken=g),d?(bi(l,(g=u).items,q)&&a(M,"DUPLICATE_KEY","Map keys must be unique"),g.items.push(R)):((M=new he(l.schema)).flow=!0,M.items.push(R),g=(m??q).range,M.range=[q.range[0],g[1],g[2]],u.items.push(M)),y=m?m.range[2]:V.end}else R=E?c(l,E,O,a):f(l,O.end,$,null,O,a),u.items.push(R),y=R.range[2],fs(E)&&a(R.range,"BLOCK_IN_FLOW",ds)}var I,v=d?"}":"]",[k,...S]=o.end;let P=y;return k&&k.source===v?P=k.offset+k.source.length:(I=p[0].toUpperCase()+p.substring(1),a(y,h?"MISSING_CHAR":"BAD_INDENT",h?I+" must end with a "+v:I+" in block collection must be sufficiently indented and end with a "+v),k&&k.source.length!==1&&S.unshift(k)),0<S.length?((h=Ct(S,P,l.options.strict,a)).comment&&(u.comment?u.comment+=`
`+h.comment:u.comment=h.comment),u.range=[o.offset,P,h.offset]):u.range=[o.offset,P,P],u})(t,e,r,s,i),e=t.constructor,n==="!"||n===e.tagName?t.tag=e.tagName:n&&(t.tag=n),t}function _i(t,e,r){var s=e.offset,n=(({offset:$,props:E},O,x)=>{if(E[0].type!=="block-scalar-header")return x(E[0],"IMPOSSIBLE","Block scalar header not found"),null;let M=E[0].source,q=M[0],V=0,A="",R=-1;for(let _=1;_<M.length;++_){var I,v=M[_];A||v!=="-"&&v!=="+"?(I=Number(v),!V&&I?V=I:R===-1&&(R=$+_)):A=v}R!==-1&&x(R,"UNEXPECTED_TOKEN","Block scalar header includes extra characters: "+M);let k=!1,S="",P=M.length;for(let _=1;_<E.length;++_){var N=E[_];switch(N.type){case"space":k=!0;case"newline":P+=N.source.length;break;case"comment":O&&!k&&x(N,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),P+=N.source.length,S=N.source.substring(1);break;case"error":x(N,"UNEXPECTED_TOKEN",N.message),P+=N.source.length;break;default:var T="Unexpected token in block scalar header: "+N.type,T=(x(N,"UNEXPECTED_TOKEN",T),N.source);T&&typeof T=="string"&&(P+=T.length)}}return{mode:q,indent:V,chomp:A,comment:S,length:P}})(e,t.options.strict,r);if(!n)return{value:"",type:null,comment:"",range:[s,s,s]};var i=n.mode===">"?W.BLOCK_FOLDED:W.BLOCK_LITERAL,c=e.source?($=>{var E=$.split(/\n( *)/),O=($=E[0]).match(/^( *)/),x=[O=O?.[1]?[O[1],$.slice(O[1].length)]:["",$]];for(let M=1;M<E.length;M+=2)x.push([E[M],E[M+1]]);return x})(e.source):[];let f=c.length;for(let $=c.length-1;0<=$;--$){var l=c[$][1];if(l!==""&&l!=="\r")break;f=$}if(f===0){let $=n.chomp==="+"&&0<c.length?`
`.repeat(Math.max(1,c.length-1)):"",E=s+n.length;return e.source&&(E+=e.source.length),{value:$,type:i,comment:n.comment,range:[s,E,E]}}let o=e.indent+n.indent,a=e.offset+n.length,h=0;for(let $=0;$<f;++$){var[d,p]=c[$];if(p!==""&&p!=="\r"){d.length<o&&r(a+d.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),n.indent===0&&(o=d.length),h=$,o!==0||t.atRoot||r(a,"BAD_INDENT","Block scalar values in collections must be indented");break}n.indent===0&&d.length>o&&(o=d.length),a+=d.length+p.length+1}for(let $=c.length-1;$>=f;--$)c[$][0].length>o&&(f=$+1);let u="",y="",g=!1;for(let $=0;$<h;++$)u+=c[$][0].slice(o)+`
`;for(let $=h;$<f;++$){let[E,O]=c[$];a+=E.length+O.length+1;var b,m=O[O.length-1]==="\r";(O=m?O.slice(0,-1):O)&&E.length<o&&(b=n.indent?"explicit indentation indicator":"first line",r(a-O.length-(m?2:1),"BAD_INDENT","Block scalar lines must not be less indented than their "+b),E=""),i===W.BLOCK_LITERAL?(u+=y+E.slice(o)+O,y=`
`):E.length>o||O[0]==="	"?(y===" "?y=`
`:g||y!==`
`||(y=`

`),u+=y+E.slice(o)+O,y=`
`,g=!0):O===""?y===`
`?u+=`
`:y=`
`:(u+=y+O,y=" ",g=!1)}switch(n.chomp){case"-":break;case"+":for(let $=f;$<c.length;++$)u+=`
`+c[$][0].slice(o);u[u.length-1]!==`
`&&(u+=`
`);break;default:u+=`
`}return e=s+n.length+e.source.length,{value:u,type:i,comment:n.comment,range:[s,e,e]}}function $i(t,h,r){let{offset:s,type:n,source:i,end:c}=t,f,l;var o=(d,p,u)=>r(s+d,p,u);switch(n){case"scalar":f=W.PLAIN,l=((d,p)=>{let u="";switch(d[0]){case"	":u="a tab character";break;case",":u="flow indicator character ,";break;case"%":u="directive indicator character %";break;case"|":case">":u="block scalar indicator "+d[0];break;case"@":case"`":u="reserved character "+d[0]}return u&&p(0,"BAD_SCALAR_START","Plain value cannot start with "+u),ki(d)})(i,o);break;case"single-quoted-scalar":f=W.QUOTE_SINGLE,l=((d,p)=>(d[d.length-1]==="'"&&d.length!==1||p(d.length,"MISSING_CHAR","Missing closing 'quote"),ki(d.slice(1,-1)).replace(/''/g,"'")))(i,o);break;case"double-quoted-scalar":f=W.QUOTE_DOUBLE,l=((d,p)=>{let u="";for(let $=1;$<d.length-1;++$){var y=d[$];if(y!=="\r"||d[$+1]!==`
`)if(y===`
`){var{fold:g,offset:b}=((E,O)=>{let x="",M=E[O+1];for(;!(M!==" "&&M!=="	"&&M!==`
`&&M!=="\r"||M==="\r"&&E[O+2]!==`
`);)M===`
`&&(x+=`
`),O+=1,M=E[O+1];return{fold:x=x||" ",offset:O}})(d,$);u+=g,$=b}else if(y==="\\"){let E=d[++$];if(g=Jo[E],g)u+=g;else if(E===`
`)for(E=d[$+1];E===" "||E==="	";)E=d[++$+1];else if(E==="\r"&&d[$+1]===`
`)for(E=d[++$+1];E===" "||E==="	";)E=d[++$+1];else E==="x"||E==="u"||E==="U"?(b={x:2,u:4,U:8}[E],u+=((O,x,M,q)=>{var V=O.substr(x,M),A=(A=V.length===M&&/^[0-9a-fA-F]+$/.test(V))?parseInt(V,16):NaN;return isNaN(A)?(V=O.substr(x-2,M+2),q(x-2,"BAD_DQ_ESCAPE","Invalid escape sequence "+V),V):String.fromCodePoint(A)})(d,$+1,b,p),$+=b):(m=d.substr($-1,2),p($-1,"BAD_DQ_ESCAPE","Invalid escape sequence "+m),u+=m)}else if(y===" "||y==="	"){var m=$;let E=d[$+1];for(;E===" "||E==="	";)E=d[++$+1];E===`
`||E==="\r"&&d[$+2]===`
`||(u+=$>m?d.slice(m,$+1):y)}else u+=y}return d[d.length-1]==='"'&&d.length!==1||p(d.length,"MISSING_CHAR",'Missing closing "quote'),u})(i,o);break;default:return r(t,"UNEXPECTED_TOKEN","Expected a flow scalar value, but found: "+n),{value:"",type:null,comment:"",range:[s,s+i.length,s+i.length]}}var a=s+i.length,h=Ct(c,a,h,r);return{value:l,type:f,comment:h.comment,range:[s,a,h.offset]}}function ki(t){let e,r;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),r=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,r=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=e.exec(t);if(!s)return t;let n=s[1],i=" ",c=e.lastIndex;for(r.lastIndex=c;s=r.exec(t);)s[1]===""?i===`
`?n+=i:i=`
`:(n+=i+s[1],i=" "),c=r.lastIndex;var f=/[ \t]*(.*)/sy;return f.lastIndex=c,s=f.exec(t),n+i+(s?.[1]??"")}let Jo={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function Ei(t,e,r,s){var{value:n,type:i,comment:c,range:f}=e.type==="block-scalar"?_i(t,e,s):$i(e,t.options.strict,s),l=r?t.directives.tagName(r.source,d=>s(r,"TAG_RESOLVE_FAILED",d)):null;let o;o=t.options.stringKeys&&t.atKey?t.schema[je]:l?((d,p,u,y,g)=>{if(u!=="!"){var b,m,$=[];for(b of d.tags)if(!b.collection&&b.tag===u){if(!b.default||!b.test)return b;$.push(b)}for(m of $)if(m.test?.test(p))return m;var E=d.knownTags[u];if(E&&!E.collection)return d.tags.push(Object.assign({},E,{default:!1,test:void 0})),E;g(y,"TAG_RESOLVE_FAILED","Unresolved tag: "+u,u!=="tag:yaml.org,2002:str")}return d[je]})(t.schema,n,l,r,s):e.type==="scalar"?(({atKey:d,directives:p,schema:u},y,g,b)=>{var m,$=u.tags.find(E=>(E.default===!0||d&&E.default==="key")&&E.test?.test(y))||u[je];return u.compat&&(u=u.compat.find(E=>E.default&&E.test?.test(y))??u[je],$.tag!==u.tag)&&(m=p.tagString($.tag),p=p.tagString(u.tag),b(g,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${m} or `+p,!0)),$})(t,n,e,s):t.schema[je];let a;try{var h=o.resolve(n,d=>s(r??e,"TAG_RESOLVE_FAILED",d),t.options);a=re(h)?h:new W(h)}catch(d){t=d instanceof Error?d.message:String(d),s(r??e,"TAG_RESOLVE_FAILED",t),a=new W(n)}return a.range=f,a.source=n,i&&(a.type=i),l&&(a.tag=l),o.format&&(a.format=o.format),c&&(a.comment=c),a}let Ho={composeNode:Si,composeEmptyNode:ms};function Si(t,e,r,s){var n=t.atKey,{spaceBefore:i,comment:c,anchor:f,tag:l}=r;let o,a=!0;switch(e.type){case"alias":o=(({options:h},{offset:d,source:p,end:u},y)=>{var g=new Pt(p.substring(1));return g.source===""&&y(d,"BAD_ALIAS","Alias cannot be an empty string"),g.source.endsWith(":")&&y(d+p.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0),p=d+p.length,u=Ct(u,p,h.strict,y),g.range=[d,p,u.offset],u.comment&&(g.comment=u.comment),g})(t,e,s),(f||l)&&s(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":o=Ei(t,e,l,s),f&&(o.anchor=f.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":o=((h,d,p,u,y)=>{let g=u.tag,b=g?d.directives.tagName(g.source,O=>y(g,"TAG_RESOLVE_FAILED",O)):null,m=(p.type==="block-seq"&&({anchor:u,newlineAfterProp:E}=u,u=u&&g?u.offset>g.offset?u:g:u??g)&&(!E||E.offset<u.offset)&&y(u,"MISSING_CHAR","Missing newline after block sequence props"),p.type==="block-map"||p.type!=="block-seq"&&p.start.source==="{"?"map":"seq");if(!g||!b||b==="!"||b===he.tagName&&m=="map"||b===Ie.tagName&&m=="seq")return hs(h,d,p,y,b);let $=d.schema.tags.find(O=>O.tag===b&&O.collection===m);if(!$){var E=d.schema.knownTags[b];if(!E||E.collection!==m)return E?y(g,"BAD_COLLECTION_TYPE",`${E.tag} used for ${m} collection, but expects `+(E.collection??"scalar"),!0):y(g,"TAG_RESOLVE_FAILED","Unresolved tag: "+b,!0),hs(h,d,p,y,b);d.schema.tags.push(Object.assign({},E,{default:!1})),$=E}return u=hs(h,d,p,y,b,$),E=$.resolve?.(u,O=>y(g,"TAG_RESOLVE_FAILED",O),d.options)??u,(h=oe(E)?E:new W(E)).range=u.range,h.tag=b,$?.format&&(h.format=$.format),h})(Ho,t,e,r,s),f&&(o.anchor=f.source.substring(1));break;default:s(e,"UNEXPECTED_TOKEN",e.type==="error"?e.message:`Unsupported token (type: ${e.type})`),o=ms(t,e.offset,void 0,null,r,s),a=!1}return f&&o.anchor===""&&s(f,"BAD_ALIAS","Anchor cannot be an empty string"),n&&t.options.stringKeys&&(!re(o)||typeof o.value!="string"||o.tag&&o.tag!=="tag:yaml.org,2002:str")&&s(l??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),i&&(o.spaceBefore=!0),c&&(e.type==="scalar"&&e.source===""?o.comment=c:o.commentBefore=c),t.options.keepSourceTokens&&a&&(o.srcToken=e),o}function ms(t,e,r,s,{spaceBefore:n,comment:i,anchor:c,tag:f,end:l},o){return t=Ei(t,{type:"scalar",offset:((a,h,d)=>{if(h)for(let p=(d=d??h.length)-1;0<=p;--p){let u=h[p];switch(u.type){case"space":case"comment":case"newline":a-=u.source.length;continue}for(u=h[++p];u?.type==="space";)a+=u.source.length,u=h[++p];break}return a})(e,r,s),indent:-1,source:""},f,o),c&&(t.anchor=c.source.substring(1),t.anchor==="")&&o(c,"BAD_ALIAS","Anchor cannot be an empty string"),n&&(t.spaceBefore=!0),i&&(t.comment=i,t.range[2]=l),t}function Mt(t){var e;return typeof t=="number"?[t,t+1]:Array.isArray(t)?t.length===2?t:[t[0],t[1]]:({offset:t,source:e}=t,[t,t+(typeof e=="string"?e.length:1)])}function Oi(t){let e="",r=!1,s=!1;for(let i=0;i<t.length;++i){var n=t[i];switch(n[0]){case"#":e+=(e===""?"":s?`

`:`
`)+(n.substring(1)||" "),r=!0,s=!1;break;case"%":t[i+1]?.[0]!=="#"&&(i+=1),r=!1;break;default:r||(s=!0),r=!1}}return{comment:e,afterEmptyLine:s}}class mr{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(r,s,n,i)=>{r=Mt(r),i?this.warnings.push(new us(r,s,n)):this.errors.push(new Le(r,s,n))},this.directives=new de({version:e.version||"1.2"}),this.options=e}decorate(e,r){var{comment:s,afterEmptyLine:n}=Oi(this.prelude);if(s){var i=e.contents;if(r)e.comment=e.comment?e.comment+`
`+s:s;else if(n||e.directives.docStart||!i)e.commentBefore=s;else if(ae(i)&&!i.flow&&0<i.items.length){let c=i.items[0];n=(c=ie(c)?c.key:c).commentBefore,c.commentBefore=n?s+`
`+n:s}else n=i.commentBefore,i.commentBefore=n?s+`
`+n:s}r?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Oi(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,r=!1,s=-1){for(var n of e)yield*this.next(n);yield*this.end(r,s)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(a,h,d)=>{var p=Mt(e);p[0]+=a,this.onError(p,"BAD_DIRECTIVE",h,d)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":[r,s,{offset:n,start:i,value:c,end:f},l]=[this.options,this.directives,e,this.onError],s=Object.assign({_directives:s},r),s={atKey:!1,atRoot:!0,directives:(r=new We(void 0,s)).directives,options:r.options,schema:r.schema},(o=dt(i,{indicator:"doc-start",next:c??f?.[0],offset:n,onError:l,parentIndent:0,startOnNewline:!0})).found&&(r.directives.docStart=!0,!c||c.type!=="block-map"&&c.type!=="block-seq"||o.hasNewline||l(o.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),r.contents=c?Si(s,c,o,l):ms(s,o.end,i,null,o,l),c=r.contents.range[2],(s=Ct(f,c,!1,l)).comment&&(r.comment=s.comment),r.range=[n,c,s.offset],i=r,this.atDirectives&&!i.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(i,!1),this.doc&&(yield this.doc),this.doc=i,this.atDirectives=!1;break;case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":o=e.source?e.message+": "+JSON.stringify(e.source):e.message,f=new Le(Mt(e),"UNEXPECTED_TOKEN",o),(this.atDirectives||!this.doc?this:this.doc).errors.push(f);break;case"doc-end":this.doc?(this.doc.directives.docEnd=!0,l=Ct(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError),this.decorate(this.doc,!0),l.comment&&(n=this.doc.comment,this.doc.comment=n?n+`
`+l.comment:l.comment),this.doc.range[2]=l.offset):this.errors.push(new Le(Mt(e),"UNEXPECTED_TOKEN","Unexpected doc-end without preceding document"));break;default:this.errors.push(new Le(Mt(e),"UNEXPECTED_TOKEN","Unsupported token "+e.type))}var r,s,n,i,c,f,l,o}*end(e=!1,r=-1){this.doc?(this.decorate(this.doc,!0),yield this.doc,this.doc=null):e&&(e=Object.assign({_directives:this.directives},this.options),e=new We(void 0,e),this.atDirectives&&this.onError(r,"MISSING_CHAR","Missing directives-end indicator line"),e.range=[0,r,r],this.decorate(e,!1),yield e)}}function Pi(t,e){if(e)for(var r of e)switch(r.type){case"space":case"comment":t.push(r);break;case"newline":return t.push(r),1}}function ys(t,e,r){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=r,t.source=e;break;case"block-scalar":{var s,i=t.props.slice(1);let l=e.length;t.props[0].type==="block-scalar-header"&&(l-=t.props[0].source.length);for(s of i)s.offset+=l;delete t.props,Object.assign(t,{type:r,source:e,end:i});break}case"block-map":case"block-seq":i={type:"newline",offset:t.offset+e.length,indent:t.indent,source:`
`},delete t.items,Object.assign(t,{type:r,source:e,end:[i]});break;default:var n,i="indent"in t?t.indent:-1,c="end"in t&&Array.isArray(t.end)?t.end.filter(f=>f.type==="space"||f.type==="comment"||f.type==="newline"):[];for(n of Object.keys(t))n!=="type"&&n!=="offset"&&delete t[n];Object.assign(t,{type:r,indent:i,source:e,end:c})}}function yr(t){switch(t.type){case"block-scalar":{let f="";for(var e of t.props)f+=yr(e);return f+t.source}case"block-map":case"block-seq":{let f="";for(var r of t.items)f+=gr(r);return f}case"flow-collection":{let f=t.start.source;for(var s of t.items)f+=gr(s);for(var n of t.end)f+=n.source;return f}case"document":{let f=gr(t);if(t.end)for(var i of t.end)f+=i.source;return f}default:{let f=t.source;if("end"in t&&t.end)for(var c of t.end)f+=c.source;return f}}}function gr({start:t,key:e,sep:r,value:s}){let n="";for(var i of t)n+=i.source;if(e&&(n+=yr(e)),r)for(var c of r)n+=c.source;return s&&(n+=yr(s)),n}let gs=Symbol("break visit");as=Symbol("skip children");let ji=Symbol("remove item");function Ye(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),function r(s,n,i){let c=i(n,s);if(typeof c=="symbol")return c;for(var f of["key","value"]){let l=n[f];if(l&&"items"in l){for(let o=0;o<l.items.length;++o){let a=r(Object.freeze(s.concat([[f,o]])),l.items[o],i);if(typeof a=="number")o=a-1;else{if(a===gs)return gs;a===ji&&(l.items.splice(o,1),--o)}}typeof c=="function"&&f==="key"&&(c=c(n,s))}}return typeof c=="function"?c(n,s):c}(Object.freeze([]),t,e)}Ye.BREAK=gs,Ye.SKIP=as,Ye.REMOVE=ji,Ye.itemAtPath=(t,e)=>{let r=t;for(var[s,n]of e){if(s=r?.[s],!(s&&"items"in s))return;r=s.items[n]}return r},Ye.parentCollection=(t,e)=>{if(t=Ye.itemAtPath(t,e.slice(0,-1)),e=e[e.length-1][0],t=t?.[e],t&&"items"in t)return t;throw new Error("Parent collection not found")};let vr="\uFEFF";function Ni(t){switch(t){case vr:return"byte-order-mark";case"":return"doc-mode";case"":return"flow-error-end";case"":return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}pr=Object.freeze({__proto__:null,BOM:vr,DOCUMENT:"",FLOW_END:"",SCALAR:"",createScalarToken:function(t,e){var{implicitKey:r=!1,indent:s,inFlow:n=!1,offset:i=-1,type:c="PLAIN"}=e,f=xt({type:c,value:t},{implicitKey:r,indent:0<s?" ".repeat(s):"",inFlow:n,options:{blockQuote:!0,lineWidth:-1}}),l=e.end??[{type:"newline",offset:-1,indent:s,source:`
`}];switch(f[0]){case"|":case">":var o=f.indexOf(`
`),a=f.substring(0,o),o=f.substring(o+1)+`
`,a=[{type:"block-scalar-header",offset:i,indent:s,source:a}];return Pi(a,l)||a.push({type:"newline",offset:-1,indent:s,source:`
`}),{type:"block-scalar",offset:i,indent:s,props:a,source:o};case'"':return{type:"double-quoted-scalar",offset:i,indent:s,source:f,end:l};case"'":return{type:"single-quoted-scalar",offset:i,indent:s,source:f,end:l};default:return{type:"scalar",offset:i,indent:s,source:f,end:l}}},isCollection:t=>!!t&&"items"in t,isScalar:t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar"),prettyToken:function(t){switch(t){case vr:return"<BOM>";case"":return"<DOC>";case"":return"<FLOW_END>";case"":return"<SCALAR>";default:return JSON.stringify(t)}},resolveAsScalar:function(t,e=!0,r){if(t){var s=(n,i,c)=>{if(n=typeof n=="number"?n:Array.isArray(n)?n[0]:n.offset,!r)throw new Le([n,n+1],i,c);r(n,i,c)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return $i(t,e,s);case"block-scalar":return _i({options:{strict:e}},t,s)}}return null},setScalarValue:function(t,e,r={}){let{afterKey:s=!1,implicitKey:n=!1,inFlow:i=!1,type:c}=r,f="indent"in t?t.indent:null;if(s&&typeof f=="number"&&(f+=2),!c)switch(t.type){case"single-quoted-scalar":c="QUOTE_SINGLE";break;case"double-quoted-scalar":c="QUOTE_DOUBLE";break;case"block-scalar":var l=t.props[0];if(l.type!=="block-scalar-header")throw new Error("Invalid block scalar header");c=l.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break;default:c="PLAIN"}var o=xt({type:c,value:e},{implicitKey:n||f===null,indent:f!==null&&0<f?" ".repeat(f):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}});switch(o[0]){case"|":case">":var a=t,h=(p=o).indexOf(`
`),d=p.substring(0,h),p=p.substring(h+1)+`
`;if(a.type==="block-scalar"){if(h=a.props[0],h.type!=="block-scalar-header")throw new Error("Invalid block scalar header");h.source=d,a.source=p}else{var u,h=a.offset,y="indent"in a?a.indent:-1,h=[{type:"block-scalar-header",offset:h,indent:y,source:d}];Pi(h,"end"in a?a.end:void 0)||h.push({type:"newline",offset:-1,indent:y,source:`
`});for(u of Object.keys(a))u!=="type"&&u!=="offset"&&delete a[u];Object.assign(a,{type:"block-scalar",indent:y,props:h,source:p})}break;case'"':ys(t,o,"double-quoted-scalar");break;case"'":ys(t,o,"single-quoted-scalar");break;default:ys(t,o,"scalar")}},stringify:t=>("type"in t?yr:gr)(t),tokenType:Ni,visit:Ye});function $e(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}let xi=new Set("0123456789ABCDEFabcdef"),Wo=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),br=new Set(",[]{}"),Yo=new Set(` ,[]{}
\r	`),vs=t=>!t||Yo.has(t);class bs{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,r=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!r;let s=this.next??"stream";for(;s&&(r||this.hasChars(1));)s=yield*this.parseNext(s)}atLineEnd(){let e=this.pos,r=this.buffer[e];for(;r===" "||r==="	";)r=this.buffer[++e];return!r||r==="#"||r===`
`||r==="\r"&&this.buffer[e+1]===`
`}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let r=this.buffer[e];if(0<this.indentNext){let n=0;for(;r===" ";)r=this.buffer[++n+e];if(r==="\r"){var s=this.buffer[n+e+1];if(s===`
`||!s&&!this.atEnd)return e+n+1}return r===`
`||n>=this.indentNext||!r&&!this.atEnd?e+n:-1}return(r==="-"||r===".")&&(s=this.buffer.substr(e,3),(s==="---"||s==="...")&&$e(this.buffer[e+3]))?-1:e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&--e,this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===vr&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let i=e.length,c=e.indexOf("#");for(;c!==-1;){var r=e[c-1];if(r===" "||r==="	"){i=c-1;break}c=e.indexOf("#",c+1)}for(;;){var s=e[i-1];if(s!==" "&&s!=="	")break;--i}var n=(yield*this.pushCount(i))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-n),this.pushNewline(),"stream"}return this.atLineEnd()?(n=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"):(yield"",yield*this.parseLineStart())}*parseLineStart(){var e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");if(e=this.peek(3),(e==="---"||e==="...")&&$e(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,e==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!$e(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){var[e,r]=this.peek(2);return r||this.atEnd?e!=="-"&&e!=="?"&&e!==":"||!$e(r)?"doc":(e=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0)),this.indentNext=this.indentValue+1,this.indentValue+=e,yield*this.parseBlockStart()):this.setNext("block-start")}*parseDocument(){yield*this.pushSpaces(!0);var e=this.getLine();if(e===null)return this.setNext("doc");var r=yield*this.pushIndicators();switch(e[r]){case"#":yield*this.pushCount(e.length-r);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(vs),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return r=(r+=yield*this.parseBlockScalarHeader())+(yield*this.pushSpaces(!0)),yield*this.pushCount(e.length-r),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,r,s=-1;for(;0<(e=yield*this.pushNewline())?(r=yield*this.pushSpaces(!1),this.indentValue=s=r):r=0,0<e+(r+=yield*this.pushSpaces(!0)););var n=this.getLine();if(n===null)return this.setNext("flow");if((s!==-1&&s<this.indentNext&&n[0]!=="#"||s===0&&(n.startsWith("---")||n.startsWith("..."))&&$e(n[3]))&&!(s===this.indentNext-1&&this.flowLevel===1&&(n[0]==="]"||n[0]==="}")))return this.flowLevel=0,yield"",yield*this.parseLineStart();let i=0;for(;n[i]===",";)i=(i+=yield*this.pushCount(1))+(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(n[i+=yield*this.pushIndicators()]){case void 0:return"flow";case"#":return yield*this.pushCount(n.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,--this.flowLevel,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(vs),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":var c=this.charAt(1);if(this.flowKey||$e(c)||c===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow";default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){var e=this.charAt(0);let r=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;r!==-1&&this.buffer[r+1]==="'";)r=this.buffer.indexOf("'",r+2);else for(;r!==-1;){let c=0;for(;this.buffer[r-1-c]==="\\";)c+=1;if(c%2==0)break;r=this.buffer.indexOf('"',r+1)}var s=this.buffer.substring(0,r);let n=s.indexOf(`
`,this.pos);if(n!==-1){for(;n!==-1;){var i=this.continueScalar(n+1);if(i===-1)break;n=s.indexOf(`
`,i)}n!==-1&&(r=n-(s[n-1]==="\r"?2:1))}if(r===-1){if(!this.atEnd)return this.setNext("quoted-scalar");r=this.buffer.length}return yield*this.pushToIndex(r+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){var r=this.buffer[++e];if(r==="+")this.blockScalarKeep=!0;else if("0"<r&&r<="9")this.blockScalarIndent=Number(r)-1;else if(r!=="-")break}return yield*this.pushUntil(s=>$e(s)||s==="#")}*parseBlockScalar(){let e=this.pos-1,r=0,s;e:for(let l=this.pos;s=this.buffer[l];++l)switch(s){case" ":r+=1;break;case`
`:e=l,r=0;break;case"\r":var n=this.buffer[l+1];if(!n&&!this.atEnd)return this.setNext("block-scalar");if(n===`
`)break;default:break e}if(!s&&!this.atEnd)return this.setNext("block-scalar");if(r>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=r:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{var i=this.continueScalar(e+1);if(i===-1)break;e=this.buffer.indexOf(`
`,i)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let c=e+1;for(s=this.buffer[c];s===" ";)s=this.buffer[++c];if(s==="	"){for(;s==="	"||s===" "||s==="\r"||s===`
`;)s=this.buffer[++c];e=c-1}else if(!this.blockScalarKeep)for(;;){let l=e-1,o=this.buffer[l];o==="\r"&&(o=this.buffer[--l]);for(var f=l;o===" ";)o=this.buffer[--l];if(!(o===`
`&&l>=this.pos&&l+1+r>f))break;e=l}return yield"",yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){var e=0<this.flowLevel;let r=this.pos-1,s=this.pos-1,n;for(;n=this.buffer[++s];)if(n===":"){var i=this.buffer[s+1];if($e(i)||e&&br.has(i))break;r=s}else if($e(n)){let c=this.buffer[s+1];if(n==="\r"&&(c===`
`?(s+=1,n=`
`,c=this.buffer[s+1]):r=s),c==="#"||e&&br.has(c))break;if(n===`
`){if(i=this.continueScalar(s+1),i===-1)break;s=Math.max(s,i-2)}}else{if(e&&br.has(n))break;r=s}return n||this.atEnd?(yield"",yield*this.pushToIndex(r+1,!0),e?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(e){return 0<e?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,r){return e=this.buffer.slice(this.pos,e),e?(yield e,this.pos+=e.length,e.length):(r&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(vs))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":var e=0<this.flowLevel,r=this.charAt(1);if($e(r)||e&&br.has(r))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,r=this.buffer[e];for(;!$e(r)&&r!==">";)r=this.buffer[++e];return yield*this.pushToIndex(r===">"?e+1:e,!1)}{let e=this.pos+1,r=this.buffer[e];for(;r;)if(Wo.has(r))r=this.buffer[++e];else{if(r!=="%"||!xi.has(this.buffer[e+1])||!xi.has(this.buffer[e+2]))break;r=this.buffer[e+=3]}return yield*this.pushToIndex(e,!1)}}*pushNewline(){var e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let r=this.pos-1;for(var s;(s=this.buffer[++r])===" "||e&&s==="	";);var n=r-this.pos;return 0<n&&(yield this.buffer.substr(this.pos,n),this.pos=r),n}*pushUntil(e){let r=this.pos,s=this.buffer[r];for(;!e(s);)s=this.buffer[++r];return yield*this.pushToIndex(r,!1)}}class ws{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let r=0,s=this.lineStarts.length;for(;r<s;){var n=r+s>>1;this.lineStarts[n]<e?r=1+n:s=n}var i;return this.lineStarts[r]===e?{line:r+1,col:1}:r===0?{line:0,col:e}:(i=this.lineStarts[r-1],{line:r,col:e-i+1})}}}function Re(t,e){for(let r=0;r<t.length;++r)if(t[r].type===e)return 1}function Ai(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function Ii(t){switch(t?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return 1;default:return}}function wr(t){switch(t.type){case"document":return t.start;case"block-map":var e=t.items[t.items.length-1];return e.sep??e.start;case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function ft(t){if(t.length===0)return[];let e=t.length;e:for(;0<=--e;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;t[++e]?.type==="space";);return t.splice(e,t.length)}function Ti(t){if(t.start.type==="flow-seq-start")for(var e of t.items)!e.sep||e.value||Re(e.start,"explicit-key-ind")||Re(e.sep,"map-value-ind")||(e.key&&(e.value=e.key),delete e.key,Ii(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class _r{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new bs,this.onNewLine=e}*parse(e,r=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(var s of this.lexer.lex(e,r))yield*this.next(s);r||(yield*this.end())}*next(e){if(this.source=e,this.atScalar)this.atScalar=!1,yield*this.step(),this.offset+=e.length;else{var r=Ni(e);if(r)if(r==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=r,yield*this.step(),r){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else yield*this.pop({type:"error",offset:this.offset,message:"Not a YAML token: "+e,source:e}),this.offset+=e.length}}*end(){for(;0<this.stack.length;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){var e=this.peek(1);if(this.type!=="doc-end"||e&&e.type==="doc-end"){if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}else{for(;0<this.stack.length;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(e){return this.stack[this.stack.length-e]}*pop(e){let r=e??this.stack.pop();if(r)if(this.stack.length===0)yield r;else{var s=this.peek(1);switch(r.type==="block-scalar"?r.indent="indent"in s?s.indent:0:r.type==="flow-collection"&&s.type==="document"&&(r.indent=0),r.type==="flow-collection"&&Ti(r),s.type){case"document":s.value=r;break;case"block-scalar":s.props.push(r);break;case"block-map":var n=s.items[s.items.length-1];if(n.value)return s.items.push({start:[],key:r,sep:[]}),void(this.onKeyLine=!0);if(!n.sep)return Object.assign(n,{key:r,sep:[]}),void(this.onKeyLine=!n.explicitKey);n.value=r;break;case"block-seq":n=s.items[s.items.length-1],n.value?s.items.push({start:[],value:r}):n.value=r;break;case"flow-collection":return n=s.items[s.items.length-1],void(!n||n.value?s.items.push({start:[],key:r,sep:[]}):n.sep?n.value=r:Object.assign(n,{key:r,sep:[]}));default:yield*this.pop(),yield*this.pop(r)}s.type!=="document"&&s.type!=="block-map"&&s.type!=="block-seq"||r.type!=="block-map"&&r.type!=="block-seq"||(e=r.items[r.items.length-1])&&!e.sep&&!e.value&&0<e.start.length&&Ai(e.start)===-1&&(r.indent===0||e.start.every(i=>i.type!=="comment"||i.indent<r.indent))&&(s.type==="document"?s.end=e.start:s.items.push({start:e.start}),r.items.splice(-1,1))}else yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":var e={type:"document",offset:this.offset,start:[]};return this.type==="doc-start"&&e.start.push(this.sourceToken),void this.stack.push(e)}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":return void(Ai(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void e.start.push(this.sourceToken)}var r=this.startBlockValue(e);r?this.stack.push(r):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){var r=ft(wr(this.peek(2)));let s;e.end?((s=e.end).push(this.sourceToken),delete e.end):s=[this.sourceToken],r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:s}]},this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":return void e.props.push(this.sourceToken);case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var r=e.items[e.items.length-1];switch(this.type){case"newline":return this.onKeyLine=!1,void(r.value?(s="end"in r.value?r.value.end:void 0,(Array.isArray(s)?s[s.length-1]:void 0)?.type==="comment"?s?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})):(r.sep||r.start).push(this.sourceToken));case"space":case"comment":if(r.value)e.items.push({start:[this.sourceToken]});else if(r.sep)r.sep.push(this.sourceToken);else{if(this.atIndentedComment(r.start,e.indent)){var s=e.items[e.items.length-2]?.value?.end;if(Array.isArray(s))return Array.prototype.push.apply(s,r.start),s.push(this.sourceToken),void e.items.pop()}r.start.push(this.sourceToken)}return}if(this.indent>=e.indent){var n,i=!this.onKeyLine&&this.indent===e.indent,c=i&&(r.sep||r.explicitKey)&&this.type!=="seq-item-ind";let h=[];if(c&&r.sep&&!r.value){var f=[];for(let d=0;d<r.sep.length;++d){var l=r.sep[d];switch(l.type){case"newline":f.push(d);break;case"space":break;case"comment":l.indent>e.indent&&(f.length=0);break;default:f.length=0}}2<=f.length&&(h=r.sep.splice(f[1]))}switch(this.type){case"anchor":case"tag":return void(c||r.value?(h.push(this.sourceToken),e.items.push({start:h}),this.onKeyLine=!0):(r.sep||r.start).push(this.sourceToken));case"explicit-key-ind":return r.sep||r.explicitKey?c||r.value?(h.push(this.sourceToken),e.items.push({start:h,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}):(r.start.push(this.sourceToken),r.explicitKey=!0),void(this.onKeyLine=!0);case"map-value-ind":return r.explicitKey?r.sep?r.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):Re(r.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:h,key:null,sep:[this.sourceToken]}]}):Ii(r.key)&&!Re(r.sep,"newline")?(n=ft(r.start),o=r.key,(a=r.sep).push(this.sourceToken),delete r.key,delete r.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:o,sep:a}]})):0<h.length?r.sep=r.sep.concat(h,this.sourceToken):r.sep.push(this.sourceToken):Re(r.start,"newline")?Object.assign(r,{key:null,sep:[this.sourceToken]}):(n=ft(r.start),this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]})):r.sep?r.value||c?e.items.push({start:h,key:null,sep:[this.sourceToken]}):Re(r.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]}),void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":var o=this.flowScalar(this.type);return void(c||r.value?(e.items.push({start:h,key:o,sep:[]}),this.onKeyLine=!0):r.sep?this.stack.push(o):(Object.assign(r,{key:o,sep:[]}),this.onKeyLine=!0));default:var a=this.startBlockValue(e);if(a){if(a.type==="block-seq"){if(!r.explicitKey&&r.sep&&!Re(r.sep,"newline"))return void(yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source}))}else i&&e.items.push({start:h});return void this.stack.push(a)}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var r=e.items[e.items.length-1];switch(this.type){case"newline":return void(r.value?(s="end"in r.value?r.value.end:void 0,(Array.isArray(s)?s[s.length-1]:void 0)?.type==="comment"?s?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})):r.start.push(this.sourceToken));case"space":case"comment":if(r.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(r.start,e.indent)){var s=e.items[e.items.length-2]?.value?.end;if(Array.isArray(s))return Array.prototype.push.apply(s,r.start),s.push(this.sourceToken),void e.items.pop()}r.start.push(this.sourceToken)}return;case"anchor":case"tag":if(r.value||this.indent<=e.indent)break;return void r.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==e.indent)break;return void(r.value||Re(r.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken))}if(this.indent>e.indent){var n=this.startBlockValue(e);if(n)return void this.stack.push(n)}yield*this.pop(),yield*this.step()}*flowCollection(e){var r,s=e.items[e.items.length-1];if(this.type==="flow-error-end")for(;yield*this.pop(),(r=this.peek(1))&&r.type==="flow-collection";);else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":return void(!s||s.sep?e.items.push({start:[this.sourceToken]}):s.start.push(this.sourceToken));case"map-value-ind":return void(!s||s.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):s.sep?s.sep.push(this.sourceToken):Object.assign(s,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!s||s.value?e.items.push({start:[this.sourceToken]}):(s.sep||s.start).push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":var n=this.flowScalar(this.type);return void(!s||s.value?e.items.push({start:[],key:n,sep:[]}):s.sep?this.stack.push(n):Object.assign(s,{key:n,sep:[]}));case"flow-map-end":case"flow-seq-end":return void e.end.push(this.sourceToken)}var i=this.startBlockValue(e);i?this.stack.push(i):(yield*this.pop(),yield*this.step())}else{var c,i=this.peek(2);i.type==="block-map"&&(this.type==="map-value-ind"&&i.indent===e.indent||this.type==="newline"&&!i.items[i.items.length-1].sep)?(yield*this.pop(),yield*this.step()):this.type==="map-value-ind"&&i.type!=="flow-collection"?(i=ft(wr(i)),Ti(e),(c=e.end.splice(1,e.end.length)).push(this.sourceToken),i={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:c}]},this.onKeyLine=!0,this.stack[this.stack.length-1]=i):yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":this.onKeyLine=!0;var r=ft(wr(e));return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]};case"map-value-ind":return this.onKeyLine=!0,r=ft(wr(e)),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}return null}atIndentedComment(e,r){return this.type==="comment"&&!(this.indent<=r)&&e.every(s=>s.type==="newline"||s.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline")&&(yield*this.pop())}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function Ci(t){var e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new ws||null,prettyErrors:e}}function Mi(t,n={}){var{lineCounter:r,prettyErrors:s}=Ci(n),i=new _r(r?.addNewLine),n=new mr(n),i=Array.from(n.compose(i.parse(t)));if(s&&r)for(var c of i)c.errors.forEach(hr(t,r)),c.warnings.forEach(hr(t,r));return 0<i.length?i:Object.assign([],{empty:!0},n.streamInfo())}function _s(t,e={}){var r,{lineCounter:s,prettyErrors:n}=Ci(e),i=new _r(s?.addNewLine);let c=null;for(r of new mr(e).compose(i.parse(t),!0,t.length))if(c){if(c.options.logLevel!=="silent"){c.errors.push(new Le(r.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else c=r;return n&&s&&(c.errors.forEach(hr(t,s)),c.warnings.forEach(hr(t,s))),c}function Li(t,e,r){let s,n=(typeof e=="function"?s=e:r===void 0&&e&&typeof e=="object"&&(r=e),_s(t,r));if(!n)return null;if(n.warnings.forEach(i=>ri(n.options.logLevel,i)),0<n.errors.length){if(n.options.logLevel!=="silent")throw n.errors[0];n.errors=[]}return n.toJS(Object.assign({reviver:s},r))}function Ri(t,e,r){let s=null;if(typeof e=="function"||Array.isArray(e)?s=e:r===void 0&&e&&(r=e),typeof(r=typeof r=="string"?r.length:r)=="number"&&(r=(n=Math.round(r))<1?void 0:8<n?{indent:8}:{indent:n}),t===void 0){var n=(r??e??{}).keepUndefined;if(!n)return}return(Ce(t)&&!s?t:new We(t,s,r)).toString(r)}var Di,$s=Object.freeze({__proto__:null,Alias:Pt,CST:pr,Composer:mr,Document:We,Lexer:bs,LineCounter:ws,Pair:ue,Parser:_r,Scalar:W,Schema:It,YAMLError:fr,YAMLMap:he,YAMLParseError:Le,YAMLSeq:Ie,YAMLWarning:us,isAlias:Ne,isCollection:ae,isDocument:Ce,isMap:Ue,isNode:oe,isPair:ie,isScalar:re,isSeq:Fe,parse:Li,parseAllDocuments:Mi,parseDocument:_s,stringify:Ri,visit:Me,visitAsync:Ot}),ks=Nr(Object.freeze({__proto__:null,Alias:Pt,CST:pr,Composer:mr,Document:We,Lexer:bs,LineCounter:ws,Pair:ue,Parser:_r,Scalar:W,Schema:It,YAMLError:fr,YAMLMap:he,YAMLParseError:Le,YAMLSeq:Ie,YAMLWarning:us,default:$s,isAlias:Ne,isCollection:ae,isDocument:Ce,isMap:Ue,isNode:oe,isPair:ie,isScalar:re,isSeq:Fe,parse:Li,parseAllDocuments:Mi,parseDocument:_s,stringify:Ri,visit:Me,visitAsync:Ot})),Es={exports:{}},Vi={},De={},ht={},qi={},Ki={},Bi={};function Lt(){if(!Di){Di=1;{let n=function(o,...a){var h=[o[0]];let d=0;for(;d<a.length;)f(h,a[d]),h.push(o[++d]);return new s(h)},c=function(o,...a){var h=[l(o[0])];let d=0;for(;d<a.length;)h.push(i),f(h,a[d]),h.push(i,l(o[++d]));{var p=h;let y=1;for(;y<p.length-1;){if(p[y]===i){var u=((g,b)=>b==='""'?g:g==='""'?b:typeof g!="string"?typeof b!="string"||b[0]!=='"'||g instanceof r?void 0:'"'+g+b.slice(1):b instanceof r||g[g.length-1]!=='"'?void 0:typeof b!="string"?""+g.slice(0,-1)+b+'"':b[0]==='"'?g.slice(0,-1)+b.slice(1):void 0)(p[y-1],p[y+1]);if(u!==void 0){p.splice(y-1,3,u);continue}p[y++]="+"}y++}}return new s(h)},f=function(o,a){a instanceof s?o.push(...a._items):a instanceof r?o.push(a):o.push(typeof(o=a)=="number"||typeof o=="boolean"||o===null?o:l(Array.isArray(o)?o.join(","):o))},l=function(o){return JSON.stringify(o).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")};var t=Bi;Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(a){if(super(),!t.IDENTIFIER.test(a))throw new Error("CodeGen: name must be a valid identifier");this.str=a}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class s extends e{constructor(a){super(),this._items=typeof a=="string"?[a]:a}toString(){return this.str}emptyStr(){var a;return!(1<this._items.length||(a=this._items[0])!==""&&a!=='""')}get str(){var a;return(a=this._str)!=null?a:this._str=this._items.reduce((h,d)=>""+h+d,"")}get names(){var a;return(a=this._names)!=null?a:this._names=this._items.reduce((h,d)=>(d instanceof r&&(h[d.str]=(h[d.str]||0)+1),h),{})}}t._Code=s,t.nil=new s(""),t._=n;let i=new s("+");t.str=c,t.addCodeArg=f,t.strConcat=function(o,a){return a.emptyStr()?o:o.emptyStr()?a:c`${o}${a}`},t.stringify=function(o){return new s(l(o))},t.safeStringify=l,t.getProperty=function(o){return typeof o=="string"&&t.IDENTIFIER.test(o)?new s("."+o):n`[${o}]`},t.getEsmExportName=function(o){if(typeof o=="string"&&t.IDENTIFIER.test(o))return new s(""+o);throw new Error(`CodeGen: invalid export name: ${o}, use explicit $id name mapping`)},t.regexpCode=function(o){return new s(o.toString())}}}return Bi}var Ui,Fi,zi={};function Gi(){if(!Ui){Ui=1;{var t=zi;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;let s=Lt();class n extends Error{constructor(a){super(`CodeGen: "code" for ${a} not defined`),this.value=a.value}}var e,r;(r=e||(t.UsedValueState=e={}))[r.Started=0]="Started",r[r.Completed=1]="Completed",t.varKinds={const:new s.Name("const"),let:new s.Name("let"),var:new s.Name("var")};class i{constructor({prefixes:a,parent:h}={}){this._names={},this._prefixes=a,this._parent=h}toName(a){return a instanceof s.Name?a:this.name(a)}name(a){return new s.Name(this._newName(a))}_newName(a){return""+a+(this._names[a]||this._nameGroup(a)).index++}_nameGroup(a){var h;if((h=(h=this._parent)==null?void 0:h._prefixes)!=null&&h.has(a)||this._prefixes&&!this._prefixes.has(a))throw new Error(`CodeGen: prefix "${a}" is not allowed in this scope`);return this._names[a]={prefix:a,index:0}}}t.Scope=i;class c extends s.Name{constructor(a,h){super(h),this.prefix=a}setValue(a,{property:h,itemIndex:d}){this.value=a,this.scopePath=(0,s._)`.${new s.Name(h)}[${d}]`}}t.ValueScopeName=c;let f=(0,s._)`\n`;class l extends i{constructor(a){super(a),this._values={},this._scope=a.scope,this.opts={...a,_n:a.lines?f:s.nil}}get(){return this._scope}name(a){return new c(a,this._newName(a))}value(d,h){if(h.ref===void 0)throw new Error("CodeGen: ref must be passed in value");var d=this.toName(d),p=d.prefix,u=(u=h.key)!=null?u:h.ref;let y=this._values[p];if(y){var g=y.get(u);if(g)return g}else y=this._values[p]=new Map;return y.set(u,d),g=this._scope[p]||(this._scope[p]=[]),u=g.length,g[u]=h.ref,d.setValue(h,{property:p,itemIndex:u}),d}getValue(a,h){if(a=this._values[a],a)return a.get(h)}scopeRefs(a,h=this._values){return this._reduceValues(h,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,s._)`${a}${d.scopePath}`})}scopeCode(a=this._values,h,d){return this._reduceValues(a,p=>{if(p.value===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return p.value.code},h,d)}_reduceValues(a,h,d={},p){let u=s.nil;for(var y in a){var g=a[y];if(g){let b=d[y]=d[y]||new Map;g.forEach(m=>{if(!b.has(m)){b.set(m,e.Started);var $=h(m);if($){var E=this.opts.es5?t.varKinds.var:t.varKinds.const;u=(0,s._)`${u}${E} ${m} = ${$};${this.opts._n}`}else{if(!($=p?.(m)))throw new n(m);u=(0,s._)`${u}${$}${this.opts._n}`}b.set(m,e.Completed)}})}}return u}}t.ValueScope=l}}return zi}function Z(){if(!Fi){Fi=1;{let R=function(_,w){for(var j in w)_[j]=(_[j]||0)+(w[j]||0);return _},I=function(_,w){return w instanceof s._CodeOrName?R(_,w.names):_},v=function(_,w,j){var C;return _ instanceof s.Name?B(_):(C=_)instanceof s._Code&&C._items.some(G=>G instanceof s.Name&&w[G.str]===1&&j[G.str]!==void 0)?new s._Code(_._items.reduce((G,Q)=>((Q=Q instanceof s.Name?B(Q):Q)instanceof s._Code?G.push(...Q._items):G.push(Q),G),[])):_;function B(G){var Q=j[G.str];return Q===void 0||w[G.str]!==1?G:(delete w[G.str],Q)}},k=function(_){return typeof _=="boolean"||typeof _=="number"||_===null?!_:(0,s._)`!${T(_)}`},N=function(_){return(w,j)=>w===s.nil?j:j===s.nil?w:(0,s._)`${T(w)} ${_} ${T(j)}`},T=function(_){return _ instanceof s.Name?_:(0,s._)`(${_})`};var t=Ki;Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;let s=Lt(),n=Gi();var e=Lt(),r=(Object.defineProperty(t,"_",{enumerable:!0,get:function(){return e._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return e.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return e.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return e.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return e.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return e.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return e.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return e.Name}}),Gi());Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return r.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return r.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return r.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return r.varKinds}}),t.operators={GT:new s._Code(">"),GTE:new s._Code(">="),LT:new s._Code("<"),LTE:new s._Code("<="),EQ:new s._Code("==="),NEQ:new s._Code("!=="),NOT:new s._Code("!"),OR:new s._Code("||"),AND:new s._Code("&&"),ADD:new s._Code("+")};class i{optimizeNodes(){return this}optimizeNames(w,j){return this}}class c extends i{constructor(w,j,C){super(),this.varKind=w,this.name=j,this.rhs=C}render({es5:C,_n:j}){var C=C?n.varKinds.var:this.varKind,B=this.rhs===void 0?"":" = "+this.rhs;return`${C} ${this.name}${B};`+j}optimizeNames(w,j){if(w[this.name.str])return this.rhs&&(this.rhs=v(this.rhs,w,j)),this}get names(){return this.rhs instanceof s._CodeOrName?this.rhs.names:{}}}class f extends i{constructor(w,j,C){super(),this.lhs=w,this.rhs=j,this.sideEffects=C}render({_n:w}){return`${this.lhs} = ${this.rhs};`+w}optimizeNames(w,j){if(!(this.lhs instanceof s.Name)||w[this.lhs.str]||this.sideEffects)return this.rhs=v(this.rhs,w,j),this}get names(){return I(this.lhs instanceof s.Name?{}:{...this.lhs.names},this.rhs)}}class l extends f{constructor(w,j,C,B){super(w,C,B),this.op=j}render({_n:w}){return`${this.lhs} ${this.op}= ${this.rhs};`+w}}class o extends i{constructor(w){super(),this.label=w,this.names={}}render({_n:w}){return this.label+":"+w}}class a extends i{constructor(w){super(),this.label=w,this.names={}}render({_n:w}){return`break${this.label?" "+this.label:""};`+w}}class h extends i{constructor(w){super(),this.error=w}render({_n:w}){return`throw ${this.error};`+w}get names(){return this.error.names}}class d extends i{constructor(w){super(),this.code=w}render({_n:w}){return this.code+";"+w}optimizeNodes(){return""+this.code?this:void 0}optimizeNames(w,j){return this.code=v(this.code,w,j),this}get names(){return this.code instanceof s._CodeOrName?this.code.names:{}}}class p extends i{constructor(w=[]){super(),this.nodes=w}render(w){return this.nodes.reduce((j,C)=>j+C.render(w),"")}optimizeNodes(){var w=this.nodes;let j=w.length;for(;j--;){var C=w[j].optimizeNodes();Array.isArray(C)?w.splice(j,1,...C):C?w[j]=C:w.splice(j,1)}return 0<w.length?this:void 0}optimizeNames(w,j){var C=this.nodes;let B=C.length;for(;B--;){var G=C[B];if(!G.optimizeNames(w,j)){Q=le=J=void 0;var Q,J=w,le=G.names;for(Q in le)J[Q]=(J[Q]||0)-(le[Q]||0);C.splice(B,1)}}return 0<C.length?this:void 0}get names(){return this.nodes.reduce((w,j)=>R(w,j.names),{})}}class u extends p{render(w){return"{"+w._n+super.render(w)+"}"+w._n}}class y extends p{}class g extends u{}g.kind="else";class b extends u{constructor(w,j){super(j),this.condition=w}render(w){let j=`if(${this.condition})`+super.render(w);return this.else&&(j+="else "+this.else.render(w)),j}optimizeNodes(){super.optimizeNodes();var w,j=this.condition;if(j===!0)return this.nodes;let C=this.else;return C&&(w=C.optimizeNodes(),C=this.else=Array.isArray(w)?new g(w):w),C?j===!1?C instanceof b?C:C.nodes:this.nodes.length?this:new b(k(j),C instanceof b?[C]:C.nodes):j!==!1&&this.nodes.length?this:void 0}optimizeNames(w,j){var C;if(this.else=(C=this.else)==null?void 0:C.optimizeNames(w,j),super.optimizeNames(w,j)||this.else)return this.condition=v(this.condition,w,j),this}get names(){var w=super.names;return I(w,this.condition),this.else&&R(w,this.else.names),w}}b.kind="if";class m extends u{}m.kind="for";class $ extends m{constructor(w){super(),this.iteration=w}render(w){return`for(${this.iteration})`+super.render(w)}optimizeNames(w,j){if(super.optimizeNames(w,j))return this.iteration=v(this.iteration,w,j),this}get names(){return R(super.names,this.iteration.names)}}class E extends m{constructor(w,j,C,B){super(),this.varKind=w,this.name=j,this.from=C,this.to=B}render(w){var{name:j,from:C,to:B}=this;return`for(${w.es5?n.varKinds.var:this.varKind} ${j}=${C}; ${j}<${B}; ${j}++)`+super.render(w)}get names(){var w=I(super.names,this.from);return I(w,this.to)}}class O extends m{constructor(w,j,C,B){super(),this.loop=w,this.varKind=j,this.name=C,this.iterable=B}render(w){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(w)}optimizeNames(w,j){if(super.optimizeNames(w,j))return this.iterable=v(this.iterable,w,j),this}get names(){return R(super.names,this.iterable.names)}}class x extends u{constructor(w,j,C){super(),this.name=w,this.args=j,this.async=C}render(w){return(this.async?"async ":"")+`function ${this.name}(${this.args})`+super.render(w)}}x.kind="func";class M extends p{render(w){return"return "+super.render(w)}}M.kind="return";class q extends u{render(w){let j="try"+super.render(w);return this.catch&&(j+=this.catch.render(w)),this.finally&&(j+=this.finally.render(w)),j}optimizeNodes(){var w;return super.optimizeNodes(),(w=this.catch)!=null&&w.optimizeNodes(),(w=this.finally)!=null&&w.optimizeNodes(),this}optimizeNames(w,j){var C;return super.optimizeNames(w,j),(C=this.catch)!=null&&C.optimizeNames(w,j),(C=this.finally)!=null&&C.optimizeNames(w,j),this}get names(){var w=super.names;return this.catch&&R(w,this.catch.names),this.finally&&R(w,this.finally.names),w}}class V extends u{constructor(w){super(),this.error=w}render(w){return`catch(${this.error})`+super.render(w)}}V.kind="catch";class A extends u{render(w){return"finally"+super.render(w)}}A.kind="finally",t.CodeGen=class{constructor(_,w={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...w,_n:w.lines?`
`:""},this._extScope=_,this._scope=new n.Scope({parent:_}),this._nodes=[new y]}toString(){return this._root.render(this.opts)}name(_){return this._scope.name(_)}scopeName(_){return this._extScope.name(_)}scopeValue(_,w){return _=this._extScope.value(_,w),(this._values[_.prefix]||(this._values[_.prefix]=new Set)).add(_),_}getScopeValue(_,w){return this._extScope.getValue(_,w)}scopeRefs(_){return this._extScope.scopeRefs(_,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(_,w,j,C){return w=this._scope.toName(w),j!==void 0&&C&&(this._constants[w.str]=j),this._leafNode(new c(_,w,j)),w}const(_,w,j){return this._def(n.varKinds.const,_,w,j)}let(_,w,j){return this._def(n.varKinds.let,_,w,j)}var(_,w,j){return this._def(n.varKinds.var,_,w,j)}assign(_,w,j){return this._leafNode(new f(_,w,j))}add(_,w){return this._leafNode(new l(_,t.operators.ADD,w))}code(_){return typeof _=="function"?_():_!==s.nil&&this._leafNode(new d(_)),this}object(..._){var w,j,C=["{"];for([w,j]of _)1<C.length&&C.push(","),C.push(w),w===j&&!this.opts.es5||(C.push(":"),(0,s.addCodeArg)(C,j));return C.push("}"),new s._Code(C)}if(_,w,j){if(this._blockNode(new b(_)),w&&j)this.code(w).else().code(j).endIf();else if(w)this.code(w).endIf();else if(j)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(_){return this._elseNode(new b(_))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(b,g)}_for(_,w){return this._blockNode(_),w&&this.code(w).endFor(),this}for(_,w){return this._for(new $(_),w)}forRange(_,w,j,C,B=this.opts.es5?n.varKinds.var:n.varKinds.let){let G=this._scope.toName(_);return this._for(new E(B,G,w,j),()=>C(G))}forOf(_,w,j,C=n.varKinds.const){let B=this._scope.toName(_);if(this.opts.es5){let G=w instanceof s.Name?w:this.var("_arr",w);return this.forRange("_i",0,(0,s._)`${G}.length`,Q=>{this.var(B,(0,s._)`${G}[${Q}]`),j(B)})}return this._for(new O("of",C,B,w),()=>j(B))}forIn(_,w,j,C=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(_,(0,s._)`Object.keys(${w})`,j);let B=this._scope.toName(_);return this._for(new O("in",C,B,w),()=>j(B))}endFor(){return this._endBlockNode(m)}label(_){return this._leafNode(new o(_))}break(_){return this._leafNode(new a(_))}return(_){var w=new M;if(this._blockNode(w),this.code(_),w.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(M)}try(_,w,j){var C;if(w||j)return C=new q,this._blockNode(C),this.code(_),w&&(_=this.name("e"),this._currNode=C.catch=new V(_),w(_)),j&&(this._currNode=C.finally=new A,this.code(j)),this._endBlockNode(V,A);throw new Error('CodeGen: "try" without "catch" and "finally"')}throw(_){return this._leafNode(new h(_))}block(_,w){return this._blockStarts.push(this._nodes.length),_&&this.code(_).endBlock(w),this}endBlock(_){var w=this._blockStarts.pop();if(w===void 0)throw new Error("CodeGen: not in self-balancing block");var j=this._nodes.length-w;if(j<0||_!==void 0&&j!==_)throw new Error(`CodeGen: wrong number of nodes: ${j} vs ${_} expected`);return this._nodes.length=w,this}func(_,w=s.nil,j,C){return this._blockNode(new x(_,w,j)),C&&this.code(C).endFunc(),this}endFunc(){return this._endBlockNode(x)}optimize(_=1){for(;0<_--;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(_){return this._currNode.nodes.push(_),this}_blockNode(_){this._currNode.nodes.push(_),this._nodes.push(_)}_endBlockNode(_,w){var j=this._currNode;if(j instanceof _||w&&j instanceof w)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${w?_.kind+"/"+w.kind:_.kind}"`)}_elseNode(_){var w=this._currNode;if(w instanceof b)return this._currNode=w.else=_,this;throw new Error('CodeGen: "else" without "if"')}get _root(){return this._nodes[0]}get _currNode(){var _=this._nodes;return _[_.length-1]}set _currNode(_){var w=this._nodes;w[w.length-1]=_}},t.not=k;let S=N(t.operators.AND),P=(t.and=function(..._){return _.reduce(S)},N(t.operators.OR));t.or=function(..._){return _.reduce(P)}}}return Ki}var Ji,X={};function ee(){if(!Ji){let i=function(p,u=p.schema){var{opts:y,self:g}=p;if(y.strictSchema&&typeof u!="boolean"){var b,m=g.RULES.keywords;for(b in u)m[b]||d(p,`unknown keyword: "${b}"`)}},c=function(p,u){if(typeof p=="boolean")return!p;for(var y in p)if(u[y])return!0;return!1},f=function(p){return typeof p=="number"?""+p:p.replace(/~/g,"~0").replace(/\//g,"~1")},l=function(p){return p.replace(/~1/g,"/").replace(/~0/g,"~")},o=function({mergeNames:p,mergeToName:u,mergeValues:y,resultToName:g}){return(b,m,$,E)=>(m=$===void 0?m:$ instanceof r.Name?((m instanceof r.Name?p:u)(b,m,$),$):m instanceof r.Name?(u(b,$,m),m):y(m,$),E!==r.Name||m instanceof r.Name?m:g(b,m))},a=function(p,u){var y;return u===!0?p.var("props",!0):(y=p.var("props",(0,r._)`{}`),u!==void 0&&h(p,y,u),y)},h=function(p,u,y){Object.keys(y).forEach(g=>p.assign((0,r._)`${u}${(0,r.getProperty)(g)}`,!0))},d=function(p,u,y=p.opts.strictSchema){if(y){if(u="strict mode: "+u,y===!0)throw new Error(u);p.self.logger.warn(u)}};Ji=1,Object.defineProperty(X,"__esModule",{value:!0}),X.checkStrictMode=X.getErrorPath=X.Type=X.useFunc=X.setEvaluated=X.evaluatedPropsToName=X.mergeEvaluated=X.eachItem=X.unescapeJsonPointer=X.escapeJsonPointer=X.escapeFragment=X.unescapeFragment=X.schemaRefOrVal=X.schemaHasRulesButRef=X.schemaHasRules=X.checkUnknownRules=X.alwaysValidSchema=X.toHash=void 0;let r=Z(),s=Lt(),n=(X.toHash=function(p){var u,y={};for(u of p)y[u]=!0;return y},X.alwaysValidSchema=function(p,u){return typeof u=="boolean"?u:Object.keys(u).length===0||(i(p,u),!c(u,p.self.RULES.all))},X.checkUnknownRules=i,X.schemaHasRules=c,X.schemaHasRulesButRef=function(p,u){if(typeof p=="boolean")return!p;for(var y in p)if(y!=="$ref"&&u.all[y])return!0;return!1},X.schemaRefOrVal=function({topSchemaRef:p,schemaPath:u},y,g,b){if(!b){if(typeof y=="number"||typeof y=="boolean")return y;if(typeof y=="string")return(0,r._)`${y}`}return(0,r._)`${p}${u}${(0,r.getProperty)(g)}`},X.unescapeFragment=function(p){return l(decodeURIComponent(p))},X.escapeFragment=function(p){return encodeURIComponent(f(p))},X.escapeJsonPointer=f,X.unescapeJsonPointer=l,X.eachItem=function(p,u){if(Array.isArray(p))for(var y of p)u(y);else u(p)},X.mergeEvaluated={props:o({mergeNames:(p,u,y)=>p.if((0,r._)`${y} !== true && ${u} !== undefined`,()=>{p.if((0,r._)`${u} === true`,()=>p.assign(y,!0),()=>p.assign(y,(0,r._)`${y} || {}`).code((0,r._)`Object.assign(${y}, ${u})`))}),mergeToName:(p,u,y)=>p.if((0,r._)`${y} !== true`,()=>{u===!0?p.assign(y,!0):(p.assign(y,(0,r._)`${y} || {}`),h(p,y,u))}),mergeValues:(p,u)=>p===!0||{...p,...u},resultToName:a}),items:o({mergeNames:(p,u,y)=>p.if((0,r._)`${y} !== true && ${u} !== undefined`,()=>p.assign(y,(0,r._)`${u} === true ? true : ${y} > ${u} ? ${y} : ${u}`)),mergeToName:(p,u,y)=>p.if((0,r._)`${y} !== true`,()=>p.assign(y,u===!0||(0,r._)`${y} > ${u} ? ${y} : ${u}`)),mergeValues:(p,u)=>p===!0||Math.max(p,u),resultToName:(p,u)=>p.var("items",u)})},X.evaluatedPropsToName=a,X.setEvaluated=h,{});var t,e;X.useFunc=function(p,u){return p.scopeValue("func",{ref:u,code:n[u.code]||(n[u.code]=new s._Code(u.code))})},(e=t||(X.Type=t={}))[e.Num=0]="Num",e[e.Str=1]="Str",X.getErrorPath=function(p,u,y){return p instanceof r.Name?(u=u===t.Num,y?u?(0,r._)`"[" + ${p} + "]"`:(0,r._)`"['" + ${p} + "']"`:u?(0,r._)`"/" + ${p}`:(0,r._)`"/" + ${p}.replace(/~/g, "~0").replace(/\\//g, "~1")`):y?(0,r.getProperty)(p).toString():"/"+f(p)},X.checkStrictMode=d}return X}var Hi,Wi,Yi,Ss={};function Te(){var t;return Hi||(Hi=1,Object.defineProperty(Ss,"__esModule",{value:!0}),t={data:new(t=Z()).Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")},Ss.default=t),Ss}function Rt(){if(!Wi){Wi=1;{let n=function(l,o){let a=l.const("err",o);l.if((0,e._)`${s.default.vErrors} === null`,()=>l.assign(s.default.vErrors,(0,e._)`[${a}]`),(0,e._)`${s.default.vErrors}.push(${a})`),l.code((0,e._)`${s.default.errors}++`)},i=function(l,o){var{gen:a,validateName:h,schemaEnv:d}=l;d.$async?a.throw((0,e._)`new ${l.ValidationError}(${o})`):(a.assign((0,e._)`${h}.errors`,o),a.return(!1))},f=function(l,o,a){var h,d,p,u,y,g,b,m,$,E=l.it.createErrors;return E===!1?(0,e._)`{}`:([E,l,o={}]=[l,o,a],{gen:a,it:h}=E,h=[(({errorPath:O},{instancePath:x})=>(x=x?(0,e.str)`${O}${(0,r.getErrorPath)(x,r.Type.Str)}`:O,[s.default.instancePath,(0,e.strConcat)(s.default.instancePath,x)]))(h,o),(({keyword:O,it:{errSchemaPath:x}},{schemaPath:M,parentSchema:q})=>{let V=q?x:(0,e.str)`${x}/${O}`;return M&&(V=(0,e.str)`${V}${(0,r.getErrorPath)(M,r.Type.Str)}`),[c.schemaPath,V]})(E,o)],[o,{params:E,message:l},d]=[E,l,h],{keyword:p,data:u,schemaValue:y,it:g}=o,{opts:g,propertyName:b,topSchemaRef:m,schemaPath:$}=g,d.push([c.keyword,p],[c.params,typeof E=="function"?E(o):E||(0,e._)`{}`]),g.messages&&d.push([c.message,typeof l=="function"?l(o):l]),g.verbose&&d.push([c.schema,y],[c.parentSchema,(0,e._)`${m}${$}`],[s.default.data,u]),b&&d.push([c.propertyName,b]),a.object(...h))};var t=qi;Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;let e=Z(),r=ee(),s=Te();t.keywordError={message:({keyword:l})=>(0,e.str)`must pass "${l}" keyword validation`},t.keyword$DataError={message:({keyword:l,schemaType:o})=>o?(0,e.str)`"${l}" keyword must be ${o} ($data)`:(0,e.str)`"${l}" keyword is invalid ($data)`},t.reportError=function(g,o=t.keywordError,a,h){var d=g.it,{gen:p,compositeRule:u,allErrors:y}=d,g=f(g,o,a);h??(u||y)?n(p,g):i(d,(0,e._)`[${g}]`)},t.reportExtraError=function(l,o=t.keywordError,a){var h=l.it,{gen:d,compositeRule:p,allErrors:u}=h;n(d,f(l,o,a)),p||u||i(h,s.default.vErrors)},t.resetErrorsCount=function(l,o){l.assign(s.default.errors,o),l.if((0,e._)`${s.default.vErrors} !== null`,()=>l.if(o,()=>l.assign((0,e._)`${s.default.vErrors}.length`,o),()=>l.assign(s.default.vErrors,null)))},t.extendErrors=function({gen:l,keyword:o,schemaValue:a,data:h,errsCount:d,it:p}){if(d===void 0)throw new Error("ajv implementation error");let u=l.name("err");l.forRange("i",d,s.default.errors,y=>{l.const(u,(0,e._)`${s.default.vErrors}[${y}]`),l.if((0,e._)`${u}.instancePath === undefined`,()=>l.assign((0,e._)`${u}.instancePath`,(0,e.strConcat)(s.default.instancePath,p.errorPath))),l.assign((0,e._)`${u}.schemaPath`,(0,e.str)`${p.errSchemaPath}/${o}`),p.opts.verbose&&(l.assign((0,e._)`${u}.schema`,a),l.assign((0,e._)`${u}.data`,h))})};let c={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")}}}return qi}function Qo(){if(!Yi){let n=function(i,c){var{gen:l,data:f}=i,l={gen:l,keyword:"false schema",data:f,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:i};(0,t.reportError)(l,s,void 0,c)};Yi=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.boolOrEmptySchema=ht.topBoolOrEmptySchema=void 0;let t=Rt(),e=Z(),r=Te(),s={message:"boolean schema is false"};ht.topBoolOrEmptySchema=function(i){var{gen:c,schema:f,validateName:l}=i;f===!1?n(i,!1):typeof f=="object"&&f.$async===!0?c.return(r.default.data):(c.assign((0,e._)`${l}.errors`,null),c.return(!0))},ht.boolOrEmptySchema=function(i,c){var{gen:f,schema:l}=i;l===!1?(f.var(c,!1),n(i)):f.var(c,!0)}}return ht}var Qi,pe={},mt={};function Zi(){if(!Qi){Qi=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.getRules=mt.isJSONType=void 0;let t=new Set(["string","number","integer","boolean","null","object","array"]);mt.isJSONType=function(e){return typeof e=="string"&&t.has(e)},mt.getRules=function(){var e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}}return mt}var Xi,ea,Ve={};function ta(){return Xi||(Xi=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.shouldUseRule=Ve.shouldUseGroup=Ve.schemaHasRulesForType=void 0,Ve.schemaHasRulesForType=function({schema:r,self:s},n){return(s=s.RULES.types[n])&&s!==!0&&t(r,s)},Ve.shouldUseGroup=t,Ve.shouldUseRule=e),Ve;function t(r,s){return s.rules.some(n=>e(r,n))}function e(r,s){return r[s.keyword]!==void 0||((s=s.definition.implements)==null?void 0:s.some(n=>r[n]!==void 0))}}function $r(){if(!ea){let o=function(p){if(p=Array.isArray(p)?p:p?[p]:[],p.every(r.isJSONType))return p;throw new Error("type must be JSONType or JSONType[]: "+p.join(","))},a=function(p,u,y,g=t.Correct){var b=g===t.Correct?i.operators.EQ:i.operators.NEQ;let m;switch(p){case"null":return(0,i._)`${u} ${b} null`;case"array":m=(0,i._)`Array.isArray(${u})`;break;case"object":m=(0,i._)`${u} && typeof ${u} == "object" && !Array.isArray(${u})`;break;case"integer":m=$((0,i._)`!(${u} % 1) && !isNaN(${u})`);break;case"number":m=$();break;default:return(0,i._)`typeof ${u} ${b} ${p}`}return g===t.Correct?m:(0,i.not)(m);function $(E=i.nil){return(0,i.and)((0,i._)`typeof ${u} == "number"`,E,y?(0,i._)`isFinite(${u})`:i.nil)}},h=function(E,u,y,g){if(E.length===1)return a(E[0],u,y,g);let b;var m,$,E=(0,c.toHash)(E);for($ in E.array&&E.object?(m=(0,i._)`typeof ${u} != "object"`,b=E.null?m:(0,i._)`!${u} || ${m}`,delete E.null,delete E.array,delete E.object):b=i.nil,E.number&&delete E.integer,E)b=(0,i.and)(b,a($,u,y,g));return b},d=function(p){p=(u=>{var{gen:y,data:g,schema:b}=u,m=(0,c.schemaRefOrVal)(u,b,"type");return{gen:y,keyword:"type",data:g,schema:b.type,schemaCode:m,schemaValue:m,parentSchema:b,params:{},it:u}})(p),(0,n.reportError)(p,l)};ea=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.reportTypeError=pe.checkDataTypes=pe.checkDataType=pe.coerceAndCheckDataType=pe.getJSONTypes=pe.getSchemaTypes=pe.DataType=void 0;let r=Zi(),s=ta(),n=Rt(),i=Z(),c=ee();var t,e;(e=t||(pe.DataType=t={}))[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong",pe.getSchemaTypes=function(p){var u=o(p.type);if(u.includes("null")){if(p.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!u.length&&p.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');p.nullable===!0&&u.push("null")}return u},pe.getJSONTypes=o,pe.coerceAndCheckDataType=function(p,u){var y,{gen:g,data:b,opts:m}=p;E=u;let $=(y=m.coerceTypes)?E.filter(O=>f.has(O)||y==="array"&&O==="array"):[];var E=0<u.length&&!($.length===0&&u.length===1&&(0,s.schemaHasRulesForType)(p,u[0]));return E&&(b=h(u,b,m.strictNumbers,t.Wrong),g.if(b,()=>{if($.length){var O,x=p,M=u,q=$;let{gen:V,data:A,opts:R}=x,I=V.let("dataType",(0,i._)`typeof ${A}`),v=V.let("coerced",(0,i._)`undefined`);R.coerceTypes==="array"&&V.if((0,i._)`${I} == 'object' && Array.isArray(${A}) && ${A}.length == 1`,()=>V.assign(A,(0,i._)`${A}[0]`).assign(I,(0,i._)`typeof ${A}`).if(h(M,A,R.strictNumbers),()=>V.assign(v,A))),V.if((0,i._)`${v} !== undefined`);for(O of q)(f.has(O)||O==="array"&&R.coerceTypes==="array")&&(k=>{switch(k){case"string":return V.elseIf((0,i._)`${I} == "number" || ${I} == "boolean"`).assign(v,(0,i._)`"" + ${A}`).elseIf((0,i._)`${A} === null`).assign(v,(0,i._)`""`);case"number":return V.elseIf((0,i._)`${I} == "boolean" || ${A} === null
              || (${I} == "string" && ${A} && ${A} == +${A})`).assign(v,(0,i._)`+${A}`);case"integer":return V.elseIf((0,i._)`${I} === "boolean" || ${A} === null
              || (${I} === "string" && ${A} && ${A} == +${A} && !(${A} % 1))`).assign(v,(0,i._)`+${A}`);case"boolean":return V.elseIf((0,i._)`${A} === "false" || ${A} === 0 || ${A} === null`).assign(v,!1).elseIf((0,i._)`${A} === "true" || ${A} === 1`).assign(v,!0);case"null":return V.elseIf((0,i._)`${A} === "" || ${A} === 0 || ${A} === false`),V.assign(v,null);case"array":V.elseIf((0,i._)`${I} === "string" || ${I} === "number"
              || ${I} === "boolean" || ${A} === null`).assign(v,(0,i._)`[${A}]`)}})(O);V.else(),d(x),V.endIf(),V.if((0,i._)`${v} !== undefined`,()=>{var k,S,P,N;V.assign(A,v),[{gen:k,parentData:S,parentDataProperty:P},N]=[x,v],k.if((0,i._)`${S} !== undefined`,()=>k.assign((0,i._)`${S}[${P}]`,N))})}else d(p)})),E};let f=new Set(["string","number","integer","boolean","null"]),l=(pe.checkDataType=a,pe.checkDataTypes=h,{message:({schema:p})=>"must be "+p,params:({schema:p,schemaValue:u})=>typeof p=="string"?(0,i._)`{type: ${p}}`:(0,i._)`{type: ${u}}`});pe.reportTypeError=d}return pe}var ra,kr={};function Zo(){if(!ra){let r=function(s,n,i){var{gen:c,compositeRule:f,data:l,opts:o}=s;if(i!==void 0)if(l=(0,t._)`${l}${(0,t.getProperty)(n)}`,f)(0,e.checkStrictMode)(s,"default is ignored for: "+l);else{let a=(0,t._)`${l} === undefined`;o.useDefaults==="empty"&&(a=(0,t._)`${a} || ${l} === null || ${l} === ""`),c.if(a,(0,t._)`${l} = ${(0,t.stringify)(i)}`)}};ra=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.assignDefaults=void 0;let t=Z(),e=ee();kr.assignDefaults=function(s,n){var{properties:i,items:c}=s.schema;if(n==="object"&&i)for(var f in i)r(s,f,i[f].default);else n==="array"&&Array.isArray(c)&&c.forEach((l,o)=>r(s,o,l.default))}}return kr}var sa,na,Pe={},se={};function ke(){if(!sa){let i=function(o){return o.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})},c=function(o,a,h){return(0,t._)`${i(o)}.call(${a}, ${h})`},f=function(o,a,h,d){var p=(0,t._)`${a}${(0,t.getProperty)(h)} === undefined`;return d?(0,t.or)(p,(0,t.not)(c(o,a,h))):p},l=function(o){return o?Object.keys(o).filter(a=>a!=="__proto__"):[]};sa=1,Object.defineProperty(se,"__esModule",{value:!0}),se.validateUnion=se.validateArray=se.usePattern=se.callValidateCode=se.schemaProperties=se.allSchemaProperties=se.noPropertyInData=se.propertyInData=se.isOwnProperty=se.hasPropFunc=se.reportMissingProp=se.checkMissingProp=se.checkReportMissingProp=void 0;let t=Z(),e=ee(),r=Te(),s=ee(),n=(se.checkReportMissingProp=function(o,a){var{gen:h,data:d,it:p}=o;h.if(f(h,d,a,p.opts.ownProperties),()=>{o.setParams({missingProperty:(0,t._)`${a}`},!0),o.error()})},se.checkMissingProp=function({gen:o,data:a,it:{opts:h}},d,p){return(0,t.or)(...d.map(u=>(0,t.and)(f(o,a,u,h.ownProperties),(0,t._)`${p} = ${u}`)))},se.reportMissingProp=function(o,a){o.setParams({missingProperty:a},!0),o.error()},se.hasPropFunc=i,se.isOwnProperty=c,se.propertyInData=function(o,a,h,d){var p=(0,t._)`${a}${(0,t.getProperty)(h)} !== undefined`;return d?(0,t._)`${p} && ${c(o,a,h)}`:p},se.noPropertyInData=f,se.allSchemaProperties=l,se.schemaProperties=function(o,a){return l(a).filter(h=>!(0,e.alwaysValidSchema)(o,a[h]))},se.callValidateCode=function({schemaCode:o,data:a,it:{gen:h,topSchemaRef:d,schemaPath:p,errorPath:u},it:y},g,b,m){return m=m?(0,t._)`${o}, ${a}, ${d}${p}`:a,o=[[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,u)],[r.default.parentData,y.parentData],[r.default.parentDataProperty,y.parentDataProperty],[r.default.rootData,r.default.rootData]],y.opts.dynamicRef&&o.push([r.default.dynamicAnchors,r.default.dynamicAnchors]),d=(0,t._)`${m}, ${h.object(...o)}`,b!==t.nil?(0,t._)`${g}.call(${b}, ${d})`:(0,t._)`${g}(${d})`},(0,t._)`new RegExp`);se.usePattern=function({gen:o,it:{opts:a}},h){var d=a.unicodeRegExp?"u":"",p=(a=a.code.regExp)(h,d);return o.scopeValue("pattern",{key:p.toString(),ref:p,code:(0,t._)`${a.code==="new RegExp"?n:(0,s.useFunc)(o,a)}(${h}, ${d})`})},se.validateArray=function(o){let{gen:a,data:h,keyword:d,it:p}=o,u=a.name("valid");if(p.allErrors){let g=a.let("valid",!0);return y(()=>a.assign(g,!1)),g}return a.var(u,!0),y(()=>a.break()),u;function y(g){var b=a.const("len",(0,t._)`${h}.length`);a.forRange("i",0,b,m=>{o.subschema({keyword:d,dataProp:m,dataPropType:e.Type.Num},u),a.if((0,t.not)(u),g)})}},se.validateUnion=function(o){let{gen:a,schema:h,keyword:d,it:p}=o;if(!Array.isArray(h))throw new Error("ajv implementation error");var u=h.some(y=>(0,e.alwaysValidSchema)(p,y));if(!u||p.opts.unevaluated){let y=a.let("valid",!1),g=a.name("_valid");a.block(()=>h.forEach((b,m)=>{m=o.subschema({keyword:d,schemaProp:m,compositeRule:!0},g),a.assign(y,(0,t._)`${y} || ${g}`),m=o.mergeValidEvaluated(m,g),m||a.if((0,t.not)(y))})),o.result(y,()=>o.reset(),()=>o.error(!0))}}}return se}function Xo(){if(!na){let n=function(c){let{gen:f,data:l,it:o}=c;f.if(o.parentData,()=>f.assign(l,(0,t._)`${o.parentData}[${o.parentDataProperty}]`))},i=function(c,f,l){if(l===void 0)throw new Error(`keyword "${f}" failed to compile`);return c.scopeValue("keyword",typeof l=="function"?{ref:l}:{ref:l,code:(0,t.stringify)(l)})};na=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.validateKeywordUsage=Pe.validSchemaType=Pe.funcKeywordCode=Pe.macroKeywordCode=void 0;let t=Z(),e=Te(),r=ke(),s=Rt();Pe.macroKeywordCode=function(c,h){var{gen:l,keyword:o,schema:d,parentSchema:p,it:a}=c,h=h.macro.call(a.self,d,p,a),d=i(l,o,h),p=(a.opts.validateSchema!==!1&&a.self.validateSchema(h,!0),l.name("valid"));c.subschema({schema:h,schemaPath:t.nil,errSchemaPath:a.errSchemaPath+"/"+o,topSchemaRef:d,compositeRule:!0},p),c.pass(p,()=>c.error(!0))},Pe.funcKeywordCode=function(c,f){let l,{gen:o,keyword:a,schema:h,parentSchema:d,$data:p,it:u}=c;var[y,g]=[u.schemaEnv,f];if(g.async&&!y.$async)throw new Error("async keyword in sync schema");g=!p&&f.compile?f.compile.call(u.self,h,d,u):f.validate;let b=i(o,a,g),m=o.let("valid");function $(O=f.async?(0,t._)`await `:t.nil){var x=u.opts.passContext?e.default.this:e.default.self,M=!("compile"in f&&!p||f.schema===!1);o.assign(m,(0,t._)`${O}${(0,r.callValidateCode)(c,b,x,M)}`,f.modifying)}function E(O){var x;o.if((0,t.not)((x=f.valid)!=null?x:m),O)}c.block$data(m,function(){if(f.errors===!1)$(),f.modifying&&n(c),E(()=>c.error());else{let O=(f.async?()=>{let x=o.let("ruleErrs",null);return o.try(()=>$((0,t._)`await `),M=>o.assign(m,!1).if((0,t._)`${M} instanceof ${u.ValidationError}`,()=>o.assign(x,(0,t._)`${M}.errors`),()=>o.throw(M))),x}:()=>{var x=(0,t._)`${b}.errors`;return o.assign(x,null),$(t.nil),x})();f.modifying&&n(c),E(()=>{{var x=c,M=O;let q=x.gen;q.if((0,t._)`Array.isArray(${M})`,()=>{q.assign(e.default.vErrors,(0,t._)`${e.default.vErrors} === null ? ${M} : ${e.default.vErrors}.concat(${M})`).assign(e.default.errors,(0,t._)`${e.default.vErrors}.length`),(0,s.extendErrors)(x)},()=>x.error())}})}}),c.ok((l=f.valid)!=null?l:m)},Pe.validSchemaType=function(c,f,l=!1){return!f.length||f.some(o=>o==="array"?Array.isArray(c):o==="object"?c&&typeof c=="object"&&!Array.isArray(c):typeof c==o||l&&c===void 0)},Pe.validateKeywordUsage=function({schema:c,opts:f,self:l,errSchemaPath:o},a,h){if(Array.isArray(a.keyword)?!a.keyword.includes(h):a.keyword!==h)throw new Error("ajv implementation error");var d=a.dependencies;if(d!=null&&d.some(p=>!Object.prototype.hasOwnProperty.call(c,p)))throw new Error(`parent schema must have dependencies of ${h}: `+d.join(","));if(a.validateSchema&&!a.validateSchema(c[h])){if(d=`keyword "${h}" value is invalid at path "${o}": `+l.errorsText(a.validateSchema.errors),f.validateSchema!=="log")throw new Error(d);l.logger.error(d)}}}return Pe}var ia,qe={};function el(){if(!ia){ia=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.extendSubschemaMode=qe.extendSubschemaData=qe.getSubschema=void 0;let t=Z(),e=ee();qe.getSubschema=function(r,{keyword:s,schemaProp:n,schema:i,schemaPath:c,errSchemaPath:f,topSchemaRef:l}){if(s!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');var o;if(s!==void 0)return o=r.schema[s],n===void 0?{schema:o,schemaPath:(0,t._)`${r.schemaPath}${(0,t.getProperty)(s)}`,errSchemaPath:r.errSchemaPath+"/"+s}:{schema:o[n],schemaPath:(0,t._)`${r.schemaPath}${(0,t.getProperty)(s)}${(0,t.getProperty)(n)}`,errSchemaPath:r.errSchemaPath+`/${s}/`+(0,e.escapeFragment)(n)};if(i===void 0)throw new Error('either "keyword" or "schema" must be passed');if(c===void 0||f===void 0||l===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:c,topSchemaRef:l,errSchemaPath:f}},qe.extendSubschemaData=function(r,s,{dataProp:n,dataPropType:i,data:c,dataTypes:f,propertyName:l}){if(c!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');var o,a,h,d=s.gen;function p(u){r.data=u,r.dataLevel=s.dataLevel+1,r.dataTypes=[],s.definedProperties=new Set,r.parentData=s.data,r.dataNames=[...s.dataNames,u]}n!==void 0&&({errorPath:o,dataPathArr:a,opts:h}=s,p(d.let("data",(0,t._)`${s.data}${(0,t.getProperty)(n)}`,!0)),r.errorPath=(0,t.str)`${o}${(0,e.getErrorPath)(n,i,h.jsPropertySyntax)}`,r.parentDataProperty=(0,t._)`${n}`,r.dataPathArr=[...a,r.parentDataProperty]),c!==void 0&&(p(c instanceof t.Name?c:d.let("data",c,!0)),l!==void 0)&&(r.propertyName=l),f&&(r.dataTypes=f)},qe.extendSubschemaMode=function(r,{jtdDiscriminator:s,jtdMetadata:n,compositeRule:i,createErrors:c,allErrors:f}){i!==void 0&&(r.compositeRule=i),c!==void 0&&(r.createErrors=c),f!==void 0&&(r.allErrors=f),r.jtdDiscriminator=s,r.jtdMetadata=n}}return qe}var aa,oa,me={};function la(){return oa||(oa=1,aa=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var s,n,i;if(Array.isArray(e)){if((s=e.length)!=r.length)return!1;for(n=s;n--!=0;)if(!t(e[n],r[n]))return!1}else{if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((s=(i=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(n=s;n--!=0;)if(!Object.prototype.hasOwnProperty.call(r,i[n]))return!1;for(n=s;n--!=0;){var c=i[n];if(!t(e[c],r[c]))return!1}}return!0}return e!=e&&r!=r}),aa}var ca,ua,pa,da={exports:{}};function tl(){var t;return ca||(ca=1,(t=da.exports=function(r,s,n){typeof s=="function"&&(n=s,s={}),function i(c,f,l,o,a,h,d,p,u,y){if(o&&typeof o=="object"&&!Array.isArray(o)){for(var g in f(o,a,h,d,p,u,y),o){var b=o[g];if(Array.isArray(b)){if(g in t.arrayKeywords)for(var m=0;m<b.length;m++)i(c,f,l,b[m],a+"/"+g+"/"+m,h,a,g,o,m)}else if(g in t.propsKeywords){if(b&&typeof b=="object")for(var $ in b)i(c,f,l,b[$],a+"/"+g+"/"+e($),h,a,g,o,$)}else(g in t.keywords||c.allKeys&&!(g in t.skipKeywords))&&i(c,f,l,b,a+"/"+g,h,a,g,o)}l(o,a,h,d,p,u,y)}}(s,typeof(n=s.cb||n)=="function"?n:n.pre||function(){},n.post||function(){},r,"",r)}).keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}),da.exports;function e(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}}function Er(){if(!ua){let f=function(h){for(var d in h)if(n.has(d)||(d=h[d],Array.isArray(d)&&d.some(f))||typeof d=="object"&&f(d))return!0;return!1},l=function(h,d="",p){return p!==!1&&(d=a(d)),p=h.parse(d),o(h,p)},o=function(h,d){return h.serialize(d).split("#")[0]+"#"},a=function(h){return h?h.replace(i,""):""};ua=1,Object.defineProperty(me,"__esModule",{value:!0}),me.getSchemaRefs=me.resolveUrl=me.normalizeId=me._getFullPath=me.getFullPath=me.inlineRef=void 0;let t=ee(),e=la(),r=tl(),s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]),n=(me.inlineRef=function(h,d=!0){return typeof h=="boolean"||(d===!0?!f(h):!!d&&function p(u){let y=0;for(var g in u)if(g==="$ref"||(y++,!s.has(g)&&(typeof u[g]=="object"&&(0,t.eachItem)(u[g],b=>y+=p(b)),y===1/0)))return 1/0;return y}(h)<=d)},new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"])),i=(me.getFullPath=l,me._getFullPath=o,/#\/?$/),c=(me.normalizeId=a,me.resolveUrl=function(h,d,p){return p=a(p),h.resolve(d,p)},/^[a-z_][-a-z0-9._]*$/i);me.getSchemaRefs=function(h,d){if(typeof h=="boolean")return{};let{schemaId:p,uriResolver:u}=this.opts,y={"":d=a(h[p]||d)},g=l(u,d,!1),b={},m=new Set;return r(h,{allKeys:!0},(O,x,M,q)=>{if(q!==void 0){let R=function(v){var k=this.opts.uriResolver.resolve;if(v=a(A?k(A,v):v),m.has(v))throw E(v);m.add(v);let S=this.refs[v];return typeof(S=typeof S=="string"?this.refs[S]:S)=="object"?$(O,S.schema,v):v!==a(V)&&(v[0]==="#"?($(O,b[v],v),b[v]=O):this.refs[v]=V),v},I=function(v){if(typeof v=="string"){if(!c.test(v))throw new Error(`invalid anchor "${v}"`);R.call(this,"#"+v)}},V=g+x,A=y[q];typeof O[p]=="string"&&(A=R.call(this,O[p])),I.call(this,O.$anchor),I.call(this,O.$dynamicAnchor),y[x]=A}}),b;function $(O,x,M){if(x!==void 0&&!e(O,x))throw E(M)}function E(O){return new Error(`reference "${O}" resolves to more than one schema`)}}}return me}function Dt(){if(!pa){let y=function({gen:v,validateName:k,schema:S,schemaEnv:P,opts:N},T){N.code.es5?v.func(k,(0,f._)`${l.default.data}, ${l.default.valCxt}`,P.$async,()=>{var _,w;v.code((0,f._)`"use strict"; ${g(S,N)}`),w=N,(_=v).if(l.default.valCxt,()=>{_.var(l.default.instancePath,(0,f._)`${l.default.valCxt}.${l.default.instancePath}`),_.var(l.default.parentData,(0,f._)`${l.default.valCxt}.${l.default.parentData}`),_.var(l.default.parentDataProperty,(0,f._)`${l.default.valCxt}.${l.default.parentDataProperty}`),_.var(l.default.rootData,(0,f._)`${l.default.valCxt}.${l.default.rootData}`),w.dynamicRef&&_.var(l.default.dynamicAnchors,(0,f._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{_.var(l.default.instancePath,(0,f._)`""`),_.var(l.default.parentData,(0,f._)`undefined`),_.var(l.default.parentDataProperty,(0,f._)`undefined`),_.var(l.default.rootData,l.default.data),w.dynamicRef&&_.var(l.default.dynamicAnchors,(0,f._)`{}`)}),v.code(T)}):v.func(k,(0,f._)`${l.default.data}, ${k=N,(0,f._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${k.dynamicRef?(0,f._)`, ${l.default.dynamicAnchors}={}`:f.nil}}={}`}`,P.$async,()=>v.code(g(S,N)).code(T))},g=function(v,k){return v=typeof v=="object"&&v[k.schemaId],v&&(k.code.source||k.code.process)?(0,f._)`/*# sourceURL=${v} */`:f.nil},b=function(v,k){if($(v)&&(E(v),m(v))){var S=v,P=k,{schema:N,gen:T,opts:_}=S;_.$comment&&N.$comment&&x(S);var w=(N=S).schema[N.opts.schemaId];if(w&&(N.baseId=(0,o.resolveUrl)(N.opts.uriResolver,N.baseId,w)),(N=S).schema.$async&&!N.schemaEnv.$async)throw new Error("async schema in sync schema");_=T.const("_errs",l.default.errors),O(S,_),T.var(P,(0,f._)`${_} === ${l.default.errors}`)}else(0,t.boolOrEmptySchema)(v,k)},m=function({schema:v,self:k}){if(typeof v=="boolean")return!v;for(var S in v)if(k.RULES.all[S])return 1},$=function(v){return typeof v.schema!="boolean"},E=function(k){(0,a.checkUnknownRules)(k);var{schema:k,errSchemaPath:S,opts:P,self:N}=k;k.$ref&&P.ignoreKeywordsWithRef&&(0,a.schemaHasRulesButRef)(k,N.RULES)&&N.logger.warn(`$ref: keywords ignored in schema at path "${S}"`)},O=function(v,k){if(v.opts.jtd)return M(v,[],!1,k);var S=(0,e.getSchemaTypes)(v.schema);M(v,S,!(0,e.coerceAndCheckDataType)(v,S),k)},x=function({gen:v,schemaEnv:k,schema:S,errSchemaPath:P,opts:N}){S=S.$comment,N.$comment===!0?v.code((0,f._)`${l.default.self}.logger.log(${S})`):typeof N.$comment=="function"&&(N=(0,f.str)`${P}/$comment`,P=v.scopeValue("root",{ref:k.root}),v.code((0,f._)`${l.default.self}.opts.$comment(${S}, ${N}, ${P}.schema)`))},M=function(v,k,S,P){let{gen:N,schema:T,data:_,allErrors:w,opts:j,self:C}=v,B=C.RULES;if(!T.$ref||!j.ignoreKeywordsWithRef&&(0,a.schemaHasRulesButRef)(T,B)){if(!j.jtd){var G=v,Q=k;if(!G.schemaEnv.meta&&G.opts.strictTypes){var J=G,le=Q;if(le.length)if(J.dataTypes.length){le.forEach(te=>{V(J.dataTypes,te)||A(J,`type "${te}" not allowed by context "${J.dataTypes.join(",")}"`)});var ye,we=J,L=le,D=[];for(ye of we.dataTypes)V(L,ye)?D.push(ye):L.includes("integer")&&ye==="number"&&D.push("integer");we.dataTypes=D}else J.dataTypes=le;G.opts.allowUnionTypes||(we=G,1<(le=Q).length&&(le.length!==2||!le.includes("null"))&&A(we,"use allowUnionTypes to allow union type keyword"));var K,F=G,z=G.dataTypes,H=F.self.RULES.all;for(K in H){var Y=H[K];typeof Y=="object"&&(0,r.shouldUseRule)(F.schema,Y)&&(Y=Y.definition.type,Y.length)&&!Y.some(te=>{return te=te,(Kt=z).includes(te)||te==="number"&&Kt.includes("integer");var Kt})&&A(F,`missing type "${Y.join(",")}" for keyword "${K}"`)}}}N.block(()=>{for(var te of B.rules)ce(te);ce(B.post)})}else N.block(()=>R(v,"$ref",B.all.$ref.definition));function ce(te){(0,r.shouldUseGroup)(T,te)&&(te.type?(N.if((0,s.checkDataType)(te.type,_,j.strictNumbers)),q(v,te),k.length===1&&k[0]===te.type&&S&&(N.else(),(0,s.reportTypeError)(v)),N.endIf()):q(v,te),w||N.if((0,f._)`${l.default.errors} === ${P||0}`))}},q=function(v,k){let{gen:S,schema:P,opts:{useDefaults:N}}=v;N&&(0,n.assignDefaults)(v,k.type),S.block(()=>{for(var T of k.rules)(0,r.shouldUseRule)(P,T)&&R(v,T.keyword,T.definition,k.type)})},V=function(v,k){return v.includes(k)||k==="integer"&&v.includes("number")},A=function(v,k){k+=` at "${v.schemaEnv.baseId+v.errSchemaPath}" (strictTypes)`,(0,a.checkStrictMode)(v,k,v.opts.strictTypes)},R=function(v,k,S,P){v=new d(v,S,k),"code"in S?S.code(v,P):v.$data&&S.validate?(0,i.funcKeywordCode)(v,S):"macro"in S?(0,i.macroKeywordCode)(v,S):(S.compile||S.validate)&&(0,i.funcKeywordCode)(v,S)},I=function(v,{dataLevel:k,dataNames:S,dataPathArr:P}){let N,T;if(v==="")return l.default.rootData;if(v[0]==="/"){if(!p.test(v))throw new Error("Invalid JSON-pointer: "+v);N=v,T=l.default.rootData}else{var _=u.exec(v);if(!_)throw new Error("Invalid JSON-pointer: "+v);if(v=+_[1],(N=_[2])==="#"){if(k<=v)throw new Error(C("property/index",v));return P[k-v]}if(k<v)throw new Error(C("data",v));if(T=S[k-v],!N)return T}let w=T;var j;for(j of N.split("/"))j&&(T=(0,f._)`${T}${(0,f.getProperty)((0,a.unescapeJsonPointer)(j))}`,w=(0,f._)`${w} && ${T}`);return w;function C(B,G){return`Cannot access ${B} ${G} levels up, current level is `+k}};pa=1,Object.defineProperty(De,"__esModule",{value:!0}),De.getData=De.KeywordCxt=De.validateFunctionCode=void 0;let t=Qo(),e=$r(),r=ta(),s=$r(),n=Zo(),i=Xo(),c=el(),f=Z(),l=Te(),o=Er(),a=ee(),h=Rt();De.validateFunctionCode=function(v){if($(v)&&(E(v),m(v))){var k=v;let{schema:S,opts:P,gen:N}=k;y(k,()=>{P.$comment&&S.$comment&&x(k);var T,_=k,{schema:w,opts:j}=_;if(w.default!==void 0&&j.useDefaults&&j.strictSchema&&(0,a.checkStrictMode)(_,"default is ignored in the schema root"),N.let(l.default.vErrors,null),N.let(l.default.errors,0),P.unevaluated){var C=k;let{gen:B,validateName:G}=C;C.evaluated=B.const("evaluated",(0,f._)`${G}.evaluated`),B.if((0,f._)`${C.evaluated}.dynamicProps`,()=>B.assign((0,f._)`${C.evaluated}.props`,(0,f._)`undefined`)),B.if((0,f._)`${C.evaluated}.dynamicItems`,()=>B.assign((0,f._)`${C.evaluated}.items`,(0,f._)`undefined`))}O(k);{let{gen:B,schemaEnv:G,validateName:Q,ValidationError:J,opts:le}=w=k;G.$async?B.if((0,f._)`${l.default.errors} === 0`,()=>B.return(l.default.data),()=>B.throw((0,f._)`new ${J}(${l.default.vErrors})`)):(B.assign((0,f._)`${Q}.errors`,l.default.vErrors),le.unevaluated&&({gen:w,evaluated:j,props:_,items:T}=[w][0],_ instanceof f.Name&&w.assign((0,f._)`${j}.props`,_),T instanceof f.Name)&&w.assign((0,f._)`${j}.items`,T),B.return((0,f._)`${l.default.errors} === 0`))}})}else y(v,()=>(0,t.topBoolOrEmptySchema)(v))};class d{constructor(k,S,P){if((0,i.validateKeywordUsage)(k,S,P),this.gen=k.gen,this.allErrors=k.allErrors,this.keyword=P,this.data=k.data,this.schema=k.schema[P],this.$data=S.$data&&k.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,a.schemaRefOrVal)(k,this.schema,P,this.$data),this.schemaType=S.schemaType,this.parentSchema=k.schema,this.params={},this.it=k,this.def=S,this.$data)this.schemaCode=k.gen.const("vSchema",I(this.$data,k));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,S.schemaType,S.allowUndefined))throw new Error(P+" value must be "+JSON.stringify(S.schemaType));("code"in S?S.trackErrors:S.errors!==!1)&&(this.errsCount=k.gen.const("_errs",l.default.errors))}result(k,S,P){this.failResult((0,f.not)(k),S,P)}failResult(k,S,P){this.gen.if(k),P?P():this.error(),S?(this.gen.else(),S(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(k,S){this.failResult((0,f.not)(k),void 0,S)}fail(k){k===void 0?(this.error(),this.allErrors||this.gen.if(!1)):(this.gen.if(k),this.error(),this.allErrors?this.gen.endIf():this.gen.else())}fail$data(k){if(!this.$data)return this.fail(k);var S=this.schemaCode;this.fail((0,f._)`${S} !== undefined && (${(0,f.or)(this.invalid$data(),k)})`)}error(k,S,P){S?(this.setParams(S),this._error(k,P),this.setParams({})):this._error(k,P)}_error(k,S){(k?h.reportExtraError:h.reportError)(this,this.def.error,S)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(k){this.allErrors||this.gen.if(k)}setParams(k,S){S?Object.assign(this.params,k):this.params=k}block$data(k,S,P=f.nil){this.gen.block(()=>{this.check$data(k,P),S()})}check$data(k=f.nil,S=f.nil){var P,N,T,_;this.$data&&({gen:P,schemaCode:N,schemaType:T,def:_}=this,P.if((0,f.or)((0,f._)`${N} === undefined`,S)),k!==f.nil&&P.assign(k,!0),(T.length||_.validateSchema)&&(P.elseIf(this.invalid$data()),this.$dataError(),k!==f.nil)&&P.assign(k,!1),P.else())}invalid$data(){let{gen:k,schemaCode:S,schemaType:P,def:N,it:T}=this;return(0,f.or)((()=>{if(P.length){var _;if(S instanceof f.Name)return _=Array.isArray(P)?P:[P],(0,f._)`${(0,s.checkDataTypes)(_,S,T.opts.strictNumbers,s.DataType.Wrong)}`;throw new Error("ajv implementation error")}return f.nil})(),(()=>{var _;return N.validateSchema?(_=k.scopeValue("validate$data",{ref:N.validateSchema}),(0,f._)`!${_}(${S})`):f.nil})())}subschema(N,S){var P=(0,c.getSubschema)(this.it,N),N=((0,c.extendSubschemaData)(P,this.it,N),(0,c.extendSubschemaMode)(P,N),{...this.it,...P,items:void 0,props:void 0});return b(N,S),N}mergeEvaluated(k,S){var{it:P,gen:N}=this;P.opts.unevaluated&&(P.props!==!0&&k.props!==void 0&&(P.props=a.mergeEvaluated.props(N,k.props,P.props,S)),P.items!==!0)&&k.items!==void 0&&(P.items=a.mergeEvaluated.items(N,k.items,P.items,S))}mergeValidEvaluated(k,S){var{it:P,gen:N}=this;if(P.opts.unevaluated&&(P.props!==!0||P.items!==!0))return N.if(S,()=>this.mergeEvaluated(k,f.Name)),!0}}De.KeywordCxt=d;let p=/^\/(?:[^~]|~0|~1)*$/,u=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;De.getData=I}return De}var fa,Os={};function Ps(){if(!fa){fa=1,Object.defineProperty(Os,"__esModule",{value:!0});class t extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}Os.default=t}return Os}var ha,js={};function Sr(){if(!ha){ha=1,Object.defineProperty(js,"__esModule",{value:!0});let t=Er();class e extends Error{constructor(s,n,i,c){super(c||`can't resolve reference ${i} from id `+n),this.missingRef=(0,t.resolveUrl)(s,n,i),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(s,this.missingRef))}}js.default=e}return js}var ma,be={};function Ns(){if(!ma){let l=function(d){var p=o.call(this,d);if(p)return p;var p=(0,s.getFullPath)(this.opts.uriResolver,d.root.baseId),{es5:g,lines:u}=this.opts.code,y=this.opts.ownProperties,g=new t.CodeGen(this.scope,{es5:g,lines:u,ownProperties:y});let b;d.$async&&(b=g.scopeValue("Error",{ref:e.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`})),u=g.scopeName("validate"),d.validateName=u,y={gen:g,allErrors:this.opts.allErrors,data:r.default.data,parentData:r.default.parentData,parentDataProperty:r.default.parentDataProperty,dataNames:[r.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:g.scopeValue("schema",this.opts.code.source===!0?{ref:d.schema,code:(0,t.stringify)(d.schema)}:{ref:d.schema}),validateName:u,ValidationError:b,schema:d.schema,schemaEnv:d,rootId:p,baseId:d.baseId||p,schemaPath:t.nil,errSchemaPath:d.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let m;try{this._compilations.add(d),(0,i.validateFunctionCode)(y),g.optimize(this.opts.code.optimize);var $=g.toString();m=g.scopeRefs(r.default.scope)+"return "+$,this.opts.code.process&&(m=this.opts.code.process(m,d));var E,O,x=new Function(""+r.default.self,""+r.default.scope,m)(this,this.scope.get());return this.scope.value(u,{ref:x}),x.errors=null,x.schema=d.schema,(x.schemaEnv=d).$async&&(x.$async=!0),this.opts.code.source===!0&&(x.source={validateName:u,validateCode:$,scopeValues:g._values}),this.opts.unevaluated&&({props:E,items:O}=y,x.evaluated={props:E instanceof t.Name?void 0:E,items:O instanceof t.Name?void 0:O,dynamicProps:E instanceof t.Name,dynamicItems:O instanceof t.Name},x.source)&&(x.source.evaluated=(0,t.stringify)(x.evaluated)),d.validate=x,d}catch(M){throw delete d.validate,delete d.validateName,m&&this.logger.error("Error compiling schema, function code:",m),M}finally{this._compilations.delete(d)}},o=function(d){for(var p of this._compilations)if(u=p,y=d,u.schema===y.schema&&u.root===y.root&&u.baseId===y.baseId)return p;var u,y},a=function(d,p){var u,y,g=this.opts.uriResolver.parse(p),b=(0,s._getFullPath)(this.opts.uriResolver,g);let m=(0,s.getFullPath)(this.opts.uriResolver,d.baseId,void 0);return 0<Object.keys(d.schema).length&&b===m?h.call(this,g,d):(b=(0,s.normalizeId)(b),typeof(u=this.refs[b]||this.schemas[b])=="string"?typeof((y=a.call(this,d,u))==null?void 0:y.schema)!="object"?void 0:h.call(this,g,y):typeof u?.schema=="object"?(u.validate||l.call(this,u),b===(0,s.normalizeId)(p)?(y=u.schema,b=this.opts.schemaId,(p=y[b])&&(m=(0,s.resolveUrl)(this.opts.uriResolver,m,p)),new c({schema:y,schemaId:b,root:d,baseId:m})):h.call(this,g,u)):void 0)},h=function(d,{baseId:p,schema:u,root:y}){if(((m=d.fragment)==null?void 0:m[0])==="/"){for(var g of d.fragment.slice(1).split("/")){if(typeof u=="boolean")return;var b=u[(0,n.unescapeFragment)(g)];if(b===void 0)return;b=typeof(u=b)=="object"&&u[this.opts.schemaId],!f.has(g)&&b&&(p=(0,s.resolveUrl)(this.opts.uriResolver,p,b))}let $;var m,d=(typeof u!="boolean"&&u.$ref&&!(0,n.schemaHasRulesButRef)(u,this.RULES)&&(m=(0,s.resolveUrl)(this.opts.uriResolver,p,u.$ref),$=a.call(this,y,m)),this.opts).schemaId;return($=$||new c({schema:u,schemaId:d,root:y,baseId:p})).schema!==$.root.schema?$:void 0}};ma=1,Object.defineProperty(be,"__esModule",{value:!0}),be.resolveSchema=be.getCompilingSchema=be.resolveRef=be.compileSchema=be.SchemaEnv=void 0;let t=Z(),e=Ps(),r=Te(),s=Er(),n=ee(),i=Dt();class c{constructor(p){var u;this.refs={},this.dynamicAnchors={};let y;typeof p.schema=="object"&&(y=p.schema),this.schema=p.schema,this.schemaId=p.schemaId,this.root=p.root||this,this.baseId=(u=p.baseId)!=null?u:(0,s.normalizeId)(y?.[p.schemaId||"$id"]),this.schemaPath=p.schemaPath,this.localRefs=p.localRefs,this.meta=p.meta,this.$async=y?.$async,this.refs={}}}be.SchemaEnv=c,be.compileSchema=l,be.resolveRef=function(d,p,u){u=(0,s.resolveUrl)(this.opts.uriResolver,p,u);var y,g=d.refs[u];if(g)return g;let b=function(m,$){let E;for(;typeof(E=this.refs[$])=="string";)$=E;return E||this.schemas[$]||a.call(this,m,$)}.call(this,d,u);return(b=b===void 0&&(g=(g=d.localRefs)==null?void 0:g[u],y=this.opts.schemaId,g)?new c({schema:g,schemaId:y,root:d,baseId:p}):b)!==void 0?d.refs[u]=function(m){return(0,s.inlineRef)(m.schema,this.opts.inlineRefs)?m.schema:m.validate?m:l.call(this,m)}.call(this,b):void 0},be.getCompilingSchema=o,be.resolveSchema=a;let f=new Set(["properties","patternProperties","enum","dependencies","definitions"])}return be}var ya,ga,va,ba,wa,_a,$a,ka,Ea,rl={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},xs={},Or={exports:{}};function sl(){if(!ba){let c=function(a){var h;return!(o(a,".")<3)&&([h]=a.match(e)||[],h)?{host:((d,p)=>{let u="",y=!0,g=d.length;for(let m=0;m<g;m++){var b=d[m];b==="0"&&y?(m+1<=g&&d[m+1]===p||m+1===g)&&(u+=b,y=!1):(y=b===p,u+=b)}return u})(h,"."),isIPV4:!0}:{host:a,isIPV4:!1}},f=function(a,h=!1){let d="",p=!0;for(var u of a){if(t[u]===void 0)return;(p=u!=="0"&&p===!0?!1:p)||(d+=u)}return d=h&&d.length===0?"0":d},l=function(a){if(o(a,":")<2)return{host:a,isIPV6:!1};var h=(d=>{let p=0,u={error:!1,address:"",zone:""},y=[],g=[],b=!1,m=!1,$=!1;function E(){if(g.length){if(b===!1){var x=f(g);if(x===void 0)return void(u.error=!0);y.push(x)}g.length=0}return 1}for(let x=0;x<d.length;x++){var O=d[x];if(O!=="["&&O!=="]")if(O===":"){if(m===!0&&($=!0),!E())break;if(p++,y.push(":"),7<p){u.error=!0;break}0<=x-1&&d[x-1]===":"&&(m=!0)}else if(O!=="%")g.push(O);else{if(!E())break;b=!0}}return g.length&&(b?u.zone=g.join(""):$?y.push(g.join("")):y.push(f(g))),u.address=y.join(""),u})(a);if(h.error)return{host:a,isIPV6:!1};{let d=h.address,p=h.address;return h.zone&&(d+="%"+h.zone,p+="%25"+h.zone),{host:d,escapedHost:p,isIPV6:!0}}},o=function(a,h){let d=0;for(let p=0;p<a.length;p++)a[p]===h&&d++;return d};ba=1;let t=(ya=ga?ya:{HEX:{0:0,1:ga=1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}).HEX,e=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u,r=/^\.\.?\//u,s=/^\/\.(?:\/|$)/u,n=/^\/\.\.(?:\/|$)/u,i=/^\/?(?:.|\n)*?(?=\/|$)/u;va={recomposeAuthority:function(a){var h=[];if(a.userinfo!==void 0&&(h.push(a.userinfo),h.push("@")),a.host!==void 0){let p=unescape(a.host);var d=c(p);p=d.isIPV4?d.host:(d=l(d.host)).isIPV6===!0?`[${d.escapedHost}]`:a.host,h.push(p)}return typeof a.port!="number"&&typeof a.port!="string"||(h.push(":"),h.push(String(a.port))),h.length?h.join(""):void 0},normalizeComponentEncoding:function(a,h){return h=h!==!0?escape:unescape,a.scheme!==void 0&&(a.scheme=h(a.scheme)),a.userinfo!==void 0&&(a.userinfo=h(a.userinfo)),a.host!==void 0&&(a.host=h(a.host)),a.path!==void 0&&(a.path=h(a.path)),a.query!==void 0&&(a.query=h(a.query)),a.fragment!==void 0&&(a.fragment=h(a.fragment)),a},removeDotSegments:function(a){for(var h=[];a.length;)if(a.match(r))a=a.replace(r,"");else if(a.match(s))a=a.replace(s,"/");else if(a.match(n))a=a.replace(n,"/"),h.pop();else if(a==="."||a==="..")a="";else{var d=a.match(i);if(!d)throw new Error("Unexpected dot segment condition");d=d[0],a=a.slice(d.length),h.push(d)}return h.join("")},normalizeIPv4:c,normalizeIPv6:l,stringArrayToHexStripped:f}}return va}function nl(){if(_a)return wa;_a=1;let t=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,e=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function r(l){return typeof l.secure=="boolean"?l.secure:String(l.scheme).toLowerCase()==="wss"}function s(l){return l.host||(l.error=l.error||"HTTP URIs must have a host."),l}function n(l){var o=String(l.scheme).toLowerCase()==="https";return l.port!==(o?443:80)&&l.port!==""||(l.port=void 0),l.path||(l.path="/"),l}var i={scheme:"http",domainHost:!0,parse:s,serialize:n},c={scheme:"ws",domainHost:!0,parse:function(l){return l.secure=r(l),l.resourceName=(l.path||"/")+(l.query?"?"+l.query:""),l.path=void 0,l.query=void 0,l},serialize:function(l){var o,a;return l.port!==(r(l)?443:80)&&l.port!==""||(l.port=void 0),typeof l.secure=="boolean"&&(l.scheme=l.secure?"wss":"ws",l.secure=void 0),l.resourceName&&([o,a]=l.resourceName.split("?"),l.path=o&&o!=="/"?o:void 0,l.query=a,l.resourceName=void 0),l.fragment=void 0,l}};let f={http:i,https:{scheme:"https",domainHost:i.domainHost,parse:s,serialize:n},ws:c,wss:{scheme:"wss",domainHost:c.domainHost,parse:c.parse,serialize:c.serialize},urn:{scheme:"urn",parse:function(l,o){var a,h;return l.path?(a=l.path.match(e))?(h=o.scheme||l.scheme||"urn",l.nid=a[1].toLowerCase(),l.nss=a[2],a=h+":"+(o.nid||l.nid),h=f[a],l.path=void 0,h&&(l=h.parse(l,o))):l.error=l.error||"URN can not be parsed.":l.error="URN can not be parsed",l},serialize:function(d,o){var h=o.scheme||d.scheme||"urn",a=d.nid.toLowerCase(),h=h+":"+(o.nid||a),h=f[h],h=d=h?h.serialize(d,o):d,d=d.nss;return h.path=`${a||o.nid}:`+d,o.skipEscape=!0,h},skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:function(l,o){return l.uuid=l.nss,l.nss=void 0,o.tolerant||l.uuid&&t.test(l.uuid)||(l.error=l.error||"UUID is not valid."),l},serialize:function(l){var o=l;return o.nss=(l.uuid||"").toLowerCase(),o},skipNormalize:!0}};return wa=f}function il(){if(!$a){let o=function(d,p,u,y){var g={};return y||(d=h(a(d,u),u),p=h(a(p,u),u)),!(u=u||{}).tolerant&&p.scheme?(g.scheme=p.scheme,g.userinfo=p.userinfo,g.host=p.host,g.port=p.port,g.path=s(p.path||""),g.query=p.query):(p.userinfo!==void 0||p.host!==void 0||p.port!==void 0?(g.userinfo=p.userinfo,g.host=p.host,g.port=p.port,g.path=s(p.path||""),g.query=p.query):(p.path?(p.path.charAt(0)==="/"?g.path=s(p.path):(d.userinfo===void 0&&d.host===void 0&&d.port===void 0||d.path?d.path?g.path=d.path.slice(0,d.path.lastIndexOf("/")+1)+p.path:g.path=p.path:g.path="/"+p.path,g.path=s(g.path)),g.query=p.query):(g.path=d.path,p.query!==void 0?g.query=p.query:g.query=d.query),g.userinfo=d.userinfo,g.host=d.host,g.port=d.port),g.scheme=d.scheme),g.fragment=p.fragment,g},a=function(u,y){var u={host:u.host,scheme:u.scheme,userinfo:u.userinfo,port:u.port,path:u.path,query:u.query,nid:u.nid,nss:u.nss,uuid:u.uuid,fragment:u.fragment,reference:u.reference,resourceName:u.resourceName,secure:u.secure,error:""},y=Object.assign({},y),g=[],b=c[(y.scheme||u.scheme||"").toLowerCase()],m=(b&&b.serialize&&b.serialize(u,y),u.path!==void 0&&(y.skipEscape?u.path=unescape(u.path):(u.path=escape(u.path),u.scheme!==void 0&&(u.path=u.path.split("%3A").join(":")))),y.reference!=="suffix"&&u.scheme&&g.push(u.scheme,":"),n(u));if(m!==void 0&&(y.reference!=="suffix"&&g.push("//"),g.push(m),u.path)&&u.path.charAt(0)!=="/"&&g.push("/"),u.path!==void 0){let $=u.path;y.absolutePath||b&&b.absolutePath||($=s($)),m===void 0&&($=$.replace(/^\/\//u,"/%2F")),g.push($)}return u.query!==void 0&&g.push("?",u.query),u.fragment!==void 0&&g.push("#",u.fragment),g.join("")},h=function(d,u){var u=Object.assign({},u),y={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},g=d.indexOf("%")!==-1;let b=!1;if(d=(d=u.reference==="suffix"?(u.scheme?u.scheme+":":"")+"//"+d:d).match(l),d){y.scheme=d[1],y.userinfo=d[3],y.host=d[4],y.port=parseInt(d[5],10),y.path=d[6]||"",y.query=d[7],y.fragment=d[8],isNaN(y.port)&&(y.port=d[5]),y.host&&(d=r(y.host),b=d.isIPV4===!1?(m=e(d.host),y.host=m.host.toLowerCase(),m.isIPV6):(y.host=d.host,!0)),y.reference=y.scheme!==void 0||y.userinfo!==void 0||y.host!==void 0||y.port!==void 0||y.query!==void 0||y.path?y.scheme===void 0?"relative":y.fragment===void 0?"absolute":"uri":"same-document",u.reference&&u.reference!=="suffix"&&u.reference!==y.reference&&(y.error=y.error||"URI is not a "+u.reference+" reference.");var m=c[(u.scheme||y.scheme||"").toLowerCase()];if(!(u.unicodeSupport||m&&m.unicodeSupport)&&y.host&&(u.domainHost||m&&m.domainHost)&&b===!1&&($=>{var E;for(let O=0,x=$.length;O<x;++O)if(126<(E=$.charCodeAt(O))||f[E])return 1})(y.host))try{y.host=URL.domainToASCII(y.host.toLowerCase())}catch($){y.error=y.error||"Host's domain name can not be converted to ASCII: "+$}m&&m.skipNormalize||(g&&y.scheme!==void 0&&(y.scheme=unescape(y.scheme)),g&&y.host!==void 0&&(y.host=unescape(y.host)),y.path&&(y.path=escape(unescape(y.path))),y.fragment&&(y.fragment=encodeURI(decodeURIComponent(y.fragment)))),m&&m.parse&&m.parse(y,u)}else y.error=y.error||"URI can not be parsed.";return y};$a=1;let{normalizeIPv6:e,normalizeIPv4:r,removeDotSegments:s,recomposeAuthority:n,normalizeComponentEncoding:i}=sl(),c=nl(),f=Array.from({length:127},(d,p)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(p))),l=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;var t={SCHEMES:c,normalize:function(d,p){return typeof d=="string"?d=a(h(d,p),p):typeof d=="object"&&(d=h(a(d,p),p)),d},resolve:function(d,p,u){return u=Object.assign({scheme:"null"},u),a(o(h(d,u),h(p,u),u,!0),{...u,skipEscape:!0})},resolveComponents:o,equal:function(d,p,u){return typeof d=="string"?(d=unescape(d),d=a(i(h(d,u),!0),{...u,skipEscape:!0})):typeof d=="object"&&(d=a(i(d,!0),{...u,skipEscape:!0})),typeof p=="string"?(p=unescape(p),p=a(i(h(p,u),!0),{...u,skipEscape:!0})):typeof p=="object"&&(p=a(i(p,!0),{...u,skipEscape:!0})),d.toLowerCase()===p.toLowerCase()},serialize:a,parse:h};Or.exports=t,Or.exports.default=t,Or.exports.fastUri=t}return Or.exports}function al(){if(!Ea){Ea=1;{let O=function(I,v,k,S="error"){for(var P in I){var N=P;N in v&&this.logger[S](`${k}: option ${P}. `+I[N])}},x=function(I){return I=(0,o.normalizeId)(I),this.schemas[I]||this.refs[I]},V=function(I,v,k){var S=v?.post;if(k&&S)throw new Error('keyword with "post" flag cannot have "type"');var P=this.RULES;let N=S?P.post:P.rules.find(({type:T})=>T===k);N||(N={type:k,rules:[]},P.rules.push(N)),P.keywords[I]=!0,v&&(S={keyword:I,definition:{...v,type:(0,a.getJSONTypes)(v.type),schemaType:(0,a.getJSONTypes)(v.schemaType)}},v.before?function(T,_,w){var j=T.rules.findIndex(C=>C.keyword===w);0<=j?T.rules.splice(j,0,_):(T.rules.push(_),this.logger.warn(`rule ${w} is not defined`))}.call(this,N,S,v.before):N.rules.push(S),P.all[I]=S,(P=v.implements)!=null)&&P.forEach(T=>this.addKeyword(T))},R=function(I){return{anyOf:[I,A]}};var t=Vi;Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e,r=Dt(),s=(Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}}),Z()),n=(Object.defineProperty(t,"_",{enumerable:!0,get:function(){return s._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return s.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return s.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return s.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return s.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return s.CodeGen}}),Ps());let i=Sr(),c=Zi(),f=Ns(),l=Z(),o=Er(),a=$r(),h=ee(),d=rl,p=(ka||(ka=1,Object.defineProperty(xs,"__esModule",{value:!0}),(e=il()).code='require("ajv/dist/runtime/uri").default',xs.default=e),xs),u=(I,v)=>new RegExp(I,v),y=(u.code="new RegExp",["removeAdditional","useDefaults","coerceTypes"]),g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),b={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},$=200;class E{constructor(v={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,v=this.opts={...v,...(k=v,T=k.strict,S=(S=(S=k.code)==null?void 0:S.optimize)===!0||S===void 0?1:S||0,N=(N=(N=k.code)==null?void 0:N.regExp)!=null?N:u,P=(P=k.uriResolver)!=null?P:p.default,{strictSchema:(_=(_=k.strictSchema)!=null?_:T)==null||_,strictNumbers:(_=(_=k.strictNumbers)!=null?_:T)==null||_,strictTypes:(_=(_=k.strictTypes)!=null?_:T)!=null?_:"log",strictTuples:(_=(_=k.strictTuples)!=null?_:T)!=null?_:"log",strictRequired:(_=(_=k.strictRequired)!=null?_:T)!=null&&_,code:k.code?{...k.code,optimize:S,regExp:N}:{optimize:S,regExp:N},loopRequired:(T=k.loopRequired)!=null?T:$,loopEnum:(_=k.loopEnum)!=null?_:$,meta:(S=k.meta)==null||S,messages:(N=k.messages)==null||N,inlineRefs:(T=k.inlineRefs)==null||T,schemaId:(_=k.schemaId)!=null?_:"$id",addUsedSchema:(S=k.addUsedSchema)==null||S,validateSchema:(N=k.validateSchema)==null||N,validateFormats:(T=k.validateFormats)==null||T,unicodeRegExp:(_=k.unicodeRegExp)==null||_,int32range:(S=k.int32range)==null||S,uriResolver:P})};var k,S,P,{es5:N,lines:T}=this.opts.code,_=(this.scope=new l.ValueScope({scope:{},prefixes:g,es5:N,lines:T}),this.logger=(w=>{if(w===!1)return M;if(w===void 0)return console;if(w.log&&w.warn&&w.error)return w;throw new Error("logger must implement log, warn and error methods")})(v.logger),v.validateFormats);v.validateFormats=!1,this.RULES=(0,c.getRules)(),O.call(this,b,v,"NOT SUPPORTED"),O.call(this,m,v,"DEPRECATED","warn"),this._metaOpts=function(){var w={...this.opts};for(var j of y)delete w[j];return w}.call(this),v.formats&&function(){for(var w in this.opts.formats){var j=this.opts.formats[w];j&&this.addFormat(w,j)}}.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),v.keywords&&function(w){if(Array.isArray(w))this.addVocabulary(w);else for(var j in this.logger.warn("keywords option as map is deprecated, pass array"),w){var C=w[j];C.keyword||(C.keyword=j),this.addKeyword(C)}}.call(this,v.keywords),typeof v.meta=="object"&&this.addMetaSchema(v.meta),function(){var w=this.opts.schemas;if(w)if(Array.isArray(w))this.addSchema(w);else for(var j in w)this.addSchema(w[j],j)}.call(this),v.validateFormats=_}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){var{$data:v,meta:k,schemaId:S}=this.opts;let P=d;S==="id"&&((P={...d}).id=P.$id,delete P.$id),k&&v&&this.addMetaSchema(P,P[S],!1)}defaultMeta(){var{meta:v,schemaId:k}=this.opts;return this.opts.defaultMeta=typeof v=="object"?v[k]||v:void 0}validate(v,k){let S;if(typeof v=="string"){if(!(S=this.getSchema(v)))throw new Error(`no schema with key or ref "${v}"`)}else S=this.compile(v);return v=S(k),"$async"in S||(this.errors=S.errors),v}compile(v,k){return v=this._addSchema(v,k),v.validate||this._compileSchemaEnv(v)}compileAsync(v,k){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let S=this.opts.loadSchema;return P.call(this,v,k);async function P(_,w){return await N.call(this,_.$schema),_=this._addSchema(_,w),_.validate||T.call(this,_)}async function N(_){_&&!this.getSchema(_)&&await P.call(this,{$ref:_},!0)}async function T(_){try{return this._compileSchemaEnv(_)}catch(w){if(w instanceof i.default)return function({missingSchema:j,missingRef:C}){if(this.refs[j])throw new Error(`AnySchema ${j} is loaded but ${C} cannot be resolved`)}.call(this,w),await async function(j){var C=await async function(B){var G=this._loading[B];if(G)return G;try{return await(this._loading[B]=S(B))}finally{delete this._loading[B]}}.call(this,j);this.refs[j]||await N.call(this,C.$schema),this.refs[j]||this.addSchema(C,j,k)}.call(this,w.missingSchema),T.call(this,_);throw w}}}addSchema(v,k,S,P=this.opts.validateSchema){if(Array.isArray(v))for(var N of v)this.addSchema(N,void 0,S,P);else{let _;if(typeof v=="object"){var T=this.opts.schemaId;if((_=v[T])!==void 0&&typeof _!="string")throw new Error(`schema ${T} must be string`)}k=(0,o.normalizeId)(k||_),this._checkUnique(k),this.schemas[k]=this._addSchema(v,S,k,P,!0)}return this}addMetaSchema(v,k,S=this.opts.validateSchema){return this.addSchema(v,k,!0,S),this}validateSchema(v,k){if(typeof v=="boolean")return!0;var S=v.$schema;if(S!==void 0&&typeof S!="string")throw new Error("$schema must be a string");if(!(S=S||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),!(this.errors=null);if(S=this.validate(S,v),!S&&k){if(v="schema is invalid: "+this.errorsText(),this.opts.validateSchema!=="log")throw new Error(v);this.logger.error(v)}return S}getSchema(v){let k;for(;typeof(k=x.call(this,v))=="string";)v=k;if(k===void 0){var S=this.opts.schemaId,S=new f.SchemaEnv({schema:{},schemaId:S});if(!(k=f.resolveSchema.call(this,S,v)))return;this.refs[v]=k}return k.validate||this._compileSchemaEnv(k)}removeSchema(v){if(v instanceof RegExp)return this._removeAllSchemas(this.schemas,v),this._removeAllSchemas(this.refs,v),this;switch(typeof v){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":var k=x.call(this,v);return typeof k=="object"&&this._cache.delete(k.schema),delete this.schemas[v],delete this.refs[v],this;case"object":return this._cache.delete(v),k=v[this.opts.schemaId],k&&(k=(0,o.normalizeId)(k),delete this.schemas[k],delete this.refs[k]),this;default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(v){for(var k of v)this.addKeyword(k);return this}addKeyword(v,k){let S;if(typeof v=="string")S=v,typeof k=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),k.keyword=S);else{if(typeof v!="object"||k!==void 0)throw new Error("invalid addKeywords parameters");if(k=v,S=k.keyword,Array.isArray(S)&&!S.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(function(P,N){let T=this.RULES;if((0,h.eachItem)(P,_=>{if(T.keywords[_])throw new Error(`Keyword ${_} is already defined`);if(!q.test(_))throw new Error(`Keyword ${_} has invalid name`)}),N&&N.$data&&!("code"in N||"validate"in N))throw new Error('$data keyword must have "code" or "validate" function')}.call(this,S,k),k){(function(N){let T=N.metaSchema;T!==void 0&&(N.$data&&this.opts.$data&&(T=R(T)),N.validateSchema=this.compile(T,!0))}).call(this,k);let P={...k,type:(0,a.getJSONTypes)(k.type),schemaType:(0,a.getJSONTypes)(k.schemaType)};(0,h.eachItem)(S,P.type.length===0?N=>V.call(this,N,P):N=>P.type.forEach(T=>V.call(this,N,P,T)))}else(0,h.eachItem)(S,P=>V.call(this,P));return this}getKeyword(v){return v=this.RULES.all[v],typeof v=="object"?v.definition:!!v}removeKeyword(v){var k,S=this.RULES;delete S.keywords[v],delete S.all[v];for(k of S.rules){var P=k.rules.findIndex(N=>N.keyword===v);0<=P&&k.rules.splice(P,1)}return this}addFormat(v,k){return typeof k=="string"&&(k=new RegExp(k)),this.formats[v]=k,this}errorsText(v=this.errors,{separator:k=", ",dataVar:S="data"}={}){return v&&v.length!==0?v.map(P=>""+S+P.instancePath+" "+P.message).reduce((P,N)=>P+k+N):"No errors"}$dataMetaSchema(v,k){var S,P,N,T=this.RULES.all;v=JSON.parse(JSON.stringify(v));for(S of k){let j=v;for(P of S.split("/").slice(1))j=j[P];for(N in T){var _,w=T[N];typeof w=="object"&&(w=w.definition.$data,_=j[N],w&&_)&&(j[N]=R(_))}}return v}_removeAllSchemas(v,k){for(var S in v){var P=v[S];k&&!k.test(S)||(typeof P=="string"?delete v[S]:P&&!P.meta&&(this._cache.delete(P.schema),delete v[S]))}}_addSchema(v,k,S,P=this.opts.validateSchema,N=this.opts.addUsedSchema){let T;var _=this.opts.schemaId;if(typeof v=="object")T=v[_];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof v!="boolean")throw new Error("schema must be object or boolean")}var w,j=this._cache.get(v);return j===void 0&&(S=(0,o.normalizeId)(T||S),w=o.getSchemaRefs.call(this,v,S),j=new f.SchemaEnv({schema:v,schemaId:_,meta:k,baseId:S,localRefs:w}),this._cache.set(j.schema,j),N&&!S.startsWith("#")&&(S&&this._checkUnique(S),this.refs[S]=j),P)&&this.validateSchema(v,!0),j}_checkUnique(v){if(this.schemas[v]||this.refs[v])throw new Error(`schema with key or id "${v}" already exists`)}_compileSchemaEnv(v){if(v.meta?this._compileMetaSchema(v):f.compileSchema.call(this,v),v.validate)return v.validate;throw new Error("ajv implementation error")}_compileMetaSchema(v){var k=this.opts;this.opts=this._metaOpts;try{f.compileSchema.call(this,v)}finally{this.opts=k}}}E.ValidationError=n.default,E.MissingRefError=i.default,t.default=E;let M={log(){},warn(){},error(){}},q=/^[a-z_$][a-z0-9_$:-]*$/i,A={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}}}return Vi}var Sa,As={},Is={},Ts={},Oa,Pa,Qe={};function ol(){if(!Oa){let f=function(o,a){return o=o.gen,a.validate?o.scopeValue("validate",{ref:a.validate}):(0,s._)`${o.scopeValue("wrapper",{ref:a})}.validate`},l=function(o,a,h,d){let{gen:p,it:u}=o,{allErrors:y,schemaEnv:g,opts:b}=u,m=b.passContext?n.default.this:s.nil;if(d){if(!g.$async)throw new Error("async schema referenced by sync schema");let O=p.let("valid");p.try(()=>{p.code((0,s._)`await ${(0,r.callValidateCode)(o,a,m)}`),E(a),y||p.assign(O,!0)},x=>{p.if((0,s._)`!(${x} instanceof ${u.ValidationError})`,()=>p.throw(x)),$(x),y||p.assign(O,!1)}),o.ok(O)}else o.result((0,r.callValidateCode)(o,a,m),()=>E(a),()=>$(a));function $(O){O=(0,s._)`${O}.errors`,p.assign(n.default.vErrors,(0,s._)`${n.default.vErrors} === null ? ${O} : ${n.default.vErrors}.concat(${O})`),p.assign(n.default.errors,(0,s._)`${n.default.vErrors}.length`)}function E(O){var x,M;u.opts.unevaluated&&(x=(x=h?.validate)==null?void 0:x.evaluated,u.props!==!0&&(x&&!x.dynamicProps?x.props!==void 0&&(u.props=c.mergeEvaluated.props(p,x.props,u.props)):(M=p.var("props",(0,s._)`${O}.evaluated.props`),u.props=c.mergeEvaluated.props(p,M,u.props,s.Name))),u.items!==!0)&&(x&&!x.dynamicItems?x.items!==void 0&&(u.items=c.mergeEvaluated.items(p,x.items,u.items)):(M=p.var("items",(0,s._)`${O}.evaluated.items`),u.items=c.mergeEvaluated.items(p,M,u.items,s.Name)))}};Oa=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.callRef=Qe.getValidate=void 0;let e=Sr(),r=ke(),s=Z(),n=Te(),i=Ns(),c=ee();var t={keyword:"$ref",schemaType:"string",code(o){let{gen:a,schema:h,it:d}=o,{baseId:p,schemaEnv:u,validateName:y,opts:g,self:b}=d,m=u.root;if((h==="#"||h==="#/")&&p===m.baseId)return u===m?l(o,y,u,u.$async):(x=a.scopeValue("root",{ref:m}),l(o,(0,s._)`${x}.validate`,m,m.$async));var $,E,O,x=i.resolveRef.call(b,m,p,h);if(x===void 0)throw new e.default(d.opts.uriResolver,p,h);if(!(x instanceof i.SchemaEnv))return $=x,E=a.scopeValue("schema",g.code.source===!0?{ref:$,code:(0,s.stringify)($)}:{ref:$}),O=a.name("valid"),$=o.subschema({schema:$,dataTypes:[],schemaPath:s.nil,topSchemaRef:E,errSchemaPath:h},O),o.mergeEvaluated($),void o.ok(O);$=f(o,E=x),l(o,$,E,E.$async)}};Qe.getValidate=f,Qe.callRef=l,Qe.default=t}return Qe}function ll(){var t,e;return Pa||(Pa=1,Object.defineProperty(Is,"__esModule",{value:!0}),Sa||(Sa=1,Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}),e=Ts,t=ol(),e=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default],Is.default=e),Is}var ja,Cs={},Ms={},Na,Ls={},xa,Aa,Rs={},Ds={};function cl(){if(!Aa){let s=function(n){var i,c=n.length;let f=0,l=0;for(;l<c;)f++,55296<=(i=n.charCodeAt(l++))&&i<=56319&&l<c&&(64512&n.charCodeAt(l))==56320&&l++;return f};Aa=1,Object.defineProperty(Rs,"__esModule",{value:!0});let t=Z(),e=ee(),r=(xa||(xa=1,Object.defineProperty(Ds,"__esModule",{value:!0}),(Ds.default=s).code='require("ajv/dist/runtime/ucs2length").default'),Ds);Rs.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:i}){return n=n==="maxLength"?"more":"fewer",(0,t.str)`must NOT have ${n} than ${i} characters`},params:({schemaCode:n})=>(0,t._)`{limit: ${n}}`},code(n){var{keyword:f,data:i,schemaCode:c,it:l}=n,f=f==="maxLength"?t.operators.GT:t.operators.LT,l=l.opts.unicode===!1?(0,t._)`${i}.length`:(0,t._)`${(0,e.useFunc)(n.gen,r.default)}(${i})`;n.fail$data((0,t._)`${l} ${f} ${c}`)}}}return Rs}var Ia,Vs={},Ta,qs={},Ca,Ks={};function ul(){if(!Ca){Ca=1,Object.defineProperty(Ks,"__esModule",{value:!0});let t=ke(),e=Z(),r=ee();Ks.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:s}})=>(0,e.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,e._)`{missingProperty: ${s}}`},code(s){let{gen:n,schema:i,schemaCode:c,data:f,$data:l,it:o}=s,a=o.opts;if(l||i.length!==0){let b=function(){n.forOf("prop",c,m=>{s.setParams({missingProperty:m}),n.if((0,t.noPropertyInData)(n,f,m,a.ownProperties),()=>s.error())})},g=i.length>=a.loopRequired;if(o.allErrors)if(g||l)s.block$data(e.nil,b);else for(var h of i)(0,t.checkReportMissingProp)(s,h);else{let m=n.let("missing");if(g||l){let $=n.let("valid",!0);s.block$data($,()=>{return E=m,O=$,s.setParams({missingProperty:E}),void n.forOf(E,c,()=>{n.assign(O,(0,t.propertyInData)(n,f,E,a.ownProperties)),n.if((0,e.not)(O),()=>{s.error(),n.break()})},e.nil);var E,O}),s.ok($)}else n.if((0,t.checkMissingProp)(s,i,m)),(0,t.reportMissingProp)(s,m),n.else()}if(a.strictRequired){var d,p,u=s.parentSchema.properties,y=s.it.definedProperties;for(d of i)u?.[d]!==void 0||y.has(d)||(p=o.schemaEnv.baseId+o.errSchemaPath,p=`required property "${d}" is not defined at "${p}" (strictRequired)`,(0,r.checkStrictMode)(o,p,o.opts.strictRequired))}}}}}return Ks}var Ma,Bs={},La,Ra,Us={},Fs={};function zs(){var t;return La||(La=1,Object.defineProperty(Fs,"__esModule",{value:!0}),(t=la()).code='require("ajv/dist/runtime/equal").default',Fs.default=t),Fs}function pl(){if(!Ra){Ra=1,Object.defineProperty(Us,"__esModule",{value:!0});let t=$r(),e=Z(),r=ee(),s=zs();Us.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:n,j:i}})=>(0,e.str)`must NOT have duplicate items (items ## ${i} and ${n} are identical)`,params:({params:{i:n,j:i}})=>(0,e._)`{i: ${n}, j: ${i}}`},code(n){let{gen:i,data:c,$data:f,schema:l,parentSchema:o,schemaCode:a,it:h}=n;if(f||l){let d=i.let("valid"),p=o.items?(0,t.getSchemaTypes)(o.items):[];n.block$data(d,function(){let u=i.let("i",(0,e._)`${c}.length`),y=i.let("j");n.setParams({i:u,j:y}),i.assign(d,!0),i.if((0,e._)`${u} > 1`,()=>(0<p.length&&!p.some(g=>g==="object"||g==="array")?function(g,b){let m=i.name("item"),$=(0,t.checkDataTypes)(p,m,h.opts.strictNumbers,t.DataType.Wrong),E=i.const("indices",(0,e._)`{}`);i.for((0,e._)`;${g}--;`,()=>{i.let(m,(0,e._)`${c}[${g}]`),i.if($,(0,e._)`continue`),1<p.length&&i.if((0,e._)`typeof ${m} == "string"`,(0,e._)`${m} += "_"`),i.if((0,e._)`typeof ${E}[${m}] == "number"`,()=>{i.assign(b,(0,e._)`${E}[${m}]`),n.error(),i.assign(d,!1).break()}).code((0,e._)`${E}[${m}] = ${g}`)})}:function(g,b){let m=(0,r.useFunc)(i,s.default),$=i.name("outer");i.label($).for((0,e._)`;${g}--;`,()=>i.for((0,e._)`${b} = ${g}; ${b}--;`,()=>i.if((0,e._)`${m}(${c}[${g}], ${c}[${b}])`,()=>{n.error(),i.assign(d,!1).break($)})))})(u,y))},(0,e._)`${a} === false`),n.ok(d)}}}}return Us}var Da,Gs={},Va,qa,Js={};function dl(){if(!Va){Va=1,Object.defineProperty(Js,"__esModule",{value:!0});let t=Z(),e=ee(),r=zs();Js.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,t._)`{allowedValues: ${s}}`},code(s){let{gen:n,data:i,$data:c,schema:f,schemaCode:l,it:o}=s;if(!c&&f.length===0)throw new Error("enum must have non-empty array");var a=f.length>=o.opts.loopEnum;let h,d=()=>h??(h=(0,e.useFunc)(n,r.default)),p;if(a||c)p=n.let("valid"),s.block$data(p,function(){n.assign(p,!1),n.forOf("v",l,u=>n.if((0,t._)`${d()}(${i}, ${u})`,()=>n.assign(p,!0).break()))});else{if(!Array.isArray(f))throw new Error("ajv implementation error");let u=n.const("vSchema",l);p=(0,t.or)(...f.map((y,g)=>{return b=u,g=g,typeof(m=f[g])=="object"&&m!==null?(0,t._)`${d()}(${i}, ${b}[${g}])`:(0,t._)`${i} === ${m}`;var b,m}))}s.pass(p)}}}return Js}function fl(){var t,e,r,s,n,i,c,f,l,o;return qa||(qa=1,Object.defineProperty(Cs,"__esModule",{value:!0}),o=(()=>{if(!ja){ja=1,Object.defineProperty(Ms,"__esModule",{value:!0});let h=Z();var a=h.operators;let d={maximum:{okStr:"<=",ok:a.LTE,fail:a.GT},minimum:{okStr:">=",ok:a.GTE,fail:a.LT},exclusiveMaximum:{okStr:"<",ok:a.LT,fail:a.GTE},exclusiveMinimum:{okStr:">",ok:a.GT,fail:a.LTE}};a={message:({keyword:p,schemaCode:u})=>(0,h.str)`must be ${d[p].okStr} ${u}`,params:({keyword:p,schemaCode:u})=>(0,h._)`{comparison: ${d[p].okStr}, limit: ${u}}`},a={keyword:Object.keys(d),type:"number",schemaType:"number",$data:!0,error:a,code(p){var{keyword:u,data:y,schemaCode:g}=p;p.fail$data((0,h._)`${y} ${d[u].fail} ${g} || isNaN(${y})`)}},Ms.default=a}return Ms})(),t=(()=>{if(!Na){Na=1,Object.defineProperty(Ls,"__esModule",{value:!0});let a=Z();Ls.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:h})=>(0,a.str)`must be multiple of ${h}`,params:({schemaCode:h})=>(0,a._)`{multipleOf: ${h}}`},code(h){var{gen:u,data:d,schemaCode:p,it:y}=h,y=y.opts.multipleOfPrecision,u=u.let("res"),y=y?(0,a._)`Math.abs(Math.round(${u}) - ${u}) > 1e-${y}`:(0,a._)`${u} !== parseInt(${u})`;h.fail$data((0,a._)`(${p} === 0 || (${u} = ${d}/${p}, ${y}))`)}}}return Ls})(),e=cl(),r=(()=>{if(!Ia){Ia=1,Object.defineProperty(Vs,"__esModule",{value:!0});let a=ke(),h=Z();Vs.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:d})=>(0,h.str)`must match pattern "${d}"`,params:({schemaCode:d})=>(0,h._)`{pattern: ${d}}`},code(d){var{data:p,$data:b,schema:u,schemaCode:y,it:g}=d,g=g.opts.unicodeRegExp?"u":"",b=b?(0,h._)`(new RegExp(${y}, ${g}))`:(0,a.usePattern)(d,u);d.fail$data((0,h._)`!${b}.test(${p})`)}}}return Vs})(),s=(()=>{if(!Ta){Ta=1,Object.defineProperty(qs,"__esModule",{value:!0});let a=Z();qs.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:h,schemaCode:d}){return h=h==="maxProperties"?"more":"fewer",(0,a.str)`must NOT have ${h} than ${d} properties`},params:({schemaCode:h})=>(0,a._)`{limit: ${h}}`},code(h){var{keyword:u,data:d,schemaCode:p}=h,u=u==="maxProperties"?a.operators.GT:a.operators.LT;h.fail$data((0,a._)`Object.keys(${d}).length ${u} ${p}`)}}}return qs})(),n=ul(),i=(()=>{if(!Ma){Ma=1,Object.defineProperty(Bs,"__esModule",{value:!0});let a=Z();Bs.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:h,schemaCode:d}){return h=h==="maxItems"?"more":"fewer",(0,a.str)`must NOT have ${h} than ${d} items`},params:({schemaCode:h})=>(0,a._)`{limit: ${h}}`},code(h){var{keyword:u,data:d,schemaCode:p}=h,u=u==="maxItems"?a.operators.GT:a.operators.LT;h.fail$data((0,a._)`${d}.length ${u} ${p}`)}}}return Bs})(),c=pl(),f=(()=>{if(!Da){Da=1,Object.defineProperty(Gs,"__esModule",{value:!0});let a=Z(),h=ee(),d=zs();Gs.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:p})=>(0,a._)`{allowedValue: ${p}}`},code(p){var{gen:u,data:y,$data:g,schemaCode:b,schema:m}=p;g||m&&typeof m=="object"?p.fail$data((0,a._)`!${(0,h.useFunc)(u,d.default)}(${y}, ${b})`):p.fail((0,a._)`${m} !== ${y}`)}}}return Gs})(),l=dl(),o=[o.default,t.default,e.default,r.default,s.default,n.default,i.default,c.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},f.default,l.default],Cs.default=o),Cs}var Ka,Hs={},Vt={};function Ba(){if(!Ka){let s=function(n,i){let{gen:c,schema:f,data:l,keyword:o,it:a}=n,h=(a.items=!0,c.const("len",(0,e._)`${l}.length`));if(f===!1)n.setParams({len:i.length}),n.pass((0,e._)`${h} <= ${i.length}`);else if(typeof f=="object"&&!(0,r.alwaysValidSchema)(a,f)){let d=c.var("valid",(0,e._)`${h} <= ${i.length}`);c.if((0,e.not)(d),()=>{var p;p=d,c.forRange("i",i.length,h,u=>{n.subschema({keyword:o,dataProp:u,dataPropType:r.Type.Num},p),a.allErrors||c.if((0,e.not)(p),()=>c.break())})}),n.ok(d)}};Ka=1,Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.validateAdditionalItems=void 0;let e=Z(),r=ee();var t={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:n}})=>(0,e.str)`must NOT have more than ${n} items`,params:({params:{len:n}})=>(0,e._)`{limit: ${n}}`},code(n){var{parentSchema:c,it:i}=n,c=c.items;Array.isArray(c)?s(n,c):(0,r.checkStrictMode)(i,'"additionalItems" is ignored when "items" is not an array of schemas')}};Vt.validateAdditionalItems=s,Vt.default=t}return Vt}var Ua,Fa,Ws={},qt={};function za(){if(!Ua){let n=function(i,c,f=i.schema){let{gen:l,parentSchema:o,data:a,keyword:h,it:d}=i;var g=o,{opts:p,errSchemaPath:u}=d,y=f.length,g=y===g.minItems&&(y===g.maxItems||g[c]===!1);p.strictTuples&&!g&&(g=`"${h}" is ${y}-tuple, but minItems or maxItems/${c} are not specified or different at path "${u}"`,(0,r.checkStrictMode)(d,g,p.strictTuples)),d.opts.unevaluated&&f.length&&d.items!==!0&&(d.items=r.mergeEvaluated.items(l,f.length,d.items));let b=l.name("valid"),m=l.const("len",(0,e._)`${a}.length`);f.forEach(($,E)=>{(0,r.alwaysValidSchema)(d,$)||(l.if((0,e._)`${m} > ${E}`,()=>i.subschema({keyword:h,schemaProp:E,dataProp:E},b)),i.ok(b))})};Ua=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.validateTuple=void 0;let e=Z(),r=ee(),s=ke();var t={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(i){var{schema:c,it:f}=i;if(Array.isArray(c))return n(i,"additionalItems",c);f.items=!0,(0,r.alwaysValidSchema)(f,c)||i.ok((0,s.validateArray)(i))}};qt.validateTuple=n,qt.default=t}return qt}var Ga,Ys={},Ja,Qs={};function hl(){if(!Ja){Ja=1,Object.defineProperty(Qs,"__esModule",{value:!0});let t=Z(),e=ee();Qs.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:r,max:s}})=>s===void 0?(0,t.str)`must contain at least ${r} valid item(s)`:(0,t.str)`must contain at least ${r} and no more than ${s} valid item(s)`,params:({params:{min:r,max:s}})=>s===void 0?(0,t._)`{minContains: ${r}}`:(0,t._)`{minContains: ${r}, maxContains: ${s}}`},code(r){let{gen:s,schema:n,parentSchema:i,data:c,it:f}=r,l,o;var{minContains:a,maxContains:h}=i;f.opts.next?(l=a===void 0?1:a,o=h):l=1;let d=s.const("len",(0,t._)`${c}.length`);if(r.setParams({min:l,max:o}),o===void 0&&l===0)(0,e.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');else if(o!==void 0&&l>o)(0,e.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),r.fail();else if((0,e.alwaysValidSchema)(f,n)){let p=(0,t._)`${d} >= ${l}`;o!==void 0&&(p=(0,t._)`${p} && ${d} <= ${o}`),r.pass(p)}else{let u=function(){let g=s.name("_valid"),b=s.let("count",0);y(g,()=>s.if(g,()=>{return m=b,s.code((0,t._)`${m}++`),void(o===void 0?s.if((0,t._)`${m} >= ${l}`,()=>s.assign(p,!0).break()):(s.if((0,t._)`${m} > ${o}`,()=>s.assign(p,!1).break()),l===1?s.assign(p,!0):s.if((0,t._)`${m} >= ${l}`,()=>s.assign(p,!0))));var m}))},y=function(g,b){s.forRange("i",0,d,m=>{r.subschema({keyword:"contains",dataProp:m,dataPropType:e.Type.Num,compositeRule:!0},g),b()})};f.items=!0;let p=s.name("valid");o===void 0&&l===1?y(p,()=>s.if(p,()=>s.break())):l===0?(s.let(p,!0),o!==void 0&&s.if((0,t._)`${c}.length > 0`,u)):(s.let(p,!1),u()),r.result(p,()=>r.reset())}}}}return Qs}var Ha,Wa={};function ml(){if(!Ha){Ha=1;{let i=function(f,l=f.schema){var{gen:o,data:a,it:h}=f;if(Object.keys(l).length!==0){var d,p,u=o.let("missing");for(d in l){let y=l[d];y.length!==0&&(p=(0,n.propertyInData)(o,a,d,h.opts.ownProperties),f.setParams({property:d,depsCount:y.length,deps:y.join(", ")}),h.allErrors?o.if(p,()=>{for(var g of y)(0,n.checkReportMissingProp)(f,g)}):(o.if((0,r._)`${p} && (${(0,n.checkMissingProp)(f,y,u)})`),(0,n.reportMissingProp)(f,u),o.else()))}}},c=function(f,l=f.schema){let{gen:o,data:a,keyword:h,it:d}=f,p=o.name("valid");for(let u in l)(0,s.alwaysValidSchema)(d,l[u])||(o.if((0,n.propertyInData)(o,a,u,d.opts.ownProperties),()=>{var y=f.subschema({keyword:h,schemaProp:u},p);f.mergeValidEvaluated(y,p)},()=>o.var(p,!0)),f.ok(p))};var t=Wa;Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;let r=Z(),s=ee(),n=ke();t.error={message:({params:{property:f,depsCount:l,deps:o}})=>(l=l===1?"property":"properties",(0,r.str)`must have ${l} ${o} when property ${f} is present`),params:({params:{property:f,depsCount:l,deps:o,missingProperty:a}})=>(0,r._)`{property: ${f},
    missingProperty: ${a},
    depsCount: ${l},
    deps: ${o}}`};var e={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(f){var[l,o]=(({schema:a})=>{var h,d={},p={};for(h in a)h!=="__proto__"&&((Array.isArray(a[h])?d:p)[h]=a[h]);return[d,p]})(f);i(f,l),c(f,o)}};t.validatePropertyDeps=i,t.validateSchemaDeps=c,t.default=e}}return Wa}var Ya,Zs={},Qa,Xs={};function Za(){if(!Qa){Qa=1,Object.defineProperty(Xs,"__esModule",{value:!0});let t=ke(),e=Z(),r=Te(),s=ee();Xs.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:n})=>(0,e._)`{additionalProperty: ${n.additionalProperty}}`},code(n){let{gen:i,schema:c,parentSchema:f,data:l,errsCount:o,it:a}=n;if(!o)throw new Error("ajv implementation error");let{allErrors:h,opts:d}=a;if(a.props=!0,d.removeAdditional==="all"||!(0,s.alwaysValidSchema)(a,c)){let y=function(m){i.code((0,e._)`delete ${l}[${m}]`)},g=function(m){var $;d.removeAdditional==="all"||d.removeAdditional&&c===!1?y(m):c===!1?(n.setParams({additionalProperty:m}),n.error(),h||i.break()):typeof c!="object"||(0,s.alwaysValidSchema)(a,c)||($=i.name("valid"),d.removeAdditional==="failing"?(b(m,$,!1),i.if((0,e.not)($),()=>{n.reset(),y(m)})):(b(m,$),h||i.if((0,e.not)($),()=>i.break())))},b=function(m,$,E){m={keyword:"additionalProperties",dataProp:m,dataPropType:s.Type.Str},E===!1&&Object.assign(m,{compositeRule:!0,createErrors:!1,allErrors:!1}),n.subschema(m,$)},p=(0,t.allSchemaProperties)(f.properties),u=(0,t.allSchemaProperties)(f.patternProperties);i.forIn("key",l,m=>{p.length||u.length?i.if(($=>{let E;var O;return E=8<p.length?(O=(0,s.schemaRefOrVal)(a,f.properties,"properties"),(0,t.isOwnProperty)(i,O,$)):p.length?(0,e.or)(...p.map(x=>(0,e._)`${$} === ${x}`)):e.nil,u.length&&(E=(0,e.or)(E,...u.map(x=>(0,e._)`${(0,t.usePattern)(n,x)}.test(${$})`))),(0,e.not)(E)})(m),()=>g(m)):g(m)}),n.ok((0,e._)`${o} === ${r.default.errors}`)}}}}return Xs}var Xa,en={};function yl(){if(!Xa){Xa=1,Object.defineProperty(en,"__esModule",{value:!0});let t=Dt(),e=ke(),r=ee(),s=Za();en.default={keyword:"properties",type:"object",schemaType:"object",code(n){let{gen:i,schema:c,parentSchema:f,data:l,it:o}=n;o.opts.removeAdditional==="all"&&f.additionalProperties===void 0&&s.default.code(new t.KeywordCxt(o,s.default,"additionalProperties"));var a,d=(0,e.allSchemaProperties)(c);for(a of d)o.definedProperties.add(a);o.opts.unevaluated&&d.length&&o.props!==!0&&(o.props=r.mergeEvaluated.props(i,(0,r.toHash)(d),o.props));var h,d=d.filter(u=>!(0,r.alwaysValidSchema)(o,c[u]));if(d.length!==0){let y=function(g){n.subschema({keyword:"properties",schemaProp:g,dataProp:g},u)},u=i.name("valid");for(var p of d)h=p,o.opts.useDefaults&&!o.compositeRule&&c[h].default!==void 0?y(p):(i.if((0,e.propertyInData)(i,l,p,o.opts.ownProperties)),y(p),o.allErrors||i.else().var(u,!0),i.endIf()),n.it.definedProperties.add(p),n.ok(u)}}}}return en}var eo,tn={};function gl(){if(!eo){eo=1,Object.defineProperty(tn,"__esModule",{value:!0});let t=ke(),e=Z(),r=ee(),s=ee();tn.default={keyword:"patternProperties",type:"object",schemaType:"object",code(n){let{gen:i,schema:c,data:f,parentSchema:l,it:o}=n;var a=o.opts;let h=(0,t.allSchemaProperties)(c),d=h.filter(g=>(0,r.alwaysValidSchema)(o,c[g]));if(h.length!==0&&(d.length!==h.length||o.opts.unevaluated&&o.props!==!0)){let $=function(E){i.forIn("key",f,O=>{i.if((0,e._)`${(0,t.usePattern)(n,E)}.test(${O})`,()=>{var x=d.includes(E);x||n.subschema({keyword:"patternProperties",schemaProp:E,dataProp:O,dataPropType:s.Type.Str},b),o.opts.unevaluated&&m!==!0?i.assign((0,e._)`${m}[${O}]`,!0):x||o.allErrors||i.if((0,e.not)(b),()=>i.break())})})},g=a.strictSchema&&!a.allowMatchingProperties&&l.properties,b=i.name("valid"),m=(o.props===!0||o.props instanceof e.Name||(o.props=(0,s.evaluatedPropsToName)(i,o.props)),o).props;for(var p of h){if(g){u=void 0,y=void 0;var u=p;for(var y in g)new RegExp(u).test(y)&&(0,r.checkStrictMode)(o,`property ${y} matches pattern ${u} (use allowMatchingProperties)`)}o.allErrors?$(p):(i.var(b,!0),$(p),i.if(b))}}}}}return tn}var to,rn={},ro,sn={},so,nn={},no,an={},io,on={};function vl(){if(!io){let r=function(s,n){return n=s.schema[n],n!==void 0&&!(0,e.alwaysValidSchema)(s,n)};io=1,Object.defineProperty(on,"__esModule",{value:!0});let t=Z(),e=ee();on.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:s})=>(0,t.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,t._)`{failingKeyword: ${s.ifClause}}`},code(s){let{gen:n,parentSchema:i,it:c}=s;i.then===void 0&&i.else===void 0&&(0,e.checkStrictMode)(c,'"if" without "then" and "else" is ignored');var f,l=r(c,"then"),o=r(c,"else");if(l||o){let d=function(p,u){return()=>{var y=s.subschema({keyword:p},h);n.assign(a,h),s.mergeValidEvaluated(y,a),u?n.assign(u,(0,t._)`${p}`):s.setParams({ifClause:p})}},a=n.let("valid",!0),h=n.name("_valid");f=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},h),s.mergeEvaluated(f),s.reset(),l&&o?(f=n.let("ifClause"),s.setParams({ifClause:f}),n.if(h,d("then",f),d("else",f))):l?n.if(h,d("then")):n.if((0,t.not)(h),d("else")),s.pass(a,()=>s.error(!0))}}}}return on}var ao,oo,ln={};function bl(){if(!oo){oo=1,Object.defineProperty(Hs,"__esModule",{value:!0});let e=Ba(),r=(()=>{if(!Fa){Fa=1,Object.defineProperty(Ws,"__esModule",{value:!0});let b=za();Ws.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:m=>(0,b.validateTuple)(m,"items")}}return Ws})(),s=za(),n=(()=>{if(!Ga){Ga=1,Object.defineProperty(Ys,"__esModule",{value:!0});let b=Z(),m=ee(),$=ke(),E=Ba();Ys.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:O}})=>(0,b.str)`must NOT have more than ${O} items`,params:({params:{len:O}})=>(0,b._)`{limit: ${O}}`},code(O){var{schema:x,parentSchema:q,it:M}=O,q=q.prefixItems;M.items=!0,(0,m.alwaysValidSchema)(M,x)||(q?(0,E.validateAdditionalItems)(O,q):O.ok((0,$.validateArray)(O)))}}}return Ys})(),i=hl(),c=ml(),f=(()=>{if(!Ya){Ya=1,Object.defineProperty(Zs,"__esModule",{value:!0});let b=Z(),m=ee();Zs.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:$})=>(0,b._)`{propertyName: ${$.propertyName}}`},code($){let{gen:E,schema:O,data:x,it:M}=$;if(!(0,m.alwaysValidSchema)(M,O)){let q=E.name("valid");E.forIn("key",x,V=>{$.setParams({propertyName:V}),$.subschema({keyword:"propertyNames",data:V,dataTypes:["string"],propertyName:V,compositeRule:!0},q),E.if((0,b.not)(q),()=>{$.error(!0),M.allErrors||E.break()})}),$.ok(q)}}}}return Zs})(),l=Za(),o=yl(),a=gl(),h=(()=>{if(!to){to=1,Object.defineProperty(rn,"__esModule",{value:!0});let b=ee();rn.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(m){var{gen:$,schema:E,it:O}=m;(0,b.alwaysValidSchema)(O,E)?m.fail():(O=$.name("valid"),m.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},O),m.failResult(O,()=>m.reset(),()=>m.error()))},error:{message:"must NOT be valid"}}}return rn})(),d=(ro||(ro=1,Object.defineProperty(sn,"__esModule",{value:!0}),t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:ke().validateUnion,error:{message:"must match a schema in anyOf"}},sn.default=t),sn);var t;let p=(()=>{if(!so){so=1,Object.defineProperty(nn,"__esModule",{value:!0});let b=Z(),m=ee();nn.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:$})=>(0,b._)`{passingSchemas: ${$.passing}}`},code($){let{gen:E,schema:O,parentSchema:x,it:M}=$;if(!Array.isArray(O))throw new Error("ajv implementation error");if(!M.opts.discriminator||!x.discriminator){let q=O,V=E.let("valid",!1),A=E.let("passing",null),R=E.name("_valid");$.setParams({passing:A}),E.block(function(){q.forEach((I,v)=>{let k;(0,m.alwaysValidSchema)(M,I)?E.var(R,!0):k=$.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},R),0<v&&E.if((0,b._)`${R} && ${V}`).assign(V,!1).assign(A,(0,b._)`[${A}, ${v}]`).else(),E.if(R,()=>{E.assign(V,!0),E.assign(A,v),k&&$.mergeEvaluated(k,b.Name)})})}),$.result(V,()=>$.reset(),()=>$.error(!0))}}}}return nn})(),u=(()=>{if(!no){no=1,Object.defineProperty(an,"__esModule",{value:!0});let b=ee();an.default={keyword:"allOf",schemaType:"array",code(m){let{gen:$,schema:E,it:O}=m;if(!Array.isArray(E))throw new Error("ajv implementation error");let x=$.name("valid");E.forEach((M,q)=>{(0,b.alwaysValidSchema)(O,M)||(M=m.subschema({keyword:"allOf",schemaProp:q},x),m.ok(x),m.mergeEvaluated(M))})}}}return an})(),y=vl(),g=(()=>{if(!ao){ao=1,Object.defineProperty(ln,"__esModule",{value:!0});let b=ee();ln.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:m,parentSchema:$,it:E}){$.if===void 0&&(0,b.checkStrictMode)(E,`"${m}" without "if" is ignored`)}}}return ln})();Hs.default=function(b=!1){var m=[h.default,d.default,p.default,u.default,y.default,g.default,f.default,l.default,c.default,o.default,a.default];return b?m.push(r.default,n.default):m.push(e.default,s.default),m.push(i.default),m}}return Hs}var lo,co,cn={},un={};function wl(){if(!lo){lo=1,Object.defineProperty(un,"__esModule",{value:!0});let t=Z();un.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,t.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,t._)`{format: ${e}}`},code(e,r){let{gen:s,data:n,$data:i,schema:c,schemaCode:f,it:l}=e,{opts:o,errSchemaPath:a,schemaEnv:h,self:d}=l;if(o.validateFormats)if(i){let p=s.scopeValue("formats",{ref:d.formats,code:o.code.formats}),u=s.const("fDef",(0,t._)`${p}[${f}]`),y=s.let("fType"),g=s.let("format");s.if((0,t._)`typeof ${u} == "object" && !(${u} instanceof RegExp)`,()=>s.assign(y,(0,t._)`${u}.type || "string"`).assign(g,(0,t._)`${u}.validate`),()=>s.assign(y,(0,t._)`"string"`).assign(g,u)),e.fail$data((0,t.or)(o.strictSchema===!1?t.nil:(0,t._)`${f} && !${g}`,(()=>{var b=h.$async?(0,t._)`(${u}.async ? await ${g}(${n}) : ${g}(${n}))`:(0,t._)`${g}(${n})`,b=(0,t._)`(typeof ${g} == "function" ? ${b} : ${g}.test(${n}))`;return(0,t._)`${g} && ${g} !== true && ${y} === ${r} && !${b}`})()))}else{let p=d.formats[c];if(p){if(p!==!0){let[u,y,g]=(b=>{var m=b instanceof RegExp?(0,t.regexpCode)(b):o.code.formats?(0,t._)`${o.code.formats}${(0,t.getProperty)(c)}`:void 0,m=s.scopeValue("formats",{key:c,ref:b,code:m});return typeof b!="object"||b instanceof RegExp?["string",b,m]:[b.type||"string",b.validate,(0,t._)`${m}.validate`]})(p);u===r&&e.pass((()=>{if(typeof p!="object"||p instanceof RegExp||!p.async)return typeof y=="function"?(0,t._)`${g}(${n})`:(0,t._)`${g}.test(${n})`;if(h.$async)return(0,t._)`await ${g}(${n})`;throw new Error("async format in sync schema")})())}}else{let u=function(){return`unknown format "${c}" ignored in schema at path "${a}"`};if(o.strictSchema!==!1)throw new Error(u());d.logger.warn(u())}}}}}return un}var uo,po,yt={};function _l(){var t,e,r,s,n;return po||(po=1,Object.defineProperty(As,"__esModule",{value:!0}),n=ll(),t=fl(),e=bl(),co||(co=1,Object.defineProperty(cn,"__esModule",{value:!0}),r=[wl().default],cn.default=r),r=cn,uo||(uo=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.contentVocabulary=yt.metadataVocabulary=void 0,yt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],yt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),s=yt,n=[n.default,t.default,(0,e.default)(),r.default,s.metadataVocabulary,s.contentVocabulary],As.default=n),As}var fo,ho,pn={},Pr={};function $l(){if(!ho){ho=1,Object.defineProperty(pn,"__esModule",{value:!0});let t=Z(),e=(fo||(fo=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.DiscrError=void 0,Pr.DiscrError={Tag:"tag",Mapping:"mapping"}),Pr),r=Ns(),s=Sr(),n=ee();pn.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:i,tagName:c}})=>i===e.DiscrError.Tag?`tag "${c}" must be string`:`value of tag "${c}" must be in oneOf`,params:({params:{discrError:i,tag:c,tagName:f}})=>(0,t._)`{error: ${i}, tag: ${f}, tagValue: ${c}}`},code(i){let{gen:c,data:f,schema:l,parentSchema:o,it:a}=i,h=o.oneOf;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");let d=l.propertyName;if(typeof d!="string")throw new Error("discriminator: requires propertyName");if(l.mapping)throw new Error("discriminator: mapping is not supported");if(!h)throw new Error("discriminator: requires oneOf keyword");let p=c.let("valid",!1),u=c.const("tag",(0,t._)`${f}${(0,t.getProperty)(d)}`);c.if((0,t._)`typeof ${u} == "string"`,()=>{var y,g=(()=>{let b,m={},$=x(o),E=!0;for(let q=0;q<h.length;q++){let V=h[q];if(V!=null&&V.$ref&&!(0,n.schemaHasRulesButRef)(V,a.self.RULES)){var O=V.$ref;if((V=(V=r.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,O))instanceof r.SchemaEnv?V.schema:V)===void 0)throw new s.default(a.opts.uriResolver,a.baseId,O)}if(O=(b=V?.properties)==null?void 0:b[d],typeof O!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${d}"`);E=E&&($||x(V)),((A,R)=>{if(A.const)M(A.const,R);else{if(!A.enum)throw new Error(`discriminator: "properties/${d}" must have "const" or "enum"`);for(var I of A.enum)M(I,R)}})(O,q)}if(E)return m;throw new Error(`discriminator: "${d}" must be required`);function x({required:q}){return Array.isArray(q)&&q.includes(d)}function M(q,V){if(typeof q!="string"||q in m)throw new Error(`discriminator: "${d}" values must be unique strings`);m[q]=V}})();for(y in c.if(!1),g)c.elseIf((0,t._)`${u} === ${y}`),c.assign(p,($=>{var m=c.name("valid"),$=i.subschema({keyword:"oneOf",schemaProp:$},m);return i.mergeEvaluated($,t.Name),m})(g[y]));c.else(),i.error(!1,{discrError:e.DiscrError.Mapping,tag:u,tagName:d}),c.endIf()},()=>i.error(!1,{discrError:e.DiscrError.Tag,tag:u,tagName:d})),i.ok(p)}}}return pn}var mo,kl={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0};function yo(){if(!mo){mo=1;{var t=Es,e=Es.exports;Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;var r=al();let f=_l(),l=$l(),o=kl,a=["/properties"],h="http://json-schema.org/draft-07/schema";class d extends r.default{_addVocabularies(){super._addVocabularies(),f.default.forEach(u=>this.addVocabulary(u)),this.opts.discriminator&&this.addKeyword(l.default)}_addDefaultMetaSchema(){var u;super._addDefaultMetaSchema(),this.opts.meta&&(u=this.opts.$data?this.$dataMetaSchema(o,a):o,this.addMetaSchema(u,h,!1),this.refs["http://json-schema.org/schema"]=h)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(h)?h:void 0)}}e.Ajv=d,t.exports=e=d,t.exports.Ajv=d,Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var s=Dt(),n=(Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return s.KeywordCxt}}),Z()),i=(Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}}),Ps()),c=(Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return i.default}}),Sr());Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return c.default}})}}return Es.exports}var go,dn={exports:{}};function El(){if(!go){go=1;{let y=function(g){return{keyword:o,schemaType:["string","object"],post:!0,code(b){let{gen:m,data:$,schema:E,schemaValue:O,it:x}=b;if(x.createErrors!==!1){let V=function(I,v){return n.and(s._`${I}.keyword !== ${o}`,s._`!${I}.${a}`,s._`${I}.instancePath === ${q}`,s._`${I}.keyword in ${v}`,s._`${I}.schemaPath.indexOf(${x.errSchemaPath}) === 0`,s._`/^\\/[^\\/]*$/.test(${I}.schemaPath.slice(${x.errSchemaPath.length}))`)},A=function(I,v){var k,S=[];for(k in I){var P=v[k];d.test(P)&&S.push([k,(P=P,s._`function(){return ${R(P)}}`)])}return m.object(...S)},R=function(I){return d.test(I)?new i._Code(i.safeStringify(I).replace(p,(v,k)=>`" + JSON.stringify(${c.getData(k,x)}) + "`).replace(u,"")):s.stringify(I)},M=E,q=n.strConcat(l.default.instancePath,x.errorPath);m.if(s._`${l.default.errors} > 0`,()=>{if(typeof M=="object"){var[I,v]=(N=>{let T,_;for(var w in N)if(w!=="properties"&&w!=="items"){var j=N[w];if(typeof j=="object"){var C,B=(T=T||{})[w]={};for(C in j)B[C]=[]}else(_=_||{})[w]=[]}return[T,_]})(M);if(v){let w=function(C){m.forIn("key",N,B=>m.if(s._`${N}[${B}].length`,()=>C(B)))},j=function(C){return s._`${C} in ${T} ? ${T}[${C}]() : ${O}[${C}]`},N=m.const("emErrors",s.stringify(v)),T=m.const("templates",A(v,E)),_=(m.forOf("err",l.default.vErrors,C=>m.if(V(C,N),()=>m.code(s._`${N}[${C}.keyword].push(${C})`).assign(s._`${C}.${a}`,!0))),g).singleError;if(_){let C=m.let("message",s._`""`),B=m.let("paramsErrors",s._`[]`);w(G=>{m.if(C,()=>m.code(s._`${C} += ${typeof _=="string"?_:";"}`)),m.code(s._`${C} += ${j(G)}`),m.assign(B,s._`${B}.concat(${N}[${G}])`)}),f.reportError(b,{message:C,params:s._`{errors: ${B}}`})}else w(C=>f.reportError(b,{message:j(C),params:s._`{errors: ${N}[${C}]}`}))}if(I){var k,S=I;let N=m.const("emErrors",s.stringify(S)),T=[];for(k in S)T.push([k,A(S[k],E[k])]);let _=m.const("templates",m.object(...T)),w=m.scopeValue("obj",{ref:h,code:s.stringify(h)}),j=m.let("emPropParams"),C=m.let("emParamsErrors");m.forOf("err",l.default.vErrors,B=>m.if(V(B,N),()=>{m.assign(j,s._`${w}[${B}.keyword]`),m.assign(C,s._`${N}[${B}.keyword][${B}.params[${j}]]`),m.if(C,()=>m.code(s._`${C}.push(${B})`).assign(s._`${B}.${a}`,!0))})),m.forIn("key",N,B=>m.forIn("keyProp",s._`${N}[${B}]`,G=>{m.assign(C,s._`${N}[${B}][${G}]`),m.if(s._`${C}.length`,()=>{var Q=m.const("tmpl",s._`${_}[${B}] && ${_}[${B}][${G}]`);f.reportError(b,{message:s._`${Q} ? ${Q}() : ${O}[${B}][${G}]`,params:s._`{errors: ${C}}`})})}))}{v=(({properties:_,items:w})=>{var j={};if(_)for(var C in j.props={},_)j.props[C]=[];if(w){j.items={};for(let B=0;B<w.length;B++)j.items[B]=[]}return j})(M);let{props:N,items:T}=v;if(N||T){let B=function(G,Q){m.assign(_,s.stringify(G)),m.assign(C,A(G,Q))};v=s._`typeof ${$} == "object"`,I=s._`Array.isArray(${$})`;let _=m.let("emErrors"),w,j,C=m.let("templates");N&&T?(w=m.let("emChildKwd"),m.if(v),m.if(I,()=>{B(T,E.items),m.assign(w,s.str`items`)},()=>{B(N,E.properties),m.assign(w,s.str`properties`)}),j=s._`[${w}]`):T?(m.if(I),B(T,E.items),j=s._`.items`):N&&(m.if(n.and(v,n.not(I))),B(N,E.properties),j=s._`.properties`),m.forOf("err",l.default.vErrors,G=>{var Q,J,le;Q=G,J=_,le=ye=>m.code(s._`${_}[${ye}].push(${G})`).assign(s._`${G}.${a}`,!0),m.if(n.and(s._`${Q}.keyword !== ${o}`,s._`!${Q}.${a}`,s._`${Q}.instancePath.indexOf(${q}) === 0`),()=>{var ye=m.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:s._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),ye=m.const("emMatches",s._`${ye}.exec(${Q}.instancePath.slice(${q}.length))`);let we=m.const("emChild",s._`${ye} && ${ye}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);m.if(s._`${we} !== undefined && ${we} in ${J}`,()=>le(we))})}),m.forIn("key",_,G=>m.if(s._`${_}[${G}].length`,()=>{f.reportError(b,{message:s._`${G} in ${C} ? ${C}[${G}]() : ${O}${j}[${G}]`,params:s._`{errors: ${_}[${G}]}`}),m.assign(s._`${l.default.vErrors}[${l.default.errors}-1].instancePath`,s._`${q} + "/" + ${G}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),m.endIf()}}}if(v=typeof M=="string"?M:M._,v){var P=v;let N=m.const("emErrs",s._`[]`);m.forOf("err",l.default.vErrors,T=>{return m.if((_=T,n.and(s._`${_}.keyword !== ${o}`,s._`!${_}.${a}`,n.or(s._`${_}.instancePath === ${q}`,n.and(s._`${_}.instancePath.indexOf(${q}) === 0`,s._`${_}.instancePath[${q}.length] === "/"`)),s._`${_}.schemaPath.indexOf(${x.errSchemaPath}) === 0`,s._`${_}.schemaPath[${x.errSchemaPath}.length] === "/"`)),()=>m.code(s._`${N}.push(${T})`).assign(s._`${T}.${a}`,!0));var _}),m.if(s._`${N}.length`,()=>f.reportError(b,{message:R(P),params:s._`{errors: ${N}}`}))}if(!g.keepErrors){let N=m.const("emErrs",s._`[]`);m.forOf("err",l.default.vErrors,T=>m.if(s._`!${T}.${a}`,()=>m.code(s._`${N}.push(${T})`))),m.assign(l.default.vErrors,N).assign(l.default.errors,s._`${N}.length`)}})}},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}};var t=dn,e=dn.exports;Object.defineProperty(e,"__esModule",{value:!0});let s=yo(),n=Z(),i=Lt(),c=Dt(),f=Rt(),l=Te(),o="errorMessage",a=new s.Name("emUsed"),h={required:"missingProperty",dependencies:"property",dependentRequired:"property"},d=/\$\{[^}]+\}/,p=/\$\{([^}]+)\}/g,u=/^""\s*\+\s*|\s*\+\s*""$/g;var r=(g,b={})=>{if(!g.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(g.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return g.addKeyword(y(b))};e.default=r,t.exports=r,t.exports.default=r}}return dn.exports}var vo,bo,wo,gt=jr((()=>{if(!vo){vo=1;var t=Kn.exports;{let e=function(A,R){var I,v=Object.keys(A);return Object.getOwnPropertySymbols&&(I=Object.getOwnPropertySymbols(A),R&&(I=I.filter(function(k){return Object.getOwnPropertyDescriptor(A,k).enumerable})),v.push.apply(v,I)),v},r=function(A,R){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,v){return I.__proto__=v,I})(A,R)},s=function(){s=function(P,N){return new I(P,void 0,N)};var A=RegExp.prototype,R=new WeakMap;function I(P,N,T){return N=RegExp(P,N),R.set(N,T||R.get(P)),r(N,I.prototype)}function v(P,N){var T=R.get(N);return Object.keys(T).reduce(function(_,w){var j=T[w];if(typeof j=="number")_[w]=P[j];else{for(var C=0;P[j[C]]===void 0&&C+1<j.length;)C++;_[w]=P[j[C]]}return _},Object.create(null))}var k=I,S=RegExp;if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");return k.prototype=Object.create(S&&S.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),S&&r(k,S),I.prototype.exec=function(P){var N;return(P=A.exec.call(this,P))&&(P.groups=v(P,this),N=P.indices)&&(N.groups=v(N,this)),P},I.prototype[Symbol.replace]=function(P,N){var T,_;return typeof N=="string"?(T=R.get(this),A[Symbol.replace].call(this,P,N.replace(/\$<([^>]+)(>|$)/g,function(w,j,C){return C===""?w:(C=T[j],Array.isArray(C)?"$"+C.join("$"):typeof C=="number"?"$"+C:"")}))):typeof N=="function"?(_=this,A[Symbol.replace].call(this,P,function(){var w=arguments;return typeof w[w.length-1]!="object"&&(w=[].slice.call(w)).push(v(w,_)),N.apply(this,w)})):A[Symbol.replace].call(this,P,N)},s.apply(this,arguments)},i=function(A,R){Object.keys(A[R]||[]).forEach(I=>{(I=A[R][I])&&I.external&&I.external.name&&(I.name=I.external.name,I.external=!0)})},V=function(A){let R=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,I=p(A);if(!I||typeof I=="string"||Object.prototype.hasOwnProperty.call(I,"services"))return A;let v=Object.keys(I),k=[],S=_=>k.push(_),P=(Object.keys(I).forEach(_=>{C=_,w=I[_],j=S,(w=w.links)&&j(`Service ${C} has links, which no longer create environment variables such as ${(j=w[0].split(":")[0]).toUpperCase()}_PORT. If you are using those in your application code, you should instead connect directly to the hostname, e.g. '${j}'.`),C=_,w=I[_],j=S,(w=w.external_links)&&j(`Service ${C} has external_links: ${w}, which now work slightly differently. In particular, two containers must be connected to at least one network in common to communicate, even if explicitly linked together.

Either connect the external container to your app's default network, or connect both the external container and your service's containers to a pre-existing network. See https://docs.docker.com/compose/networking/ for more on how to do this.`);var w,j=I[_],C=v;if(j.net){let J=j.net;J.startsWith("container:")&&(w=J.split(":")[1],C.includes(w))&&(J="service:"+w),j.network_mode=J,delete j.net}(C=I[_]).dockerfile&&(C.build={context:C.build,dockerfile:C.dockerfile},delete C.dockerfile),(w=I[_]).log_driver&&(w.logging={driver:w.log_driver},w.log_opt&&(w.logging.options=w.log_opt,delete w.log_opt),delete w.log_driver);var B=I[_],G=v;if(B.volumes_from)for(let J=0;J<B.volumes_from.length;J+=1){var Q=B.volumes_from[J];G.includes(Q.split(":")[0])||(B.volumes_from[J]="container:"+Q)}}),{});return Object.keys(I).forEach(_=>{P[_]=I[_],delete I[_]}),I.version="2.4",I.services=P,A=I,N=S,0<(T=(_=>{let w=[];return Object.values(_).forEach(j=>(j.volumes||[]).forEach(C=>w.push(C))),_=new Set(w.map(j=>(j=f(j),l(j)?j:void 0))),Array.from(_).filter(j=>j).map(j=>({[j]:{external:!0,name:j}}))})(A.services)).length&&(N(`Named volumes (${T.map(_=>JSON.stringify(_)).join(",")}) must be explicitly declared. Creating a 'volumes' section with declarations.

For backwards-compatibility, they've been declared as external. If you don't mind the volume names being prefixed with the project name, you can remove the 'external' option from each one.`),A.volumes=T),i(I,"networks"),i(I,"volumes"),k.map(_=>"# "+_.replace(/\n/g,`
#`)).join(`
`)+(0<k.length?`
`:"")+b(I,R);var N,T},n=(A,R,I)=>{let v=A,k=R.split("/"),S=k.length;for(let N=0;N<S-1;N+=1){var P=k[N];v[P]||(v[P]={}),v=v[P]}v[k[S-1]]=I},c=s(/^(([A-Za-z]:\/|[A-Za-z]:\\)?.*?):(([A-Za-z]:\/|[A-Za-z]:[\\])?.*?)(?::((rw|ro|z|Z)(,(rw|ro|z|Z))*))?$/,{volume:1,container_path:3,flags:5}),f=A=>(A=A.match(c))===null?"":A.groups.volume,l=A=>A&&!A.includes("/")&&!A.includes("\\")&&!A.includes("~")&&!A.includes(".")&&!A.includes("$"),o=A=>{var R=A.match(c);return R!==null&&(A={type:l(R.groups.volume)?"volume":"bind",source:R.groups.volume,target:R.groups.container_path},(R=(R.groups.flags||"").replace(/\s+/,"").split(",")).includes("ro")&&(A.volume={nocopy:!0}),R.includes("z")?A.bind={selinux:"z"}:R.includes("Z")&&(A.bind={selinux:"Z"})),A},a=ks;class h extends Error{constructor(R,I,v){super(R),this.lines=I,this.details=v,this.name="YamlSyntaxError"}}let d=A=>{A=a.parseDocument(A,{prettyErrors:!0});let R=[],I=[];if(A.errors.forEach((v,k)=>{var S=v.message.split(`:
`)[0];I.push({line:v.linePos[0].line,message:S,pos:v.linePos}),Array.from({length:v.linePos?v.linePos[1].line-v.linePos[0].line:1},(P,N)=>v.linePos[0].line+N).forEach(P=>R.push(P))}),0<I.length)throw new h(I.map(v=>v.message).join(`
`),R,I)},p=A=>(d(A),a.parse(A,{intAsBigInt:!0})),u=s(/^((\[?([a-fA-F\d.:]+)\]?:)?([\d]*(-[\d]+)?):)?([\d]+(-[\d]+)?)(\/((udp|tcp|sctp)))?$/,{ip_part:2,ip:3,host:4,container:6,proto_part:8,proto:9}),y=A=>{let R=A.match(u);if(R===null)return[A];if((A=R.groups.container)&&A.includes("-")){var I=A.split("-");let k=parseInt(I[0],10);var I=parseInt(I[1],10),v=((v=R.groups.host)||A).split("-");let S=parseInt(v[0],10),P=[];return Array.from({length:I-k+1},(N,T)=>T).forEach(N=>{P=[...P,...y(`${R.groups.ip_part||""}${S+N}:`+(k+N)+(R.groups.proto_part||""))]}),P}return v={target:parseInt(A,10)},R.groups.ip&&(v.host_ip=R.groups.ip),R.groups.host&&(v.published=R.groups.host),R.groups.proto&&(v.protocol=R.groups.proto),v.mode="ingress",[v]},g=ks,b=(A,R)=>(m(A,R),g.stringify(A,{indent:(R||{}).indent||4,simpleKeys:!0,nullStr:""}).trim()),m=(A,R)=>(R&&R.expandVolumes&&Object.values(A.services).forEach(I=>{if(I.volumes)for(let v=0;v<I.volumes.length;v+=1)typeof I.volumes[v]=="string"&&(I.volumes[v]=o(I.volumes[v]))}),R&&R.expandPorts&&Object.values(A.services).forEach(I=>{if(I.ports){let v=[];for(let k=0;k<I.ports.length;k+=1)v=typeof I.ports[k]=="string"?[...v,...y(I.ports[k])]:[...v,I.ports[k]];I.ports=v}}),A),$={$id:"compose_spec.json",type:"object",title:"Compose Specification",description:"The Compose file is a YAML file defining a multi-containers based application.",properties:{version:{type:"string",description:"declared for backward compatibility, ignored."},name:{type:"string",pattern:"^[a-z0-9][a-z0-9_-]*$",description:"define the Compose project name, until user defines one explicitly."},include:{type:"array",items:{type:"object",$ref:"#/definitions/include"},description:"compose sub-projects to be included."},services:{$id:"#/properties/services",type:"object",patternProperties:{"^[a-zA-Z0-9._-]+$":{$ref:"#/definitions/service"}},additionalProperties:!1},networks:{$id:"#/properties/networks",type:"object",patternProperties:{"^[a-zA-Z0-9._-]+$":{$ref:"#/definitions/network"}}},volumes:{$id:"#/properties/volumes",type:"object",patternProperties:{"^[a-zA-Z0-9._-]+$":{$ref:"#/definitions/volume"}},additionalProperties:!1},secrets:{$id:"#/properties/secrets",type:"object",patternProperties:{"^[a-zA-Z0-9._-]+$":{$ref:"#/definitions/secret"}},additionalProperties:!1},configs:{$id:"#/properties/configs",type:"object",patternProperties:{"^[a-zA-Z0-9._-]+$":{$ref:"#/definitions/config"}},additionalProperties:!1}},patternProperties:{"^x-":{}},additionalProperties:!1,definitions:{service:{$id:"#/definitions/service",type:"object",properties:{develop:{$ref:"#/definitions/development"},deploy:{$ref:"#/definitions/deployment"},annotations:{$ref:"#/definitions/list_or_dict"},attach:{type:"boolean"},build:{oneOf:[{type:"string"},{type:"object",properties:{context:{type:"string"},dockerfile:{type:"string"},dockerfile_inline:{type:"string"},args:{$ref:"#/definitions/list_or_dict"},ssh:{$ref:"#/definitions/list_or_dict"},labels:{$ref:"#/definitions/list_or_dict"},cache_from:{type:"array",items:{type:"string"}},cache_to:{type:"array",items:{type:"string"}},no_cache:{type:"boolean"},additional_contexts:{$ref:"#/definitions/list_or_dict"},network:{type:"string"},pull:{type:"boolean"},target:{type:"string"},shm_size:{type:["integer","string"]},extra_hosts:{$ref:"#/definitions/list_or_dict"},isolation:{type:"string"},privileged:{type:"boolean"},secrets:{$ref:"#/definitions/service_config_or_secret"},tags:{type:"array",items:{type:"string"}},ulimits:{$ref:"#/definitions/ulimits"},platforms:{type:"array",items:{type:"string"}}},additionalProperties:!1,patternProperties:{"^x-":{}}}]},blkio_config:{type:"object",properties:{device_read_bps:{type:"array",items:{$ref:"#/definitions/blkio_limit"}},device_read_iops:{type:"array",items:{$ref:"#/definitions/blkio_limit"}},device_write_bps:{type:"array",items:{$ref:"#/definitions/blkio_limit"}},device_write_iops:{type:"array",items:{$ref:"#/definitions/blkio_limit"}},weight:{type:"integer"},weight_device:{type:"array",items:{$ref:"#/definitions/blkio_weight"}}},additionalProperties:!1},cap_add:{type:"array",items:{type:"string"},uniqueItems:!0},cap_drop:{type:"array",items:{type:"string"},uniqueItems:!0},cgroup:{type:"string",enum:["host","private"]},cgroup_parent:{type:"string"},command:{$ref:"#/definitions/command"},configs:{$ref:"#/definitions/service_config_or_secret"},container_name:{type:"string"},cpu_count:{type:"integer",minimum:0},cpu_percent:{type:"integer",minimum:0,maximum:100},cpu_shares:{type:["number","string"]},cpu_quota:{type:["number","string"]},cpu_period:{type:["number","string"]},cpu_rt_period:{type:["number","string"]},cpu_rt_runtime:{type:["number","string"]},cpus:{type:["number","string"]},cpuset:{type:"string"},credential_spec:{type:"object",properties:{config:{type:"string"},file:{type:"string"},registry:{type:"string"}},additionalProperties:!1,patternProperties:{"^x-":{}}},depends_on:{oneOf:[{$ref:"#/definitions/list_of_strings"},{type:"object",additionalProperties:!1,patternProperties:{"^[a-zA-Z0-9._-]+$":{type:"object",additionalProperties:!1,properties:{restart:{type:"boolean"},required:{type:"boolean",default:!0},condition:{type:"string",enum:["service_started","service_healthy","service_completed_successfully"]}},required:["condition"]}}}]},device_cgroup_rules:{$ref:"#/definitions/list_of_strings"},devices:{type:"array",items:{type:"string"},uniqueItems:!0},dns:{$ref:"#/definitions/string_or_list"},dns_opt:{type:"array",items:{type:"string"},uniqueItems:!0},dns_search:{$ref:"#/definitions/string_or_list"},domainname:{type:"string"},entrypoint:{$ref:"#/definitions/command"},env_file:{$ref:"#/definitions/string_or_list"},environment:{$ref:"#/definitions/list_or_dict"},expose:{type:"array",items:{type:["string","number"],format:"expose"},uniqueItems:!0},extends:{oneOf:[{type:"string"},{type:"object",properties:{service:{type:"string"},file:{type:"string"}},required:["service"],additionalProperties:!1}]},external_links:{type:"array",items:{type:"string"},uniqueItems:!0},extra_hosts:{$ref:"#/definitions/list_or_dict"},group_add:{type:"array",items:{type:["string","number"]},uniqueItems:!0},healthcheck:{$ref:"#/definitions/healthcheck"},hostname:{type:"string"},image:{type:"string"},init:{type:"boolean"},ipc:{type:"string"},isolation:{type:"string"},labels:{$ref:"#/definitions/list_or_dict"},links:{type:"array",items:{type:"string"},uniqueItems:!0},logging:{type:"object",properties:{driver:{type:"string"},options:{type:"object",patternProperties:{"^.+$":{type:["string","number","null"]}}}},additionalProperties:!1,patternProperties:{"^x-":{}}},mac_address:{type:"string"},mem_limit:{type:["number","string"]},mem_reservation:{type:["string","integer"]},mem_swappiness:{type:"integer"},memswap_limit:{type:["number","string"]},network_mode:{type:"string"},networks:{oneOf:[{$ref:"#/definitions/list_of_strings"},{type:"object",patternProperties:{"^[a-zA-Z0-9._-]+$":{oneOf:[{type:"object",properties:{aliases:{$ref:"#/definitions/list_of_strings"},ipv4_address:{type:"string"},ipv6_address:{type:"string"},link_local_ips:{$ref:"#/definitions/list_of_strings"},mac_address:{type:"string"},priority:{type:"number"}},additionalProperties:!1,patternProperties:{"^x-":{}}},{type:"null"}]}},additionalProperties:!1}]},oom_kill_disable:{type:"boolean"},oom_score_adj:{type:"integer",minimum:-1e3,maximum:1e3},pid:{type:["string","null"]},pids_limit:{type:["number","string"]},platform:{type:"string"},ports:{type:"array",items:{oneOf:[{type:"number",format:"ports"},{type:"string",format:"ports"},{type:"object",properties:{mode:{type:"string"},host_ip:{type:"string"},target:{type:"integer"},published:{type:["string","integer"]},protocol:{type:"string"}},additionalProperties:!1,patternProperties:{"^x-":{}}}]},uniqueItems:!0},privileged:{type:"boolean"},profiles:{$ref:"#/definitions/list_of_strings"},pull_policy:{type:"string",enum:["always","never","if_not_present","build","missing"]},read_only:{type:"boolean"},restart:{type:"string"},runtime:{type:"string"},scale:{type:"integer"},security_opt:{type:"array",items:{type:"string"},uniqueItems:!0},shm_size:{type:["number","string"]},secrets:{$ref:"#/definitions/service_config_or_secret"},sysctls:{$ref:"#/definitions/list_or_dict"},stdin_open:{type:"boolean"},stop_grace_period:{type:"string",format:"duration"},stop_signal:{type:"string"},storage_opt:{type:"object"},tmpfs:{$ref:"#/definitions/string_or_list"},tty:{type:"boolean"},ulimits:{$ref:"#/definitions/ulimits"},user:{type:"string"},uts:{type:"string"},userns_mode:{type:"string"},volumes:{type:"array",items:{oneOf:[{type:"string",format:"volumes"},{type:"object",required:["type"],properties:{type:{type:"string"},source:{type:"string"},target:{type:"string"},read_only:{type:"boolean"},consistency:{type:"string"},bind:{type:"object",properties:{propagation:{type:"string"},create_host_path:{type:"boolean"},selinux:{type:"string",enum:["z","Z"]}},additionalProperties:!1,patternProperties:{"^x-":{}}},volume:{type:"object",properties:{nocopy:{type:"boolean"}},additionalProperties:!1,patternProperties:{"^x-":{}}},tmpfs:{type:"object",properties:{size:{oneOf:[{type:"integer",minimum:0},{type:"string"}]},mode:{type:"number"}},additionalProperties:!1,patternProperties:{"^x-":{}}}},additionalProperties:!1,patternProperties:{"^x-":{}}}]},uniqueItems:!0},volumes_from:{type:"array",items:{type:"string"},uniqueItems:!0},working_dir:{type:"string"}},patternProperties:{"^x-":{}},additionalProperties:!1},healthcheck:{$id:"#/definitions/healthcheck",type:"object",properties:{disable:{type:"boolean"},interval:{type:"string",format:"duration"},retries:{type:"number"},test:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},timeout:{type:"string",format:"duration"},start_period:{type:"string",format:"duration"},start_interval:{type:"string",format:"duration"}},additionalProperties:!1,patternProperties:{"^x-":{}}},development:{$id:"#/definitions/development",type:["object","null"],properties:{watch:{type:"array",items:{type:"object",properties:{ignore:{type:"array",items:{type:"string"}},path:{type:"string"},action:{type:"string",enum:["rebuild","sync","sync+restart"]},target:{type:"string"}}},required:["path","action"],additionalProperties:!1,patternProperties:{"^x-":{}}}}},deployment:{$id:"#/definitions/deployment",type:["object","null"],properties:{mode:{type:"string"},endpoint_mode:{type:"string"},replicas:{type:"integer"},labels:{$ref:"#/definitions/list_or_dict"},rollback_config:{type:"object",properties:{parallelism:{type:"integer"},delay:{type:"string",format:"duration"},failure_action:{type:"string"},monitor:{type:"string",format:"duration"},max_failure_ratio:{type:"number"},order:{type:"string",enum:["start-first","stop-first"]}},additionalProperties:!1,patternProperties:{"^x-":{}}},update_config:{type:"object",properties:{parallelism:{type:"integer"},delay:{type:"string",format:"duration"},failure_action:{type:"string"},monitor:{type:"string",format:"duration"},max_failure_ratio:{type:"number"},order:{type:"string",enum:["start-first","stop-first"]}},additionalProperties:!1,patternProperties:{"^x-":{}}},resources:{type:"object",properties:{limits:{type:"object",properties:{cpus:{type:["number","string"]},memory:{type:"string"},pids:{type:"integer"}},additionalProperties:!1,patternProperties:{"^x-":{}}},reservations:{type:"object",properties:{cpus:{type:["number","string"]},memory:{type:"string"},generic_resources:{$ref:"#/definitions/generic_resources"},devices:{$ref:"#/definitions/devices"}},additionalProperties:!1,patternProperties:{"^x-":{}}}},additionalProperties:!1,patternProperties:{"^x-":{}}},restart_policy:{type:"object",properties:{condition:{type:"string"},delay:{type:"string",format:"duration"},max_attempts:{type:"integer"},window:{type:"string",format:"duration"}},additionalProperties:!1,patternProperties:{"^x-":{}}},placement:{type:"object",properties:{constraints:{type:"array",items:{type:"string"}},preferences:{type:"array",items:{type:"object",properties:{spread:{type:"string"}},additionalProperties:!1,patternProperties:{"^x-":{}}}},max_replicas_per_node:{type:"integer"}},additionalProperties:!1,patternProperties:{"^x-":{}}}},additionalProperties:!1,patternProperties:{"^x-":{}}},generic_resources:{$id:"#/definitions/generic_resources",type:"array",items:{type:"object",properties:{discrete_resource_spec:{type:"object",properties:{kind:{type:"string"},value:{type:"number"}},additionalProperties:!1,patternProperties:{"^x-":{}}}},additionalProperties:!1,patternProperties:{"^x-":{}}}},devices:{$id:"#/definitions/devices",type:"array",items:{type:"object",properties:{capabilities:{$ref:"#/definitions/list_of_strings"},count:{type:["string","integer"]},device_ids:{$ref:"#/definitions/list_of_strings"},driver:{type:"string"},options:{$ref:"#/definitions/list_or_dict"}},additionalProperties:!1,patternProperties:{"^x-":{}}}},include:{$id:"#/definitions/include",oneOf:[{type:"string"},{type:"object",properties:{path:{$ref:"#/definitions/string_or_list"},env_file:{$ref:"#/definitions/string_or_list"},project_directory:{type:"string"}},additionalProperties:!1}]},network:{$id:"#/definitions/network",type:["object","null"],properties:{name:{type:"string"},driver:{type:"string"},driver_opts:{type:"object",patternProperties:{"^.+$":{type:["string","number"]}}},ipam:{type:"object",properties:{driver:{type:"string"},config:{type:"array",items:{type:"object",properties:{subnet:{type:"string",format:"subnet_ip_address"},ip_range:{type:"string"},gateway:{type:"string"},aux_addresses:{type:"object",additionalProperties:!1,patternProperties:{"^.+$":{type:"string"}}}},additionalProperties:!1,patternProperties:{"^x-":{}}}},options:{type:"object",additionalProperties:!1,patternProperties:{"^.+$":{type:"string"}}}},additionalProperties:!1,patternProperties:{"^x-":{}}},external:{type:["boolean","object"],properties:{name:{deprecated:!0,type:"string"}},additionalProperties:!1,patternProperties:{"^x-":{}}},internal:{type:"boolean"},enable_ipv6:{type:"boolean"},attachable:{type:"boolean"},labels:{$ref:"#/definitions/list_or_dict"}},additionalProperties:!1,patternProperties:{"^x-":{}}},volume:{$id:"#/definitions/volume",type:["object","null"],properties:{name:{type:"string"},driver:{type:"string"},driver_opts:{type:"object",patternProperties:{"^.+$":{type:["string","number"]}}},external:{type:["boolean","object"],properties:{name:{deprecated:!0,type:"string"}},additionalProperties:!1,patternProperties:{"^x-":{}}},labels:{$ref:"#/definitions/list_or_dict"}},additionalProperties:!1,patternProperties:{"^x-":{}}},secret:{$id:"#/definitions/secret",type:"object",properties:{name:{type:"string"},environment:{type:"string"},file:{type:"string"},external:{type:["boolean","object"],properties:{name:{type:"string"}}},labels:{$ref:"#/definitions/list_or_dict"},driver:{type:"string"},driver_opts:{type:"object",patternProperties:{"^.+$":{type:["string","number"]}}},template_driver:{type:"string"}},additionalProperties:!1,patternProperties:{"^x-":{}}},config:{$id:"#/definitions/config",type:"object",properties:{name:{type:"string"},content:{type:"string"},environment:{type:"string"},file:{type:"string"},external:{type:["boolean","object"],properties:{name:{deprecated:!0,type:"string"}}},labels:{$ref:"#/definitions/list_or_dict"},template_driver:{type:"string"}},additionalProperties:!1,patternProperties:{"^x-":{}}},command:{oneOf:[{type:"null"},{type:"string"},{type:"array",items:{type:"string"}}]},string_or_list:{oneOf:[{type:"string"},{$ref:"#/definitions/list_of_strings"}]},list_of_strings:{type:"array",items:{type:"string"},uniqueItems:!0},list_or_dict:{oneOf:[{type:"object",patternProperties:{".+":{type:["string","number","boolean","null"]}},additionalProperties:!1},{type:"array",items:{type:"string"},uniqueItems:!0}]},blkio_limit:{type:"object",properties:{path:{type:"string"},rate:{type:["integer","string"]}},additionalProperties:!1},blkio_weight:{type:"object",properties:{path:{type:"string"},weight:{type:"integer"}},additionalProperties:!1},service_config_or_secret:{type:"array",items:{oneOf:[{type:"string"},{type:"object",properties:{source:{type:"string"},target:{type:"string"},uid:{type:"string"},gid:{type:"string"},mode:{type:"number"}},additionalProperties:!1,patternProperties:{"^x-":{}}}]}},ulimits:{type:"object",patternProperties:{"^[a-z]+$":{oneOf:[{type:"integer"},{type:"object",properties:{hard:{type:"integer"},soft:{type:"integer"}},required:["soft","hard"],additionalProperties:!1,patternProperties:{"^x-":{}}}]}}},constraints:{service:{$id:"#/definitions/constraints/service",anyOf:[{required:["build"]},{required:["image"]}],properties:{build:{required:["context"]}}}}}},E=ks,O=yo(),x=El(),M={expose:/^\d+(-\d+)?(\/[a-zA-Z]+)?$/,ports:u,volumes:c,duration:/^(\d+(us|ms|s|m|h))+$/,byte:/^\d+(b|kb?|mb?|gb?)$/,subnet_ip_address:/^((\d{1,2}|1\d{2}|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d{2}|2[0-4]\d|25[0-5])\/(\d|[1-2]\d|3[0-2])$|^((([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4})|(([0-9a-fA-F]{1,4}:){1,7}:)|(([0-9a-fA-F]{1,4}:){1,6}(:[0-9a-fA-F]{1,4}){1,1})|(([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2})|(([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3})|(([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4})|(([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5})|(([0-9a-fA-F]{1,4}:){1,1}(:[0-9a-fA-F]{1,4}){1,6})|(:((:[0-9a-fA-F]{1,4}){1,7}|:))|(fe80:(:[0-9a-fA-F]{1,4}){0,4}%[0-9a-zA-Z]{1,})|(::(ffff(:0{1,4}){0,1}:){0,1}((\d{1,2}|1\d{2}|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d{2}|2[0-4]\d|25[0-5]))|(([0-9a-fA-F]{1,4}:){1,4}:((\d{1,2}|1\d{2}|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d{2}|2[0-4]\d|25[0-5])))\/(\d|[1-9]\d|1[0-1]\d|12[0-8])$/},q=A=>{if(Array.isArray(A))for(let R=0;R<A.length;R+=1)q(A[R]);else typeof A=="object"&&(A.type&&A.format&&(A.pattern=M[A.format].toString(),delete A.format),Object.keys(A).forEach(R=>{q(A[R])}));return A};t.getDockerComposeSchemaWithoutFormats=()=>q($),t.getVolumeNameFromVolumeSpec=f,t.isNamedVolume=l,t.migrateFromV1ToV2x=V,t.migrateFromV2xToV3x=function(A){let R=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,I=p(A);if(!I||typeof I=="string"||!I.version||I.version.startsWith("3"))return A;let v=[],k=S=>v.push(S);return Object.keys(I.services).forEach(S=>{let P=I.services[S];P.cpus&&n(P,"deploy/resources/limits/cpus",P.cpus),P.mem_limit&&n(P,"deploy/resources/limits/memory",P.mem_limit),P.pids_limit&&n(P,"deploy/resources/limits/pids",P.pids_limit),P.mem_reservation&&n(P,"deploy/resources/reservations/memory",P.mem_reservation),P.volume_driver&&(k(`Service ${S} has volume_driver:${P.volume_driver}: Instead of setting the volume driver on the service, define a volume using the top-level volumes option (https://docs.docker.com/compose/compose-file/compose-file-v3/#volume-configuration-reference) and specify the driver there.`),delete P.volume_driver),P.volumes_from&&(k(`Service ${S} has volumes_from:${P.volumes_from} To share a volume between services, define it using the top-level volumes option (https://docs.docker.com/compose/compose-file/compose-file-v3/#volume-configuration-reference) and reference it from each service that shares it using the service-level volumes option (https://docs.docker.com/compose/compose-file/compose-file-v3/#driver).`),delete P.volumes_from),["cpu_shares","cpu_quota","cpuset","memswap_limit"].forEach(N=>{Object.prototype.hasOwnProperty.call(P,N)&&k(`Service ${S} has ${N}:${P.k} These have been replaced by the resources key under deploy (https://docs.docker.com/compose/compose-file/compose-file-v3/#resources). deploy configuration only takes effect when using docker stack deploy, and is ignored by docker-compose.`),delete P[N]}),P.extends&&(k(`Service ${S} has extends:${P.extends} This option has been removed for version: "3.x" Compose files. For more information on extends, see https://docs.docker.com/compose/multiple-compose-files/extends/.`),delete P.extends),P.group_add&&(k(`Service ${S} has group_add:${P.group_add} This option has been removed for version: "3.x" Compose files.`),delete P.group_add),delete P.cpus,delete P.mem_limit,delete P.pids_limit,delete P.mem_reservation}),I.version="3",i(I,"networks"),i(I,"volumes"),v.map(S=>"# "+S.replace(/\n/g,`
#`)).join(`
`)+(0<v.length?`
`:"")+b(I,R)},t.migrateFromV3xToV2x=function(A){let R=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,I=p(A);return I&&typeof I!="string"&&I.version&&!I.version.startsWith("2")&&I.services?(Object.keys(I.services).forEach(v=>{var k;(v=I.services[v]).deploy&&v.deploy.resources&&((k=v.deploy.resources).limits&&(k.limits.cpus&&(v.cpus=k.limits.cpus),k.limits.memory&&(v.mem_limit=k.limits.memory),k.limits.pids)&&(v.pids_limit=k.limits.pids),k.reservations)&&k.reservations.memory&&(v.mem_reservation=k.reservations.memory),v.deploy&&v.deploy.restart_policy&&v.deploy.restart_policy.condition&&!v.restart&&(v.restart=v.deploy.restart_policy.condition),delete v.deploy}),I.version="2.4",i(I,"networks"),i(I,"volumes"),b(I,R)):A},t.migrateToCommonSpec=function(A){var R,I=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,v=V(A,I);let k=p(v);return k&&typeof k!="string"?(v=v.match(/^\s*#[^\r\n]*/gm)||[],Object.keys(k.services||[]).forEach(S=>{(S=k.services[S]).cpus&&n(S,"deploy/resources/limits/cpus",S.cpus),S.mem_limit&&n(S,"deploy/resources/limits/memory",S.mem_limit),S.pids_limit&&n(S,"deploy/resources/limits/pids",S.pids_limit),S.mem_reservation&&n(S,"deploy/resources/reservations/memory",S.mem_reservation),delete S.cpus,delete S.mem_limit,delete S.pids_limit,delete S.mem_reservation}),delete(R=function(S){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?e(Object(N),!0).forEach(function(T){var _,w,j;_=S,w=N[T=T],(T=typeof(j=(C=>{if(typeof C!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B===void 0)return String(C);if(typeof(B=B.call(C,"string"))!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")})(T))=="symbol"?j:j+"")in _?Object.defineProperty(_,T,{value:w,enumerable:!0,configurable:!0,writable:!0}):_[T]=w}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(N)):e(Object(N)).forEach(function(T){Object.defineProperty(S,T,Object.getOwnPropertyDescriptor(N,T))})}return S}({name:"<your project name>"},k)).version,i(R,"networks"),i(R,"volumes"),v.map(S=>"# "+S.replace(/^\s*#\s+/g,"")).join(`
`)+(0<v.length?`
`:"")+b(R,I)):A},t.validateDockerComposeToCommonSpec=A=>{let R=p(A),I=new O({allErrors:!0,strict:!1});x(I),Object.keys(M).forEach(S=>I.addFormat(S,M[S]));var v=I.compile($);if(v(R))return[];let k=E.parseDocument(A,{prettyErrors:!0});return v.errors.map(S=>{let P=S.instancePath;S.keyword==="additionalProperties"&&(P+="/"+S.params.additionalProperty);var N=P.split("/").slice(1),T=k.getIn(N,!0),T=(T=T===null?k.getIn(N.slice(0,-1),!0):T)?T.range[0]+1:0,_="https://docs.docker.com/compose/compose-file/";return{line:T=(A.substring(0,T).match(/\n/g)||[]).length+1,message:S.keyword==="additionalProperties"?`Line ${T}(${P}): '${S.params.additionalProperty}' is unknown for '${P}'`:S.keyword==="format"?`Line ${T}(${P}): must have a valid syntax for '${S.params.format}'`:S.keyword==="oneOf"?`Line ${T}(${P}): must be either a Short Syntax (string(s)) or a Long Syntax (object(s))`:`Line ${T}(${P}): ${S.message} (${S.keyword}: ${JSON.stringify(S.params)})`,helpLink:S=((S=N[0])==="services"?_+"05-services/":S==="networks"?_+"06-networks/":S==="volumes"?_+"07-volumes/":S==="configs"?_+"08-configs/":S==="secrets"?_+"09-secrets/":_)+(N[2]?"#"+N[2]:"")}})},t.yamlCheck=d,t.yamlParse=p,t.yamlStringify=b}}return Kn.exports})());wo||(wo=1,bo=function(t,e,r,s,n,i,c,f){var l,o,a;if(!t)throw e===void 0?a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."):(l=[r,s,n,i,c,f],o=0,(a=new Error(e.replace(/%s/g,function(){return l[o++]}))).name="Invariant Violation"),a.framesToPop=1,a});var _o=jr(bo),U=(t,e)=>({type:t,path:e});let ne={"add-host":U("Array","extra_hosts"),"blkio-weight":U("IntValue","blkio_config/weight"),"blkio-weight-device":U("DeviceBlockIOConfigWeight","blkio_config/weight_device"),"cap-add":U("Array","cap_add"),"cap-drop":U("Array","cap_drop"),"cgroup-parent":U("Value","cgroup_parent"),cgroupns:U("Value","cgroup"),"cpu-period":U("Value","cpu_period"),"cpu-quota":U("Value","cpu_quota"),"cpu-rt-period":U("Value","cpu_rt_period"),"cpu-rt-runtime":U("Value","cpu_rt_runtime"),"cpu-shares":U("IntValue","cpu_shares"),cpus:U("FloatValue","deploy/resources/limits/cpus"),detached:U("Switch",""),"device-cgroup-rule":U("Array","device_cgroup_rules"),"device-read-bps":U("DeviceBlockIOConfigRate","blkio_config/device_read_bps"),"device-read-iops":U("DeviceBlockIOConfigRate","blkio_config/device_read_iops"),"device-write-bps":U("DeviceBlockIOConfigRate","blkio_config/device_write_bps"),"device-write-iops":U("DeviceBlockIOConfigRate","blkio_config/device_write_iops"),device:U("Array","devices"),"dns-opt":U("Array","dns_opt"),"dns-search":U("Array","dns_search"),dns:U("Array","dns"),domainname:U("Value","domainname"),entrypoint:U("Array","entrypoint"),"env-file":U("Array","env_file"),env:U("Envs","environment"),expose:U("Array","expose"),gpus:U("Gpus","deploy"),"group-add":U("Array","group_add"),"health-cmd":U("Value","healthcheck/test"),"health-interval":U("Value","healthcheck/interval"),"health-retries":U("Value","healthcheck/retries"),"health-start-period":U("Value","healthcheck/start_period"),"health-timeout":U("Value","healthcheck/timeout"),hostname:U("Value","hostname"),init:U("Switch","init"),interactive:U("Switch","stdin_open"),ip6:U("Value","networks/network/ipv6_address"),ip:U("Value","networks/network/ipv4_address"),ipc:U("Value","ipc"),isolation:U("Value","isolation"),label:U("Array","labels"),"link-local-ip":U("Array","networks/network/link_local_ips"),link:U("Array","links"),"log-driver":U("Value","logging/driver"),"log-opt":U("Map","logging/options"),"mac-address":U("Value","mac_address"),"memory-reservation":U("Value","deploy/resources/reservations/memory"),"memory-swap":U("Value","memswap_limit"),"memory-swappiness":U("Value","mem_swappiness"),memory:U("Value","deploy/resources/limits/memory"),mount:U("MapArray","volumes"),name:U("Value","container_name"),net:U("Networks","network_mode"),"network-alias":U("Array","networks/network/aliases"),network:U("Networks","network_mode"),"no-healthcheck":U("Switch","healthcheck/disable"),"oom-kill-disable":U("Switch","oom_kill_disable"),"oom-score-adj":U("Value","oom_score_adj"),pid:U("Value","pid"),"pids-limit":U("IntValue","deploy/resources/limits/pids"),platform:U("Value","platform"),privileged:U("Switch","privileged"),publish:U("Array","ports"),pull:U("Value","pull_policy"),"read-only":U("Switch","read_only"),restart:U("Value","restart"),rm:U("Switch",""),runtime:U("Value","runtime"),"security-opt":U("Array","security_opt"),"shm-size":U("Value","shm_size"),"stop-signal":U("Value","stop_signal"),"stop-timeout":U("Value","stop_grace_period"),"storage-opt":U("Map","storage_opt"),sysctl:U("Array","sysctls"),tmpfs:U("Value","tmpfs"),tty:U("Switch","tty"),ulimit:U("Ulimits","ulimits"),user:U("Value","user"),userns:U("Value","userns_mode"),uts:U("Value","uts"),volume:U("Array","volumes"),"volumes-from":U("Array","volume_from"),workdir:U("Value","working_dir")},fn=(ne.v=ne.volume,ne.p=ne.publish,ne.e=ne.env,ne.l=ne.label,ne.h=ne.hostname,ne.u=ne.user,ne.w=ne.workdir,ne.c=ne["cpu-shares"],ne.l=ne.label,ne.t=ne.tty,ne.i=ne.interactive,ne.m=ne.memory,ne.d=ne.detached,t=>[...t].reduce((e,s)=>{var[s,n]=s;return gn(gn({},e),{},{[s]:n})},{})),$o=(t,e,r)=>(t=t.split(e),fn(t.map(n=>{var[n,i]=n.split(r,2);return[n,/^-?\d+$/.test(String(i))?parseInt(i,10):i]}))),hn=t=>typeof t!="string"||t[0]!=="'"&&t[0]!=='"'||t[t.length-1]!==t[0]?t:t.substring(1,t.length-1),Sl=(t,e)=>{var r;return t.type==="Array"?{path:t.path,value:Array.isArray(e)?e:[String(e)]}:t.type==="Networks"?(r=String(e)).match(/^(host|bridge|none)$|^container:.+/)?{path:"network_mode",value:r}:{path:"networks",value:{[r]:{}}}:t.type==="Switch"?{path:t.path,value:e==="true"||e===!0}:t.type==="Gpus"?{path:"deploy",value:{resources:{reservations:{devices:[{driver:"nvidia",count:e==="all"?"all":parseInt(e,10),capabilities:["gpu"]}]}}}}:t.type==="Envs"?(Array.isArray(e)?e:[e]).map(n=>{var[n,...i]=String(n).split("=");return{path:t.path,value:[i.length?n+"="+hn(i.join("=")):n]}}):t.type==="MapArray"?(Array.isArray(e)?e:[e]).map(s=>({path:t.path,value:[$o(String(s),",","=")]})):t.type==="Map"?(r=Array.isArray(e)?e.join(","):e,{path:t.path,value:$o(String(r),",","=")}):t.type==="DeviceBlockIOConfigWeight"?(Array.isArray(e)?e:[e]).map(n=>{var[n,i]=String(n).split(":");return{path:t.path,value:[{path:n,weight:parseInt(i,10)}]}}):t.type==="DeviceBlockIOConfigRate"?(Array.isArray(e)?e:[e]).map(n=>{var[n,i]=String(n).split(":");return{path:t.path,value:[{path:n,rate:/^-?\d+$/.test(String(i))?parseInt(i,10):i}]}}):t.type==="Ulimits"?(Array.isArray(e)?e:[e]).map(c=>{var n,i,[c,f]=String(c).split("=");return _o(c&&f,t.type+" must be in the format of: <type>=<soft limit>[:<hard limit>]"),f.includes(":")?([n,i]=f.split(":"),_o(n&&i,t.type+" must be in the format of: <type>=<soft limit>[:<hard limit>]"),{path:t.path+"/"+c,value:{soft:parseInt(n,10),hard:parseInt(i,10)}}):{path:t.path+"/"+c,value:parseInt(f,10)}}):t.type==="IntValue"?{path:t.path,value:parseInt(e,10)}:t.type==="FloatValue"?{path:t.path,value:parseFloat(e)}:{path:t.path,value:String(e)}},Ol=(t,e)=>(t=ne[t],t?t.path===""?{}:t.type==="Switch"||e?Sl(t,e):null:null),Pl=(t,e)=>t.path?t.path.replace("network",e.toString()).split("/").reduceRight((r,s)=>({[s]:r}),t.value):{},jl=["_"],Nl=t=>{if(t===null||t===""||t===void 0)return"!!!invalid!!!";let e=t.includes("/")?t.split("/").slice(-1)[0]:t;return e=e.includes(":")?e.split(":")[0]:e},xl=(s,e)=>{var s=s.replace(/\n\s*#[^\n]+/g,"").replace(/\$\([^)]*\)/g,b=>b.replace(/\s/g,"")).replace(/\\\n/g,"").replace(/(\s)+/g," ").trim().replace(/\s-p(\d)/g," -p $1").replace(/\s\\\s/g," ").replace(/\s*;$/g,"").replace(/^(?:\s*\$\s+)?(?:docker|podman)\s+(run|create|container\s+run|service\s+create)/,""),s=Co(s,{configuration:{"halt-at-non-option":!0,"camel-case-expansion":!1,"boolean-negation":!1},boolean:["i","interactive","t","tty","d","detach","rm","init","help","privileged","P","publish-all","no-healthcheck","oom-kill-disable","read-only","sig-proxy"]}),r=s._,s=Oo(s,jl);let n=b=>hn(String(b).trim()).replace(/\$\([^)]*\)/g,m=>m.replace(//g," "));s=Object.fromEntries(Object.entries(s).map(m=>{var[m,$]=m;return Array.isArray($)?[m.trim(),$.map(E=>typeof E=="string"?n(E):E)]:[m.trim(),typeof $=="string"?n($):$]}));let i={};var{net:c,network:f}=s;let l=c||f||"default",o=[];if(Object.entries(s).forEach(m=>{var[m,$]=m,E=Ol(m,$);E?(Array.isArray(E)?E:[E]).forEach(O=>{O=Pl(O,l),i=St(i,O)}):(E=m.length===1?"-":"--",$=$===!0?"":"="+$.toString(),o.push("# "+E+m+$))}),f=hn((c=r[0])==null?void 0:c.trim()),i.image=f,1<r.length){let b=1;for(var a=[];b<r.length;)a.push(r[b]),b+=1;i.command=a.join(" ")}i.network_mode==="host"&&delete i.ports;var h,d=[];if(i.volumes)for(let b=0;b<i.volumes.length;b+=1){let m;m=typeof i.volumes[b]=="string"?i.volumes[b].split(":")[0]:i.volumes[b].source,!(h=m)||h.includes("/")||h.includes("\\")||h.includes("$")||h.includes("<")||h.includes(">")||d.push([m,{external:{name:m}}])}i.networks&&(Object.keys(i.networks).forEach(b=>{var m;(m=i.networks[b])&&Object.keys(m).length===0&&m.constructor===Object&&(i.networks[b]=null)}),Object.values(i.networks).every(b=>!b)&&(i.networks=Object.keys(i.networks)));let p=[];if(i.networks)if(Array.isArray(i.networks))for(let b=0;b<i.networks.length;b+=1)p.push([i.networks[b],{external:!0,name:i.networks[b]}]);else Object.keys(i.networks).forEach(b=>{p.push([b,{external:!0,name:b}])});let u=Nl(f),y;s={version:"3",services:{[u]:i}},f=(c=gt.yamlParse(e??""))!=null?c:{},y=St(f,s);let g="";return 0<o.length&&(g=`# ignored options for '${u}'
${o.join(`
`)}
`),0<p.length&&(e={networks:fn(p)},y=St(y,e),p.forEach(m=>{var[m]=m;g+=`# named network '${m}' is marked as "external" (used by service '${u}'), so either remove "external" from network definition or it needs to be created using: docker network create -d bridge ${m}
`})),0<d.length&&(c={volumes:fn(d)},y=St(y,c),d.forEach(m=>{var[m]=m;g+=`# named volume '${m}' is marked as "external" (used by service '${u}'), so either remove "external" from volume definition or it needs to be created using: docker volume create ${m}
`})),{composeFile:y,composeCreationComments:g}};return function(t){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"",r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"latest",s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:4;let n=[],i={};t=t.split(/^(?:\s*\$)?\s*(?:docker|podman)\s+/gm);let c=e;if(e&&(r==="v2x"?c=gt.migrateFromV3xToV2x(c,{indent:s}):r==="latest"&&(c=gt.migrateToCommonSpec(c,{indent:s}))),t.forEach(h=>{var o,a,h=String(h);h&&(h.match(/^\s*(run|create|container\s+run|service\s+create)/)?({composeFile:o,composeCreationComments:a}=xl("docker "+h,c),a&&n.push(a),i=St(i,o)):n.push(`# ignored : docker/podman ${h}
`))}),!i.services)throw new SyntaxError("must have at least a valid docker/podman run/create/service create/container run command");let f=gt.yamlStringify(i,{indent:s}).trim();if(r==="v2x")f=gt.migrateFromV3xToV2x(f,{indent:s});else if(r==="latest")f=gt.migrateToCommonSpec(f,{indent:s});else if(r!=="v3x")throw new Error(`Unknown ComposeVersion '${r}'`);return n.join(`
`)+f}})})(Eo);var Tl=Eo.exports;const Rl=Il(Tl);export{Rl as c};
