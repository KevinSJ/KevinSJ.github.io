import{Q as b}from"./index-0c1fde36.js";var u;(function(){var l,F,a,c,w,g,f,s;s=function(r){var t,n,i,e;return t=(r&255<<24)>>>24,n=(r&255<<16)>>>16,i=(r&65280)>>>8,e=r&255,[t,n,i,e].join(".")},f=function(r){var t,n,i,e,o,h;for(t=[],i=e=0;e<=3&&r.length!==0;i=++e){if(i>0){if(r[0]!==".")throw new Error("Invalid IP");r=r.substring(1)}h=F(r),o=h[0],n=h[1],r=r.substring(n),t.push(o)}if(r.length!==0)throw new Error("Invalid IP");switch(t.length){case 1:if(t[0]>4294967295)throw new Error("Invalid IP");return t[0]>>>0;case 2:if(t[0]>255||t[1]>16777215)throw new Error("Invalid IP");return(t[0]<<24|t[1])>>>0;case 3:if(t[0]>255||t[1]>255||t[2]>65535)throw new Error("Invalid IP");return(t[0]<<24|t[1]<<16|t[2])>>>0;case 4:if(t[0]>255||t[1]>255||t[2]>255||t[3]>255)throw new Error("Invalid IP");return(t[0]<<24|t[1]<<16|t[2]<<8|t[3])>>>0;default:throw new Error("Invalid IP")}},a=function(r){return r.charCodeAt(0)},c=a("0"),g=a("a"),w=a("A"),F=function(r){var t,n,i,e,o;for(e=0,t=10,n="9",i=0,r.length>1&&r[i]==="0"&&(r[i+1]==="x"||r[i+1]==="X"?(i+=2,t=16):"0"<=r[i+1]&&r[i+1]<="9"&&(i++,t=8,n="7")),o=i;i<r.length;){if("0"<=r[i]&&r[i]<=n)e=e*t+(a(r[i])-c)>>>0;else if(t===16)if("a"<=r[i]&&r[i]<="f")e=e*t+(10+a(r[i])-g)>>>0;else if("A"<=r[i]&&r[i]<="F")e=e*t+(10+a(r[i])-w)>>>0;else break;else break;if(e>4294967295)throw new Error("too large");i++}if(i===o)throw new Error("empty octet");return[e,i]},l=function(){function r(t,n){var i,e,o;if(typeof t!="string")throw new Error("Missing `net' parameter");if(n||(o=t.split("/",2),t=o[0],n=o[1]),n||(n=32),typeof n=="string"&&n.indexOf(".")>-1){try{this.maskLong=f(n)}catch{throw new Error("Invalid mask: "+n)}for(i=e=32;e>=0;i=--e)if(this.maskLong===4294967295<<32-i>>>0){this.bitmask=i;break}}else if(n||n===0)this.bitmask=parseInt(n,10),this.maskLong=0,this.bitmask>0&&(this.maskLong=4294967295<<32-this.bitmask>>>0);else throw new Error("Invalid mask: empty");try{this.netLong=(f(t)&this.maskLong)>>>0}catch{throw new Error("Invalid net address: "+t)}if(!(this.bitmask<=32))throw new Error("Invalid mask for ip4: "+n);this.size=Math.pow(2,32-this.bitmask),this.base=s(this.netLong),this.mask=s(this.maskLong),this.hostmask=s(~this.maskLong),this.first=this.bitmask<=30?s(this.netLong+1):this.base,this.last=this.bitmask<=30?s(this.netLong+this.size-2):s(this.netLong+this.size-1),this.broadcast=this.bitmask<=30?s(this.netLong+this.size-1):void 0}return r.prototype.contains=function(t){return typeof t=="string"&&(t.indexOf("/")>0||t.split(".").length!==4)&&(t=new r(t)),t instanceof r?this.contains(t.base)&&this.contains(t.broadcast||t.last):(f(t)&this.maskLong)>>>0===(this.netLong&this.maskLong)>>>0},r.prototype.next=function(t){return t==null&&(t=1),new r(s(this.netLong+this.size*t),this.mask)},r.prototype.forEach=function(t){var n,i,e;for(e=f(this.first),i=f(this.last),n=0;e<=i;)t(s(e),e,n),n++,e++},r.prototype.toString=function(){return this.base+"/"+this.bitmask},r}(),u=l}).call(b);export{u as N};
