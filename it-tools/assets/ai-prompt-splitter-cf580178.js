import{_ as v}from"./TextareaCopyable-59231e95.js";import{d as T,a0 as x,am as w,i as R,R as E,o as d,c as f,k as p,w as h,l as n,m as $,a7 as A,a8 as S,x as P,ak as L,af as k}from"./index-0c1fde36.js";import{_ as N}from"./FormItem-1b9a5952.js";import"./base64-ae7cf34b.js";import"./index-a6f01dde.js";import"./downloadBase64-508288e2.js";import"./index-6fddb70d.js";import"./index-cfd4d427.js";import"./Copy-ef9ec73c.js";import"./Scrollbar-54724e22.js";import"./context-00991937.js";function I({prompt:s,splitLength:o,newLine:l=!1}){if(typeof o!="number")throw new TypeError("splitLength parameter must be of type number.");if(typeof s!="string")throw new TypeError("prompt parameter must be of type string.");if(typeof l!="boolean")throw new TypeError("newLine parameter must be of type boolean.");if(s.length===0)throw new Error("prompt paramter cannot be empty.");if(o<=0)throw new Error("splitLength parameter must be greater than 0 characters.");s=s.trim();const e=Math.ceil(s.length/o),t=l?`
`:" ",c=`The total length of text I want to send you is too large to send in a single message.${t}I will now send you the text, and will follow this rule:${t}${t}[START PART 1/${e}]${t}This content will be part 1 out of ${e}.${t}[END PART 1/${e}]${t}${t}Then you will answer: "Received part 1/${e}"${t}Note: When I tell you "ALL PARTS SENT", then you can process all messages and answer my requests.${t}`,a=[];a.push(c);for(let r=1,i=0;r<=e;r++,i+=o){const _=s.slice(i,i+o).trim();let m=`[START PART ${r}/${e}]${t}${_}${t}[END PART ${r}/${e}]${t}`;r==e?m+="ALL PARTS SENT. You may now continue processing requests":m+=`Reply with "Received part ${r}/${e}". Remember, do not reply anything else yet and wait for next part.${t}`,a.push(m.trim())}return a}const Z=T({__name:"ai-prompt-splitter",setup(s){const{t:o}=x(),l=w({tool:"ai-prompt-split",name:"prompt",defaultValue:""}),e=w({tool:"ai-prompt-split",name:"split",defaultValue:1024}),t=R(()=>{try{return I({prompt:l.value,splitLength:e.value,newLine:!0})}catch(a){return[a.toString()]}}),c=E({source:l,rules:[{validator:a=>a!=="",message:o("tools.ai-prompt-splitter.texts.message-prompt-must-not-be-empty")}]});return(a,r)=>{const i=P,_=L,m=N,y=k,b=v;return d(),f("div",null,[p(y,{title:n(o)("tools.ai-prompt-splitter.texts.title-prompt-and-options"),"mb-2":""},{default:h(()=>[p(i,{value:n(l),"onUpdate:value":r[0]||(r[0]=u=>$(l)?l.value=u:null),label:n(o)("tools.ai-prompt-splitter.texts.label-full-prompt"),multiline:"",placeholder:n(o)("tools.ai-prompt-splitter.texts.placeholder-put-your-full-prompt-here"),rows:"10",validation:n(c),"mb-2":""},null,8,["value","label","placeholder","validation"]),p(m,{label:n(o)("tools.ai-prompt-splitter.texts.label-character-length-for-each-chunk")},{default:h(()=>[p(_,{value:n(e),"onUpdate:value":r[1]||(r[1]=u=>$(e)?e.value=u:null),min:1},null,8,["value"])]),_:1},8,["label"])]),_:1},8,["title"]),p(y,{title:n(o)("tools.ai-prompt-splitter.texts.title-divided-prompts")},{default:h(()=>[(d(!0),f(A,null,S(n(t),(u,g)=>(d(),f("div",{key:g},[p(b,{value:u},null,8,["value"])]))),128))]),_:1},8,["title"])])}}});export{Z as default};
