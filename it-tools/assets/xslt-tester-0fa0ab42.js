import{_ as Ft}from"./TextareaCopyable-59231e95.js";import{Q as m,p as vt,d as jt,a0 as Gt,r as Je,E as $t,R as _t,o as Ht,c as Qt,k as ue,w as et,l as j,m as tt,a6 as Wt,G as Yt,x as zt,af as qt}from"./index-0c1fde36.js";import{h as Dt}from"./he-edac7575.js";import{f as Zt}from"./xml-formatter.service-da8e8a7b.js";import{_ as Jt}from"./Checkbox-ba7202eb.js";import"./base64-ae7cf34b.js";import"./index-a6f01dde.js";import"./downloadBase64-508288e2.js";import"./index-6fddb70d.js";import"./index-cfd4d427.js";import"./Copy-ef9ec73c.js";import"./Scrollbar-54724e22.js";import"./defaults-4d6daddf.js";var _e={},De={},Ce={},g={};Object.defineProperty(g,"__esModule",{value:!0});g.DOM_NOTATION_NODE=g.DOM_DOCUMENT_FRAGMENT_NODE=g.DOM_DOCUMENT_TYPE_NODE=g.DOM_DOCUMENT_NODE=g.DOM_COMMENT_NODE=g.DOM_PROCESSING_INSTRUCTION_NODE=g.DOM_ENTITY_NODE=g.DOM_ENTITY_REFERENCE_NODE=g.DOM_CDATA_SECTION_NODE=g.DOM_TEXT_NODE=g.DOM_ATTRIBUTE_NODE=g.DOM_ELEMENT_NODE=void 0;g.DOM_ELEMENT_NODE=1;g.DOM_ATTRIBUTE_NODE=2;g.DOM_TEXT_NODE=3;g.DOM_CDATA_SECTION_NODE=4;g.DOM_ENTITY_REFERENCE_NODE=5;g.DOM_ENTITY_NODE=6;g.DOM_PROCESSING_INSTRUCTION_NODE=7;g.DOM_COMMENT_NODE=8;g.DOM_DOCUMENT_NODE=9;g.DOM_DOCUMENT_TYPE_NODE=10;g.DOM_DOCUMENT_FRAGMENT_NODE=11;g.DOM_NOTATION_NODE=12;var K={};Object.defineProperty(K,"__esModule",{value:!0});K.BooleanValue=void 0;var er=function(){function r(e){this.value=e,this.type="boolean"}return r.prototype.stringValue=function(){return"".concat(this.value)},r.prototype.booleanValue=function(){return this.value},r.prototype.numberValue=function(){return this.value?1:0},r.prototype.nodeSetValue=function(){throw this},r}();K.BooleanValue=er;var Z={},te={},I={};Object.defineProperty(I,"__esModule",{value:!0});I.domGetAttributeValue=tr;I.domSetAttribute=rr;I.domSetTransformedAttribute=nr;I.domAppendChild=ar;I.domAppendTransformedChild=ir;I.domCreateTextNode=or;I.domCreateTransformedTextNode=ur;I.domCreateElement=sr;I.domCreateCDATASection=lr;I.domCreateComment=cr;I.domCreateDocumentFragment=hr;I.domCreateDTDSection=fr;function tr(r,e){return r.getAttributeValue(e)}function rr(r,e,t){return r.setAttribute(e,t)}function nr(r,e,t){return r.setTransformedAttribute(e,t)}function ar(r,e){return r.appendChild(e)}function ir(r,e){return r.appendTransformedChild(e)}function or(r,e){return r.createTextNode(e)}function ur(r,e){return r.createTransformedTextNode(e)}function sr(r,e){return r.createElement(e)}function lr(r,e){return r.createCDATASection(e)}function cr(r,e){return r.createComment(e)}function hr(r){return r.createDocumentFragment()}function fr(r,e){return r.createDTDSection(e)}var Ee={},ce={};Object.defineProperty(ce,"__esModule",{value:!0});ce.XNode=void 0;var B=g,dr=function(){function r(e,t,n,a,i){this.id=Math.random()*(Number.MAX_SAFE_INTEGER-1)+1,this.childNodes=[],this.transformedChildNodes=[],this.visited=!1,this.escape=!0,this.siblingPosition=-1,this.init(e,t,n,a,i)}return r.prototype.init=function(e,t,n,a,i){var o;this.nodeType=e-0,this.nodeName="".concat(t),this.nodeValue="".concat(n),this.ownerDocument=a,this.namespaceUri=i||null,o=this.qualifiedNameToParts("".concat(t)),this.prefix=o[0],this.localName=o[1],this.firstChild=null,this.lastChild=null,this.nextSibling=null,this.previousSibling=null,this.parentNode=null},r.prototype.qualifiedNameToParts=function(e){return e.includes(":")?e.split(":"):[null,e]},r.prototype.domTraverseElements=function(e,t,n){var a;if(t&&(a=t.call(null,e),typeof a=="boolean"&&!a))return!1;for(var i=e.firstChild;i;i=i.nextSibling)if(i.nodeType==B.DOM_ELEMENT_NODE&&(a=this.domTraverseElements.call(this,i,t,n),typeof a=="boolean"&&!a))return!1;if(n&&(a=n.call(null,e),typeof a=="boolean"&&!a))return!1},r.recycle=function(e){if(e){if(e.constructor.name==="XDocument"){this.recycle(e.documentElement);return}if(e.constructor==this){this._unusedXNodes.push(e);for(var t=0;t<e.childNodes.length;++t)this.recycle(e.childNodes[t]);e.childNodes.length=0,e.init.call(0,"","",null)}}},r.create=function(e,t,n,a,i){if(this._unusedXNodes.length>0){var o=this._unusedXNodes.pop();return o.init(e,t,n,a,i),o}return new r(e,t,n,a,i)},r.clone=function(e,t){var n=new r(e.nodeType,e.nodeName,e.nodeValue,t,e.namespaceUri);n.id=e.id;for(var a=0,i=e.childNodes;a<i.length;a++){var o=i[a];n.appendChild(r.clone(o,n))}return n},r.prototype.appendChild=function(e){this.childNodes.length===0&&(this.firstChild=e),e.previousSibling=this.lastChild,e.nextSibling=null,this.lastChild&&(this.lastChild.nextSibling=e),e.parentNode=this,this.lastChild=e,this.childNodes.push(e)},r.prototype.appendTransformedChild=function(e){this.transformedChildNodes.length===0&&(this.transformedFirstChild=e),e.transformedPreviousSibling=this.lastChild,e.transformedNextSibling=null,this.transformedLastChild&&(this.transformedLastChild.transformedNextSibling=e),e.transformedParentNode=this,this.transformedLastChild=e,this.transformedChildNodes.push(e)},r.prototype.replaceChild=function(e,t){if(t!=e){for(var n=0;n<this.childNodes.length;++n)if(this.childNodes[n]==t){this.childNodes[n]=e;var a=t.parentNode;t.parentNode=null,e.parentNode=a,a=t.previousSibling,t.previousSibling=null,e.previousSibling=a,e.previousSibling&&(e.previousSibling.nextSibling=e),a=t.nextSibling,t.nextSibling=null,e.nextSibling=a,e.nextSibling&&(e.nextSibling.previousSibling=e),this.firstChild==t&&(this.firstChild=e),this.lastChild==t&&(this.lastChild=e);break}}},r.prototype.insertBefore=function(e,t){if(t!=e&&t.parentNode==this){e.parentNode&&e.parentNode.removeChild(e);for(var n=[],a=0,i=this.childNodes;a<i.length;a++){var o=i[a];o==t&&(n.push(e),e.parentNode=this,e.previousSibling=t.previousSibling,t.previousSibling=e,e.previousSibling&&(e.previousSibling.nextSibling=e),e.nextSibling=t,this.firstChild==t&&(this.firstChild=e)),n.push(o)}this.childNodes=n}},r.prototype.removeChild=function(e){for(var t=[],n=0,a=this.childNodes;n<a.length;n++){var i=a[n];i!=e?t.push(i):(i.previousSibling&&(i.previousSibling.nextSibling=i.nextSibling),i.nextSibling&&(i.nextSibling.previousSibling=i.previousSibling),this.firstChild==i&&(this.firstChild=i.nextSibling),this.lastChild==i&&(this.lastChild=i.previousSibling))}this.childNodes=t},r.prototype.hasAttributes=function(){var e=this.childNodes.filter(function(t){return t.nodeType===B.DOM_ATTRIBUTE_NODE});return e.length>0},r.prototype.setAttribute=function(e,t){for(var n=this.childNodes.filter(function(o){return o.nodeType===B.DOM_ATTRIBUTE_NODE}),a=0;a<n.length;++a)if(n[a].nodeName==e){n[a].nodeValue="".concat(t);return}var i=r.create(B.DOM_ATTRIBUTE_NODE,e,t,this);i.parentNode=this,this.appendChild(i)},r.prototype.setTransformedAttribute=function(e,t){for(var n=this.transformedChildNodes.filter(function(u){return u.nodeType===B.DOM_ATTRIBUTE_NODE}),a=0;a<n.length;++a){var i=n[a];if(i.nodeName===e){i.transformedNodeName=e,i.transformedNodeValue="".concat(t);return}}var o=r.create(B.DOM_ATTRIBUTE_NODE,e,t,this);o.transformedNodeName=e,o.transformedNodeValue=t,o.parentNode=this,this.appendTransformedChild(o)},r.prototype.setAttributeNS=function(e,t,n){for(var a=this.childNodes.filter(function(s){return s.nodeType===B.DOM_ATTRIBUTE_NODE}),i=0;i<a.length;++i){var o=a[i];if(o.namespaceUri==e&&o.localName==this.qualifiedNameToParts("".concat(t))[1]){o.nodeValue="".concat(n),o.nodeName="".concat(t),o.prefix=this.qualifiedNameToParts("".concat(t))[0];return}}var u=r.create(B.DOM_ATTRIBUTE_NODE,t,n,this,e);u.parentNode=this,this.appendChild(u)},r.prototype.getAttributeValue=function(e){for(var t=this.childNodes.filter(function(a){return a.nodeType===B.DOM_ATTRIBUTE_NODE}),n=0;n<t.length;++n)if(t[n].nodeName===e)return t[n].nodeValue;return null},r.prototype.getAttributeNS=function(e,t){for(var n=this.childNodes.filter(function(o){return o.nodeType===B.DOM_ATTRIBUTE_NODE}),a=0;a<n.length;++a){var i=n[a];if(i.namespaceUri===e&&i.localName===t)return i.nodeValue}return null},r.prototype.hasAttribute=function(e){for(var t=this.childNodes.filter(function(a){return a.nodeType===B.DOM_ATTRIBUTE_NODE}),n=0;n<t.length;++n)if(t[n].nodeName===e)return!0;return!1},r.prototype.hasAttributeNS=function(e,t){for(var n=this.childNodes.filter(function(o){return o.nodeType===B.DOM_ATTRIBUTE_NODE}),a=0;a<n.length;++a){var i=n[a];if(i.namespaceUri===e&&i.localName===t)return!0}return!1},r.prototype.removeAttribute=function(e){for(var t=[],n=0;n<this.childNodes.length;++n){var a=this.childNodes[n];if(a.nodeType!==B.DOM_ATTRIBUTE_NODE){t.push(a);continue}a.nodeName!==e&&t.push(a)}this.childNodes=t},r.prototype.removeAttributeNS=function(e,t){for(var n=[],a=0;a<this.childNodes.length;++a){var i=this.childNodes[a];if(i.nodeType!==B.DOM_ATTRIBUTE_NODE){n.push(i);continue}(i.localName!==t||i.namespaceUri!==e)&&n.push(i)}this.childNodes=n},r.prototype.getElementsByTagName=function(e){var t=[],n=this;return e=="*"?this.domTraverseElements(this,function(a){n!=a&&t.push(a)},null):this.domTraverseElements(this,function(a){n!=a&&a.nodeName==e&&t.push(a)},null),t},r.prototype.getElementsByTagNameNS=function(e,t){var n=[],a=this;return e=="*"&&t=="*"?this.domTraverseElements(this,function(i){a!=i&&n.push(i)},null):e=="*"?this.domTraverseElements(this,function(i){a!=i&&i.localName==t&&n.push(i)},null):t=="*"?this.domTraverseElements(this,function(i){a!=i&&i.namespaceUri==e&&n.push(i)},null):this.domTraverseElements(this,function(i){a!=i&&i.localName==t&&i.namespaceUri==e&&n.push(i)},null),n},r.prototype.getElementById=function(e){var t=null;return this.domTraverseElements(this,function(n){if(n.getAttributeValue("id")==e)return t=n,!1},null),t},r.prototype.getAncestorByLocalName=function(e){if(!(this.parentNode===null||this.parentNode===void 0))return this.parentNode.localName===e?this.parentNode:this.parentNode.getAncestorByLocalName(e)},r.prototype.getAncestorById=function(e){if(!(this.parentNode===null||this.parentNode===void 0))return this.parentNode.id===e?this.parentNode:this.parentNode.getAncestorById(e)},r._unusedXNodes=[],r}();ce.XNode=dr;var pr=m&&m.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ee,"__esModule",{value:!0});Ee.XDocument=void 0;var Q=g,W=ce,vr=function(r){pr(e,r);function e(){var t=r.call(this,Q.DOM_DOCUMENT_NODE,"#document",null,null)||this;return t.documentElement=null,t}return e.prototype.appendChild=function(t){r.prototype.appendChild.call(this,t),this.documentElement=this.childNodes[0]},e.prototype.createElement=function(t){return W.XNode.create(Q.DOM_ELEMENT_NODE,t,null,this)},e.prototype.createElementNS=function(t,n){return W.XNode.create(Q.DOM_ELEMENT_NODE,n,null,this,t)},e.prototype.createDocumentFragment=function(){return W.XNode.create(Q.DOM_DOCUMENT_FRAGMENT_NODE,"#document-fragment",null,this)},e.prototype.createTextNode=function(t){return W.XNode.create(Q.DOM_TEXT_NODE,"#text",t,this)},e.prototype.createTransformedTextNode=function(t){var n=W.XNode.create(Q.DOM_TEXT_NODE,"#text",t,this);return n.transformedNodeValue=t,n},e.prototype.createAttribute=function(t){return W.XNode.create(Q.DOM_ATTRIBUTE_NODE,t,null,this)},e.prototype.createAttributeNS=function(t,n){return W.XNode.create(Q.DOM_ATTRIBUTE_NODE,n,null,this,t)},e.prototype.createComment=function(t){return W.XNode.create(Q.DOM_COMMENT_NODE,"#comment",t,this)},e.prototype.createCDATASection=function(t){return W.XNode.create(Q.DOM_CDATA_SECTION_NODE,"#cdata-section",t,this)},e.prototype.createDTDSection=function(t){return W.XNode.create(Q.DOM_DOCUMENT_TYPE_NODE,"#dtd-section",t,this)},e}(W.XNode);Ee.XDocument=vr;var J={},_r=m&&m.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(J,"__esModule",{value:!0});J.xmlValue=Me;J.xmlValueLegacyBehavior=Tr;J.xmlText=gr;J.xmlTransformedText=Nr;J.xmlUnescapeText=Mt;J.xmlEscapeText=me;J.xmlGetAttribute=br;J.xmlOwnerDocument=wt;var mr=_r(Dt),P=g,Er=I;function Me(r,e){if(e===void 0&&(e=!1),!r)return"";var t="";switch(r.nodeType){case P.DOM_DOCUMENT_TYPE_NODE:return"<!DOCTYPE ".concat(r.nodeValue,">");case P.DOM_TEXT_NODE:case P.DOM_CDATA_SECTION_NODE:case P.DOM_ATTRIBUTE_NODE:return r.nodeValue;case P.DOM_ELEMENT_NODE:case P.DOM_DOCUMENT_NODE:case P.DOM_DOCUMENT_FRAGMENT_NODE:if(!e){var n=r,a=n.innerText;if(a!==void 0)return a;var i=n.textContent;if(i!==void 0)return i}if(r.transformedChildNodes.length>0)for(var o=r.transformedChildNodes.filter(function(l){return l.nodeType!==P.DOM_ATTRIBUTE_NODE}),u=0;u<o.length;++u)t+=Me(o[u]);else for(var s=r.childNodes.filter(function(l){return l.nodeType!==P.DOM_ATTRIBUTE_NODE}),u=0;u<s.length;++u)t+=Me(s[u]);return t}}function Tr(r,e){if(e===void 0&&(e=!1),!r)return"";var t="";switch(r.nodeType){case P.DOM_ATTRIBUTE_NODE:case P.DOM_TEXT_NODE:t+=r.nodeValue;break;case P.DOM_CDATA_SECTION_NODE:t+=r.nodeValue;break;case P.DOM_DOCUMENT_NODE:case P.DOM_DOCUMENT_FRAGMENT_NODE:case P.DOM_ELEMENT_NODE:if(!e){var n=r,a=n.innerText;if(a!==void 0)return a;var i=n.textContent;if(i!==void 0)return i}for(var o=r.transformedChildNodes.length,u=0;u<o;++u)t+=Me(r.transformedChildNodes[u]);break}return t}function gr(r,e){e===void 0&&(e={cData:!0,escape:!0,selfClosingTags:!0,outputMethod:"xml"});var t=[];return ut(r,t,e),t.join("")}function ut(r,e,t){if(r.nodeType==P.DOM_TEXT_NODE)e.push(me(r.nodeValue));else if(r.nodeType==P.DOM_CDATA_SECTION_NODE)t.cData?e.push(r.nodeValue):e.push("<![CDATA[".concat(r.nodeValue,"]]>"));else if(r.nodeType==P.DOM_COMMENT_NODE)e.push("<!--".concat(r.nodeValue,"-->"));else if(r.nodeType==P.DOM_ELEMENT_NODE){e.push("<".concat(ee(r)));for(var n=0;n<r.childNodes.length;++n){var a=r.childNodes[n];!a||a.nodeType!==P.DOM_ATTRIBUTE_NODE||a.nodeName&&a.nodeValue&&e.push(" ".concat(ee(a),'="').concat(Ct(a.nodeValue),'"'))}if(r.childNodes.length===0)t.selfClosingTags||t.outputMethod==="html"&&["hr","link"].includes(r.nodeName)?e.push("/>"):e.push("></".concat(ee(r),">"));else{e.push(">");for(var n=0;n<r.childNodes.length;++n)ut(r.childNodes[n],e,t);e.push("</".concat(ee(r),">"))}}else if(r.nodeType==P.DOM_DOCUMENT_NODE||r.nodeType==P.DOM_DOCUMENT_FRAGMENT_NODE)for(var n=0;n<r.childNodes.length;++n)ut(r.childNodes[n],e,t)}function Nr(r,e){e===void 0&&(e={cData:!0,escape:!0,selfClosingTags:!0,outputMethod:"xml"});var t=[];return we(r,t,e),t.join("")}function we(r,e,t){if(!r.visited){var n=r.transformedNodeType||r.nodeType,a=r.transformedNodeValue||r.nodeValue;if(n===P.DOM_TEXT_NODE){if(r.transformedNodeValue&&r.transformedNodeValue.trim()!==""){var i=r.escape&&t.escape?me(r.transformedNodeValue):Mt(r.transformedNodeValue);e.push(i)}}else if(n===P.DOM_CDATA_SECTION_NODE)t.cData?e.push(me(a)):e.push("<![CDATA[".concat(a,"]]>"));else if(n==P.DOM_COMMENT_NODE)e.push("<!-- ".concat(a," -->"));else if(n==P.DOM_ELEMENT_NODE)r.transformedNodeName!==null&&r.transformedNodeName!==void 0?Or(r,e,t):yr(r,e,t);else if(n===P.DOM_DOCUMENT_NODE||n===P.DOM_DOCUMENT_FRAGMENT_NODE){var o=r.transformedChildNodes.concat(r.childNodes);o.sort(function(s,l){return s.siblingPosition-l.siblingPosition});for(var u=0;u<o.length;++u)we(o[u],e,t)}r.visited=!0}}function Or(r,e,t){e.push("<".concat(ee(r)));var n=r.transformedChildNodes.filter(function(u){return u.nodeType===P.DOM_ATTRIBUTE_NODE});n.length===0&&(n=r.childNodes.filter(function(u){return u.nodeType===P.DOM_ATTRIBUTE_NODE}));for(var a=0;a<n.length;++a){var i=n[a];i&&i.transformedNodeName&&i.transformedNodeValue&&e.push(" ".concat(ee(i),'="').concat(Ct(i.transformedNodeValue),'"'))}var o=r.transformedChildNodes.filter(function(u){return u.nodeType!==P.DOM_ATTRIBUTE_NODE});if(o.length===0&&(o=r.childNodes.filter(function(u){return u.nodeType!==P.DOM_ATTRIBUTE_NODE})),o=o.sort(function(u,s){return u.siblingPosition-s.siblingPosition}),o.length===0)t.outputMethod==="html"&&["hr","link","meta"].includes(r.nodeName)?e.push(">"):t.selfClosingTags?e.push("/>"):e.push("></".concat(ee(r),">"));else{e.push(">");for(var a=0;a<o.length;++a)we(o[a],e,t);e.push("</".concat(ee(r),">"))}}function yr(r,e,t){var n=r.transformedChildNodes.length>0?r.transformedChildNodes:r.childNodes;n=n.sort(function(i,o){return i.siblingPosition-o.siblingPosition});for(var a=0;a<n.length;++a)we(n[a],e,t)}function ee(r){var e=r.transformedNodeName||r.nodeName;return r.transformedPrefix&&e.indexOf("".concat(r.transformedPrefix,":"))!=0?"".concat(r.transformedPrefix,":").concat(e):e}function Mt(r){return"".concat(r).replace(/&lt;/g,"<").replace(/&gt;/g,">")}function me(r){return"".concat(r).replace(/&/g,"&amp;").replace(/&amp;amp;/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ct(r){return me(r).replace(/"/g,"&quot;")}function br(r,e){var t=(0,Er.domGetAttributeValue)(r,e);return t&&mr.default.decode(t)}function wt(r){if(r==null)throw new Error("Node has no valid owner document.");return r.nodeType===P.DOM_DOCUMENT_NODE?r:wt(r.ownerDocument)}var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});var Le={},st={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.XML_NC_NAME=r.XML11_ATTRIBUTE=r.XML11_ATT_VALUE=r.XML11_ENTITY_REF=r.XML11_NAME=r.XML11_VERSION_INFO=r.XML10_ATTRIBUTE=r.XML10_ATT_VALUE=r.XML10_ENTITY_REF=r.XML10_NAME=r.XML10_VERSION_INFO=r.XML_CHAR_REF=void 0;var e=`[ 	\r
]+`,t="(".concat(e,")?=(").concat(e,")?");r.XML_CHAR_REF="&#[0-9]+;|&#x[0-9a-fA-F]+;",r.XML10_VERSION_INFO="".concat(e,"version").concat(t,`("1\\.0"|'1\\.0')`);var n="A-Za-zÀ-ÖØ-öø-ÿĀ-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϖϚϜϞϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓەۥ-ۦअ-हऽक़-ॡঅ-ঌএ-ঐও-নপ-রলশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલ-ળવ-હઽૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะา-ำเ-ๅກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ຮະາ-ຳຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀᄂ-ᄃᄅ-ᄇᄉᄋ-ᄌᄎ-ᄒᄼᄾᅀᅌᅎᅐᅔ-ᅕᅙᅟ-ᅡᅣᅥᅧᅩᅭ-ᅮᅲ-ᅳᅵᆞᆨᆫᆮ-ᆯᆷ-ᆸᆺᆼ-ᇂᇫᇰᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩK-Å℮ↀ-ↂぁ-ゔァ-ヺㄅ-ㄬ가-힣",a="一-龥〇〡-〩",i="̀-͠ͅ-҃͡-֑҆-֣֡-ֹֻ-ֽֿׁ-ׂًׄ-ْٰۖ-ۜ۝-۟۠-ۤۧ-۪ۨ-ۭँ-ः़ा-ौ्॑-॔ॢ-ॣঁ-ঃ়ািী-ৄে-ৈো-্ৗৢ-ৣਂ਼ਾਿੀ-ੂੇ-ੈੋ-੍ੰ-ੱઁ-ઃ઼ા-ૅે-ૉો-્ଁ-ଃ଼ା-ୃେ-ୈୋ-୍ୖ-ୗஂ-ஃா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕ-ౖಂ-ಃಾ-ೄೆ-ೈೊ-್ೕ-ೖം-ഃാ-ൃെ-ൈൊ-്ൗัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-༹༙༵༷༾༿ཱ-྄྆-ྋྐ-ྕྗྙ-ྭྱ-ྷྐྵ⃐-〪⃜⃡-゙゚〯",o="0-9٠-٩۰-۹०-९০-৯੦-੯૦-૯୦-୯௧-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩",u="·ːˑ·ـๆໆ々〱-〵ゝ-ゞー-ヾ",s=n+a,l="".concat(s+o,"\\._:").concat(i).concat(u,"-");r.XML10_NAME="[".concat(s,"_:][").concat(l,"]*"),r.XML10_ENTITY_REF="&".concat(r.XML10_NAME,";");var c="".concat(r.XML10_ENTITY_REF,"|").concat(r.XML_CHAR_REF);r.XML10_ATT_VALUE='"(([^<&"]|'.concat(c,`)*)"|'(([^<&']|`).concat(c,")*)'"),r.XML10_ATTRIBUTE="(".concat(r.XML10_NAME,")").concat(t,"(").concat(r.XML10_ATT_VALUE,")"),r.XML11_VERSION_INFO="".concat(e,"version").concat(t,`("1\\.1"|'1\\.1')`);var d=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�",f=d+"\\.0-9·̀-ͯ‿-⁀-";r.XML11_NAME="[".concat(d,"][").concat(f,"]*"),r.XML11_ENTITY_REF="&".concat(r.XML11_NAME,";");var p="".concat(r.XML11_ENTITY_REF,"|").concat(r.XML_CHAR_REF);r.XML11_ATT_VALUE='"(([^<&"]|'.concat(p,`)*)"|'(([^<&']|`).concat(p,")*)'"),r.XML11_ATTRIBUTE="(".concat(r.XML11_NAME,")").concat(t,"(").concat(r.XML11_ATT_VALUE,")");var E="".concat(s+o,"\\._").concat(i).concat(u,"-");r.XML_NC_NAME="[".concat(s,"_][").concat(E,"]*")})(st);var Pr=m&&m.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Le,"__esModule",{value:!0});Le.XmlParser=void 0;var mt=Pr(Dt),w=I,Et=Ee,se=st,Tt=g,xr=function(){function r(){this.regexEmpty=/\/$/,this.XML10_TAGNAME_REGEXP=new RegExp("^(".concat(se.XML10_NAME,")")),this.XML10_ATTRIBUTE_REGEXP=new RegExp(se.XML10_ATTRIBUTE,"g"),this.XML11_TAGNAME_REGEXP=new RegExp("^(".concat(se.XML11_NAME,")")),this.XML11_ATTRIBUTE_REGEXP=new RegExp(se.XML11_ATTRIBUTE,"g"),this.lenientHtmlTags=["hr","link","meta"]}return r.prototype.xmlParse=function(e){return e.toUpperCase().startsWith("<!DOCTYPE HTML")?this.htmlParse(e):this.xmlStrictParse(e)},r.prototype.namespaceMapAt=function(e){for(var t={xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace"},n=e;n!==null;){for(var a=0;a<n.childNodes.length;a++){var i=n.childNodes[a];if(i.nodeType===Tt.DOM_ATTRIBUTE_NODE)if(i.nodeName.startsWith("xmlns:")){var o=i.nodeName.split(":")[1];o in t||(t[o]=i.nodeValue)}else i.nodeName=="xmlns"&&(""in t||(t[""]=i.nodeValue||null))}n=n.parentNode}return t},r.prototype.htmlParse=function(e){var t=new Et.XDocument,n=t,a=[],i=n;a.push(i);for(var o=!1,u=!1,s=!1,l=0,c=0;c<e.length;++c){var d=e.charAt(c);if(o){if(!s&&d==="'")u=!u;else if(!u&&d==='"')s=!s;else if(!u&&!s&&d===">"){var f=e.slice(l,c);if(f.charAt(0)==="/")a.pop(),i=a[a.length-1];else if(f.charAt(0)!=="!"){for(var p=f.match(this.regexEmpty),E=this.XML10_TAGNAME_REGEXP.exec(f)[1],b=(0,w.domCreateElement)(t,E),M=void 0;M=this.XML10_ATTRIBUTE_REGEXP.exec(f);){var x=mt.default.decode(M[5]||M[7]||"");(0,w.domSetAttribute)(b,M[1],x)}b.siblingPosition=i.childNodes.length,(0,w.domAppendChild)(i,b),!p&&!this.lenientHtmlTags.includes(E)&&(i=b,a.push(b))}l=c+1,o=!1,u=!1,s=!1}}else if(d==="<"){var f=e.slice(l,c);if(f&&i!==n&&(0,w.domAppendChild)(i,(0,w.domCreateTextNode)(t,f)),e.slice(c+1,c+4)==="!--"){var X=e.slice(c+4).indexOf("-->");if(X){var b=(0,w.domCreateComment)(t,e.slice(c+4,c+X+4));(0,w.domAppendChild)(i,b),c+=X+6}}else if(e.slice(c+1,c+9)==="!DOCTYPE"){var X=e.slice(c+9).indexOf(">");if(X){var G=e.slice(c+9,c+X+9).trimStart(),b=(0,w.domCreateDTDSection)(t,G);(0,w.domAppendChild)(i,b),c+=X+G.length+5}}else o=!0;l=c+1}}return t},r.prototype.xmlStrictParse=function(e){var t,n;if(e.match(/^<\?xml/))if(e.search(new RegExp(se.XML10_VERSION_INFO))===5)t=this.XML10_TAGNAME_REGEXP,n=this.XML10_ATTRIBUTE_REGEXP;else if(e.search(new RegExp(se.XML11_VERSION_INFO))===5)t=this.XML11_TAGNAME_REGEXP,n=this.XML11_ATTRIBUTE_REGEXP;else throw new Error("XML VersionInfo has an unknown version number.");else t=this.XML10_TAGNAME_REGEXP,n=this.XML10_ATTRIBUTE_REGEXP;var a=new Et.XDocument,i=a,o=[],u=i;o.push(u);for(var s=!1,l=!1,c=!1,d=0,f=0;f<e.length;++f){var p=e.charAt(f);if(s&&!c&&p==="'")l=!l;else if(s&&!l&&p==='"')c=!c;else if(s&&p===">"&&!l&&!c){var E=e.slice(d,f);if(E.charAt(0)==="/")o.pop(),u=o[o.length-1];else if(E.charAt(0)!=="?"){if(E.charAt(0)!=="!"){for(var b=E.match(this.regexEmpty),M=t.exec(E)[1],x=(0,w.domCreateElement)(a,M),X=void 0;X=n.exec(E);){var G=mt.default.decode(X[5]||X[7]||"");(0,w.domSetAttribute)(x,X[1],G)}x.siblingPosition=u.childNodes.length,(0,w.domAppendChild)(u,x),b||(u=x,o.push(x));var F=this.namespaceMapAt(x);x.prefix!==null?x.prefix in F&&(x.namespaceUri=F[x.prefix]):""in F&&(x.namespaceUri=F[""]);for(var $=0;$<x.childNodes.length;++$){var H=x.childNodes[$];H.nodeType===Tt.DOM_ATTRIBUTE_NODE&&H.prefix!==null&&H.prefix in F&&(H.namespaceUri=F[H.prefix])}}}d=f+1,s=!1,l=!1,c=!1}else if(!s&&p==="<"){var E=e.slice(d,f);if(E&&u!==i&&(0,w.domAppendChild)(u,(0,w.domCreateTextNode)(a,E)),e.slice(f+1,f+4)==="!--"){var C=e.slice(f+4).indexOf("-->");if(C){var x=(0,w.domCreateComment)(a,e.slice(f+4,f+C+4));(0,w.domAppendChild)(u,x),f+=C+6}}else if(e.slice(f+1,f+9)==="![CDATA["){var C=e.slice(f+9).indexOf("]]>");if(C){var x=(0,w.domCreateCDATASection)(a,e.slice(f+9,f+C+9));(0,w.domAppendChild)(u,x),f+=C+11}}else if(e.slice(f+1,f+9)==="!DOCTYPE"){var C=e.slice(f+9).indexOf(">");if(C){var z=e.slice(f+9,f+C+9).trimStart(),x=(0,w.domCreateDTDSection)(a,z);(0,w.domAppendChild)(u,x),f+=C+z.length+5}}else s=!0;d=f+1}}return i},r}();Le.XmlParser=xr;var Ve={},Ar=m&&m.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ve,"__esModule",{value:!0});Ve.XBrowserNode=void 0;var Sr=ce,Dr=function(r){Ar(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Sr.XNode);Ve.XBrowserNode=Dr;(function(r){var e=m&&m.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var u=Object.getOwnPropertyDescriptor(a,i);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,u)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),t=m&&m.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(I,r),t(Ee,r),t(J,r),t(Lt,r),t(Le,r),t(Ve,r),t(ce,r)})(te);Object.defineProperty(Z,"__esModule",{value:!0});Z.NodeSetValue=void 0;var Mr=te,Cr=function(){function r(e){this.value=e,this.type="node-set"}return r.prototype.stringValue=function(){return this.value.length===0?"":(0,Mr.xmlValue)(this.value[0])},r.prototype.booleanValue=function(){return this.value.length>0},r.prototype.numberValue=function(){return parseInt(this.stringValue())-0},r.prototype.nodeSetValue=function(){return this.value},r}();Z.NodeSetValue=Cr;var re={};Object.defineProperty(re,"__esModule",{value:!0});re.NumberValue=void 0;var wr=function(){function r(e){this.value=e,this.type="number"}return r.prototype.stringValue=function(){return"".concat(this.value)},r.prototype.booleanValue=function(){return!!this.value},r.prototype.numberValue=function(){return this.value-0},r.prototype.nodeSetValue=function(){throw this},r}();re.NumberValue=wr;var ie={};Object.defineProperty(ie,"__esModule",{value:!0});ie.StringValue=void 0;var Lr=function(){function r(e){this.value=e,this.type="string"}return r.prototype.stringValue=function(){return String(this.value)},r.prototype.booleanValue=function(){return this.value.length>0},r.prototype.numberValue=function(){return this.value-0},r.prototype.nodeSetValue=function(){throw this},r}();ie.StringValue=Lr;var Te={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ASSOC_LEFT=r.Q_ONE_OR_MULTIPLE=r.Q_ZERO_OR_MULTIPLE=r.Q_ZERO_OR_ONE=r.xPathTokenRules=r.TOK_NODEO=r.TOK_QNAME=r.TOK_NUMBER=r.TOK_LITERALQQ=r.TOK_LITERALQ=r.TOK_ASTERISK=r.TOK_NCNAME=r.TOK_DOLLAR=r.TOK_BRACKC=r.TOK_BRACKO=r.TOK_MOD=r.TOK_DIV=r.TOK_MINUS=r.TOK_PLUS=r.TOK_LT=r.TOK_LE=r.TOK_GT=r.TOK_GE=r.TOK_NEQ=r.TOK_EQ=r.TOK_AND=r.TOK_OR=r.TOK_COMMA=r.TOK_AT=r.TOK_DOT=r.TOK_DDOT=r.TOK_PARENC=r.TOK_PARENO=r.TOK_AXISNAME=r.TOK_COLON=r.TOK_AXIS=r.TOK_SLASH=r.TOK_DSLASH=r.TOK_PIPE=r.xPathAxis=void 0;var e=st;r.xPathAxis={ANCESTOR_OR_SELF:"ancestor-or-self",ANCESTOR:"ancestor",ATTRIBUTE:"attribute",CHILD:"child",DESCENDANT_OR_SELF:"descendant-or-self",DESCENDANT:"descendant",FOLLOWING_SIBLING:"following-sibling",FOLLOWING:"following",NAMESPACE:"namespace",PARENT:"parent",PRECEDING_SIBLING:"preceding-sibling",PRECEDING:"preceding",SELF:"self",SELF_AND_SIBLINGS:"self-and-siblings"};var t=[r.xPathAxis.ANCESTOR_OR_SELF,r.xPathAxis.ANCESTOR,r.xPathAxis.ATTRIBUTE,r.xPathAxis.CHILD,r.xPathAxis.DESCENDANT_OR_SELF,r.xPathAxis.DESCENDANT,r.xPathAxis.FOLLOWING_SIBLING,r.xPathAxis.FOLLOWING,r.xPathAxis.NAMESPACE,r.xPathAxis.PARENT,r.xPathAxis.PRECEDING_SIBLING,r.xPathAxis.PRECEDING,r.xPathAxis.SELF].join("(?=::)|")+"(?=::)";r.TOK_PIPE={label:"|",prec:17,re:new RegExp("^\\|"),key:void 0},r.TOK_DSLASH={label:"//",prec:19,re:new RegExp("^//"),key:void 0},r.TOK_SLASH={label:"/",prec:30,re:new RegExp("^/"),key:void 0},r.TOK_AXIS={label:"::",prec:20,re:new RegExp("^::"),key:void 0},r.TOK_COLON={label:":",prec:1e3,re:new RegExp("^:"),key:void 0},r.TOK_AXISNAME={label:"[axis]",re:new RegExp("^(".concat(t,")")),key:void 0},r.TOK_PARENO={label:"(",prec:34,re:new RegExp("^\\("),key:void 0},r.TOK_PARENC={label:")",re:new RegExp("^\\)"),key:void 0},r.TOK_DDOT={label:"..",prec:34,re:new RegExp("^\\.\\."),key:void 0},r.TOK_DOT={label:".",prec:34,re:new RegExp("^\\."),key:void 0},r.TOK_AT={label:"@",prec:34,re:new RegExp("^@"),key:void 0},r.TOK_COMMA={label:",",re:new RegExp("^,"),key:void 0},r.TOK_OR={label:"or",prec:10,re:new RegExp("^or\\b"),key:void 0},r.TOK_AND={label:"and",prec:11,re:new RegExp("^and\\b"),key:void 0},r.TOK_EQ={label:"=",prec:12,re:new RegExp("^="),key:void 0},r.TOK_NEQ={label:"!=",prec:12,re:new RegExp("^!="),key:void 0},r.TOK_GE={label:">=",prec:13,re:new RegExp("^>="),key:void 0},r.TOK_GT={label:">",prec:13,re:new RegExp("^>"),key:void 0},r.TOK_LE={label:"<=",prec:13,re:new RegExp("^<="),key:void 0},r.TOK_LT={label:"<",prec:13,re:new RegExp("^<"),key:void 0},r.TOK_PLUS={label:"+",prec:14,re:new RegExp("^\\+"),left:!0,key:void 0},r.TOK_MINUS={label:"-",prec:14,re:new RegExp("^\\-"),left:!0,key:void 0},r.TOK_DIV={label:"div",prec:15,re:new RegExp("^div\\b"),left:!0,key:void 0},r.TOK_MOD={label:"mod",prec:15,re:new RegExp("^mod\\b"),left:!0,key:void 0},r.TOK_BRACKO={label:"[",prec:32,re:new RegExp("^\\["),key:void 0},r.TOK_BRACKC={label:"]",re:new RegExp("^\\]"),key:void 0},r.TOK_DOLLAR={label:"$",re:new RegExp("^\\$"),key:void 0},r.TOK_NCNAME={label:"[ncname]",re:new RegExp("^".concat(e.XML_NC_NAME)),key:void 0},r.TOK_ASTERISK={label:"*",prec:15,re:new RegExp("^\\*"),left:!0,key:void 0},r.TOK_LITERALQ={label:"[litq]",prec:20,re:new RegExp("^'[^\\']*'"),key:void 0},r.TOK_LITERALQQ={label:"[litqq]",prec:20,re:new RegExp('^"[^\\"]*"'),key:void 0},r.TOK_NUMBER={label:"[number]",prec:35,re:new RegExp("^\\d+(\\.\\d*)?"),key:void 0},r.TOK_QNAME={label:"[qname]",re:new RegExp("^(".concat(e.XML_NC_NAME,":)?").concat(e.XML_NC_NAME)),key:void 0},r.TOK_NODEO={label:"[nodeTest-start]",re:new RegExp("^(processing-instruction|comment|text|node)\\("),key:void 0},r.xPathTokenRules=[r.TOK_DSLASH,r.TOK_SLASH,r.TOK_DDOT,r.TOK_DOT,r.TOK_AXIS,r.TOK_COLON,r.TOK_AXISNAME,r.TOK_NODEO,r.TOK_PARENO,r.TOK_PARENC,r.TOK_BRACKO,r.TOK_BRACKC,r.TOK_AT,r.TOK_COMMA,r.TOK_OR,r.TOK_AND,r.TOK_NEQ,r.TOK_EQ,r.TOK_GE,r.TOK_GT,r.TOK_LE,r.TOK_LT,r.TOK_PLUS,r.TOK_MINUS,r.TOK_ASTERISK,r.TOK_PIPE,r.TOK_MOD,r.TOK_DIV,r.TOK_LITERALQ,r.TOK_LITERALQQ,r.TOK_NUMBER,r.TOK_QNAME,r.TOK_NCNAME,r.TOK_DOLLAR],r.Q_ZERO_OR_ONE={label:"?"},r.Q_ZERO_OR_MULTIPLE={label:"*"},r.Q_ONE_OR_MULTIPLE={label:"+"},r.ASSOC_LEFT=!0})(Te);Object.defineProperty(Ce,"__esModule",{value:!0});Ce.ExprContext=void 0;var Vr=g,rt=K,Rr=Z,gt=re,Nt=ie,Xr=Te,Ir=function(){function r(e,t,n,a,i,o,u,s,l,c,d,f,p,E){n===void 0&&(n="1.0"),this.nodeList=e,this.outputNodeList=t,this.xsltVersion=n,this.position=a||0,this.outputPosition=i||0,this.variables=s||{},this.keys=c?.keys||{},this.knownNamespaces=l||{},this.parent=c||null,this.caseInsensitive=d||!1,this.ignoreAttributesWithoutValue=f||!1,this.returnOnFirstMatch=p||!1,this.ignoreNonElementNodesForNTA=E||!1,this.inApplyTemplates=!1,this.baseTemplateMatched=!1,this.outputDepth=o||0,this.decimalFormatSettings=u||{decimalSeparator:".",groupingSeparator:",",infinity:"Infinity",minusSign:"-",naN:"NaN",percent:"%",perMille:"‰",zeroDigit:"0",digit:"#",patternSeparator:";"},c?this.root=c.root:this.nodeList[this.position].nodeType==Vr.DOM_DOCUMENT_NODE?this.root=this.nodeList[this.position]:this.root=this.nodeList[this.position].ownerDocument}return r.prototype.clone=function(e,t,n,a){return new r(e||this.nodeList,t||this.outputNodeList,this.xsltVersion,typeof n<"u"?n:this.position,typeof a<"u"?a:this.outputPosition,this.outputDepth,this.decimalFormatSettings,this.variables,this.knownNamespaces,this,this.caseInsensitive,this.ignoreAttributesWithoutValue,this.returnOnFirstMatch,this.ignoreNonElementNodesForNTA)},r.prototype.cloneByOutput=function(e,t,n){return new r(this.nodeList,e||this.outputNodeList,this.xsltVersion,this.position,typeof t<"u"?t:this.outputPosition,typeof n<"u"?n:this.outputDepth,this.decimalFormatSettings,this.variables,this.knownNamespaces,this,this.caseInsensitive,this.ignoreAttributesWithoutValue,this.returnOnFirstMatch,this.ignoreNonElementNodesForNTA)},r.prototype.setVariable=function(e,t){if(t instanceof Nt.StringValue||t instanceof rt.BooleanValue||t instanceof gt.NumberValue||t instanceof Rr.NodeSetValue){this.variables[e]=t;return}t==="true"?this.variables[e]=new rt.BooleanValue(!0):t==="false"?this.variables[e]=new rt.BooleanValue(!1):Xr.TOK_NUMBER.re.test(String(t))?this.variables[e]=new gt.NumberValue(t):this.variables[e]=new Nt.StringValue(t)},r.prototype.getVariable=function(e){return typeof this.variables[e]<"u"?this.variables[e]:this.parent?this.parent.getVariable(e):null},r.prototype.setNode=function(e){this.position=e},r.prototype.contextSize=function(){return this.nodeList.length},r.prototype.isCaseInsensitive=function(){return this.caseInsensitive},r.prototype.setCaseInsensitive=function(e){return this.caseInsensitive=e},r.prototype.isIgnoreAttributesWithoutValue=function(){return this.ignoreAttributesWithoutValue},r.prototype.setIgnoreAttributesWithoutValue=function(e){return this.ignoreAttributesWithoutValue=e},r.prototype.isReturnOnFirstMatch=function(){return this.returnOnFirstMatch},r.prototype.setReturnOnFirstMatch=function(e){return this.returnOnFirstMatch=e},r.prototype.isIgnoreNonElementNodesForNTA=function(){return this.ignoreNonElementNodesForNTA},r.prototype.setIgnoreNonElementNodesForNTA=function(e){return this.ignoreNonElementNodesForNTA=e},r}();Ce.ExprContext=Ir;var Re={},ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge.mapExec=kr;ge.mapExpr=Kr;ge.reverseInPlace=Br;function kr(r,e){for(var t=0;t<r.length;++t)e.call(this,r[t],t)}function Kr(r,e){for(var t=[],n=0;n<r.length;++n)t.push(e(r[n]));return t}function Br(r){for(var e=0;e<r.length/2;++e){var t=r[e],n=r.length-e-1;r[e]=r[n],r[n]=t}}var Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.copyArray=Ur;Ne.copyArrayIgnoringAttributesWithoutValue=Fr;function Ur(r,e){if(e)for(var t=r.length,n=e.length-1;n>=0;--n)r[n+t]=e[n]}function Fr(r,e){if(e)for(var t=e.length-1;t>=0;--t)e[t].nodeValue&&r.push(e[t])}var lt={},Oe={},k={};Object.defineProperty(k,"__esModule",{value:!0});k.Expression=void 0;var jr=function(){function r(){}return r}();k.Expression=jr;var Gr=m&&m.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Oe,"__esModule",{value:!0});Oe.BinaryExpr=void 0;var le=te,nt=K,pe=re,$r=k,Hr=function(r){Gr(e,r);function e(t,n,a){var i=r.call(this)||this;return i.expr1=t,i.expr2=a,i.op=n,i}return e.prototype.evaluate=function(t){var n;switch(this.op.value){case"or":n=new nt.BooleanValue(this.expr1.evaluate(t).booleanValue()||this.expr2.evaluate(t).booleanValue());break;case"and":n=new nt.BooleanValue(this.expr1.evaluate(t).booleanValue()&&this.expr2.evaluate(t).booleanValue());break;case"+":n=new pe.NumberValue(this.expr1.evaluate(t).numberValue()+this.expr2.evaluate(t).numberValue());break;case"-":n=new pe.NumberValue(this.expr1.evaluate(t).numberValue()-this.expr2.evaluate(t).numberValue());break;case"*":n=new pe.NumberValue(this.expr1.evaluate(t).numberValue()*this.expr2.evaluate(t).numberValue());break;case"mod":n=new pe.NumberValue(this.expr1.evaluate(t).numberValue()%this.expr2.evaluate(t).numberValue());break;case"div":n=new pe.NumberValue(this.expr1.evaluate(t).numberValue()/this.expr2.evaluate(t).numberValue());break;case"=":n=this.compare(t,function(a,i){return a==i});break;case"!=":n=this.compare(t,function(a,i){return a!=i});break;case"<":n=this.compare(t,function(a,i){return a<i});break;case"<=":n=this.compare(t,function(a,i){return a<=i});break;case">":n=this.compare(t,function(a,i){return a>i});break;case">=":n=this.compare(t,function(a,i){return a>=i});break;default:throw"BinaryExpr.evaluate: ".concat(this.op.value)}return n},e.prototype.compare=function(t,n){var a=this.expr1.evaluate(t),i=this.expr2.evaluate(t),o;if(a.type=="node-set"&&i.type=="node-set"){var u=a.nodeSetValue(),s=i.nodeSetValue();o=!1;for(var l=0;l<u.length;++l)for(var c=0;c<s.length;++c)n((0,le.xmlValue)(u[l]),(0,le.xmlValue)(s[c]))&&(o=!0,c=s.length,l=u.length)}else if(a.type=="node-set"||i.type=="node-set")if(a.type=="number"){var d=a.numberValue(),f=i.nodeSetValue();o=!1;for(var p=0;p<f.length;++p){var E=parseInt((0,le.xmlValue)(f[p]))-0;if(n(d,E)){o=!0;break}}}else if(i.type=="number"){var f=a.nodeSetValue(),d=i.numberValue();o=!1;for(var p=0;p<f.length;++p){var E=parseInt((0,le.xmlValue)(f[p]))-0;if(n(E,d)){o=!0;break}}}else if(a.type=="string"){var d=a.stringValue(),f=i.nodeSetValue();o=!1;for(var p=0;p<f.length;++p){var E=(0,le.xmlValue)(f[p]);if(n(d,E)){o=!0;break}}}else if(i.type=="string"){var f=a.nodeSetValue(),d=i.stringValue();o=!1;for(var p=0;p<f.length;++p){var E=(0,le.xmlValue)(f[p]);if(n(E,d)){o=!0;break}}}else o=n(a.booleanValue(),i.booleanValue());else a.type=="boolean"||i.type=="boolean"?o=n(a.booleanValue(),i.booleanValue()):a.type=="number"||i.type=="number"?o=n(a.numberValue(),i.numberValue()):o=n(a.stringValue(),i.stringValue());return new nt.BooleanValue(o)},e}($r.Expression);Oe.BinaryExpr=Hr;var Xe={},Qr=m&&m.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Xe,"__esModule",{value:!0});Xe.FilterExpr=void 0;var Wr=Z,Yr=k,zr=function(r){Qr(e,r);function e(t,n){var a=r.call(this)||this;return a.expr=t,a.predicate=n,a}return e.prototype.evaluate=function(t){var n=t.returnOnFirstMatch;t.setReturnOnFirstMatch(!1);var a=this.expr.evaluate(t).nodeSetValue();t.setReturnOnFirstMatch(n);for(var i=0;i<this.predicate.length;++i){var o=a;a=[];for(var u=0;u<o.length;++u){var s=o[u];this.predicate[i].evaluate(t.clone(o,void 0,u)).booleanValue()&&a.push(s)}}return new Wr.NodeSetValue(a)},e}(Yr.Expression);Xe.FilterExpr=zr;var ye={},Vt={},he={},be={},Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});(function(r){var e=m&&m.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var u=Object.getOwnPropertyDescriptor(a,i);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,u)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),t=m&&m.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(K,r),t(Z,r),t(Rt,r),t(re,r),t(ie,r)})(be);var oe={};Object.defineProperty(oe,"__esModule",{value:!0});oe.assert=qr;oe.regExpEscape=en;function qr(r){if(!r)throw new Error("Assertion failed")}var Zr=["/",".","*","+","?","|","^","$","(",")","[","]","{","}","\\"],Jr=new RegExp("(\\".concat(Zr.join("|\\"),")"),"g");function en(r){return r.replace(Jr,"\\$1")}Object.defineProperty(he,"__esModule",{value:!0});he.extCardinal=rn;he.extIf=nn;he.extJoin=an;var tn=te,Xt=be,ct=oe;function rn(r){(0,ct.assert)(this.args.length>=1);for(var e=this.args[0].evaluate(r).numberValue(),t=[],n=0;n<e;++n)t.push(r.nodeList[r.position]);return new Xt.NodeSetValue(t)}function nn(r){return(0,ct.assert)(this.args.length===3),this.args[0].evaluate(r).booleanValue()?this.args[1].evaluate(r):this.args[2].evaluate(r)}function an(r){(0,ct.assert)(this.args.length===2);for(var e=this.args[0].evaluate(r).nodeSetValue(),t=this.args[1].evaluate(r).stringValue(),n="",a=0;a<e.length;++a)n&&(n+=t),n+=(0,tn.xmlValue)(e[a]);return new Xt.StringValue(n)}var O={};Object.defineProperty(O,"__esModule",{value:!0});O.boolean=un;O.ceiling=sn;O.concat=ln;O.contains=cn;O.count=hn;O.current=fn;O.endsWith=dn;O._false=pn;O.formatNumber=_n;O.floor=mn;O.generateId=En;O.id=Tn;O.lang=gn;O.last=Nn;O.localName=On;O.matches=yn;O._name=bn;O.namespaceUri=Pn;O.normalizeSpace=xn;O.not=An;O.number=Sn;O.position=Dn;O.round=Mn;O.startsWith=Cn;O._string=wn;O.stringLength=Ln;O.substring=Vn;O.substringAfter=Rn;O.substringBefore=Xn;O.sum=In;O.translate=kn;O._true=Kn;O.xmlToJson=Bn;var ht=te,T=be,S=oe;function on(r,e){e===void 0&&(e=0);for(var t=3735928559^e,n=1103547991^e,a=0,i=void 0;a<r.length;a++)i=r.charCodeAt(a),t=Math.imul(t^i,2654435761),n=Math.imul(n^i,1597334677);return t=Math.imul(t^t>>>16,2246822507),t^=Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(t^t>>>13,3266489909),4294967296*(2097151&n)+(t>>>0)}function un(r){return(0,S.assert)(this.args.length===1),new T.BooleanValue(this.args[0].evaluate(r).booleanValue())}function sn(r){(0,S.assert)(this.args.length===1);var e=this.args[0].evaluate(r).numberValue();return new T.NumberValue(Math.ceil(e))}function ln(r){for(var e="",t=0;t<this.args.length;++t)e+=this.args[t].evaluate(r).stringValue();return new T.StringValue(e)}function cn(r){(0,S.assert)(this.args.length===2);var e=this.args[0].evaluate(r).stringValue(),t=this.args[1].evaluate(r).stringValue();return new T.BooleanValue(e.includes(t))}function hn(r){(0,S.assert)(this.args.length===1);var e=this.args[0].evaluate(r);return new T.NumberValue(e.nodeSetValue().length)}function fn(r){return(0,S.assert)(this.args.length===0),new T.NodeSetValue([r.nodeList[r.position]])}function dn(r){(0,S.assert)(this.args.length===2);var e=this.args[0].evaluate(r).stringValue(),t=this.args[1].evaluate(r).stringValue(),n=new RegExp("".concat((0,S.regExpEscape)(t),"$"));return new T.BooleanValue(n.test(e))}function pn(){return(0,S.assert)(this.args.length===0),new T.BooleanValue(!1)}function at(r,e,t){for(var n="",a="",i=r.length-1,o=e.length-1;o>=0;o--)switch(a=e[o],a){case"#":n=r[i]+n,i--;break;case"0":n=r[i]+n,i--;break;case",":n=t.groupingSeparator+n;break}for(;i>=0;i--)n=r[i]+n;return n}function vn(r,e,t){var n="";if(e==null)return n;for(var a=0;a<e.length;a++)switch(e[a]){case"#":n+=r[a];break;case"0":a>=r.length?n+="0":n+=r[a];break}return n}function _n(r){(0,S.assert)(this.args.length>=2&&this.args.length<4);var e=this.args[0].evaluate(r).stringValue(),t=this.args[1].evaluate(r).stringValue(),n=parseFloat(e);if(isNaN(n))return new T.StringValue(r.decimalFormatSettings.naN);var a=String(n).split("."),i=t.split(".");switch(a.length){case 1:return new T.StringValue(at(a[0],i[0],r.decimalFormatSettings));case 2:var o=vn(a[1],i.length===2?i[1]:void 0,r.decimalFormatSettings);return o.length===0?new T.StringValue(at(a[0],i[0],r.decimalFormatSettings)):new T.StringValue(at(a[0],i[0],r.decimalFormatSettings)+r.decimalFormatSettings.decimalSeparator+o)}}function mn(r){(0,S.assert)(this.args.length===1);var e=this.args[0].evaluate(r).numberValue();return new T.NumberValue(Math.floor(e))}function En(r){return new T.StringValue("A"+on(JSON.stringify(r.nodeList[r.position].id)))}function Tn(r){(0,S.assert)(this.args.length===1);var e=this.args[0].evaluate(r),t=[],n;if(e.type=="node-set"){n=[];for(var a=e.nodeSetValue(),i=0;i<a.length;++i)for(var o=(0,ht.xmlValue)(a[i]).split(/\s+/),u=0;u<o.length;++u)n.push(o[u])}else n=e.stringValue().split(/\s+/);for(var s=r.root,i=0;i<n.length;++i){var l=s.getElementById(n[i]);l&&t.push(l)}return new T.NodeSetValue(t)}function gn(r){(0,S.assert)(this.args.length===1);for(var e=this.args[0].evaluate(r).stringValue(),t,n=r.nodeList[r.position];n&&n!=n.parentNode&&(t=n.getAttributeValue("xml:lang"),!t);)n=n.parentNode;if(!t)return new T.BooleanValue(!1);var a=new RegExp("^".concat(e,"$"),"i");return new T.BooleanValue(t.match(a)||t.replace(/_.*$/,"").match(a))}function Nn(r){return(0,S.assert)(this.args.length===0),new T.NumberValue(r.contextSize())}function On(r){(0,S.assert)(this.args.length===1||this.args.length===0);var e;return this.args.length==0?e=[r.nodeList[r.position]]:e=this.args[0].evaluate(r).nodeSetValue(),e.length===0?new T.StringValue(""):new T.StringValue(e[0].localName)}function yn(r){(0,S.assert)(this.args.length>=2);var e=this.args[0].evaluate(r).stringValue(),t=this.args[1].evaluate(r).stringValue(),n;if(this.args.length>2&&(n=this.args[2].evaluate(r).stringValue(),/[^mi]/.test(n)))throw new Error("Invalid regular expression syntax: ".concat(n));var a;try{a=new RegExp(t,n)}catch{throw new Error("Invalid matches argument: ".concat(t))}return new T.BooleanValue(a.test(e))}function bn(r){(0,S.assert)(this.args.length===1||this.args.length===0);var e;return this.args.length===0?e=[r.nodeList[r.position]]:e=this.args[0].evaluate(r).nodeSetValue(),e.length===0?new T.StringValue(""):new T.StringValue(e[0].nodeName)}function Pn(r){(0,S.assert)(this.args.length===1||this.args.length===0);var e;return this.args.length===0?e=[r.nodeList[r.position]]:e=this.args[0].evaluate(r).nodeSetValue(),e.length===0?new T.StringValue(""):new T.StringValue(e[0].namespaceUri||"")}function xn(r){var e;return this.args.length>0?e=this.args[0].evaluate(r).stringValue():e=new T.NodeSetValue([r.nodeList[r.position]]).stringValue(),e=e.replace(/^\s*/,"").replace(/\s*$/,"").replace(/\s+/g," "),new T.StringValue(e)}function An(r){(0,S.assert)(this.args.length===1);var e=!this.args[0].evaluate(r).booleanValue();return new T.BooleanValue(e)}function Sn(r){return(0,S.assert)(this.args.length===1||this.args.length===0),this.args.length===1?new T.NumberValue(this.args[0].evaluate(r).numberValue()):new T.NumberValue(new T.NodeSetValue([r.nodeList[r.position]]).numberValue())}function Dn(r){return(0,S.assert)(this.args.length===0),new T.NumberValue(r.position+1)}function Mn(r){(0,S.assert)(this.args.length===1);var e=this.args[0].evaluate(r).numberValue();return new T.NumberValue(Math.round(e))}function Cn(r){(0,S.assert)(this.args.length==2);var e=this.args[0].evaluate(r).stringValue(),t=this.args[1].evaluate(r).stringValue();return new T.BooleanValue(e.indexOf(t)===0)}function wn(r){return(0,S.assert)(this.args.length===1||this.args.length===0),this.args.length===0?new T.StringValue(new T.NodeSetValue([r.nodeList[r.position]]).stringValue()):new T.StringValue(this.args[0].evaluate(r).stringValue())}function Ln(r){var e;return this.args.length>0?e=this.args[0].evaluate(r).stringValue():e=new T.NodeSetValue([r.nodeList[r.position]]).stringValue(),new T.NumberValue(e.length)}function Vn(r){(0,S.assert)(this.args.length===2||this.args.length===3);var e=this.args[0].evaluate(r).stringValue(),t=this.args[1].evaluate(r).numberValue(),n;if(this.args.length===2){var a=Math.max(0,Math.round(t)-1);n=e.substr(a)}else{var i=this.args[2].evaluate(r).numberValue(),o=Math.round(t)-1,a=Math.max(0,o),u=Math.round(i)-Math.max(0,-o);n=e.substr(a,u)}return new T.StringValue(n)}function Rn(r){(0,S.assert)(this.args.length===2);var e=this.args[0].evaluate(r).stringValue(),t=this.args[1].evaluate(r).stringValue(),n=e.indexOf(t),a;return n===-1?a="":a=e.substr(n+t.length),new T.StringValue(a)}function Xn(r){(0,S.assert)(this.args.length===2);var e=this.args[0].evaluate(r).stringValue(),t=this.args[1].evaluate(r).stringValue(),n=e.indexOf(t),a;return n===-1?a="":a=e.substr(0,n),new T.StringValue(a)}function In(r){(0,S.assert)(this.args.length===1);for(var e=this.args[0].evaluate(r).nodeSetValue(),t=0,n=0;n<e.length;++n)t+=parseInt((0,ht.xmlValue)(e[n]))-0;return new T.NumberValue(t)}function kn(r){(0,S.assert)(this.args.length===3);for(var e=this.args[0].evaluate(r).stringValue(),t=this.args[1].evaluate(r).stringValue(),n=this.args[2].evaluate(r).stringValue(),a=0;a<t.length;++a)e=e.replace(new RegExp(t.charAt(a),"g"),n.charAt(a));return new T.StringValue(e)}function Kn(){return(0,S.assert)(this.args.length===0),new T.BooleanValue(!0)}function Bn(r){return(0,S.assert)(this.args.length<2),new T.StringValue(JSON.stringify(this.args.length?(0,ht.xmlValue)(r.nodeList[r.position]):"null"))}var fe={};Object.defineProperty(fe,"__esModule",{value:!0});fe.upperCase=Un;fe.lowerCase=Fn;fe._replace=jn;var ft=be,dt=oe;function Un(r){(0,dt.assert)(["2.0","3.0"].includes(r.xsltVersion));var e=this.args[0].evaluate(r).stringValue();return new ft.StringValue(e.toUpperCase())}function Fn(r){(0,dt.assert)(["2.0","3.0"].includes(r.xsltVersion));var e=this.args[0].evaluate(r).stringValue();return new ft.StringValue(e.toLowerCase())}function jn(r){(0,dt.assert)(["2.0","3.0"].includes(r.xsltVersion));var e=this.args[0].evaluate(r).stringValue(),t=this.args[1].evaluate(r).stringValue(),n=this.args[2].evaluate(r).stringValue(),a=new RegExp(t,"g");return new ft.StringValue(e.replace(a,n))}var pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.key=$n;var Gn=oe;function $n(r){(0,Gn.assert)(this.args.length===2);var e=this.args[0].evaluate(r),t=this.args[1].evaluate(r),n=e.stringValue(),a=t.stringValue(),i=r.keys[n][a];return i}(function(r){var e=m&&m.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var u=Object.getOwnPropertyDescriptor(a,i);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,u)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),t=m&&m.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(he,r),t(O,r),t(fe,r),t(pt,r)})(Vt);var Hn=m&&m.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ye,"__esModule",{value:!0});ye.FunctionCallExpr=void 0;var y=Vt,it=he,ot=fe,Qn=K,Wn=k,Yn=function(r){Hn(e,r);function e(t){var n=r.call(this)||this;return n.xPathFunctions={boolean:y.boolean,ceiling:y.ceiling,concat:y.concat,contains:y.contains,count:y.count,current:y.current,"ends-with":y.endsWith,false:y._false,"format-number":y.formatNumber,floor:y.floor,"generate-id":y.generateId,id:y.id,key:y.key,lang:y.lang,last:y.last,"local-name":y.localName,"lower-case":ot.lowerCase,replace:ot._replace,matches:y.matches,name:y._name,"namespace-uri":y.namespaceUri,"normalize-space":y.normalizeSpace,not:y.not,number:y.number,position:y.position,round:y.round,"starts-with":y.startsWith,string:y._string,"xml-to-json":y.xmlToJson,substring:y.substring,"substring-before":y.substringBefore,"substring-after":y.substringAfter,sum:y.sum,"string-length":y.stringLength,translate:y.translate,true:y._true,"upper-case":ot.upperCase,"ext-join":it.extJoin,"ext-if":it.extIf,"ext-cardinal":it.extCardinal},n.name=t,n.args=[],n}return e.prototype.appendArg=function(t){this.args.push(t)},e.prototype.evaluate=function(t){var n="".concat(this.name.value),a=this.xPathFunctions[n];return a?a.call(this,t):new Qn.BooleanValue(!1)},e}(Wn.Expression);ye.FunctionCallExpr=Yn;var Ie={},zn=m&&m.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ie,"__esModule",{value:!0});Ie.LiteralExpr=void 0;var qn=ie,Zn=k,Jn=function(r){zn(e,r);function e(t){var n=r.call(this)||this;return n.value=t,n}return e.prototype.evaluate=function(){return new qn.StringValue(this.value)},e}(Zn.Expression);Ie.LiteralExpr=Jn;var ke={},de={};Object.defineProperty(de,"__esModule",{value:!0});de.NodeTestAny=void 0;var ea=K,ta=function(){function r(){this.value=new ea.BooleanValue(!0)}return r.prototype.evaluate=function(){return this.value},r}();de.NodeTestAny=ta;var ra=m&&m.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ke,"__esModule",{value:!0});ke.LocationExpr=void 0;var na=Z,aa=de,ne=Te,ia=k,oa=function(r){ra(e,r);function e(t){var n=r.call(this)||this;return n.absolute=!1,n.steps=[],n.xPath=t,n}return e.prototype.appendStep=function(t){var n=this._combineSteps(this.steps[this.steps.length-1],t);n?this.steps[this.steps.length-1]=n:this.steps.push(t)},e.prototype.prependStep=function(t){var n=this._combineSteps(t,this.steps[0]);n?this.steps[0]=n:this.steps.unshift(t)},e.prototype._combineSteps=function(t,n){if(!t||!n)return null;var a=t.predicates&&t.predicates.length>0;if(t.nodeTest instanceof aa.NodeTestAny&&!a){if(t.axis==ne.xPathAxis.DESCENDANT_OR_SELF){if(n.axis!=ne.xPathAxis.CHILD){if(n.axis==ne.xPathAxis.SELF)return n.axis=ne.xPathAxis.DESCENDANT_OR_SELF,n}}else if(t.axis==ne.xPathAxis.DESCENDANT&&n.axis==ne.xPathAxis.SELF)return n.axis=ne.xPathAxis.DESCENDANT,n}return null},e.prototype.evaluate=function(t){var n;this.absolute?n=t.root:n=t.nodeList[t.position];var a=[];return this.xPath.xPathStep(a,this.steps,0,n,t),new na.NodeSetValue(a)},e}(ia.Expression);ke.LocationExpr=oa;var Pe={},ua=m&&m.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Pe,"__esModule",{value:!0});Pe.NumberExpr=void 0;var sa=re,la=k,ca=function(r){ua(e,r);function e(t){var n=r.call(this)||this;return n.value=t,n}return e.prototype.evaluate=function(){return new sa.NumberValue(this.value)},e}(la.Expression);Pe.NumberExpr=ca;var Ke={},ha=m&&m.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ke,"__esModule",{value:!0});Ke.PathExpr=void 0;var Ot=Z,fa=k,da=function(r){ha(e,r);function e(t,n){var a=r.call(this)||this;return a.filter=t,a.rel=n,a}return e.prototype.evaluate=function(t){var n=this.filter.evaluate(t).nodeSetValue(),a=[];if(t.returnOnFirstMatch){for(var i=0;i<n.length&&(a=this.rel.evaluate(t.clone(n,void 0,i)).nodeSetValue(),!(a.length>0));++i);return new Ot.NodeSetValue(a)}for(var i=0;i<n.length;++i)for(var o=this.rel.evaluate(t.clone(n,void 0,i)).nodeSetValue(),u=0;u<o.length;++u)a.push(o[u]);return new Ot.NodeSetValue(a)},e}(fa.Expression);Ke.PathExpr=da;var Be={},pa=m&&m.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Be,"__esModule",{value:!0});Be.PredicateExpr=void 0;var yt=K,va=k,_a=function(r){pa(e,r);function e(t){var n=r.call(this)||this;return n.expression=t,n}return e.prototype.evaluate=function(t){var n=this.expression.evaluate(t);return n.type=="number"?new yt.BooleanValue(t.position==n.numberValue()-1):new yt.BooleanValue(n.booleanValue())},e}(va.Expression);Be.PredicateExpr=_a;var Ue={},xe={},ma=m&&m.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(xe,"__esModule",{value:!0});xe.UnaryMinusExpr=void 0;var Ea=re,Ta=k,ga=function(r){ma(e,r);function e(t){var n=r.call(this)||this;return n.expr=t,n}return e.prototype.evaluate=function(t){return new Ea.NumberValue(-this.expr.evaluate(t).numberValue())},e}(Ta.Expression);xe.UnaryMinusExpr=ga;var Na=m&&m.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ue,"__esModule",{value:!0});Ue.StepExpr=void 0;var Y=g,Oa=te,ya=Z,ba=de,U=Te,Pa=k,bt=Oe,Pt=ye,xa=Pe,Aa=xe,Ae=Ne,Sa=function(r){Na(e,r);function e(t,n,a,i){var o=r.call(this)||this;o.axis=t,o.nodeTest=n,o.predicate=i||[],o.hasPositionalPredicate=!1,o.xPath=a;for(var u=0;u<o.predicate.length;++u)if(o.predicateExprHasPositionalSelector(o.predicate[u].expr)){o.hasPositionalPredicate=!0;break}return o}return e.prototype.predicateExprHasPositionalSelector=function(t,n){if(!t)return!1;if(!n&&this.exprReturnsNumberValue(t))return!0;if(t instanceof Pt.FunctionCallExpr){var a=t.name.value;return a=="last"||a=="position"}return t instanceof bt.BinaryExpr?this.predicateExprHasPositionalSelector(t.expr1,!0)||this.predicateExprHasPositionalSelector(t.expr2,!0):!1},e.prototype.exprReturnsNumberValue=function(t){if(t instanceof Pt.FunctionCallExpr){var n={last:!0,position:!0,count:!0,"string-length":!0,number:!0,sum:!0,floor:!0,ceiling:!0,round:!0};return n[t.name.value]}if(t instanceof Aa.UnaryMinusExpr)return!0;if(t instanceof bt.BinaryExpr){var n={"+":!0,"-":!0,"*":!0,mod:!0,div:!0};return n[t.op.value]}return t instanceof xa.NumberExpr},e.prototype.appendPredicate=function(t){this.predicate.push(t),this.hasPositionalPredicate||(this.hasPositionalPredicate=this.predicateExprHasPositionalSelector(t.expression))},e.prototype.evaluate=function(t){var n=t.nodeList[t.position],a=[],i=!1;switch(this.nodeTest instanceof ba.NodeTestAny&&(i=!0),this.axis){case U.xPathAxis.ANCESTOR_OR_SELF:a.push(n);for(var o=n.parentNode;o;o=o.parentNode)o.nodeType!==Y.DOM_ATTRIBUTE_NODE&&a.push(o);break;case U.xPathAxis.ANCESTOR:for(var o=n.parentNode;o;o=o.parentNode)o.nodeType!==Y.DOM_ATTRIBUTE_NODE&&a.push(o);break;case U.xPathAxis.ATTRIBUTE:var u=n.childNodes.filter(function(x){return x.nodeType===Y.DOM_ATTRIBUTE_NODE});if(this.nodeTest.name!==void 0){if(u)if(u instanceof Array)(0,Ae.copyArray)(a,u);else if(this.nodeTest.name=="style"){var s=n.getAttributeValue("style");s&&typeof s!="string"?a.push(Oa.XNode.create(Y.DOM_ATTRIBUTE_NODE,"style",s.cssText,document)):a.push(u[this.nodeTest.name])}else a.push(u[this.nodeTest.name])}else t.ignoreAttributesWithoutValue?(0,Ae.copyArrayIgnoringAttributesWithoutValue)(a,u):(0,Ae.copyArray)(a,u);break;case U.xPathAxis.CHILD:(0,Ae.copyArray)(a,n.childNodes.filter(function(x){return x.nodeType!==Y.DOM_ATTRIBUTE_NODE}));break;case U.xPathAxis.DESCENDANT_OR_SELF:{this.nodeTest.evaluate(t).booleanValue()&&a.push(n);var l=this.xPath.xPathExtractTagNameFromNodeTest(this.nodeTest,t.ignoreNonElementNodesForNTA);this.xPath.xPathCollectDescendants(a,n,l),l&&(i=!0);break}case U.xPathAxis.DESCENDANT:{var l=this.xPath.xPathExtractTagNameFromNodeTest(this.nodeTest,t.ignoreNonElementNodesForNTA);this.xPath.xPathCollectDescendants(a,n,l),l&&(i=!0);break}case U.xPathAxis.FOLLOWING:for(var o=n;o;o=o.parentNode)for(var c=o.nextSibling;c;c=c.nextSibling)c.nodeType!==Y.DOM_ATTRIBUTE_NODE&&a.push(c),this.xPath.xPathCollectDescendants(a,c);break;case U.xPathAxis.FOLLOWING_SIBLING:if(n.nodeType===Y.DOM_ATTRIBUTE_NODE)break;for(var o=n.nextSibling;o;o=o.nextSibling)o.nodeType!==Y.DOM_ATTRIBUTE_NODE&&a.push(o);break;case U.xPathAxis.NAMESPACE:throw new Error("not implemented: axis namespace");case U.xPathAxis.PARENT:n.parentNode&&a.push(n.parentNode);break;case U.xPathAxis.PRECEDING:for(var o=n;o;o=o.parentNode)for(var c=o.previousSibling;c;c=c.previousSibling)c.nodeType!==Y.DOM_ATTRIBUTE_NODE&&a.push(c),this.xPath.xPathCollectDescendantsReverse(a,c);break;case U.xPathAxis.PRECEDING_SIBLING:for(var o=n.previousSibling;o;o=o.previousSibling)o.nodeType!==Y.DOM_ATTRIBUTE_NODE&&a.push(o);break;case U.xPathAxis.SELF:a.push(n);break;case U.xPathAxis.SELF_AND_SIBLINGS:for(var d=0,f=t.nodeList;d<f.length;d++){var p=f[d];p.nodeType!==Y.DOM_ATTRIBUTE_NODE&&a.push(p)}break;default:throw new Error("ERROR -- NO SUCH AXIS: ".concat(this.axis))}if(!i){var E=a;a=[];for(var b=0;b<E.length;++b)this.nodeTest.evaluate(t.clone(E,void 0,b)).booleanValue()&&a.push(E[b])}if(!t.returnOnFirstMatch)for(var b=0;b<this.predicate.length;++b){var E=a;a=[];for(var M=0;M<E.length;++M){var o=E[M];this.predicate[b].evaluate(t.clone(E,void 0,M)).booleanValue()&&a.push(o)}}return new ya.NodeSetValue(a)},e}(Pa.Expression);Ue.StepExpr=Sa;var Fe={},Da=m&&m.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Fe,"__esModule",{value:!0});Fe.TokenExpr=void 0;var Ma=ie,Ca=k,wa=function(r){Da(e,r);function e(t){var n=r.call(this)||this;return n.value=t,n}return e.prototype.evaluate=function(){return new Ma.StringValue(this.value)},e}(Ca.Expression);Fe.TokenExpr=wa;var je={},La=m&&m.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(je,"__esModule",{value:!0});je.UnionExpr=void 0;var Va=Z,Ra=k,Xa=function(r){La(e,r);function e(t,n){var a=r.call(this)||this;return a.expr1=t,a.expr2=n,a}return e.prototype.evaluate=function(t){for(var n=this.expr1.evaluate(t).nodeSetValue(),a=this.expr2.evaluate(t).nodeSetValue(),i=n.length,o=0,u=a;o<u.length;o++){for(var s=u[o],l=!1,c=0;c<i;++c)n[c]==s&&(l=!0,c=i);l||n.push(s)}return new Va.NodeSetValue(n)},e}(Ra.Expression);je.UnionExpr=Xa;var Ge={},Ia=m&&m.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ge,"__esModule",{value:!0});Ge.VariableExpr=void 0;var ka=k,Ka=function(r){Ia(e,r);function e(t){var n=r.call(this)||this;return n.name=t,n}return e.prototype.evaluate=function(t){return t.getVariable(this.name)},e}(ka.Expression);Ge.VariableExpr=Ka;(function(r){var e=m&&m.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var u=Object.getOwnPropertyDescriptor(a,i);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,u)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),t=m&&m.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(Oe,r),t(Xe,r),t(ye,r),t(Ie,r),t(ke,r),t(Pe,r),t(Ke,r),t(Be,r),t(Ue,r),t(Fe,r),t(xe,r),t(je,r),t(Ge,r)})(lt);var N={};Object.defineProperty(N,"__esModule",{value:!0});N.XPathDigits=N.XPathFilterExpr=N.XPathUnionExpr=N.XPathPathExpr=N.XPathArgumentRemainder=N.XPathFunctionCall=N.XPathNumber=N.XPathVariableReference=N.XPathPrimaryExpr=N.XPathExpr=N.XPathLiteral=N.XPathPredicate=N.XPathNodeTest=N.XPathStep=N.XPathAbsoluteLocationPath=N.XPathRelativeLocationPath=N.XPathLocationPath=void 0;N.XPathLocationPath={label:"LocationPath",key:void 0};N.XPathRelativeLocationPath={label:"RelativeLocationPath",key:void 0};N.XPathAbsoluteLocationPath={label:"AbsoluteLocationPath",key:void 0};N.XPathStep={label:"Step",key:void 0};N.XPathNodeTest={label:"NodeTest",key:void 0};N.XPathPredicate={label:"Predicate",key:void 0};N.XPathLiteral={label:"Literal",key:void 0};N.XPathExpr={label:"Expr",key:void 0};N.XPathPrimaryExpr={label:"PrimaryExpr",key:void 0};N.XPathVariableReference={label:"Variablereference",key:void 0};N.XPathNumber={label:"Number",key:void 0};N.XPathFunctionCall={label:"FunctionCall",key:void 0};N.XPathArgumentRemainder={label:"ArgumentRemainder",key:void 0};N.XPathPathExpr={label:"PathExpr",key:void 0};N.XPathUnionExpr={label:"UnionExpr",key:void 0};N.XPathFilterExpr={label:"FilterExpr",key:void 0};N.XPathDigits={label:"Digits",key:void 0};var It={},$e={};Object.defineProperty($e,"__esModule",{value:!0});$e.NodeTestComment=void 0;var Ba=g,Ua=K,Fa=function(){function r(){}return r.prototype.evaluate=function(e){return new Ua.BooleanValue(e.nodeList[e.position].nodeType==Ba.DOM_COMMENT_NODE)},r}();$e.NodeTestComment=Fa;var He={};Object.defineProperty(He,"__esModule",{value:!0});He.NodeTestElementOrAttribute=void 0;var xt=g,ja=K,Ga=function(){function r(){}return r.prototype.evaluate=function(e){var t=e.nodeList[e.position];return new ja.BooleanValue(t.nodeType==xt.DOM_ELEMENT_NODE||t.nodeType==xt.DOM_ATTRIBUTE_NODE)},r}();He.NodeTestElementOrAttribute=Ga;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.NodeTestName=void 0;var ae=K,$a=function(){function r(e){if(this.name=e,e.indexOf(":")>0){var t=e.split(":");this.namespacePrefix=t[0],this.name=t[1]}this.re=new RegExp("^".concat(e,"$"),"i")}return r.prototype.evaluate=function(e){var t=e.nodeList[e.position];if(this.namespacePrefix!==void 0){var n=e.knownNamespaces[this.namespacePrefix];return n!==t.namespaceUri?new ae.BooleanValue(!1):e.caseInsensitive?t.localName.length!==this.name.length?new ae.BooleanValue(!1):new ae.BooleanValue(this.re.test(t.localName)):new ae.BooleanValue(t.localName===this.name)}return e.caseInsensitive?t.nodeName.length!==this.name.length?new ae.BooleanValue(!1):new ae.BooleanValue(this.re.test(t.nodeName)):new ae.BooleanValue(t.nodeName===this.name)},r}();Qe.NodeTestName=$a;var We={};Object.defineProperty(We,"__esModule",{value:!0});We.NodeTestNC=void 0;var Ha=K,Qa=function(){function r(e){this.regex=new RegExp("^".concat(e,":")),this.nsprefix=e}return r.prototype.evaluate=function(e){var t=e.nodeList[e.position];return new Ha.BooleanValue(t.nodeName.match(this.regex))},r}();We.NodeTestNC=Qa;var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.NodeTestPI=void 0;var Wa=g,Ya=K,za=function(){function r(e){this.target=e}return r.prototype.evaluate=function(e){var t=e.nodeList[e.position];return new Ya.BooleanValue(t.nodeType==Wa.DOM_PROCESSING_INSTRUCTION_NODE&&(!this.target||t.nodeName==this.target))},r}();Ye.NodeTestPI=za;var ze={};Object.defineProperty(ze,"__esModule",{value:!0});ze.NodeTestText=void 0;var qa=g,Za=K,Ja=function(){function r(){}return r.prototype.evaluate=function(e){return new Za.BooleanValue(e.nodeList[e.position].nodeType==qa.DOM_TEXT_NODE)},r}();ze.NodeTestText=Ja;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.NodeTestText=r.NodeTestPI=r.NodeTestNC=r.NodeTestName=r.NodeTestElementOrAttribute=r.NodeTestComment=r.NodeTestAny=void 0;var e=de;Object.defineProperty(r,"NodeTestAny",{enumerable:!0,get:function(){return e.NodeTestAny}});var t=$e;Object.defineProperty(r,"NodeTestComment",{enumerable:!0,get:function(){return t.NodeTestComment}});var n=He;Object.defineProperty(r,"NodeTestElementOrAttribute",{enumerable:!0,get:function(){return n.NodeTestElementOrAttribute}});var a=Qe;Object.defineProperty(r,"NodeTestName",{enumerable:!0,get:function(){return a.NodeTestName}});var i=We;Object.defineProperty(r,"NodeTestNC",{enumerable:!0,get:function(){return i.NodeTestNC}});var o=Ye;Object.defineProperty(r,"NodeTestPI",{enumerable:!0,get:function(){return o.NodeTestPI}});var u=ze;Object.defineProperty(r,"NodeTestText",{enumerable:!0,get:function(){return u.NodeTestText}})})(It);Object.defineProperty(Re,"__esModule",{value:!0});Re.XPath=void 0;var ve=ge,ei=Ne,A=lt,v=Te,h=N,R=It,ti=g,ri=function(){function r(){this.xPathGrammarRules=[[h.XPathLocationPath,[h.XPathRelativeLocationPath],18,this.passExpr],[h.XPathLocationPath,[h.XPathAbsoluteLocationPath],18,this.passExpr],[h.XPathAbsoluteLocationPath,[v.TOK_SLASH,h.XPathRelativeLocationPath],18,this.makeLocationExpr1],[h.XPathAbsoluteLocationPath,[v.TOK_DSLASH,h.XPathRelativeLocationPath],18,this.makeLocationExpr2],[h.XPathAbsoluteLocationPath,[v.TOK_SLASH],0,this.makeLocationExpr3],[h.XPathAbsoluteLocationPath,[v.TOK_DSLASH],0,this.makeLocationExpr4],[h.XPathRelativeLocationPath,[h.XPathStep],31,this.makeLocationExpr5],[h.XPathRelativeLocationPath,[h.XPathRelativeLocationPath,v.TOK_SLASH,h.XPathStep],31,this.makeLocationExpr6],[h.XPathRelativeLocationPath,[h.XPathRelativeLocationPath,v.TOK_DSLASH,h.XPathStep],31,this.makeLocationExpr7],[h.XPathStep,[v.TOK_DOT],33,this.makeStepExpr1],[h.XPathStep,[v.TOK_DDOT],33,this.makeStepExpr2],[h.XPathStep,[v.TOK_AXISNAME,v.TOK_AXIS,h.XPathNodeTest],33,this.makeStepExpr3],[h.XPathStep,[v.TOK_AT,h.XPathNodeTest],33,this.makeStepExpr4],[h.XPathStep,[h.XPathNodeTest],33,this.makeStepExpr5],[h.XPathStep,[h.XPathStep,h.XPathPredicate],33,this.makeStepExpr6],[h.XPathNodeTest,[v.TOK_ASTERISK],33,this.makeNodeTestExpr1],[h.XPathNodeTest,[v.TOK_NCNAME,v.TOK_COLON,v.TOK_ASTERISK],33,this.makeNodeTestExpr2],[h.XPathNodeTest,[v.TOK_QNAME],33,this.makeNodeTestExpr3],[h.XPathNodeTest,[v.TOK_NODEO,v.TOK_PARENC],33,this.makeNodeTestExpr4],[h.XPathNodeTest,[v.TOK_NODEO,h.XPathLiteral,v.TOK_PARENC],33,this.makeNodeTestExpr5],[h.XPathPredicate,[v.TOK_BRACKO,h.XPathExpr,v.TOK_BRACKC],33,this.makePredicateExpr],[h.XPathPrimaryExpr,[h.XPathVariableReference],33,this.passExpr],[h.XPathPrimaryExpr,[v.TOK_PARENO,h.XPathExpr,v.TOK_PARENC],33,this.makePrimaryExpr],[h.XPathPrimaryExpr,[h.XPathLiteral],30,this.passExpr],[h.XPathPrimaryExpr,[h.XPathNumber],30,this.passExpr],[h.XPathPrimaryExpr,[h.XPathFunctionCall],31,this.passExpr],[h.XPathFunctionCall,[v.TOK_QNAME,v.TOK_PARENO,v.TOK_PARENC],-1,this.makeFunctionCallExpr1],[h.XPathFunctionCall,[v.TOK_QNAME,v.TOK_PARENO,h.XPathExpr,h.XPathArgumentRemainder,v.Q_ZERO_OR_MULTIPLE,v.TOK_PARENC],-1,this.makeFunctionCallExpr2],[h.XPathArgumentRemainder,[v.TOK_COMMA,h.XPathExpr],-1,this.makeArgumentExpr],[h.XPathUnionExpr,[h.XPathPathExpr],20,this.passExpr],[h.XPathUnionExpr,[h.XPathUnionExpr,v.TOK_PIPE,h.XPathPathExpr],20,this.makeUnionExpr],[h.XPathPathExpr,[h.XPathLocationPath],20,this.passExpr],[h.XPathPathExpr,[h.XPathFilterExpr],19,this.passExpr],[h.XPathPathExpr,[h.XPathFilterExpr,v.TOK_SLASH,h.XPathRelativeLocationPath],19,this.makePathExpr1],[h.XPathPathExpr,[h.XPathFilterExpr,v.TOK_DSLASH,h.XPathRelativeLocationPath],19,this.makePathExpr2],[h.XPathFilterExpr,[h.XPathPrimaryExpr,h.XPathPredicate,v.Q_ZERO_OR_MULTIPLE],31,this.makeFilterExpr],[h.XPathExpr,[h.XPathPrimaryExpr],16,this.passExpr],[h.XPathExpr,[h.XPathUnionExpr],16,this.passExpr],[h.XPathExpr,[v.TOK_MINUS,h.XPathExpr],-1,this.makeUnaryMinusExpr],[h.XPathExpr,[h.XPathExpr,v.TOK_OR,h.XPathExpr],-1,this.makeBinaryExpr],[h.XPathExpr,[h.XPathExpr,v.TOK_AND,h.XPathExpr],-1,this.makeBinaryExpr],[h.XPathExpr,[h.XPathExpr,v.TOK_EQ,h.XPathExpr],-1,this.makeBinaryExpr],[h.XPathExpr,[h.XPathExpr,v.TOK_NEQ,h.XPathExpr],-1,this.makeBinaryExpr],[h.XPathExpr,[h.XPathExpr,v.TOK_LT,h.XPathExpr],-1,this.makeBinaryExpr],[h.XPathExpr,[h.XPathExpr,v.TOK_LE,h.XPathExpr],-1,this.makeBinaryExpr],[h.XPathExpr,[h.XPathExpr,v.TOK_GT,h.XPathExpr],-1,this.makeBinaryExpr],[h.XPathExpr,[h.XPathExpr,v.TOK_GE,h.XPathExpr],-1,this.makeBinaryExpr],[h.XPathExpr,[h.XPathExpr,v.TOK_PLUS,h.XPathExpr],-1,this.makeBinaryExpr,v.ASSOC_LEFT],[h.XPathExpr,[h.XPathExpr,v.TOK_MINUS,h.XPathExpr],-1,this.makeBinaryExpr,v.ASSOC_LEFT],[h.XPathExpr,[h.XPathExpr,v.TOK_ASTERISK,h.XPathExpr],-1,this.makeBinaryExpr,v.ASSOC_LEFT],[h.XPathExpr,[h.XPathExpr,v.TOK_DIV,h.XPathExpr],-1,this.makeBinaryExpr,v.ASSOC_LEFT],[h.XPathExpr,[h.XPathExpr,v.TOK_MOD,h.XPathExpr],-1,this.makeBinaryExpr,v.ASSOC_LEFT],[h.XPathLiteral,[v.TOK_LITERALQ],-1,this.makeLiteralExpr],[h.XPathLiteral,[v.TOK_LITERALQQ],-1,this.makeLiteralExpr],[h.XPathNumber,[v.TOK_NUMBER],-1,this.makeNumberExpr],[h.XPathVariableReference,[v.TOK_DOLLAR,v.TOK_QNAME],200,this.makeVariableReference]],this.xPathParseCache={},this.xPathRules=[],this.xPathLog=function(){},this.lexerCount=0,this.parseCount=0,this.reduceCount=0}return r.prototype.makeTokenExpr=function(e){return new A.TokenExpr(e)},r.prototype.passExpr=function(e){return e},r.prototype.makeLocationExpr1=function(e,t){return t.absolute=!0,t},r.prototype.makeLocationExpr2=function(e,t){return t.absolute=!0,t.prependStep(this.makeAbbrevStep(e.value)),t},r.prototype.makeLocationExpr3=function(){var e=new A.LocationExpr(this);return e.appendStep(this.makeAbbrevStep(".")),e.absolute=!0,e},r.prototype.makeLocationExpr4=function(e){var t=new A.LocationExpr(this);return t.absolute=!0,t.appendStep(this.makeAbbrevStep(e.value)),t},r.prototype.makeLocationExpr5=function(e){var t=new A.LocationExpr(this);return t.appendStep(e),t},r.prototype.makeLocationExpr6=function(e,t,n){return e.appendStep(n),e},r.prototype.makeLocationExpr7=function(e,t,n){return e.appendStep(this.makeAbbrevStep(t.value)),e.appendStep(n),e},r.prototype.makeStepExpr1=function(e){return this.makeAbbrevStep(e.value)},r.prototype.makeStepExpr2=function(e){return this.makeAbbrevStep(e.value)},r.prototype.makeStepExpr3=function(e,t,n){return new A.StepExpr(e.value,n,this)},r.prototype.makeStepExpr4=function(e,t){return new A.StepExpr("attribute",t,this)},r.prototype.makeStepExpr5=function(e,t){return new A.StepExpr(t||"child",e,this)},r.prototype.makeStepExpr6=function(e,t){return e.appendPredicate(t),e},r.prototype.makeAbbrevStep=function(e){switch(e){case"//":return new A.StepExpr("descendant-or-self",new R.NodeTestAny,this);case".":return new A.StepExpr("self",new R.NodeTestAny,this);case"..":return new A.StepExpr("parent",new R.NodeTestAny,this)}},r.prototype.makeNodeTestExpr1=function(){return new R.NodeTestElementOrAttribute},r.prototype.makeNodeTestExpr2=function(e){return new R.NodeTestNC(e.value)},r.prototype.makeNodeTestExpr3=function(e){return new R.NodeTestName(e.value)},r.prototype.makeNodeTestExpr4=function(e){var t=e.value.replace(/\s*\($/,"");switch(t){case"node":return new R.NodeTestAny;case"text":return new R.NodeTestText;case"comment":return new R.NodeTestComment;case"processing-instruction":return new R.NodeTestPI("")}},r.prototype.makeNodeTestExpr5=function(e,t){var n=e.replace(/\s*\($/,"");if(n!="processing-instruction")throw n;return new R.NodeTestPI(t.value)},r.prototype.makePredicateExpr=function(e,t){return new A.PredicateExpr(t)},r.prototype.makePrimaryExpr=function(e,t){return t},r.prototype.makeFunctionCallExpr1=function(e){return new A.FunctionCallExpr(e)},r.prototype.makeFunctionCallExpr2=function(e,t,n,a){var i=new A.FunctionCallExpr(e);i.appendArg(n);for(var o=0;o<a.length;++o)i.appendArg(a[o]);return i},r.prototype.makeArgumentExpr=function(e,t){return t},r.prototype.makeUnionExpr=function(e,t,n){return new A.UnionExpr(e,n)},r.prototype.makePathExpr1=function(e,t,n){return new A.PathExpr(e,n)},r.prototype.makePathExpr2=function(e,t,n){return n.prependStep(this.makeAbbrevStep(t.value)),new A.PathExpr(e,n)},r.prototype.makeFilterExpr=function(e,t){return t.length>0?new A.FilterExpr(e,t):e},r.prototype.makeUnaryMinusExpr=function(e,t){return new A.UnaryMinusExpr(t)},r.prototype.makeBinaryExpr=function(e,t,n){return new A.BinaryExpr(e,t,n)},r.prototype.makeLiteralExpr=function(e){var t=e.value.substring(1,e.value.length-1);return new A.LiteralExpr(t)},r.prototype.makeNumberExpr=function(e){return new A.NumberExpr(e.value)},r.prototype.makeVariableReference=function(e,t){return new A.VariableExpr(t.value)},r.prototype.makeSimpleExpr=function(e,t){if(e.charAt(0)=="$")return new A.VariableExpr(e.substr(1));if(e.charAt(0)=="@"){var n=new R.NodeTestName(e.substr(1)),a=new A.StepExpr("attribute",n,this),i=new A.LocationExpr(this);return i.appendStep(a),i}if(e.match(/^[0-9]+$/))return new A.NumberExpr(e);var o=new R.NodeTestName(e),u=new A.StepExpr(t||v.xPathAxis.CHILD,o,this),s=new A.LocationExpr(this);return s.appendStep(u),s},r.prototype.makeSimpleExpr2=function(e){for(var t=e.split("/"),n=new A.LocationExpr(this),a=0;a<t.length;++a){var i=new R.NodeTestName(t[a]),o=new A.StepExpr(v.xPathAxis.CHILD,i,this);n.appendStep(o)}return n},r.prototype.stackToString=function(e){for(var t="",n=0;n<e.length;++n)t&&(t+=`
`),t+=e[n].tag.label;return t},r.prototype.xPathCacheLookup=function(e){return this.xPathParseCache[e]},r.prototype.xPathCollectDescendants=function(e,t,n){if(n&&t.getElementsByTagName){(0,ei.copyArray)(e,t.getElementsByTagName(n));return}for(var a=t.firstChild;a;a=a.nextSibling)a.nodeType!==ti.DOM_ATTRIBUTE_NODE&&e.push(a),this.xPathCollectDescendants(e,a)},r.prototype.xPathCollectDescendantsReverse=function(e,t){for(var n=t.lastChild;n;n=n.previousSibling)e.push(n),this.xPathCollectDescendantsReverse(e,n)},r.prototype.xPathEval=function(e,t){var n=this.xPathParse(e),a=n.evaluate(t);return a},r.prototype.xPathExtractTagNameFromNodeTest=function(e,t){if(e instanceof R.NodeTestName)return e.name;if(t&&e instanceof R.NodeTestAny||e instanceof R.NodeTestElementOrAttribute)return"*"},r.prototype.xPathMatchStack=function(e,t){var n=e.length,a=t.length,i,o,u=[];u.matchLength=0;var s=0;for(i=a-1,o=n-1;i>=0&&o>=0;--i,o-=s){s=0;var l=[];if(t[i]==v.Q_ZERO_OR_MULTIPLE)for(i-=1,u.push(l);o-s>=0&&e[o-s].tag==t[i];)l.push(e[o-s]),s+=1,u.matchLength+=1;else if(t[i]==v.Q_ZERO_OR_ONE)for(i-=1,u.push(l);o-s>=0&&s<2&&e[o-s].tag==t[i];)l.push(e[o-s]),s+=1,u.matchLength+=1;else if(t[i]==v.Q_ONE_OR_MULTIPLE)if(i-=1,u.push(l),e[o].tag==t[i])for(;o-s>=0&&e[o-s].tag==t[i];)l.push(e[o-s]),s+=1,u.matchLength+=1;else return[];else if(e[o].tag==t[i])u.push(e[o]),s+=1,u.matchLength+=1;else return[];(0,ve.reverseInPlace)(l),l.expr=(0,ve.mapExpr)(l,function(c){return c.expr})}return(0,ve.reverseInPlace)(u),i===-1?u:[]},r.prototype.findXPathRuleForExpression=function(e,t){for(var n=null,a="",i=0;i<v.xPathTokenRules.length;++i){var o=v.xPathTokenRules[i].re.exec(e);if(this.lexerCount++,o!==null&&o.length>0&&o[0].length>0){n=v.xPathTokenRules[i],a=o[0];break}}return n&&(n==v.TOK_DIV||n==v.TOK_MOD||n==v.TOK_AND||n==v.TOK_OR)&&(!t||t.tag==v.TOK_AT||t.tag==v.TOK_DSLASH||t.tag==v.TOK_SLASH||t.tag==v.TOK_AXIS||t.tag==v.TOK_DOLLAR)&&(n=v.TOK_QNAME),{rule:n,match:a}},r.prototype.xPathParseInit=function(){if(this.xPathRules.length)return;var e=[h.XPathLocationPath,h.XPathRelativeLocationPath,h.XPathAbsoluteLocationPath,h.XPathStep,h.XPathNodeTest,h.XPathPredicate,h.XPathLiteral,h.XPathExpr,h.XPathPrimaryExpr,h.XPathVariableReference,h.XPathNumber,h.XPathFunctionCall,h.XPathArgumentRemainder,h.XPathPathExpr,h.XPathUnionExpr,h.XPathFilterExpr,h.XPathDigits];this.xPathGrammarRules.sort(function(l,c){var d=l[1].length,f=c[1].length;return d<f?1:d>f?-1:0});for(var t=1,n=0;n<e.length;++n)e[n].key=t++;for(var n=0;n<v.xPathTokenRules.length;++n)v.xPathTokenRules[n].key=t++;this.xPathLog("XPath parse INIT: ".concat(t," rules"));function a(l,c,d){l[c]||(l[c]=[]),l[c].push(d)}for(var n=0;n<this.xPathGrammarRules.length;++n)for(var i=this.xPathGrammarRules[n],o=i[1],u=o.length-1;u>=0;--u)if(o[u]==v.Q_ONE_OR_MULTIPLE){a(this.xPathRules,o[u-1].key,i);break}else if(o[u]==v.Q_ZERO_OR_MULTIPLE||o[u]==v.Q_ZERO_OR_ONE)a(this.xPathRules,o[u-1].key,i),--u;else{a(this.xPathRules,o[u].key,i);break}this.xPathLog("XPath parse INIT: ".concat(this.xPathRules.length," rule bins"));var s=0;(0,ve.mapExec)(this.xPathRules,function(l){l&&(s+=l.length)}),this.xPathLog("XPath parse INIT: ".concat(s/this.xPathRules.length," average bin size"))},r.prototype.xPathParse=function(e,t){var n="".concat(e);if(this.xPathLog("parse ".concat(e)),this.xPathParseInit(),e.match(/^(\$|@)?\w+$/i)){var a=this.makeSimpleExpr(e,t);return this.xPathParseCache[e]=a,this.xPathLog(" ... simple"),a}if(e.match(/^\w+(\/\w+)*$/i)){var a=this.makeSimpleExpr2(e);return this.xPathParseCache[e]=a,this.xPathLog(" ... simple 2"),a}var i=e,o=[],u=null,s=null,l=!1,c=0;this.lexerCount=0;for(var d=0;!l;){c++,e=e.replace(/^\s*/,""),s=u,u=null;var f=this.findXPathRuleForExpression(e,s),p=f.rule,E=f.match;for(p?(e=e.substr(E.length),this.xPathLog("token: ".concat(E," -- ").concat(p.label)),u={tag:p,match:E,prec:p.prec?p.prec:0,expr:this.makeTokenExpr(E)}):(this.xPathLog("DONE"),l=!0);this.xPathReduce(o,u);)d++,this.xPathLog("stack: ".concat(this.stackToString(o)))}if(this.xPathLog("stack: ".concat(this.stackToString(o))),o.length!==1)throw"XPath parse error ".concat(i,`:
`).concat(this.stackToString(o));var b=o[0].expr;return t!==void 0&&!b.absolute&&!n.startsWith("*")&&b.steps&&Array.isArray(b.steps)&&(b.steps[0].axis=t),this.xPathParseCache[i]=b,this.xPathLog("XPath parse: ".concat(c," / ").concat(this.lexerCount," / ").concat(d)),b},r.prototype.findGrammarRuleCandidate=function(e,t){for(var n=0;n<e.length;++n){var a=e[n],i=this.xPathMatchStack(t,a[1]);if(i.length){var o={tag:a[0],rule:a,match:i,prec:void 0};return o.prec=this.xPathGrammarPrecedence(o),o}}return null},r.prototype.xPathReduce=function(e,t){var n=null;if(e.length>0){var a=e[e.length-1],i=this.xPathRules[a.tag.key];i&&(n=this.findGrammarRuleCandidate(i,e))}if(n&&(!t||n.prec>t.prec||t.tag.left&&n.prec>=t.prec)){for(var o=0;o<n.match.matchLength;++o)e.pop();this.xPathLog("reduce ".concat(n.tag.label," ").concat(n.prec," ahead ").concat(t?t.tag.label+" "+t.prec+(t.tag.left?" left":""):" none "));var u=(0,ve.mapExpr)(n.match,function(s){return s.expr});return this.xPathLog("going to apply ".concat(n.rule[3])),n.expr=n.rule[3].apply(this,u),e.push(n),!0}else return t&&(this.xPathLog("shift ".concat(t.tag.label," ").concat(t.prec).concat(t.tag.left?" left":""," over ").concat(n?n.tag.label+" "+n.prec:" none")),e.push(t)),!1},r.prototype.xPathSort=function(e,t){if(t.length!==0){for(var n=[],a=0;a<e.contextSize();++a){for(var i=e.nodeList[a],o={node:i,key:[]},u=e.clone([i],void 0,0,void 0),s=0,l=t;s<l.length;s++){var c=l[s],d=c.expr.evaluate(u),f=void 0;c.type==="text"?f=d.stringValue():c.type==="number"&&(f=d.numberValue()),o.key.push({value:f,order:c.order})}o.key.push({value:a,order:"ascending"}),n.push(o)}n.sort(this.xPathSortByKey);for(var p=[],a=0;a<n.length;++a){var i=n[a].node;i.siblingPosition=a,p.push(i)}e.nodeList=p,e.setNode(0)}},r.prototype.xPathSortByKey=function(e,t){for(var n=0;n<e.key.length;++n){var a=e.key[n].order=="descending"?-1:1;if(e.key[n].value>t.key[n].value)return 1*a;if(e.key[n].value<t.key[n].value)return-1*a}return 0},r.prototype.xPathStep=function(e,t,n,a,i){var o=t[n],u=i.clone([a],void 0,0,void 0);if(i.returnOnFirstMatch&&!o.hasPositionalPredicate){var s=o.evaluate(u).nodeSetValue(),l=s.length,c=o.predicate.length;e:for(var d=0;d<l;++d){for(var f=0;f<c;++f)if(!o.predicate[f].evaluate(i.clone(s,void 0,d,void 0)).booleanValue())continue e;if(n==t.length-1?e.push(s[d]):this.xPathStep(e,t,n+1,s[d],i),e.length>0)break}}else{u.returnOnFirstMatch=!1;for(var s=o.evaluate(u).nodeSetValue(),d=0;d<s.length;++d)n==t.length-1?e.push(s[d]):this.xPathStep(e,t,n+1,s[d],i)}},r.prototype.xPathGrammarPrecedence=function(e){var t=0;if(e.rule)if(e.rule.length>=3&&e.rule[2]>=0)t=e.rule[2];else for(var n=0;n<e.rule[1].length;++n){var a=this.xPathTokenPrecedence(e.rule[1][n]);t=Math.max(t,a)}else if(e.tag)t=this.xPathTokenPrecedence(e.tag);else if(e.length)for(var i=0;i<e.length;++i){var a=this.xPathGrammarPrecedence(e[i]);t=Math.max(t,a)}return t},r.prototype.xPathTokenPrecedence=function(e){return e.prec||2},r}();Re.XPath=ri;var kt={};Object.defineProperty(kt,"__esModule",{value:!0});(function(r){var e=m&&m.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var u=Object.getOwnPropertyDescriptor(a,i);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,u)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),t=m&&m.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(Ce,r),t(Re,r),t(kt,r)})(De);var Kt={},Bt={};Object.defineProperty(Bt,"__esModule",{value:!0});var Ut={};Object.defineProperty(Ut,"__esModule",{value:!0});var qe={},Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.MatchResolver=void 0;var At=lt,ni=function(){function r(){}return r.prototype.expressionMatch=function(e,t){return e instanceof At.LocationExpr?this.locationExpressionMatch(e,t):e instanceof At.UnionExpr?this.unionExpressionMatch(e,t):[]},r.prototype.locationExpressionMatch=function(e,t){if(e===void 0||e.steps===void 0||e.steps.length<=0)throw new Error("Error resolving XSLT match: Location Expression should have steps.");if(e.absolute){var n=e.steps[0];return n.axis==="self"?this.absoluteXsltMatchByDocumentNode(e,t):this.absoluteXsltMatch(e,t)}return this.relativeXsltMatch(e,t)},r.prototype.unionExpressionMatch=function(e,t){var n=this.expressionMatch(e.expr1,t);return n.concat(this.expressionMatch(e.expr2,t))},r.prototype.absoluteXsltMatchByDocumentNode=function(e,t){for(var n=t.clone([t.root],void 0,0,void 0),a=e.evaluate(n).nodeSetValue(),i=[],o=0,u=a;o<u.length;o++){var s=u[o];if(s.id===t.nodeList[t.position].id){i.push(s);continue}}return i},r.prototype.absoluteXsltMatch=function(e,t){var n=t.root.childNodes.find(function(d){return d.nodeName!=="#dtd-section"}),a=t.clone([n],void 0,0,void 0),i=e.evaluate(a).nodeSetValue(),o=[],u;t.nodeList.length===1&&t.nodeList[0].nodeName==="#document"?u=[t.nodeList[0].childNodes.find(function(d){return d.nodeName!=="#dtd-section"})]:u=t.nodeList;for(var s=0,l=i;s<l.length;s++){var c=l[s];if(c.id===u[t.position].id){o.push(c);continue}}return o},r.prototype.relativeXsltMatch=function(e,t){var n=t.clone(),a=e.evaluate(n).nodeSetValue();return a.length===1&&a[0].nodeName==="#document"?[a[0].childNodes[0]]:a},r}();Ze.MatchResolver=ni;var L=m&&m.__awaiter||function(r,e,t,n){function a(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function u(c){try{l(n.next(c))}catch(d){o(d)}}function s(c){try{l(n.throw(c))}catch(d){o(d)}}function l(c){c.done?i(c.value):a(c.value).then(u,s)}l((n=n.apply(r,e||[])).next())})},V=m&&m.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=u(0),o.throw=u(1),o.return=u(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(l){return function(c){return s([l,c])}}function s(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(t=0)),t;)try{if(n=1,a&&(i=l[0]&2?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,a=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){t.label=l[1];break}if(l[0]===6&&t.label<i[1]){t.label=i[1],i=l;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(l);break}i[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(r,t)}catch(c){l=[6,c],a=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(qe,"__esModule",{value:!0});qe.Xslt=void 0;var _=te,St=De,D=g,Se=be,ai=Ze,ii=function(){function r(e){e===void 0&&(e={cData:!0,escape:!0,selfClosingTags:!0,parameters:[]}),this.xPath=new St.XPath,this.xmlParser=new _.XmlParser,this.matchResolver=new ai.MatchResolver,this.options={cData:e.cData===!0,escape:e.escape===!0,selfClosingTags:e.selfClosingTags===!0,parameters:e.parameters||[]},this.outputMethod="xml",this.outputOmitXmlDeclaration="no",this.decimalFormatSettings={decimalSeparator:".",groupingSeparator:",",infinity:"Infinity",minusSign:"-",naN:"NaN",percent:"%",perMille:"‰",zeroDigit:"0",digit:"#",patternSeparator:";"},this.firstTemplateRan=!1}return r.prototype.xsltProcess=function(e,t){return L(this,void 0,void 0,function(){var n,a,i,o,u,s;return V(this,function(l){switch(l.label){case 0:if(n=new _.XDocument,this.outputDocument=n,a=new St.ExprContext([e],[n]),this.options.parameters.length>0)for(i=0,o=this.options.parameters;i<o.length;i++)u=o[i],a.setVariable(u.name,new Se.StringValue(u.value));return[4,this.xsltProcessContext(a,t,this.outputDocument)];case 1:return l.sent(),s=(0,_.xmlTransformedText)(n,{cData:this.options.cData,escape:this.options.escape,selfClosingTags:this.options.selfClosingTags,outputMethod:this.outputMethod}),[2,s]}})})},r.prototype.xsltProcessContext=function(e,t,n){return L(this,void 0,void 0,function(){var a,i,o,u,s,l,c,d,f;return V(this,function(p){switch(p.label){case 0:return this.isXsltElement(t)?[3,2]:[4,this.xsltPassThrough(e,t,n)];case 1:return p.sent(),[3,54];case 2:switch(a=void 0,i=void 0,o=void 0,u=void 0,s=t.localName,s){case"apply-imports":return[3,3];case"apply-templates":return[3,4];case"attribute":return[3,6];case"attribute-set":return[3,8];case"call-template":return[3,9];case"choose":return[3,11];case"comment":return[3,13];case"copy":return[3,15];case"copy-of":return[3,18];case"decimal-format":return[3,19];case"element":return[3,20];case"fallback":return[3,22];case"for-each":return[3,23];case"if":return[3,25];case"import":return[3,27];case"include":return[3,29];case"key":return[3,31];case"message":return[3,32];case"namespace-alias":return[3,33];case"number":return[3,34];case"otherwise":return[3,35];case"output":return[3,36];case"param":return[3,37];case"preserve-space":return[3,39];case"processing-instruction":return[3,40];case"sort":return[3,41];case"strip-space":return[3,42];case"stylesheet":return[3,43];case"transform":return[3,43];case"template":return[3,45];case"text":return[3,47];case"value-of":return[3,48];case"variable":return[3,49];case"when":return[3,51];case"with-param":return[3,52]}return[3,53];case 3:throw new Error("not implemented: ".concat(t.localName));case 4:return[4,this.xsltApplyTemplates(e,t,n)];case 5:return p.sent(),[3,54];case 6:return[4,this.xsltAttribute(e,t,n)];case 7:return p.sent(),[3,54];case 8:throw new Error("not implemented: ".concat(t.localName));case 9:return[4,this.xsltCallTemplate(e,t,n)];case 10:return p.sent(),[3,54];case 11:return[4,this.xsltChoose(e,t,n)];case 12:return p.sent(),[3,54];case 13:return[4,this.xsltComment(e,t,n)];case 14:return p.sent(),[3,54];case 15:return l=n||e.outputNodeList[e.outputPosition],a=this.xsltCopy(l,e.nodeList[e.position]),a?[4,this.xsltChildNodes(e,t,a)]:[3,17];case 16:p.sent(),p.label=17;case 17:return[3,54];case 18:if(i=(0,_.xmlGetAttribute)(t,"select"),o=this.xPath.xPathEval(i,e),c=e.outputNodeList[e.outputPosition]||n,o.type==="node-set")for(u=o.nodeSetValue(),d=0;d<u.length;++d)this.xsltCopyOf(c,u[d]);else f=(0,_.domCreateTextNode)(this.outputDocument,o.stringValue()),(0,_.domAppendChild)(c,f);return[3,54];case 19:return this.xsltDecimalFormat(e,t),[3,54];case 20:return[4,this.xsltElement(e,t)];case 21:return p.sent(),[3,54];case 22:throw new Error("not implemented: ".concat(t.localName));case 23:return[4,this.xsltForEach(e,t,n)];case 24:return p.sent(),[3,54];case 25:return[4,this.xsltIf(e,t,n)];case 26:return p.sent(),[3,54];case 27:return[4,this.xsltImport(e,t,n)];case 28:return p.sent(),[3,54];case 29:return[4,this.xsltInclude(e,t,n)];case 30:return p.sent(),[3,54];case 31:return this.xsltKey(e,t),[3,54];case 32:throw new Error("not implemented: ".concat(t.localName));case 33:throw new Error("not implemented: ".concat(t.localName));case 34:throw new Error("not implemented: ".concat(t.localName));case 35:throw new Error("xsl:otherwise can't be used outside of xsl:choose.");case 36:return this.outputMethod=(0,_.xmlGetAttribute)(t,"method"),this.outputOmitXmlDeclaration=(0,_.xmlGetAttribute)(t,"omit-xml-declaration"),[3,54];case 37:return[4,this.xsltVariable(e,t,!1)];case 38:return p.sent(),[3,54];case 39:throw new Error("not implemented: ".concat(t.localName));case 40:throw new Error("not implemented: ".concat(t.localName));case 41:return this.xsltSort(e,t),[3,54];case 42:throw new Error("not implemented: ".concat(t.localName));case 43:return[4,this.xsltTransformOrStylesheet(e,t,n)];case 44:return p.sent(),[3,54];case 45:return[4,this.xsltTemplate(e,t,n)];case 46:return p.sent(),[3,54];case 47:return this.xsltText(e,t,n),[3,54];case 48:return this.xsltValueOf(e,t,n),[3,54];case 49:return[4,this.xsltVariable(e,t,!0)];case 50:return p.sent(),[3,54];case 51:throw new Error("xsl:when can't be used outside of xsl:choose.");case 52:throw new Error("error if here: ".concat(t.localName));case 53:throw new Error("error if here: ".concat(t.localName));case 54:return[2]}})})},r.prototype.xsltApplyTemplates=function(e,t,n){return L(this,void 0,void 0,function(){var a,i,o,u,s,l,c,d,f,p,E,b=this;return V(this,function(M){switch(M.label){case 0:a=function(x,X,G){for(var F=[],$=0,H=x.childNodes.filter(function(z){return z.nodeType==D.DOM_ELEMENT_NODE&&b.isXsltElement(z,"template")});$<H.length;$++){var C=H[$];(!G||C.getAttributeValue("mode")===G)&&F.push(C)}return F},i=(0,_.xmlGetAttribute)(t,"select"),o=[],i?o=this.xPath.xPathEval(i,e).nodeSetValue():o=e.nodeList[e.position].childNodes,u=(0,_.xmlGetAttribute)(t,"mode"),s=t.ownerDocument.documentElement,l=a(s,t,u),c=e.clone(o),d=0,M.label=1;case 1:if(!(d<l.length))return[3,7];f=0,M.label=2;case 2:return f<c.contextSize()?c.nodeList[f].nodeType!==D.DOM_TEXT_NODE?[3,3]:(p=e.clone([c.nodeList[f]],void 0,0,void 0),this.commonLogicTextNode(p,c.nodeList[f],n),[3,5]):[3,6];case 3:return E=c.clone([c.nodeList[f]],void 0,0,void 0),E.inApplyTemplates=!0,E.outputDepth=0,[4,this.xsltProcessContext(E,l[d],n)];case 4:M.sent(),M.label=5;case 5:return++f,[3,2];case 6:return++d,[3,1];case 7:return[2]}})})},r.prototype.xsltAttribute=function(e,t,n){return L(this,void 0,void 0,function(){var a,i,o,u,s,l,c,d,f;return V(this,function(p){switch(p.label){case 0:return a=(0,_.xmlGetAttribute)(t,"name"),i=this.xsltAttributeValue(a,e),o=(0,_.domCreateDocumentFragment)(this.outputDocument),[4,this.xsltChildNodes(e,t,o)];case 1:return p.sent(),u=(0,_.xmlValueLegacyBehavior)(o),n&&n.nodeType===D.DOM_DOCUMENT_FRAGMENT_NODE?(0,_.domSetTransformedAttribute)(n,i,u):(s=e.nodeList[e.position],l=s.parentNode,c=s.outputNode,c==null&&(c=new _.XNode(s.nodeType,s.nodeName,s.nodeValue,e.outputNodeList[e.outputPosition],s.namespaceUri),s.outputNode=c),c.localName==="#document"&&(d=e.root.childNodes[0],f=(0,_.domCreateElement)(this.outputDocument,d.nodeName),f.transformedNodeName=d.nodeName,f.transformedLocalName=d.localName,(0,_.domAppendTransformedChild)(c,f),c=f,l=f),(0,_.domSetTransformedAttribute)(c,i,u),s.nodeType===D.DOM_ATTRIBUTE_NODE&&(s.transformedNodeType=D.DOM_ATTRIBUTE_NODE,s.transformedNodeName=i,s.transformedNodeValue=u),l&&l.outputNode&&(0,_.domSetTransformedAttribute)(l.outputNode,i,u)),[2]}})})},r.prototype.xsltCallTemplate=function(e,t,n){return L(this,void 0,void 0,function(){var a,i,o,u,s;return V(this,function(l){switch(l.label){case 0:return a=(0,_.xmlGetAttribute)(t,"name"),i=t.ownerDocument.documentElement,o=e.clone(),[4,this.xsltWithParam(o,t)];case 1:l.sent(),u=0,l.label=2;case 2:return u<i.childNodes.length?(s=i.childNodes[u],s.nodeType===D.DOM_ELEMENT_NODE&&this.isXsltElement(s,"template")&&(0,_.domGetAttributeValue)(s,"name")===a?[4,this.xsltChildNodes(o,s,n)]:[3,4]):[3,5];case 3:return l.sent(),[3,5];case 4:return++u,[3,2];case 5:return[2]}})})},r.prototype.xsltChoose=function(e,t,n){return L(this,void 0,void 0,function(){var a,i,o,u;return V(this,function(s){switch(s.label){case 0:a=0,i=t.childNodes,s.label=1;case 1:return a<i.length?(o=i[a],o.nodeType!==D.DOM_ELEMENT_NODE?[3,6]:this.isXsltElement(o,"when")?(u=(0,_.xmlGetAttribute)(o,"test"),this.xPath.xPathEval(u,e).booleanValue()?[4,this.xsltChildNodes(e,o,n)]:[3,3]):[3,4]):[3,7];case 2:return s.sent(),[3,7];case 3:return[3,6];case 4:return this.isXsltElement(o,"otherwise")?[4,this.xsltChildNodes(e,o,n)]:[3,6];case 5:return s.sent(),[3,7];case 6:return a++,[3,1];case 7:return[2]}})})},r.prototype.xsltCopy=function(e,t){if(t.nodeType==D.DOM_ELEMENT_NODE){var n=(0,_.domCreateElement)(this.outputDocument,t.nodeName);return n.transformedNodeName=t.nodeName,t.namespaceUri!==null&&t.namespaceUri!==void 0&&(0,_.domSetTransformedAttribute)(n,"xmlns",t.namespaceUri),(0,_.domAppendTransformedChild)(e,n),n}if(t.nodeType==D.DOM_TEXT_NODE){var n=(0,_.domCreateTransformedTextNode)(this.outputDocument,t.nodeValue);(0,_.domAppendTransformedChild)(e,n)}else if(t.nodeType==D.DOM_CDATA_SECTION_NODE){var n=(0,_.domCreateCDATASection)(this.outputDocument,t.nodeValue);(0,_.domAppendTransformedChild)(e,n)}else if(t.nodeType==D.DOM_COMMENT_NODE){var n=(0,_.domCreateComment)(this.outputDocument,t.nodeValue);(0,_.domAppendTransformedChild)(e,n)}else t.nodeType==D.DOM_ATTRIBUTE_NODE&&(0,_.domSetTransformedAttribute)(e,t.nodeName,t.nodeValue);return null},r.prototype.xsltComment=function(e,t,n){return L(this,void 0,void 0,function(){var a,i,o,u;return V(this,function(s){switch(s.label){case 0:return a=(0,_.domCreateDocumentFragment)(this.outputDocument),[4,this.xsltChildNodes(e,t,a)];case 1:return s.sent(),i=(0,_.xmlValue)(a),o=(0,_.domCreateComment)(this.outputDocument,i),u=n||e.outputNodeList[e.outputPosition],u.appendChild(o),[2]}})})},r.prototype.xsltCopyOf=function(e,t){if(t.nodeType==D.DOM_DOCUMENT_FRAGMENT_NODE||t.nodeType==D.DOM_DOCUMENT_NODE)for(var n=0;n<t.childNodes.length;++n)this.xsltCopyOf(e,t.childNodes[n]);else{var a=this.xsltCopy(e,t);if(a)for(var n=0;n<t.childNodes.length;++n)this.xsltCopyOf(a,t.childNodes[n])}},r.prototype.xsltDecimalFormat=function(e,t){var n=(0,_.xmlGetAttribute)(t,"name"),a=(0,_.xmlGetAttribute)(t,"decimal-separator"),i=(0,_.xmlGetAttribute)(t,"grouping-separator"),o=(0,_.xmlGetAttribute)(t,"infinity"),u=(0,_.xmlGetAttribute)(t,"minus-sign"),s=(0,_.xmlGetAttribute)(t,"NaN"),l=(0,_.xmlGetAttribute)(t,"percent"),c=(0,_.xmlGetAttribute)(t,"per-mille"),d=(0,_.xmlGetAttribute)(t,"zero-digit"),f=(0,_.xmlGetAttribute)(t,"digit"),p=(0,_.xmlGetAttribute)(t,"pattern-separator");this.decimalFormatSettings={name:n||this.decimalFormatSettings.name,decimalSeparator:a||this.decimalFormatSettings.decimalSeparator,groupingSeparator:i||this.decimalFormatSettings.groupingSeparator,infinity:o||this.decimalFormatSettings.infinity,minusSign:u||this.decimalFormatSettings.minusSign,naN:s||this.decimalFormatSettings.naN,percent:l||this.decimalFormatSettings.percent,perMille:c||this.decimalFormatSettings.perMille,zeroDigit:d||this.decimalFormatSettings.zeroDigit,digit:f||this.decimalFormatSettings.digit,patternSeparator:p||this.decimalFormatSettings.patternSeparator},e.decimalFormatSettings=this.decimalFormatSettings},r.prototype.xsltElement=function(e,t){return L(this,void 0,void 0,function(){var n,a,i,o;return V(this,function(u){switch(u.label){case 0:return n=(0,_.xmlGetAttribute)(t,"name"),a=this.xsltAttributeValue(n,e),i=(0,_.domCreateElement)(this.outputDocument,a),i.transformedNodeName=a,(0,_.domAppendTransformedChild)(e.outputNodeList[e.outputPosition],i),e.nodeList[e.position].outputNode=i,o=e.clone(void 0,[i],void 0,0),[4,this.xsltChildNodes(o,t)];case 1:return u.sent(),[2]}})})},r.prototype.xsltForEach=function(e,t,n){return L(this,void 0,void 0,function(){var a,i,o,u,s;return V(this,function(l){switch(l.label){case 0:if(a=(0,_.xmlGetAttribute)(t,"select"),i=this.xPath.xPathEval(a,e).nodeSetValue(),i.length===0)return[2];if(o=e.clone(i),this.xsltSort(o,t),u=o.nodeList.filter(function(c){return c.parentNode!==null&&c.parentNode!==void 0}),u.length<=0)throw new Error("Nodes with no parents defined.");s=0,l.label=1;case 1:return s<o.contextSize()?[4,this.xsltChildNodes(o.clone(o.nodeList,void 0,s),t,n)]:[3,4];case 2:l.sent(),l.label=3;case 3:return++s,[3,1];case 4:return[2]}})})},r.prototype.xsltIf=function(e,t,n){return L(this,void 0,void 0,function(){var a;return V(this,function(i){switch(i.label){case 0:return a=(0,_.xmlGetAttribute)(t,"test"),this.xPath.xPathEval(a,e).booleanValue()?[4,this.xsltChildNodes(e,t,n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},r.prototype.xsltImport=function(e,t,n){return L(this,void 0,void 0,function(){var a,i,o,u,s,l,c,d;return V(this,function(f){switch(f.label){case 0:if(a=vt.versions.node.split(".").map(Number),i=a[0],o=a[1],a[2],i<=17&&o<5)throw new Error("Your Node.js version does not support `<xsl:import>`. If possible, please update your Node.js version to at least version 17.5.0.");if(this.firstTemplateRan)throw new Error("<xsl:import> should be the first child node of <xsl:stylesheet> or <xsl:transform>.");if(m.globalThis.fetch||(m.globalThis.fetch=fetch,m.globalThis.Headers=Headers,m.globalThis.Request=Request,m.globalThis.Response=Response),u=t.childNodes.filter(function(p){return p.nodeName==="href"}),u.length<=0)throw new Error("<xsl:import> with no href attribute defined.");return s=u[0],[4,m.globalThis.fetch(s.nodeValue)];case 1:return l=f.sent(),[4,l.text()];case 2:return c=f.sent(),d=this.xmlParser.xmlParse(c),[4,this.xsltChildNodes(e,d.childNodes[0],n)];case 3:return f.sent(),[2]}})})},r.prototype.xsltInclude=function(e,t,n){return L(this,void 0,void 0,function(){var a,i,o,u,s,l,c,d;return V(this,function(f){switch(f.label){case 0:if(a=vt.versions.node.split(".").map(Number),i=a[0],o=a[1],a[2],i<=17&&o<5)throw new Error("Your Node.js version does not support `<xsl:include>`. If possible, please update your Node.js version to at least version 17.5.0.");if(m.globalThis.fetch||(m.globalThis.fetch=fetch,m.globalThis.Headers=Headers,m.globalThis.Request=Request,m.globalThis.Response=Response),u=t.childNodes.filter(function(p){return p.nodeName==="href"}),u.length<=0)throw new Error("<xsl:include> with no href attribute defined.");return s=u[0],[4,m.globalThis.fetch(s.nodeValue)];case 1:return l=f.sent(),[4,l.text()];case 2:return c=f.sent(),d=this.xmlParser.xmlParse(c),[4,this.xsltChildNodes(e,d.childNodes[0],n)];case 3:return f.sent(),[2]}})})},r.prototype.xsltKey=function(e,t){var n=(0,_.xmlGetAttribute)(t,"name"),a=(0,_.xmlGetAttribute)(t,"match"),i=(0,_.xmlGetAttribute)(t,"use");if(!n||!a||!i){var o="<xsl:key> missing required parameters: ";throw n||(o+="name, "),a||(o+="match, "),i||(o+="use, "),o=o.slice(0,-2),new Error(o)}var u;e.nodeList[e.position].nodeName==="#document"?u=e.clone(e.nodeList[e.position].childNodes):u=e;var s=this.xsltMatch(a,u);n in e.keys||(e.keys[n]={});for(var l=0,c=s;l<c.length;l++){var d=c[l],f=e.clone([d]),p=this.xPath.xPathEval(i,f),E=p.stringValue();e.keys[n][E]=new Se.NodeSetValue([d])}},r.prototype.xsltSort=function(e,t){for(var n=[],a=0,i=t.childNodes;a<i.length;a++){var o=i[a];if(o.nodeType==D.DOM_ELEMENT_NODE&&this.isXsltElement(o,"sort")){var u=(0,_.xmlGetAttribute)(o,"select"),s=this.xPath.xPathParse(u),l=(0,_.xmlGetAttribute)(o,"data-type")||"text",c=(0,_.xmlGetAttribute)(o,"order")||"ascending";n.push({expr:s,type:l,order:c})}}this.xPath.xPathSort(e,n)},r.prototype.xsltTemplate=function(e,t,n){return L(this,void 0,void 0,function(){var a,i,o;return V(this,function(u){switch(u.label){case 0:return!e.inApplyTemplates&&e.baseTemplateMatched?[2]:(a=(0,_.xmlGetAttribute)(t,"match"),a?(i=this.xsltMatch(a,e,"self-and-siblings"),i.length>0?(this.firstTemplateRan=!0,e.inApplyTemplates||(e.baseTemplateMatched=!0),o=e.clone(i,void 0,0),[4,this.xsltChildNodes(o,t,n)]):[3,2]):[2]);case 1:u.sent(),u.label=2;case 2:return[2]}})})},r.prototype.xsltText=function(e,t,n){var a=(0,_.xmlValue)(t),i=(0,_.domCreateTransformedTextNode)(this.outputDocument,a),o=t.childNodes.filter(function(s){return s.nodeType===D.DOM_ATTRIBUTE_NODE&&s.nodeName==="disable-output-escaping"});o.length>0&&o[0].nodeValue==="yes"&&(i.escape=!1);var u=n||e.outputNodeList[e.outputPosition];u.appendTransformedChild(i)},r.prototype.xsltTransformOrStylesheet=function(e,t,n){return L(this,void 0,void 0,function(){var a,i,o;return V(this,function(u){switch(u.label){case 0:for(a=0,i=t.childNodes.filter(function(s){return s.nodeType===D.DOM_ATTRIBUTE_NODE});a<i.length;a++)switch(o=i[a],o.nodeName){case"version":if(this.version=o.nodeValue,!["1.0","2.0","3.0"].includes(this.version))throw new Error("XSLT version not defined or invalid. Actual resolved version: ".concat(this.version||"(none)","."));e.xsltVersion=this.version;break;default:o.prefix==="xmlns"&&(e.knownNamespaces[o.localName]=o.nodeValue);break}return[4,this.xsltChildNodes(e,t,n)];case 1:return u.sent(),[2]}})})},r.prototype.xsltValueOf=function(e,t,n){var a=(0,_.xmlGetAttribute)(t,"select"),i=this.xPath.xPathEval(a,e),o=i.stringValue(),u=(0,_.domCreateTransformedTextNode)(this.outputDocument,o);u.siblingPosition=e.nodeList[e.position].siblingPosition,n&&n.nodeType===D.DOM_DOCUMENT_FRAGMENT_NODE?n.appendTransformedChild(u):e.outputNodeList[e.outputPosition].appendTransformedChild(u)},r.prototype.xsltVariable=function(e,t,n){return L(this,void 0,void 0,function(){var a,i,o,u,s,l,c;return V(this,function(d){switch(d.label){case 0:return a=(0,_.xmlGetAttribute)(t,"name"),i=(0,_.xmlGetAttribute)(t,"select"),u=t.childNodes.filter(function(f){return f.nodeType!==D.DOM_ATTRIBUTE_NODE}),u.length>0?(s=(0,_.domCreateDocumentFragment)(t.ownerDocument),[4,this.xsltChildNodes(e,t,s)]):[3,2];case 1:return d.sent(),o=new Se.NodeSetValue([s]),[3,3];case 2:i?o=this.xPath.xPathEval(i,e):(l="",c=this.options.parameters.filter(function(f){return f.name===a}),c.length>0&&(l=c[0].value),o=new Se.StringValue(l)),d.label=3;case 3:return(n||!e.getVariable(a))&&e.setVariable(a,o),[2]}})})},r.prototype.xsltChildNodes=function(e,t,n){return L(this,void 0,void 0,function(){var a,i;return V(this,function(o){switch(o.label){case 0:a=e.clone(),i=0,o.label=1;case 1:return i<t.childNodes.length?[4,this.xsltProcessContext(a,t.childNodes[i],n)]:[3,4];case 2:o.sent(),o.label=3;case 3:return++i,[3,1];case 4:return[2]}})})},r.prototype.commonLogicTextNode=function(e,t,n){if(n&&n.nodeType===D.DOM_DOCUMENT_FRAGMENT_NODE){var a=(0,_.domCreateTransformedTextNode)(this.outputDocument,t.nodeValue);(0,_.domAppendTransformedChild)(n,a)}else{var i=e.outputNodeList[e.outputPosition],o=i.transformedChildNodes.filter(function(u){return u.nodeType===D.DOM_TEXT_NODE});if(o.length>0){var a=o[0];a.transformedNodeValue=t.nodeValue}else{var a=(0,_.domCreateTransformedTextNode)(this.outputDocument,t.nodeValue);a.transformedParentNode=i,(0,_.domAppendTransformedChild)(i,a)}}},r.prototype.xsltPassThrough=function(e,t,n){return L(this,void 0,void 0,function(){var a,i,o,u,s,l,c,d,M,f,C,p,E,b,M,x,C,X,G,F,$,H,C;return V(this,function(z){switch(z.label){case 0:return t.nodeType!=D.DOM_TEXT_NODE?[3,1]:(this.xsltPassText(t)&&this.commonLogicTextNode(e,t,n),[3,5]);case 1:return t.nodeType!=D.DOM_ELEMENT_NODE?[3,3]:(a=void 0,i=e,e.nodeList[e.position].nodeName==="#document"?(a=e.nodeList[e.position].childNodes.find(function(q){return q.nodeName!=="#dtd-section"}),i=e.clone([a])):a=e.nodeList[e.position],o=void 0,a.outputNode===void 0||a.outputNode===null||e.outputDepth>0?(o=(0,_.domCreateElement)(this.outputDocument,t.nodeName),o.siblingPosition=a.siblingPosition,e.outputDepth===0&&(a.outputNode=o)):o=a.outputNode,o.transformedNodeName=t.nodeName,o.transformedLocalName=t.localName,u=e.outputNodeList[e.outputPosition],(0,_.domAppendTransformedChild)(u,o),s=i.cloneByOutput(u.transformedChildNodes,u.transformedChildNodes.length-1,++i.outputDepth),[4,this.xsltChildNodes(s,t)]);case 2:for(z.sent(),l=a.transformedChildNodes.filter(function(q){return q.nodeType===D.DOM_ATTRIBUTE_NODE}),c=0,d=l;c<d.length;c++)M=d[c],f=M.transformedNodeName,C=M.transformedNodeValue,(0,_.domSetTransformedAttribute)(o,f,C);for(p=a.childNodes.filter(function(q){return q.nodeType===D.DOM_ATTRIBUTE_NODE&&q.transformedNodeName}),E=0,b=p;E<b.length;E++)M=b[E],x=M.transformedNodeName,C=M.transformedNodeValue,(0,_.domSetTransformedAttribute)(o,x,C);for(X=t.childNodes.filter(function(q){return q?.nodeType===D.DOM_ATTRIBUTE_NODE}),G=0,F=X;G<F.length;G++)$=F[G],H=$.nodeName,C=this.xsltAttributeValue($.nodeValue,i),(0,_.domSetTransformedAttribute)(o,H,C);return[3,5];case 3:return[4,this.xsltChildNodes(e,t,n)];case 4:z.sent(),z.label=5;case 5:return[2]}})})},r.prototype.xsltPassText=function(e){if(!e.nodeValue.match(/^\s*$/))return!0;var t=e.parentNode;if(this.isXsltElement(t,"text"))return!0;for(;t&&t.nodeType==D.DOM_ELEMENT_NODE;){var n=(0,_.domGetAttributeValue)(t,"xml:space");if(n){if(n=="default")return!1;if(n=="preserve")return!0}t=t.parentNode}return!1},r.prototype.findAttributeInContext=function(e,t){return t.nodeList[t.position].childNodes.find(function(n){return n.nodeType===D.DOM_ATTRIBUTE_NODE&&n.nodeName===e})},r.prototype.xsltAttributeValue=function(e,t){var n=e.split("{");if(n.length===1)return e;for(var a="",i=0;i<n.length;++i){var o=n[i].split("}");if(o.length!=2){a+=n[i];continue}var u=this.xPath.xPathEval(o[0],t).stringValue();a+=u+o[1]}return a},r.prototype.xsltMatch=function(e,t,n){var a=this.xPath.xPathParse(e,n);return this.matchResolver.expressionMatch(a,t)},r.prototype.xsltWithParam=function(e,t){return L(this,void 0,void 0,function(){var n,a,i;return V(this,function(o){switch(o.label){case 0:n=0,a=t.childNodes,o.label=1;case 1:return n<a.length?(i=a[n],i.nodeType===D.DOM_ELEMENT_NODE&&this.isXsltElement(i,"with-param")?[4,this.xsltVariable(e,i,!0)]:[3,3]):[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},r.prototype.isXsltElement=function(e,t){return t&&e.localName!=t?!1:e.namespaceUri?e.namespaceUri==="http://www.w3.org/1999/XSL/Transform":e.prefix==="xsl"},r}();qe.Xslt=ii;(function(r){var e=m&&m.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var u=Object.getOwnPropertyDescriptor(a,i);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,u)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),t=m&&m.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(Bt,r),t(Ut,r),t(qe,r)})(Kt);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ExprContext=r.xmlEscapeText=r.XmlParser=r.Xslt=r.XPath=void 0;var e=De;Object.defineProperty(r,"XPath",{enumerable:!0,get:function(){return e.XPath}});var t=Kt;Object.defineProperty(r,"Xslt",{enumerable:!0,get:function(){return t.Xslt}});var n=te;Object.defineProperty(r,"XmlParser",{enumerable:!0,get:function(){return n.XmlParser}}),Object.defineProperty(r,"xmlEscapeText",{enumerable:!0,get:function(){return n.xmlEscapeText}});var a=De;Object.defineProperty(r,"ExprContext",{enumerable:!0,get:function(){return a.ExprContext}})})(_e);const Ti=jt({__name:"xslt-tester",setup(r){const{t:e}=Gt(),t=Je(`<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet version="1.0"
xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
<xsl:template match="/">
  <html>
  <body>
    <h2>{{ t('tools.xslt-tester.texts.tag-my-cd-collection') }}</h2>
    <table border="1">
      <tr bgcolor="#9acd32">
        <th>{{ t('tools.xslt-tester.texts.tag-title') }}</th>
        <th>{{ t('tools.xslt-tester.texts.tag-artist') }}</th>
      </tr>
      <tr>
        <td>{{ t('tools.xslt-tester.texts.tag-') }}</td>
        <td>{{ t('tools.xslt-tester.texts.tag-') }}</td>
      </tr>
    </table>
  </body>
  </html>
</xsl:template>
</xsl:stylesheet>`),n=Je(`<?xml version="1.0" encoding="UTF-8"?>
<catalog>
  <cd>
    <title>{{ t('tools.xslt-tester.texts.tag-empire-burlesque') }}</title>
    <artist>{{ t('tools.xslt-tester.texts.tag-bob-dylan') }}</artist>
    <country>{{ t('tools.xslt-tester.texts.tag-usa') }}</country>
    <company>{{ t('tools.xslt-tester.texts.tag-columbia') }}</company>
    <price>{{ t('tools.xslt-tester.texts.tag-10-90') }}</price>
    <year>{{ t('tools.xslt-tester.texts.tag-1985') }}</year>
  </cd>
  <cd>
    <title>{{ t('tools.xslt-tester.texts.tag-hide-your-heart') }}</title>
    <artist>{{ t('tools.xslt-tester.texts.tag-bonnie-tyler') }}</artist>
    <country>{{ t('tools.xslt-tester.texts.tag-uk') }}</country>
    <company>{{ t('tools.xslt-tester.texts.tag-cbs-records') }}</company>
    <price>{{ t('tools.xslt-tester.texts.tag-9-90') }}</price>
    <year>{{ t('tools.xslt-tester.texts.tag-1988') }}</year>
  </cd>
</catalog>`),a=Je(!1),i=$t(async()=>{const s=n.value,l=t.value,c=a.value,d=new _e.Xslt,f=new _e.XmlParser;try{let p=await d.xsltProcess(f.xmlParse(s),f.xmlParse(l));return c&&(p=Zt(p)),p}catch(p){return p.toString()}}),o=_t({source:t,rules:[{validator:s=>(new _e.XmlParser().xmlParse(s),!0),message:e("tools.xslt-tester.texts.message-provided-xslt-is-not-valid")}]}),u=_t({source:n,rules:[{validator:s=>(new _e.XmlParser().xmlParse(s),!0),message:e("tools.xslt-tester.texts.message-provided-xml-is-not-valid")}]});return(s,l)=>{const c=zt,d=Jt,f=qt,p=Ft;return Ht(),Qt("div",null,[ue(f,{title:j(e)("tools.xslt-tester.texts.title-input"),"mb-2":""},{default:et(()=>[ue(c,{value:j(t),"onUpdate:value":l[0]||(l[0]=E=>tt(t)?t.value=E:null),label:j(e)("tools.xslt-tester.texts.label-xlst"),multiline:"",placeholder:j(e)("tools.xslt-tester.texts.placeholder-put-your-xslt-here"),rows:"5",validation:j(o),"mb-2":""},null,8,["value","label","placeholder","validation"]),ue(c,{value:j(n),"onUpdate:value":l[1]||(l[1]=E=>tt(n)?n.value=E:null),label:j(e)("tools.xslt-tester.texts.label-xml"),multiline:"",placeholder:j(e)("tools.xslt-tester.texts.placeholder-put-your-xml-here"),rows:"5",validation:j(u),"mb-2":""},null,8,["value","label","placeholder","validation"]),ue(d,{checked:j(a),"onUpdate:checked":l[2]||(l[2]=E=>tt(a)?a.value=E:null)},{default:et(()=>[Wt(Yt(j(e)("tools.xslt-tester.texts.tag-format-xml-output")),1)]),_:1},8,["checked"])]),_:1},8,["title"]),ue(f,{title:j(e)("tools.xslt-tester.texts.title-output")},{default:et(()=>[ue(p,{value:j(i),language:"xml","download-file-name":"output.xml"},null,8,["value"])]),_:1},8,["title"])])}}});export{Ti as default};
