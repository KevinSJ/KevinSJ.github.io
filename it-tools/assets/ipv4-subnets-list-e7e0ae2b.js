import{d as y,a0 as C,al as B,i as g,o,c as i,k as a,l as s,m as P,a7 as k,a8 as w,ad as V,x as A,j as D,w as x,a as e,G as _,af as R}from"./index-0c1fde36.js";import{N as E}from"./netmask-b61435e1.js";import{w as I}from"./defaults-4d6daddf.js";import{i as T}from"./boolean-c7e7c785.js";import{_ as v}from"./SpanCopyable.vue_vue_type_script_setup_true_lang-8d5870e2.js";import{c as j,p as F}from"./ip-b50a9099.js";import{_ as G}from"./Table-4b7ecda9.js";import"./index-4bc05a7f.js";import"./index-e6f9cbd8.js";import"./index-5fa9e804.js";import"./index-a5958021.js";import"./index-0898812d.js";import"./index-d58a7f66.js";const L={key:0},O={"font-bold":""},et=y({__name:"ipv4-subnets-list",setup(U){const{t:l}=C(),r=B("ipv4-subnets-list:ip","192.168.0.0/24"),f=t=>new E(F(t.trim())||t.trim()),u=g(()=>I(()=>f(r.value),void 0)),b=g(()=>I(()=>{let t=u.value?.bitmask;if(!t||t<16)return[];const p=u.value?.base,m=[];for(;t<=30;t++){const c=j(`${p}/${t}`);m.push({bitmask:t,hostsPerSubnet:c[0]?.hostsCount,subnets:c})}return m},void 0)),$=[{message:l("tools.ipv4-subnets-list.texts.message-we-cannot-parse-this-address-check-the-format"),validator:t=>T(()=>f(t))}];return(t,p)=>{const m=A,c=G,N=R;return o(),i("div",null,[a(m,{value:s(r),"onUpdate:value":p[0]||(p[0]=d=>P(r)?r.value=d:null),label:s(l)("tools.ipv4-subnets-list.texts.label-an-ipv4-address-with-or-without-mask-cidr-ip-range-wildcard-ip-ip-mask"),placeholder:s(l)("tools.ipv4-subnets-list.texts.placeholder-ipv4-or-cidr"),"validation-rules":$,"mb-4":""},null,8,["value","label","placeholder"]),s(u)&&s(b)?.length?(o(),i("div",L,[(o(!0),i(k,null,w(s(b),({bitmask:d,hostsPerSubnet:S,subnets:h})=>(o(),D(N,{key:d,title:`${s(u).base}/${d} (${h.length} subnets; ${S} hosts)`,"mb-2":""},{default:x(()=>[a(c,null,{default:x(()=>[e("thead",null,[e("tr",null,[e("th",null,_(s(l)("tools.ipv4-subnets-list.texts.tag-network")),1),e("th",null,_(s(l)("tools.ipv4-subnets-list.texts.tag-first-ip")),1),e("th",null,_(s(l)("tools.ipv4-subnets-list.texts.tag-last-ip")),1),e("th",null,_(s(l)("tools.ipv4-subnets-list.texts.tag-broadcast")),1)])]),e("tbody",null,[(o(!0),i(k,null,w(h,n=>(o(),i("tr",{key:n.netAddress},[e("td",O,[a(v,{value:n.netAddress},null,8,["value"])]),e("td",null,[a(v,{value:n.firstIP},null,8,["value"])]),e("td",null,[a(v,{value:n.lastIP},null,8,["value"])]),e("td",null,[a(v,{value:n.broadcastIP},null,8,["value"])])]))),128))])]),_:2},1024)]),_:2},1032,["title"]))),128))])):V("",!0)])}}});export{et as default};
