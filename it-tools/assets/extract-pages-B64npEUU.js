import{c as p,i as f}from"./style-ynO7IsM1.js";import"./version-BXrBJCm5.js";import"./full-width-DliZ98Ur.js";import"./simple-mode-footer-C6L5gDe0.js";import{a as r,b as m,r as x,P as g,h as c,f as P,q as h,d as L}from"./main-CdZmBCMR.js";import{J as w}from"./jszip.min-eEAMQJTJ.js";import"./mobileMenu-BoMunYmR.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";const n={file:null,pdfDoc:null,totalPages:0};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",d):d();function d(){p({icons:f});const t=document.getElementById("file-input"),e=document.getElementById("drop-zone"),a=document.getElementById("process-btn");t&&t.addEventListener("change",B),e&&(e.addEventListener("dragover",o=>{o.preventDefault(),e.classList.add("bg-gray-700")}),e.addEventListener("dragleave",()=>{e.classList.remove("bg-gray-700")}),e.addEventListener("drop",o=>{o.preventDefault(),e.classList.remove("bg-gray-700");const s=o.dataTransfer?.files;s&&s.length>0&&u(s[0])}),t?.addEventListener("click",()=>{t&&(t.value="")})),a&&a.addEventListener("click",b),document.getElementById("back-to-tools")?.addEventListener("click",()=>{window.location.href="/itools/"})}function B(t){const e=t.target;e.files&&e.files.length>0&&u(e.files[0])}async function u(t){if(t.type!=="application/pdf"&&!t.name.toLowerCase().endsWith(".pdf")){r("Invalid File","Please select a PDF file.");return}m("Loading PDF..."),n.file=t;try{const e=await x(t);n.pdfDoc=await g.load(e,{ignoreEncryption:!0,throwOnInvalidObject:!1}),n.totalPages=n.pdfDoc.getPageCount(),D(),I(),c()}catch(e){console.error("Error loading PDF:",e),c(),r("Error","Failed to load PDF file.")}}function D(){const t=document.getElementById("file-display-area");if(!t||!n.file)return;t.innerHTML="";const e=document.createElement("div");e.className="flex items-center justify-between bg-gray-700 p-3 rounded-lg";const a=document.createElement("div");a.className="flex flex-col flex-1 min-w-0";const o=document.createElement("div");o.className="truncate font-medium text-gray-200 text-sm mb-1",o.textContent=n.file.name;const s=document.createElement("div");s.className="text-xs text-gray-400",s.textContent=`${P(n.file.size)} â€¢ ${n.totalPages} pages`,a.append(o,s);const i=document.createElement("button");i.className="ml-4 text-red-400 hover:text-red-300 flex-shrink-0",i.innerHTML='<i data-lucide="trash-2" class="w-4 h-4"></i>',i.onclick=()=>y(),e.append(a,i),t.appendChild(e),p({icons:f})}function I(){const t=document.getElementById("extract-options"),e=document.getElementById("total-pages");t&&t.classList.remove("hidden"),e&&(e.textContent=n.totalPages.toString())}async function b(){const t=document.getElementById("pages-to-extract");if(!t||!t.value.trim()){r("No Pages","Please enter page numbers to extract.");return}const e=h(t.value,n.totalPages).map(a=>a+1);if(e.length===0){r("Invalid Pages","No valid page numbers found.");return}m("Extracting pages...");try{const a=new w,o=n.file?.name.replace(".pdf","")||"document";for(const i of e){const l=await g.create(),[E]=await l.copyPages(n.pdfDoc,[i-1]);l.addPage(E);const v=await l.save();a.file(`${o}_page_${i}.pdf`,v)}const s=await a.generateAsync({type:"blob"});L(s,`${o}_extracted_pages.zip`),c(),r("Success",`Extracted ${e.length} page(s) successfully!`,"success",()=>{y()})}catch(a){console.error("Error extracting pages:",a),c(),r("Error","Failed to extract pages.")}}function y(){n.file=null,n.pdfDoc=null,n.totalPages=0;const t=document.getElementById("extract-options");t&&t.classList.add("hidden");const e=document.getElementById("file-display-area");e&&(e.innerHTML="");const a=document.getElementById("pages-to-extract");a&&(a.value="")}
