import{_ as j}from"./TextareaCopyable-59231e95.js";import{d as z,r as C,ac as g,i as O,o as S,c as U,k as o,w as u,l as r,m as _,ai as V,x as k,af as I}from"./index-0c1fde36.js";import{_ as L}from"./FormItem-1b9a5952.js";import{_ as P}from"./Switch-a0f825a4.js";import{_ as $}from"./Space-7fc52151.js";import{_ as B}from"./Form-a433c14f.js";import"./base64-ae7cf34b.js";import"./index-a6f01dde.js";import"./downloadBase64-508288e2.js";import"./index-6fddb70d.js";import"./index-cfd4d427.js";import"./Copy-ef9ec73c.js";import"./Scrollbar-54724e22.js";import"./context-00991937.js";import"./get-slot-1efb97e5.js";const Z=z({__name:"tab-to-spaces",setup(T){const p=C(""),i=g({name:"spaces",storageName:"tabs-spc:s",defaultValue:4}),c=g({name:"leading",storageName:"tabs-spc:l",defaultValue:!1}),m=g({name:"norm",storageName:"tabs-spc:n",defaultValue:!1});function w(a){let e=0;for(let n=0;n<a.length;n++){const t=a.charCodeAt(n);t>=0&&t<=128||t>=160&&t<=255||t===63728||t>=65377&&t<=65439||t>=63729&&t<=63731?e+=1:e+=2}return e}function x(a){return a.split(`
`).map(e=>{const n=e.match(/^\s*/)?.[0]??"",l=e.slice(n.length).replace(/\s+/g," ");return n+l}).join(`
`)}function v(a,e){let n=a;for(;n.includes("	");){const t=n.indexOf("	"),l=n.slice(0,t),f=w(l),d=e-f%e;n=l+" ".repeat(d)+n.slice(t+1)}return n}const y=O(()=>{const a=i.value;let e=p.value;return c.value?e=e.split(`
`).map(n=>{const t=n.match(/^\s+/);if(!t)return n;const l=t[0].length;return v(n.slice(0,l),a)+n.slice(l)}).join(`
`):e=e.split(`
`).map(n=>v(n,a)).join(`
`),m.value&&(e=x(e)),e});return(a,e)=>{const n=V,t=L,l=P,f=$,d=B,b=k,h=I,N=j;return S(),U("div",null,[o(d,{"label-placement":"left","label-width":"auto"},{default:u(()=>[o(f,{justify:"center"},{default:u(()=>[o(t,{label:"Spaces per tab"},{default:u(()=>[o(n,{value:r(i),"onUpdate:value":e[0]||(e[0]=s=>_(i)?i.value=s:null),min:1,max:12},null,8,["value"])]),_:1}),o(t,{label:"Convert only leading tabs"},{default:u(()=>[o(l,{value:r(c),"onUpdate:value":e[1]||(e[1]=s=>_(c)?c.value=s:null)},null,8,["value"])]),_:1}),o(t,{label:"Normalize inner spacing"},{default:u(()=>[o(l,{value:r(m),"onUpdate:value":e[2]||(e[2]=s=>_(m)?m.value=s:null)},null,8,["value"])]),_:1})]),_:1})]),_:1}),o(h,{title:"Input (with tabs)","mb-2":""},{default:u(()=>[o(b,{value:r(p),"onUpdate:value":e[3]||(e[3]=s=>_(p)?p.value=s:null),multiline:"",rows:"6",monospace:"",placeholder:"Paste text with tabs here..."},null,8,["value"])]),_:1}),o(h,{title:"Output (with spaces)"},{default:u(()=>[o(N,{value:r(y)},null,8,["value"])]),_:1})])}}});export{Z as default};
