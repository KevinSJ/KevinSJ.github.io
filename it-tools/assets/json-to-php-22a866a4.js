import{d as S,a0 as P,r as U,ac as u,E as C,aX as w,o as I,c as T,k as n,w as s,l as e,m as r,a6 as c,G as m,a7 as G,x as O,af as D}from"./index-0c1fde36.js";import{d as x}from"./index-e476d25e.js";import{_ as W}from"./TextareaCopyable-59231e95.js";import{_ as B}from"./Checkbox-ba7202eb.js";import{_ as E}from"./Space-7fc52151.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./index-50a5cdf9.js";import"./index-a6f01dde.js";import"./index-332b7a1e.js";import"./constants-dc8a8387.js";import"./index-2709bfd9.js";import"./index-84e3bf78.js";import"./public-api-a830925a.js";import"./index-649b5bab.js";import"./string_decoder-8ac4312e.js";import"./empty-d0adf2b0.js";import"./empty-c5f13335.js";import"./base64-ae7cf34b.js";import"./downloadBase64-508288e2.js";import"./index-6fddb70d.js";import"./index-cfd4d427.js";import"./Copy-ef9ec73c.js";import"./Scrollbar-54724e22.js";import"./get-slot-1efb97e5.js";const F=`{
  a:"n",
  arr: [1, 2], 
  nested: {
    a:1,
    b:"2"
  }
}`,ct=S({__name:"json-to-php",setup(J){const{t:a}=P(),d=U(F),g=u({name:"root",storageName:"json-php:r",defaultValue:"GeneratedClass"}),h=u({name:"getter",storageName:"json-php:pv",defaultValue:!0}),_=u({name:"novalid",storageName:"json-php:cl",defaultValue:!1}),f=u({name:"setter",storageName:"json-php:pn",defaultValue:!0}),v=u({name:"closing",storageName:"json-php:pn",defaultValue:!0}),j=u({name:"optional",storageName:"json-php:op",defaultValue:!1});async function N(p,t){const i=x.jsonInputForTargetLanguage("php");await i.addSource({name:t.rootName,samples:[JSON.stringify(w.parse(p))]});const l=new x.InputData;l.addInput(i);const{lines:k}=await x.quicktype({inputData:l,lang:"php",topLevel:t.rootName,allPropertiesOptional:t.optionalProperties,rendererOptions:{"with-get":t.createGetter,"fast-get":t.getterWithoutValidation,"with-set":t.createSetter,"with-closing":t.phpClosingTag}});return k.join(`
`)}const y=C(async()=>{try{return await N(d.value,{rootName:g.value,createGetter:h.value,getterWithoutValidation:_.value,createSetter:f.value,phpClosingTag:v.value,optionalProperties:j.value})}catch(p){return p.toString()}}),V=[{validator:p=>p===""||w.parse(p),message:a("tools.json-to-php.texts.message-provided-json-is-not-valid")}];return(p,t)=>{const i=O,l=B,k=E,b=D;return I(),T(G,null,[n(b,{title:e(a)("tools.json-to-php.texts.title-json-to-php")},{default:s(()=>[n(i,{value:e(d),"onUpdate:value":t[0]||(t[0]=o=>r(d)?d.value=o:null),multiline:"",placeholder:e(a)("tools.json-to-php.texts.placeholder-put-your-json-string-here"),rows:"20",label:e(a)("tools.json-to-php.texts.label-your-json-object"),"validation-rules":V,"raw-text":"","mb-5":""},null,8,["value","placeholder","label"]),n(i,{value:e(g),"onUpdate:value":t[1]||(t[1]=o=>r(g)?g.value=o:null),label:e(a)("tools.json-to-php.texts.label-root-name"),"label-position":"left","mb-2":""},null,8,["value","label"]),n(k,{justify:"center"},{default:s(()=>[n(l,{checked:e(h),"onUpdate:checked":t[2]||(t[2]=o=>r(h)?h.value=o:null)},{default:s(()=>[c(m(e(a)("tools.json-to-php.texts.tag-create-getter")),1)]),_:1},8,["checked"]),n(l,{checked:e(_),"onUpdate:checked":t[3]||(t[3]=o=>r(_)?_.value=o:null)},{default:s(()=>[c(m(e(a)("tools.json-to-php.texts.tag-getter-without-validation")),1)]),_:1},8,["checked"]),n(l,{checked:e(f),"onUpdate:checked":t[4]||(t[4]=o=>r(f)?f.value=o:null)},{default:s(()=>[c(m(e(a)("tools.json-to-php.texts.tag-create-setter")),1)]),_:1},8,["checked"]),n(l,{checked:e(v),"onUpdate:checked":t[5]||(t[5]=o=>r(v)?v.value=o:null)},{default:s(()=>[c(m(e(a)("tools.json-to-php.texts.tag-php-closing-tag")),1)]),_:1},8,["checked"]),n(l,{checked:e(j),"onUpdate:checked":t[6]||(t[6]=o=>r(j)?j.value=o:null)},{default:s(()=>[c(m(e(a)("tools.json-to-php.texts.tag-make-all-properties-optional")),1)]),_:1},8,["checked"])]),_:1})]),_:1},8,["title"]),n(b,{title:e(a)("tools.json-to-php.texts.title-your-php-code")},{default:s(()=>[n(W,{value:e(y),language:"php","download-file-name":"output.php"},null,8,["value"])]),_:1},8,["title"])],64)}}});export{ct as default};
