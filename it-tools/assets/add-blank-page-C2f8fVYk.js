import{c as w,i as L}from"./style-ynO7IsM1.js";import"./version-BXrBJCm5.js";import"./full-width-DliZ98Ur.js";import"./simple-mode-footer-C6L5gDe0.js";import{a as p,f as E,b as v,P as I,h as g,d as D}from"./main-CdZmBCMR.js";import"./mobileMenu-BoMunYmR.js";const a={file:null,pdfDoc:null};function y(){a.file=null,a.pdfDoc=null;const n=document.getElementById("file-display-area");n&&(n.innerHTML="");const e=document.getElementById("tool-options");e&&e.classList.add("hidden");const s=document.getElementById("file-input");s&&(s.value="");const o=document.getElementById("page-position");o&&(o.value="0");const t=document.getElementById("page-count");t&&(t.value="1")}async function b(){const n=document.getElementById("file-display-area"),e=document.getElementById("tool-options"),s=document.getElementById("page-position-hint"),o=document.getElementById("page-position");if(n)if(n.innerHTML="",a.file){const t=document.createElement("div");t.className="flex items-center justify-between bg-gray-700 p-3 rounded-lg text-sm";const i=document.createElement("div");i.className="flex flex-col overflow-hidden";const c=document.createElement("div");c.className="truncate font-medium text-gray-200 text-sm mb-1",c.textContent=a.file.name;const d=document.createElement("div");d.className="text-xs text-gray-400",d.textContent=`${E(a.file.size)} • Loading...`,i.append(c,d);const r=document.createElement("button");r.className="ml-4 text-red-400 hover:text-red-300 flex-shrink-0",r.innerHTML='<i data-lucide="trash-2" class="w-4 h-4"></i>',r.onclick=function(){y()},t.append(i,r),n.appendChild(t),w({icons:L});try{v("Loading PDF...");const l=await a.file.arrayBuffer();a.pdfDoc=await I.load(l,{ignoreEncryption:!0,throwOnInvalidObject:!1}),g();const f=a.pdfDoc.getPageCount();d.textContent=`${E(a.file.size)} • ${f} pages`,s&&(s.textContent=`Enter 0 to insert at the beginning, or ${f} to insert at the end.`),o&&(o.max=f.toString()),e&&e.classList.remove("hidden")}catch(l){console.error("Error loading PDF:",l),g(),p("Error","Failed to load PDF file."),y()}}else e&&e.classList.add("hidden")}async function x(){if(!a.pdfDoc||!a.file){p("Error","Please upload a PDF first.");return}const n=document.getElementById("page-position"),e=document.getElementById("page-count"),s=parseInt(n.value),o=parseInt(e.value),t=a.pdfDoc.getPageCount();if(isNaN(s)||s<0||s>t){p("Invalid Input",`Please enter a number between 0 and ${t}.`);return}if(isNaN(o)||o<1){p("Invalid Input","Please enter a valid number of pages (1 or more).");return}v(`Adding ${o} blank page${o>1?"s":""}...`);try{const i=await I.create(),{width:c,height:d}=a.pdfDoc.getPage(0).getSize(),r=Array.from({length:t},function(u,m){return m}),l=r.slice(0,s),f=r.slice(s);l.length>0&&(await i.copyPages(a.pdfDoc,l)).forEach(function(m){i.addPage(m)});for(let u=0;u<o;u++)i.addPage([c,d]);f.length>0&&(await i.copyPages(a.pdfDoc,f)).forEach(function(m){i.addPage(m)});const B=await i.save(),P=a.file.name.replace(/\.pdf$/i,"");D(new Blob([new Uint8Array(B)],{type:"application/pdf"}),`${P}_blank-pages-added.pdf`),p("Success",`Added ${o} blank page${o>1?"s":""} successfully!`,"success",function(){y()})}catch(i){console.error(i),p("Error",`Could not add blank page${o>1?"s":""}.`)}finally{g()}}function h(n){if(n&&n.length>0){const e=n[0];(e.type==="application/pdf"||e.name.toLowerCase().endsWith(".pdf"))&&(a.file=e,b())}}document.addEventListener("DOMContentLoaded",function(){const n=document.getElementById("file-input"),e=document.getElementById("drop-zone"),s=document.getElementById("process-btn"),o=document.getElementById("back-to-tools");o&&o.addEventListener("click",function(){window.location.href="/itools/"}),n&&e&&(n.addEventListener("change",function(t){h(t.target.files)}),e.addEventListener("dragover",function(t){t.preventDefault(),e.classList.add("bg-gray-700")}),e.addEventListener("dragleave",function(t){t.preventDefault(),e.classList.remove("bg-gray-700")}),e.addEventListener("drop",function(t){t.preventDefault(),e.classList.remove("bg-gray-700");const i=t.dataTransfer?.files;if(i&&i.length>0){const c=Array.from(i).filter(function(d){return d.type==="application/pdf"||d.name.toLowerCase().endsWith(".pdf")});if(c.length>0){const d=new DataTransfer;d.items.add(c[0]),h(d.files)}}}),n.addEventListener("click",function(){n.value=""})),s&&s.addEventListener("click",x)});
