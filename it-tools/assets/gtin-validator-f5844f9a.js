import{_ as A}from"./InputCopyable.vue_vue_type_script_setup_true_lang-294ac243.js";import{d as M,a0 as P,am as $,i as j,o as h,c as U,k as N,l as o,m as Z,j as b,w as y,a6 as k,G as V,ad as E,x as q}from"./index-0c1fde36.js";import{N as Q}from"./Alert-a9fb131b.js";import{_ as W}from"./Card-7ba5ce79.js";var u={},T={},g={};Object.defineProperty(g,"__esModule",{value:!0});g.errorsList=void 0;g.errorsList={emptyString:"Invalid GTIN: The provided productCode is an empty string.",notString:"Invalid GTIN: The provided productCode is not of type string.",stringContainsNonDigitCharacters:"Invalid GTIN: The provided productCode contains non digit characters.",invalidStringLengthForGTIN:"Invalid GTIN: Valid GTINs must 8 digits or 12-14 digits.",invalidStringLengthForRemoveGTINLeadingZerosToUpcOrGTIN13:"Invalid productCode provided to removeGTINLeadingZerosToUpcOrGTIN13: Only valid GTINs between 12-14 digits are accepted.",invalidCheckDigit:"Invalid GTIN: GTIN check digit is invalid.",unknownRemoveGTINLeadingZerosToUpcOrGTIN13:"Unknown error attempting removeGTINLeadingZerosToUpcOrGTIN13 with the provided productCode.",invalidStringLengthForCalculateCheckDigitForGTIN:"Invalid length for the provided productCodeWithoutCheckDigit param. The productCodeWithoutCheckDigit param should be a string of digits 7 or 11-13 characters long.",invalidGtinTypeForGenerateRandomGTIN:'gtinType param for generateRandomGTIN must be "GTIN-8", "GTIN-12", "GTIN-13", or "GTIN-14".',invalidGtinTypeGenerateArrayOfRandomGTINs:'gtinType param for generateArrayOfRandomGTINs must be "GTIN-8", "GTIN-12", "GTIN-13", "GTIN-14", or "Any Valid GTIN".'};var I={},c={};Object.defineProperty(c,"__esModule",{value:!0});c.randomGtinType=c.isStringOfDigits=c.isString=void 0;const F=g;function R(e,t="boolean"){if(e===""){if(t==="error")throw new Error(F.errorsList.emptyString);return!1}if(typeof e!="string"){if(t==="error")throw new Error(F.errorsList.notString);return!1}else return!0}c.isString=R;function z(e,t="boolean"){if(R(e,t)){if(/^\d+$/.test(e))return!0;if(t==="error")throw new Error(F.errorsList.stringContainsNonDigitCharacters);return!1}return!1}c.isStringOfDigits=z;function H(){return["GTIN-8","GTIN-12","GTIN-13","GTIN-14"][Math.floor(Math.random()*4)]}c.randomGtinType=H;Object.defineProperty(I,"__esModule",{value:!0});I.isValidStringLengthForGTIN=void 0;const J=g,K=c;function X(e,t="boolean"){if(!(0,K.isStringOfDigits)(e,t))return!1;if(/^(\d{12,14}|\d{8})$/.test(e))return!0;if(t==="error")throw new Error(J.errorsList.invalidStringLengthForGTIN);return!1}I.isValidStringLengthForGTIN=X;Object.defineProperty(T,"__esModule",{value:!0});T.isValidCheckDigitOnGTIN=void 0;const Y=g,B=I;function x(e,t="boolean"){if(!(0,B.isValidStringLengthForGTIN)(e,t))return!1;const l=e.split("").pop();e=e.slice(0,-1);let i=0;if(e.split("").reverse().map((s,a)=>{(a+1)%2===0?i+=Number(s):i+=Number(s)*3}),(10-i%10)%10!==Number(l)){if(t==="error")throw new Error(Y.errorsList.invalidCheckDigit);return!1}else return!0}T.isValidCheckDigitOnGTIN=x;var f={};Object.defineProperty(f,"__esModule",{value:!0});f.removeGTINLeadingZerosToUpcOrGTIN13=void 0;const D=g,ee=T;function te(e){if((0,ee.isValidCheckDigitOnGTIN)(e,"error"),/^(\d{12,14})$/.test(e)){switch(e.length){case 14:return e.replace(/^0{1,2}/,"");case 13:return e.replace(/^0{1}/,"");case 12:return e}throw Error(D.errorsList.unknownRemoveGTINLeadingZerosToUpcOrGTIN13)}else throw new Error(D.errorsList.invalidStringLengthForRemoveGTINLeadingZerosToUpcOrGTIN13)}f.removeGTINLeadingZerosToUpcOrGTIN13=te;var G={};Object.defineProperty(G,"__esModule",{value:!0});G.isValidGTIN=void 0;const re=T;function ie(e,t="boolean"){return(0,re.isValidCheckDigitOnGTIN)(e,t)}G.isValidGTIN=ie;var v={};Object.defineProperty(v,"__esModule",{value:!0});v.getFormatOfGTIN=void 0;const ne=G;function ae(e){return(0,ne.isValidGTIN)(e,"error"),`GTIN-${e.length}`}v.getFormatOfGTIN=ae;var p={};Object.defineProperty(p,"__esModule",{value:!0});p.getFormatOfMinifiedGTIN=void 0;const oe=G,le=f;function se(e){return(0,oe.isValidGTIN)(e,"error"),e=e.length>=12?(0,le.removeGTINLeadingZerosToUpcOrGTIN13)(e):e,`GTIN-${e.length}`}p.getFormatOfMinifiedGTIN=se;var m={};Object.defineProperty(m,"__esModule",{value:!0});m.calculateCheckDigitForGTIN=void 0;const de=g,ce=c;function ge(e){if((0,ce.isString)(e,"error"),/^(\d{11,13}|\d{7})$/.test(e)){let t=0;return e.split("").reverse().map((r,n)=>{(n+1)%2===0?t+=Number(r):t+=Number(r)*3}),((10-t%10)%10).toString()}else throw new Error(de.errorsList.invalidStringLengthForCalculateCheckDigitForGTIN)}m.calculateCheckDigitForGTIN=ge;var L={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.generateRandomGTIN=e.gtinLengthMap=void 0;const t=m,l=g,i=["GTIN-8","GTIN-12","GTIN-13","GTIN-14"];e.gtinLengthMap={"GTIN-8":8,"GTIN-12":12,"GTIN-13":13,"GTIN-14":14};const r="0123456789";function n(s){if(i.includes(s)){let a="";for(let d=0;d<e.gtinLengthMap[s]-1;d++)a+=r.charAt(Math.floor(Math.random()*r.length));return a+=(0,t.calculateCheckDigitForGTIN)(a)}else throw new Error(l.errorsList.invalidGtinTypeForGenerateRandomGTIN)}e.generateRandomGTIN=n})(L);var _={};Object.defineProperty(_,"__esModule",{value:!0});_.generateArrayOfRandomGTINs=void 0;const ue=g,S=L,w=c,Te=["GTIN-8","GTIN-12","GTIN-13","GTIN-14","Any Valid GTIN"];function Ge(e,t,l=!1){if(!Te.includes(e))throw new Error(ue.errorsList.invalidGtinTypeGenerateArrayOfRandomGTINs);if(typeof t!="number"||t<=0)throw new Error('numberOfGTINsToGenerate param in generateArrayOfRandomGTINs must be of type "number" and > 0.');if(typeof l!="boolean")throw Error('guaranteeOnlyUniqueGTINs param for generateArrayOfRandomGTINs must be of type "boolean". If nothing is provided for this param, it defaults to false.');let i=[],r=1;if(l){let n=!1;for(;r<=t&&!n;){e=e!=="Any Valid GTIN"?e:(0,w.randomGtinType)();let s=(0,S.generateRandomGTIN)(e);if(i.push(s),r++,r===t){let a=[...new Set(i)];if(a.length===t)return a;r=a.length,i=a}}}else for(;r<=t;){e=e!=="Any Valid GTIN"?e:(0,w.randomGtinType)();let n=(0,S.generateRandomGTIN)(e);i.push(n),r++}return i}_.generateArrayOfRandomGTINs=Ge;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.generateArrayOfRandomGTINs=e.generateRandomGTIN=e.calculateCheckDigitForGTIN=e.getFormatOfMinifiedGTIN=e.getFormatOfGTIN=e.removeGTINLeadingZerosToUpcOrGTIN13=e.isValidStringLengthForGTIN=e.isValidCheckDigitOnGTIN=e.isValidGTIN=void 0;const t=T;Object.defineProperty(e,"isValidCheckDigitOnGTIN",{enumerable:!0,get:function(){return t.isValidCheckDigitOnGTIN}});const l=I;Object.defineProperty(e,"isValidStringLengthForGTIN",{enumerable:!0,get:function(){return l.isValidStringLengthForGTIN}});const i=f;Object.defineProperty(e,"removeGTINLeadingZerosToUpcOrGTIN13",{enumerable:!0,get:function(){return i.removeGTINLeadingZerosToUpcOrGTIN13}});const r=G;Object.defineProperty(e,"isValidGTIN",{enumerable:!0,get:function(){return r.isValidGTIN}});const n=v;Object.defineProperty(e,"getFormatOfGTIN",{enumerable:!0,get:function(){return n.getFormatOfGTIN}});const s=p;Object.defineProperty(e,"getFormatOfMinifiedGTIN",{enumerable:!0,get:function(){return s.getFormatOfMinifiedGTIN}});const a=m;Object.defineProperty(e,"calculateCheckDigitForGTIN",{enumerable:!0,get:function(){return a.calculateCheckDigitForGTIN}});const d=L;Object.defineProperty(e,"generateRandomGTIN",{enumerable:!0,get:function(){return d.generateRandomGTIN}});const O=_;Object.defineProperty(e,"generateArrayOfRandomGTINs",{enumerable:!0,get:function(){return O.generateArrayOfRandomGTINs}})})(u);const Ne={style:{"max-width":"600px",margin:"auto"}},ve=M({__name:"gtin-validator",setup(e){const{t}=P(),l=$({tool:"gtin-validator",name:"gtin",defaultValue:""}),i=j(()=>{if(!l.value)return null;const r=l.value.trim(),n=a=>{try{return a()}catch(d){return d.toString()}},s=u.isValidGTIN(r);return{minified:n(()=>u.removeGTINLeadingZerosToUpcOrGTIN13(r)),format:n(()=>u.getFormatOfGTIN(r)),minifiedFormat:n(()=>u.getFormatOfMinifiedGTIN(r)),checkDigit:n(()=>s?u.calculateCheckDigitForGTIN(r.slice(0,-1)):u.calculateCheckDigitForGTIN(r)),isValid:s,message:n(()=>u.isValidGTIN(r,"error")?"ok":"nok")}});return(r,n)=>{const s=q,a=Q,d=A,O=W;return h(),U("div",Ne,[N(s,{value:o(l),"onUpdate:value":n[0]||(n[0]=C=>Z(l)?l.value=C:null),placeholder:o(t)("tools.gtin-validator.texts.placeholder-enter-gtin-e-g-4006381333931"),label:o(t)("tools.gtin-validator.texts.label-gtin"),"label-position":"left","mb-2":""},null,8,["value","placeholder","label"]),o(i)?(h(),b(O,{key:0,title:o(t)("tools.gtin-validator.texts.title-validation")},{default:y(()=>[o(i).isValid?(h(),b(a,{key:1,type:"success","mb-2":""},{default:y(()=>[k(V(o(t)("tools.gtin-validator.texts.tag-gtin-is-valid")),1)]),_:1})):(h(),b(a,{key:0,type:"error","mb-2":""},{default:y(()=>[k(V(o(i).message),1)]),_:1})),N(d,{value:o(i).format,label:o(t)("tools.gtin-validator.texts.label-format"),"label-position":"left","label-width":"120px","mb-1":""},null,8,["value","label"]),N(d,{value:o(i).minified,label:o(t)("tools.gtin-validator.texts.label-minified"),"label-position":"left","label-width":"120px","mb-1":""},null,8,["value","label"]),N(d,{value:o(i).minifiedFormat,label:o(t)("tools.gtin-validator.texts.label-minified-format"),"label-position":"left","label-width":"120px","mb-1":""},null,8,["value","label"]),N(d,{value:o(i).checkDigit,label:o(t)("tools.gtin-validator.texts.label-check-digit"),"label-position":"left","label-width":"120px","mb-1":""},null,8,["value","label"])]),_:1},8,["title"])):E("",!0)])}}});export{ve as default};
