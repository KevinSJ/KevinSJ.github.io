import{_ as N}from"./TextareaCopyable-59231e95.js";import{d as U,a0 as C,r as i,E as I,i as V,o as p,c as A,k as n,w as s,l as t,m as k,j as m,ad as f,a6 as E,G as J,aW as T,x as D,af as F,ag as G}from"./index-0c1fde36.js";import{a as O}from"./index-a6f01dde.js";import{u as v}from"./pack-bffcc79b.js";import{h as R}from"./hex-array-fe7b0a26.js";import{_ as W}from"./Radio-424d9905.js";import{_ as q}from"./Space-7fc52151.js";import{_ as z}from"./RadioGroup-1850ca84.js";import"./base64-ae7cf34b.js";import"./downloadBase64-508288e2.js";import"./index-6fddb70d.js";import"./index-cfd4d427.js";import"./Copy-ef9ec73c.js";import"./Scrollbar-54724e22.js";import"./get-slot-1efb97e5.js";const ut=U({__name:"msgpack-to-json",setup(H){const{t:l}=C(),a=i("file"),c=i(),u=i(""),r=i(""),x=I(async()=>{r.value="";try{if(a.value==="file"){const e=c.value;return e==null?null:v(O.from(await e.arrayBuffer()))}else return v(R.fromString(u.value))}catch(e){return r.value=e.toString(),[]}}),y=V(()=>JSON.stringify(x.value||[],(e,o)=>typeof o=="bigint"?o.toString():o,2));function b(e){e&&(c.value=e)}return(e,o)=>{const d=W,j=q,$=z,h=T,w=D,g=F,B=G,S=N;return p(),A("div",null,[n(g,{title:t(l)("tools.msgpack-to-json.texts.title-input-message-pack-file-or-content"),"mb-2":""},{default:s(()=>[n($,{value:t(a),"onUpdate:value":o[0]||(o[0]=_=>k(a)?a.value=_:null),name:"radiogroup","mb-2":"",flex:"","justify-center":""},{default:s(()=>[n(j,null,{default:s(()=>[n(d,{value:"file",label:t(l)("tools.msgpack-to-json.texts.label-file")},null,8,["label"]),n(d,{value:"content",label:t(l)("tools.msgpack-to-json.texts.label-hex-content")},null,8,["label"])]),_:1})]),_:1},8,["value"]),t(a)==="file"?(p(),m(h,{key:0,title:t(l)("tools.msgpack-to-json.texts.title-drag-and-drop-msgpack-file-here-or-click-to-select-a-file"),onFileUpload:b},null,8,["title"])):f("",!0),t(a)==="content"?(p(),m(w,{key:1,value:t(u),"onUpdate:value":o[1]||(o[1]=_=>k(u)?u.value=_:null),label:t(l)("tools.msgpack-to-json.texts.label-hex-content"),multiline:""},null,8,["value","label"])):f("",!0)]),_:1},8,["title"]),t(r)?(p(),m(B,{key:0},{default:s(()=>[E(J(t(r)),1)]),_:1})):f("",!0),n(g,{title:t(l)("tools.msgpack-to-json.texts.title-json-content")},{default:s(()=>[n(S,{value:t(y),language:"json","download-file-name":`${t(c)?.name}.json`},null,8,["value","download-file-name"])]),_:1},8,["title"])])}}});export{ut as default};
