import{aX as I,d as J,a0 as O,r as B,ac as v,i as z,o as D,c as T,k as d,w as y,l as s,m as b,a6 as j,G as _,x as H,af as S}from"./index-0c1fde36.js";import{c as P,p as L}from"./index-214b4351.js";import{_ as F}from"./TextareaCopyable-59231e95.js";import{w as R}from"./defaults-4d6daddf.js";import{_ as G}from"./Checkbox-ba7202eb.js";import{_ as K}from"./Space-7fc52151.js";import"./base64-ae7cf34b.js";import"./index-a6f01dde.js";import"./downloadBase64-508288e2.js";import"./index-6fddb70d.js";import"./index-cfd4d427.js";import"./Copy-ef9ec73c.js";import"./Scrollbar-54724e22.js";import"./get-slot-1efb97e5.js";function A(o,e=!0){return/^\d$/.test(o.charAt(0))?`N${o}`:e?o.charAt(0).toUpperCase()+o.slice(1):o}function Q(o){return/^(\d{4})(-(0[1-9]|1[0-2])(-([12]\d|0[1-9]|3[01]))([T\s]((([01]\d|2[0-3])((:)[0-5]\d))([\:]\d+)?)?(:[0-5]\d([\.]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)$/.test(o)}function E(o,e){const i=typeof o;switch(i){case"string":const g=Q(o);return{type:g?"DateTime":"string",name:e,canBeNullable:g};case"number":return{type:Number.isInteger(o)?"int":"double",name:e,canBeNullable:!0};case"boolean":return{type:"bool",name:e,canBeNullable:!0};default:throw new Error(`Unexpected key '${e}' of type ${i}`)}}function C(o,e,i,g=!1){const h=A(i);let m=o.find(n=>n.key===h);m||(m={key:h,props:[]},g||o.push(m)),e!=null&&Object.keys(e).forEach(n=>{const c=Number.isNaN(Number(n))?n:`${h}Item`;let p=null;typeof e[n]=="object"?Array.isArray(e[n])?Array.from(e[n]).length>0&&(typeof e[n][0]=="object"?(C(o,e[n],c,!0),p={type:A(`${c}Item`),name:c,isArray:!0}):(p=E(e[n][0],c),p.isArray=!0)):(C(o,e[n],c),p={type:A(c),name:c}):p=E(e[n],c),p&&!m.props.some(N=>N.name===p?.name)&&m.props.push(p)})}function X(o,e="Root"){const i=[];return C(i,o,e),i}function Z({src:o,rootTypeName:e="Root",pascalCase:i=!0,nullValueHandlingIgnore:g=!0,addJsonPropertyName:h=!0,useReadonlyLists:m,useRecordTypes:n,addJsonProperty:c,generateImmutableClasses:p,useFields:N,useNullable:x}){const f=t=>{const l=A(t,i);return i?L(l):l},k=t=>{let l=t.type;t.isArray&&(m?l=n?`IReadonlyList<${l}>`:`List<${l}>`:l=`${l}[]`);const u=x&&t.canBeNullable?"?":"";return{type:l,nullable:u}},V=typeof o=="string"?I.parse(o):o,U=X(Array.isArray(V)?V[0]:V,Array.isArray(V)?`${e}Item`:e);let a="";return a+=`using System;
`,a+=c?`using Newtonsoft.Json;
`:"",a+=h?`using System.Text.Json;
`:"",a+=`
`,U.forEach(t=>{n?a+=`public record ${f(t.key)}(
`:(a+=`public class ${f(t.key)}
`,a+=`{
`),!n&&p&&(a+=`	public ${f(t.key)}(
`,t.props.forEach(l=>{const u=k(l);a+=`		${u.type}${u.nullable} ${P(l.name)},
`}),a=a.replace(/,\n$/,`
`),a+=`	){
`,t.props.forEach(l=>{a+=`		this.${f(l.name)} = ${P(l.name)};
`}),a+=`	}

`),t.props.forEach(l=>{const u=n?"property: ":"";c&&(g?a+=`	[${u}JsonProperty("${l.name}", NullValueHandling = NullValueHandling.Ignore)]
`:a+=`	[${u}JsonProperty("${l.name}")]
`),h&&(a+=`	[${u}JsonPropertyName("${l.name}")]
`);const $=k(l);if(n)a+=`	${$.type}${$.nullable} ${f(l.name)},
`;else{const w=m&&l.isArray?` = new ${$.type};`:"";N?a+=`	public ${$.type}${$.nullable} ${f(l.name)}${w||";"}`:p||l.isArray&&m?a+=`	public ${$.type}${$.nullable} ${f(l.name)} { get; }${w}`:a+=`	public ${$.type}${$.nullable} ${f(l.name)} { get; set; }${w}`,a+=`
`}}),n?(a=a.replace(/,\n$/,`
`),a+=`);

`):a+=`}

`}),a.trim()}const q=`{
  a:"n",
  arr: [1, 2], 
  nested: {
    a:1,
    b:"2"
  }
}`,ie=J({__name:"json-to-csharp",setup(o){const{t:e}=O(),i=B(q),g=v({name:"pascalcase",storageName:"json-c#:pc",defaultValue:!0}),h=v({name:"fields",storageName:"json-c#:fi",defaultValue:!1}),m=v({name:"nullable",storageName:"json-c#:null",defaultValue:!1}),n=v({name:"pascal",storageName:"json-c#:jsp",defaultValue:!1}),c=v({name:"pascal",storageName:"json-c#:ign",defaultValue:!0}),p=v({name:"pascal",storageName:"json-c#:jspp",defaultValue:!0}),N=v({name:"pascal",storageName:"json-c#:imm",defaultValue:!1}),x=v({name:"pascal",storageName:"json-c#:rec",defaultValue:!0}),f=v({name:"pascal",storageName:"json-c#:rdl",defaultValue:!1}),k=v({name:"root",storageName:"json-c#:rt",defaultValue:"Root"}),V=z(()=>R(()=>Z({src:I.parse(i.value),rootTypeName:k.value,pascalCase:g.value,useFields:h.value,useNullable:m.value,addJsonProperty:n.value,nullValueHandlingIgnore:c.value,addJsonPropertyName:p.value,generateImmutableClasses:N.value,useRecordTypes:x.value,useReadonlyLists:f.value}),"")),U=[{validator:a=>a===""||I.parse(a),message:e("tools.json-to-csharp.texts.message-provided-json-is-not-valid")}];return(a,t)=>{const l=H,u=G,$=K,w=S;return D(),T("div",null,[d(w,{title:s(e)("tools.json-to-csharp.texts.title-json-to-c")},{default:y(()=>[d(l,{value:s(i),"onUpdate:value":t[0]||(t[0]=r=>b(i)?i.value=r:null),multiline:"",placeholder:s(e)("tools.json-to-csharp.texts.placeholder-put-your-json-string-here"),rows:"10",label:s(e)("tools.json-to-csharp.texts.label-json-to-c"),"validation-rules":U,"raw-text":"","mb-5":""},null,8,["value","placeholder","label"]),d($,{justify:"center"},{default:y(()=>[d(u,{checked:s(g),"onUpdate:checked":t[1]||(t[1]=r=>b(g)?g.value=r:null)},{default:y(()=>[j(_(s(e)("tools.json-to-csharp.texts.tag-use-pascal-case")),1)]),_:1},8,["checked"]),d(u,{checked:s(x),"onUpdate:checked":t[2]||(t[2]=r=>b(x)?x.value=r:null)},{default:y(()=>[j(_(s(e)("tools.json-to-csharp.texts.tag-use-record-types")),1)]),_:1},8,["checked"]),d(u,{checked:s(N),"onUpdate:checked":t[3]||(t[3]=r=>b(N)?N.value=r:null)},{default:y(()=>[j(_(s(e)("tools.json-to-csharp.texts.tag-generate-immutable-classes")),1)]),_:1},8,["checked"]),d(u,{checked:s(h),"onUpdate:checked":t[4]||(t[4]=r=>b(h)?h.value=r:null)},{default:y(()=>[j(_(s(e)("tools.json-to-csharp.texts.tag-use-fields")),1)]),_:1},8,["checked"]),d(u,{checked:s(n),"onUpdate:checked":t[5]||(t[5]=r=>b(n)?n.value=r:null)},{default:y(()=>[j(_(s(e)("tools.json-to-csharp.texts.tag-add-jsonproperty-attributes")),1)]),_:1},8,["checked"]),d(u,{checked:s(c),"onUpdate:checked":t[6]||(t[6]=r=>b(c)?c.value=r:null),disabled:!s(n)},{default:y(()=>[j(_(s(e)("tools.json-to-csharp.texts.tag-use-nullvaluehandling-ignore")),1)]),_:1},8,["checked","disabled"]),d(u,{checked:s(p),"onUpdate:checked":t[7]||(t[7]=r=>b(p)?p.value=r:null)},{default:y(()=>[j(_(s(e)("tools.json-to-csharp.texts.tag-add-jsonpropertyname-attributes")),1)]),_:1},8,["checked"]),d(u,{checked:s(m),"onUpdate:checked":t[8]||(t[8]=r=>b(m)?m.value=r:null)},{default:y(()=>[j(_(s(e)("tools.json-to-csharp.texts.tag-use-nullable-types")),1)]),_:1},8,["checked"]),d(u,{checked:s(f),"onUpdate:checked":t[9]||(t[9]=r=>b(f)?f.value=r:null)},{default:y(()=>[j(_(s(e)("tools.json-to-csharp.texts.tag-use-readonly-lists")),1)]),_:1},8,["checked"])]),_:1}),d(l,{value:s(k),"onUpdate:value":t[10]||(t[10]=r=>b(k)?k.value=r:null),label:s(e)("tools.json-to-csharp.texts.label-root-type-name"),placeholder:s(e)("tools.json-to-csharp.texts.placeholder-your-root-type-name"),clearable:"","raw-text":"","mb-5":""},null,8,["value","label","placeholder"])]),_:1},8,["title"]),d(w,{title:s(e)("tools.json-to-csharp.texts.title-your-c-code"),"mt-2":""},{default:y(()=>[d(F,{value:s(V),language:"csharp","download-file-name":"output.cs"},null,8,["value"])]),_:1},8,["title"])])}}});export{ie as default};
