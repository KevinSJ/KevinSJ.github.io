const e=/\\([ \\!"#$%&'()*+,./:;<=>?@[\]^_`{|}~-])/g;function l(o,u){const s=o.posMax,n=o.pos;if(o.src.charCodeAt(n)!==126||u||n+2>=s)return!1;o.pos=n+1;let p=!1;for(;o.pos<s;){if(o.src.charCodeAt(o.pos)===126){p=!0;break}o.md.inline.skipToken(o)}if(!p||n+1===o.pos)return o.pos=n,!1;const r=o.src.slice(n+1,o.pos);if(r.match(/(^|[^\\])(\\\\)*\s/))return o.pos=n,!1;o.posMax=o.pos,o.pos=n+1;const c=o.push("sub_open","sub",1);c.markup="~";const i=o.push("text","",0);i.content=r.replace(e,"$1");const f=o.push("sub_close","sub",-1);return f.markup="~",o.pos=o.posMax+1,o.posMax=s,!0}function k(o){o.inline.ruler.after("emphasis","sub",l)}const x=/\\([ \\!"#$%&'()*+,./:;<=>?@[\]^_`{|}~-])/g;function h(o,u){const s=o.posMax,n=o.pos;if(o.src.charCodeAt(n)!==94||u||n+2>=s)return!1;o.pos=n+1;let p=!1;for(;o.pos<s;){if(o.src.charCodeAt(o.pos)===94){p=!0;break}o.md.inline.skipToken(o)}if(!p||n+1===o.pos)return o.pos=n,!1;const r=o.src.slice(n+1,o.pos);if(r.match(/(^|[^\\])(\\\\)*\s/))return o.pos=n,!1;o.posMax=o.pos,o.pos=n+1;const c=o.push("sup_open","sup",1);c.markup="^";const i=o.push("text","",0);i.content=r.replace(x,"$1");const f=o.push("sup_close","sup",-1);return f.markup="^",o.pos=o.posMax+1,o.posMax=s,!0}function _(o){o.inline.ruler.after("emphasis","sup",h)}export{_ as a,k as s};
