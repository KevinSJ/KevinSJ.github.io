import{b as Ue,dU as Ne}from"./index-0c1fde36.js";import{t as Z,g as ye,c as ve}from"./index-0397ab6f.js";import{o as J}from"./index-66a21f3e.js";var Me=J,qe=Z,X=function(t,e,r){for(var n=t,a;(a=n.next)!=null;n=a)if(a.key===e)return n.next=a.next,r||(a.next=t.next,t.next=a),a},Ke=function(t,e){if(t){var r=X(t,e);return r&&r.value}},ze=function(t,e,r){var n=X(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Be=function(t,e){return t?!!X(t,e):!1},He=function(t,e){if(t)return X(t,e,!0)},We=function(){var e,r={assert:function(n){if(!r.has(n))throw new qe("Side channel does not contain "+Me(n))},delete:function(n){var a=e&&e.next,s=He(e,n);return s&&a&&a===s&&(e=void 0),!!s},get:function(n){return Ke(e,n)},has:function(n){return Be(e,n)},set:function(n,a){e||(e={next:void 0}),ze(e,n,a)}};return r},Qe=ye,H=ve,Ge=J,Ve=Z,ue=Qe("%Map%",!0),Ze=H("Map.prototype.get",!0),Je=H("Map.prototype.set",!0),Xe=H("Map.prototype.has",!0),Ye=H("Map.prototype.delete",!0),ke=H("Map.prototype.size",!0),ge=!!ue&&function(){var e,r={assert:function(n){if(!r.has(n))throw new Ve("Side channel does not contain "+Ge(n))},delete:function(n){if(e){var a=Ye(e,n);return ke(e)===0&&(e=void 0),a}return!1},get:function(n){if(e)return Ze(e,n)},has:function(n){return e?Xe(e,n):!1},set:function(n,a){e||(e=new ue),Je(e,n,a)}};return r},er=ye,Y=ve,rr=J,G=ge,tr=Z,q=er("%WeakMap%",!0),nr=Y("WeakMap.prototype.get",!0),ar=Y("WeakMap.prototype.set",!0),ir=Y("WeakMap.prototype.has",!0),or=Y("WeakMap.prototype.delete",!0),sr=q?function(){var e,r,n={assert:function(a){if(!n.has(a))throw new tr("Side channel does not contain "+rr(a))},delete:function(a){if(q&&a&&(typeof a=="object"||typeof a=="function")){if(e)return or(e,a)}else if(G&&r)return r.delete(a);return!1},get:function(a){return q&&a&&(typeof a=="object"||typeof a=="function")&&e?nr(e,a):r&&r.get(a)},has:function(a){return q&&a&&(typeof a=="object"||typeof a=="function")&&e?ir(e,a):!!r&&r.has(a)},set:function(a,s){q&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new q),ar(e,a,s)):G&&(r||(r=G()),r.set(a,s))}};return n}:G,fr=Z,lr=J,ur=We,hr=ge,cr=sr,pr=cr||hr||ur,dr=function(){var e,r={assert:function(n){if(!r.has(n))throw new fr("Side channel does not contain "+lr(n))},delete:function(n){return!!e&&e.delete(n)},get:function(n){return e&&e.get(n)},has:function(n){return!!e&&e.has(n)},set:function(n,a){e||(e=pr()),e.set(n,a)}};return r},mr=String.prototype.replace,yr=/%20/g,ee={RFC1738:"RFC1738",RFC3986:"RFC3986"},fe={default:ee.RFC3986,formatters:{RFC1738:function(t){return mr.call(t,yr,"+")},RFC3986:function(t){return String(t)}},RFC1738:ee.RFC1738,RFC3986:ee.RFC3986},vr=fe,re=Object.prototype.hasOwnProperty,F=Array.isArray,C=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),gr=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(F(n)){for(var a=[],s=0;s<n.length;++s)typeof n[s]<"u"&&a.push(n[s]);r.obj[r.prop]=a}}},be=function(e,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},a=0;a<e.length;++a)typeof e[a]<"u"&&(n[a]=e[a]);return n},br=function t(e,r,n){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(F(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!re.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var a=e;return F(e)&&!F(r)&&(a=be(e,n)),F(e)&&F(r)?(r.forEach(function(s,o){if(re.call(e,o)){var i=e[o];i&&typeof i=="object"&&s&&typeof s=="object"?e[o]=t(i,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var i=r[o];return re.call(s,o)?s[o]=t(s[o],i,n):s[o]=i,s},a)},wr=function(e,r){return Object.keys(r).reduce(function(n,a){return n[a]=r[a],n},e)},xr=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},te=1024,Or=function(e,r,n,a,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var i="",l=0;l<o.length;l+=te){for(var h=o.length>=te?o.slice(l,l+te):o,u=[],m=0;m<h.length;++m){var f=h.charCodeAt(m);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||s===vr.RFC1738&&(f===40||f===41)){u[u.length]=h.charAt(m);continue}if(f<128){u[u.length]=C[f];continue}if(f<2048){u[u.length]=C[192|f>>6]+C[128|f&63];continue}if(f<55296||f>=57344){u[u.length]=C[224|f>>12]+C[128|f>>6&63]+C[128|f&63];continue}m+=1,f=65536+((f&1023)<<10|h.charCodeAt(m)&1023),u[u.length]=C[240|f>>18]+C[128|f>>12&63]+C[128|f>>6&63]+C[128|f&63]}i+=u.join("")}return i},Er=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],a=0;a<r.length;++a)for(var s=r[a],o=s.obj[s.prop],i=Object.keys(o),l=0;l<i.length;++l){var h=i[l],u=o[h];typeof u=="object"&&u!==null&&n.indexOf(u)===-1&&(r.push({obj:o,prop:h}),n.push(u))}return gr(r),e},Sr=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Ar=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Tr=function(e,r){return[].concat(e,r)},Rr=function(e,r){if(F(e)){for(var n=[],a=0;a<e.length;a+=1)n.push(r(e[a]));return n}return r(e)},we={arrayToObject:be,assign:wr,combine:Tr,compact:Er,decode:xr,encode:Or,isBuffer:Ar,isRegExp:Sr,maybeMap:Rr,merge:br},xe=dr,V=we,B=fe,$r=Object.prototype.hasOwnProperty,Oe={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},_=Array.isArray,Dr=Array.prototype.push,Ee=function(t,e){Dr.apply(t,_(e)?e:[e])},Lr=Date.prototype.toISOString,he=B.default,b={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:V.encode,encodeValuesOnly:!1,filter:void 0,format:he,formatter:B.formatters[he],indices:!1,serializeDate:function(e){return Lr.call(e)},skipNulls:!1,strictNullHandling:!1},Cr=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},ne={},_r=function t(e,r,n,a,s,o,i,l,h,u,m,f,d,y,O,v,$,p){for(var c=e,x=p,w=0,E=!1;(x=x.get(ne))!==void 0&&!E;){var N=x.get(e);if(w+=1,typeof N<"u"){if(N===w)throw new RangeError("Cyclic object value");E=!0}typeof x.get(ne)>"u"&&(w=0)}if(typeof u=="function"?c=u(r,c):c instanceof Date?c=d(c):n==="comma"&&_(c)&&(c=V.maybeMap(c,function(k){return k instanceof Date?d(k):k})),c===null){if(o)return h&&!v?h(r,b.encoder,$,"key",y):r;c=""}if(Cr(c)||V.isBuffer(c)){if(h){var D=v?r:h(r,b.encoder,$,"key",y);return[O(D)+"="+O(h(c,b.encoder,$,"value",y))]}return[O(r)+"="+O(String(c))]}var S=[];if(typeof c>"u")return S;var A;if(n==="comma"&&_(c))v&&h&&(c=V.maybeMap(c,h)),A=[{value:c.length>0?c.join(",")||null:void 0}];else if(_(u))A=u;else{var M=Object.keys(c);A=m?M.sort(m):M}var Q=l?String(r).replace(/\./g,"%2E"):String(r),L=a&&_(c)&&c.length===1?Q+"[]":Q;if(s&&_(c)&&c.length===0)return L+"[]";for(var j=0;j<A.length;++j){var R=A[j],P=typeof R=="object"&&R&&typeof R.value<"u"?R.value:c[R];if(!(i&&P===null)){var z=f&&l?String(R).replace(/\./g,"%2E"):String(R),Fe=_(c)?typeof n=="function"?n(L,z):L:L+(f?"."+z:"["+z+"]");p.set(e,w);var le=xe();le.set(ne,p),Ee(S,t(P,Fe,n,a,s,o,i,l,n==="comma"&&v&&_(c)?null:h,u,m,f,d,y,O,v,$,le))}}return S},Ir=function(e){if(!e)return b;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||b.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=B.default;if(typeof e.format<"u"){if(!$r.call(B.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var a=B.formatters[n],s=b.filter;(typeof e.filter=="function"||_(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in Oe?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=b.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var i=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:b.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:b.addQueryPrefix,allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:b.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:b.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?b.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:b.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:b.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:b.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:b.encodeValuesOnly,filter:s,format:n,formatter:a,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:b.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:b.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:b.strictNullHandling}},jr=function(t,e){var r=t,n=Ir(e),a,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):_(n.filter)&&(s=n.filter,a=s);var o=[];if(typeof r!="object"||r===null)return"";var i=Oe[n.arrayFormat],l=i==="comma"&&n.commaRoundTrip;a||(a=Object.keys(r)),n.sort&&a.sort(n.sort);for(var h=xe(),u=0;u<a.length;++u){var m=a[u],f=r[m];n.skipNulls&&f===null||Ee(o,_r(f,m,i,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,h))}var d=o.join(n.delimiter),y=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),d.length>0?y+d:""},U=we,ae=Object.prototype.hasOwnProperty,ce=Array.isArray,g={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:U.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},Pr=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Se=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},Fr="utf8=%26%2310003%3B",Ur="utf8=%E2%9C%93",Nr=function(e,r){var n={__proto__:null},a=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;a=a.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=a.split(r.delimiter,r.throwOnLimitExceeded?s+1:s);if(r.throwOnLimitExceeded&&o.length>s)throw new RangeError("Parameter limit exceeded. Only "+s+" parameter"+(s===1?"":"s")+" allowed.");var i=-1,l,h=r.charset;if(r.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===Ur?h="utf-8":o[l]===Fr&&(h="iso-8859-1"),i=l,l=o.length);for(l=0;l<o.length;++l)if(l!==i){var u=o[l],m=u.indexOf("]="),f=m===-1?u.indexOf("="):m+1,d,y;f===-1?(d=r.decoder(u,g.decoder,h,"key"),y=r.strictNullHandling?null:""):(d=r.decoder(u.slice(0,f),g.decoder,h,"key"),y=U.maybeMap(Se(u.slice(f+1),r,ce(n[d])?n[d].length:0),function(v){return r.decoder(v,g.decoder,h,"value")})),y&&r.interpretNumericEntities&&h==="iso-8859-1"&&(y=Pr(String(y))),u.indexOf("[]=")>-1&&(y=ce(y)?[y]:y);var O=ae.call(n,d);O&&r.duplicates==="combine"?n[d]=U.combine(n[d],y):(!O||r.duplicates==="last")&&(n[d]=y)}return n},Mr=function(t,e,r,n){var a=0;if(t.length>0&&t[t.length-1]==="[]"){var s=t.slice(0,-1).join("");a=Array.isArray(e)&&e[s]?e[s].length:0}for(var o=n?e:Se(e,r,a),i=t.length-1;i>=0;--i){var l,h=t[i];if(h==="[]"&&r.parseArrays)l=r.allowEmptyArrays&&(o===""||r.strictNullHandling&&o===null)?[]:U.combine([],o);else{l=r.plainObjects?{__proto__:null}:{};var u=h.charAt(0)==="["&&h.charAt(h.length-1)==="]"?h.slice(1,-1):h,m=r.decodeDotInKeys?u.replace(/%2E/g,"."):u,f=parseInt(m,10);!r.parseArrays&&m===""?l={0:o}:!isNaN(f)&&h!==m&&String(f)===m&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(l=[],l[f]=o):m!=="__proto__"&&(l[m]=o)}o=l}return o},qr=function(e,r,n,a){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,i=/(\[[^[\]]*])/g,l=n.depth>0&&o.exec(s),h=l?s.slice(0,l.index):s,u=[];if(h){if(!n.plainObjects&&ae.call(Object.prototype,h)&&!n.allowPrototypes)return;u.push(h)}for(var m=0;n.depth>0&&(l=i.exec(s))!==null&&m<n.depth;){if(m+=1,!n.plainObjects&&ae.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(l[1])}if(l){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");u.push("["+s.slice(l.index)+"]")}return Mr(u,r,n,a)}},Kr=function(e){if(!e)return g;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?g.charset:e.charset,n=typeof e.duplicates>"u"?g.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var a=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:g.allowDots:!!e.allowDots;return{allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:g.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:g.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:g.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:g.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:g.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:g.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:g.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:g.decoder,delimiter:typeof e.delimiter=="string"||U.isRegExp(e.delimiter)?e.delimiter:g.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:g.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:g.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:g.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:g.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:g.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:g.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},zr=function(t,e){var r=Kr(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof t=="string"?Nr(t,r):t,a=r.plainObjects?{__proto__:null}:{},s=Object.keys(n),o=0;o<s.length;++o){var i=s[o],l=qr(i,n[i],r,typeof t=="string");a=U.merge(a,l,r)}return r.allowSparse===!0?a:U.compact(a)},Br=jr,Hr=zr,Wr=fe,Qr={formats:Wr,parse:Hr,stringify:Br};const Gr=Ue(Qr);var Vr=Ne;function T(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Zr=/^([a-z0-9.+-]+:)/i,Jr=/:[0-9]*$/,Xr=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Yr=["<",">",'"',"`"," ","\r",`
`,"	"],kr=["{","}","|","\\","^","`"].concat(Yr),ie=["'"].concat(kr),pe=["%","/","?",";","#"].concat(ie),de=["/","?","#"],et=255,me=/^[+a-z0-9A-Z_-]{0,63}$/,rt=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,tt={javascript:!0,"javascript:":!0},oe={javascript:!0,"javascript:":!0},K={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},se=Gr;function W(t,e,r){if(t&&typeof t=="object"&&t instanceof T)return t;var n=new T;return n.parse(t,e,r),n}T.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),a=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(a),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(a);var i=t;if(i=i.trim(),!r&&t.split("#").length===1){var l=Xr.exec(i);if(l)return this.path=i,this.href=i,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=se.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var h=Zr.exec(i);if(h){h=h[0];var u=h.toLowerCase();this.protocol=u,i=i.substr(h.length)}if(r||h||i.match(/^\/\/[^@/]+@[^@/]+/)){var m=i.substr(0,2)==="//";m&&!(h&&oe[h])&&(i=i.substr(2),this.slashes=!0)}if(!oe[h]&&(m||h&&!K[h])){for(var f=-1,d=0;d<de.length;d++){var y=i.indexOf(de[d]);y!==-1&&(f===-1||y<f)&&(f=y)}var O,v;f===-1?v=i.lastIndexOf("@"):v=i.lastIndexOf("@",f),v!==-1&&(O=i.slice(0,v),i=i.slice(v+1),this.auth=decodeURIComponent(O)),f=-1;for(var d=0;d<pe.length;d++){var y=i.indexOf(pe[d]);y!==-1&&(f===-1||y<f)&&(f=y)}f===-1&&(f=i.length),this.host=i.slice(0,f),i=i.slice(f),this.parseHost(),this.hostname=this.hostname||"";var $=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!$)for(var p=this.hostname.split(/\./),d=0,c=p.length;d<c;d++){var x=p[d];if(x&&!x.match(me)){for(var w="",E=0,N=x.length;E<N;E++)x.charCodeAt(E)>127?w+="x":w+=x[E];if(!w.match(me)){var D=p.slice(0,d),S=p.slice(d+1),A=x.match(rt);A&&(D.push(A[1]),S.unshift(A[2])),S.length&&(i="/"+S.join(".")+i),this.hostname=D.join(".");break}}}this.hostname.length>et?this.hostname="":this.hostname=this.hostname.toLowerCase(),$||(this.hostname=Vr.toASCII(this.hostname));var M=this.port?":"+this.port:"",Q=this.hostname||"";this.host=Q+M,this.href+=this.host,$&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),i[0]!=="/"&&(i="/"+i))}if(!tt[u])for(var d=0,c=ie.length;d<c;d++){var L=ie[d];if(i.indexOf(L)!==-1){var j=encodeURIComponent(L);j===L&&(j=escape(L)),i=i.split(L).join(j)}}var R=i.indexOf("#");R!==-1&&(this.hash=i.substr(R),i=i.slice(0,R));var P=i.indexOf("?");if(P!==-1?(this.search=i.substr(P),this.query=i.substr(P+1),e&&(this.query=se.parse(this.query)),i=i.slice(0,P)):e&&(this.search="",this.query={}),i&&(this.pathname=i),K[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var M=this.pathname||"",z=this.search||"";this.path=M+z}return this.href=this.format(),this};function nt(t){return typeof t=="string"&&(t=W(t)),t instanceof T?t.format():T.prototype.format.call(t)}T.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",a=!1,s="";this.host?a=t+this.host:this.hostname&&(a=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=se.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||K[e])&&a!==!1?(a="//"+(a||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):a||(a=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(i){return encodeURIComponent(i)}),o=o.replace("#","%23"),e+a+r+o+n};function at(t,e){return W(t,!1,!0).resolve(e)}T.prototype.resolve=function(t){return this.resolveObject(W(t,!1,!0)).format()};function it(t,e){return t?W(t,!1,!0).resolveObject(e):e}T.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new T;e.parse(t,!1,!0),t=e}for(var r=new T,n=Object.keys(this),a=0;a<n.length;a++){var s=n[a];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),i=0;i<o.length;i++){var l=o[i];l!=="protocol"&&(r[l]=t[l])}return K[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!K[t.protocol]){for(var h=Object.keys(t),u=0;u<h.length;u++){var m=h[u];r[m]=t[m]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!oe[t.protocol]){for(var c=(t.pathname||"").split("/");c.length&&!(t.host=c.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),c[0]!==""&&c.unshift(""),c.length<2&&c.unshift(""),r.pathname=c.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var f=r.pathname||"",d=r.search||"";r.path=f+d}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var y=r.pathname&&r.pathname.charAt(0)==="/",O=t.host||t.pathname&&t.pathname.charAt(0)==="/",v=O||y||r.host&&t.pathname,$=v,p=r.pathname&&r.pathname.split("/")||[],c=t.pathname&&t.pathname.split("/")||[],x=r.protocol&&!K[r.protocol];if(x&&(r.hostname="",r.port=null,r.host&&(p[0]===""?p[0]=r.host:p.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(c[0]===""?c[0]=t.host:c.unshift(t.host)),t.host=null),v=v&&(c[0]===""||p[0]==="")),O)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,p=c;else if(c.length)p||(p=[]),p.pop(),p=p.concat(c),r.search=t.search,r.query=t.query;else if(t.search!=null){if(x){r.host=p.shift(),r.hostname=r.host;var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;w&&(r.auth=w.shift(),r.hostname=w.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!p.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=p.slice(-1)[0],N=(r.host||t.host||p.length>1)&&(E==="."||E==="..")||E==="",D=0,S=p.length;S>=0;S--)E=p[S],E==="."?p.splice(S,1):E===".."?(p.splice(S,1),D++):D&&(p.splice(S,1),D--);if(!v&&!$)for(;D--;D)p.unshift("..");v&&p[0]!==""&&(!p[0]||p[0].charAt(0)!=="/")&&p.unshift(""),N&&p.join("/").substr(-1)!=="/"&&p.push("");var A=p[0]===""||p[0]&&p[0].charAt(0)==="/";if(x){r.hostname=A?"":p.length?p.shift():"",r.host=r.hostname;var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;w&&(r.auth=w.shift(),r.hostname=w.shift(),r.host=r.hostname)}return v=v||r.host&&p.length,v&&!A&&p.unshift(""),p.length>0?r.pathname=p.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};T.prototype.parseHost=function(){var t=this.host,e=Jr.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var ot=W,st=at,Ae=it,ft=nt,lt=T;function ut(t,e){for(var r=0,n=t.length-1;n>=0;n--){var a=t[n];a==="."?t.splice(n,1):a===".."?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function ht(){for(var t="",e=!1,r=arguments.length-1;r>=-1&&!e;r--){var n=r>=0?arguments[r]:"/";if(typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!n)continue;t=n+"/"+t,e=n.charAt(0)==="/"}return t=ut(ct(t.split("/"),function(a){return!!a}),!e).join("/"),(e?"/":"")+t||"."}function ct(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}var Te=function(t){function e(){var n=this||self;return delete t.prototype.__magic__,n}if(typeof globalThis=="object")return globalThis;if(this)return e();t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:e});var r=__magic__;return r}(Object),pt=ft,Re=ot,$e=st,De=lt,I=Te.URL,Le=Te.URLSearchParams,dt=/%/g,mt=/\\/g,yt=/\n/g,vt=/\r/g,gt=/\t/g,bt=47;function wt(t){var e=t??null;return!!(e!==null&&e?.href&&e?.origin)}function xt(t){if(t.hostname!=="")throw new TypeError('File URL host must be "localhost" or empty on browser');for(var e=t.pathname,r=0;r<e.length;r++)if(e[r]==="%"){var n=e.codePointAt(r+2)|32;if(e[r+1]==="2"&&n===102)throw new TypeError("File URL path must not include encoded / characters")}return decodeURIComponent(e)}function Ot(t){return t.includes("%")&&(t=t.replace(dt,"%25")),t.includes("\\")&&(t=t.replace(mt,"%5C")),t.includes(`
`)&&(t=t.replace(yt,"%0A")),t.includes("\r")&&(t=t.replace(vt,"%0D")),t.includes("	")&&(t=t.replace(gt,"%09")),t}var Ce=function(e){if(typeof e>"u")throw new TypeError('The "domain" argument must be specified');return new I("http://"+e).hostname},_e=function(e){if(typeof e>"u")throw new TypeError('The "domain" argument must be specified');return new I("http://"+e).hostname},Ie=function(e){var r=new I("file://"),n=ht(e),a=e.charCodeAt(e.length-1);return a===bt&&n[n.length-1]!=="/"&&(n+="/"),r.pathname=Ot(n),r},je=function(e){if(!wt(e)&&typeof e!="string")throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof e+" ("+e+")");var r=new I(e);if(r.protocol!=="file:")throw new TypeError("The URL must be of scheme file");return xt(r)},Pe=function(e,r){var n,a,s,o;if(r===void 0&&(r={}),!(e instanceof I))return pt(e);if(typeof r!="object"||r===null)throw new TypeError('The "options" argument must be of type object.');var i=(n=r.auth)!=null?n:!0,l=(a=r.fragment)!=null?a:!0,h=(s=r.search)!=null?s:!0;(o=r.unicode)!=null;var u=new I(e.toString());return i||(u.username="",u.password=""),l||(u.hash=""),h||(u.search=""),u.toString()},Et={format:Pe,parse:Re,resolve:$e,resolveObject:Ae,Url:De,URL:I,URLSearchParams:Le,domainToASCII:Ce,domainToUnicode:_e,pathToFileURL:Ie,fileURLToPath:je};const Rt=Object.freeze(Object.defineProperty({__proto__:null,URL:I,URLSearchParams:Le,Url:De,default:Et,domainToASCII:Ce,domainToUnicode:_e,fileURLToPath:je,format:Pe,parse:Re,pathToFileURL:Ie,resolve:$e,resolveObject:Ae},Symbol.toStringTag,{value:"Module"}));export{je as f,Rt as u};
