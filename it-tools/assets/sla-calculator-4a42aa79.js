import{d as U,a0 as V,ac as B,am as D,i as S,R as T,o as H,c as q,k as e,w as r,l,m as F,j as W,ad as g,a as M,ak as A,af as L,x as $}from"./index-0c1fde36.js";import{_ as C}from"./InputCopyable.vue_vue_type_script_setup_true_lang-294ac243.js";import{p as R}from"./index-76014860.js";import{p as N}from"./index-52c6f147.js";import{B as y}from"./big-07ccaa8d.js";import{_ as j}from"./FormItem-1b9a5952.js";import{_ as E}from"./Divider-5fc425b0.js";import"./context-00991937.js";const I=y("24"),h=y("7"),O=y("12"),Y=y("365.2425"),z=Y.div(h),G=Y.div(O),J=G.div(h);function Q({mondayHours:k=24,tuesdayHours:t=24,wednesdayHours:b=24,thursdayHours:u=24,fridayHours:f=24,saturdayHours:c=24,sundayHours:p=24}){const _=y(k).plus(t).plus(b).plus(u).plus(f).plus(c).plus(p),v=_.mul("3600"),m=v.div(h),o=v.mul(J),a=o.mul("3"),i=v.mul(z),s=h.mul(I);return{durHoursWeek:_,durSecondsWeek:v,durSecondsDay:m,durSecondsMonth:o,durSecondsQuarter:a,durSecondsYear:i,fullWeekHours:s}}function K({downTimeSeconds:k,mondayHours:t=24,tuesdayHours:b=24,wednesdayHours:u=24,thursdayHours:f=24,fridayHours:c=24,saturdayHours:p=24,sundayHours:_=24}){const{durHoursWeek:v,durSecondsWeek:m,durSecondsDay:o,durSecondsMonth:a,durSecondsQuarter:i,durSecondsYear:s,fullWeekHours:P}=Q({mondayHours:t,tuesdayHours:b,wednesdayHours:u,thursdayHours:f,fridayHours:c,saturdayHours:p,sundayHours:_}),n=y("1"),x=y("100"),w=y(k);return{slaForDay:P.eq(v)?n.minus(w.div(o)).mul(x).toNumber():null,slaForWeek:n.minus(w.div(m)).mul(x).toNumber(),slaForMonth:n.minus(w.div(a)).mul(x).toNumber(),slaForQuarter:n.minus(w.div(i)).mul(x).toNumber(),slaForYear:n.minus(w.div(s)).mul(x).toNumber()}}function X({targetSLA:k,mondayHours:t=24,tuesdayHours:b=24,wednesdayHours:u=24,thursdayHours:f=24,fridayHours:c=24,saturdayHours:p=24,sundayHours:_=24}){const{durHoursWeek:v,durSecondsWeek:m,durSecondsDay:o,durSecondsMonth:a,durSecondsQuarter:i,durSecondsYear:s,fullWeekHours:P}=Q({mondayHours:t,tuesdayHours:b,wednesdayHours:u,thursdayHours:f,fridayHours:c,saturdayHours:p,sundayHours:_}),n=y("1").minus(y(k).div("100"));return{secondsPerDay:P.eq(v)?n.mul(o).toNumber():null,secondsPerWeek:n.mul(m).toNumber(),secondsPerMonth:n.mul(a).toNumber(),secondsPerQuarter:n.mul(i).toNumber(),secondsPerYear:n.mul(s).toNumber()}}const Z={flex:"","flex-wrap":"","gap-1":""},ll={flex:"","flex-wrap":"","gap-1":""},dl=U({__name:"sla-calculator",setup(k){const{t}=V();function b(o){return o?R(o*1e3):""}const u=B({name:"days",storageName:"sla:days",defaultValue:{mon:24,tue:24,wed:24,thu:24,fri:24,sat:24,sun:24}}),f=D({tool:"sla",name:"sla",defaultValue:99.99}),c=S(()=>{const o=u.value,a=X({targetSLA:f.value,mondayHours:o.mon,tuesdayHours:o.tue,wednesdayHours:o.wed,thursdayHours:o.thu,fridayHours:o.fri,saturdayHours:o.sat,sundayHours:o.sun});return{durationPerDay:b(a.secondsPerDay),durationPerMonth:b(a.secondsPerMonth),durationPerQuarter:b(a.secondsPerQuarter),durationPerWeek:b(a.secondsPerWeek),durationPerYear:b(a.secondsPerYear)}}),p=D({tool:"sla",name:"dur",defaultValue:"1s"}),_=T({source:p,rules:[{message:t("tools.sla-calculator.texts.message-invalid-duration"),validator:o=>N(o)}]}),v=S(()=>_.isValid&&N(p.value,"s")||0),m=S(()=>{const o=u.value,a=K({downTimeSeconds:v.value,mondayHours:o.mon,tuesdayHours:o.tue,wednesdayHours:o.wed,thursdayHours:o.thu,fridayHours:o.fri,saturdayHours:o.sat,sundayHours:o.sun});return{slaForDay:a.slaForDay?.toPrecision(6),slaForWeek:a.slaForWeek.toPrecision(6),slaForMonth:a.slaForMonth.toPrecision(6),slaForQuarter:a.slaForQuarter.toPrecision(6),slaForYear:a.slaForYear.toPrecision(6)}});return(o,a)=>{const i=A,s=j,P=E,n=C,x=L,w=$;return H(),q("div",null,[e(x,{title:l(t)("tools.sla-calculator.texts.title-sla-to-downtimes"),"mb-2":""},{default:r(()=>[e(s,{label:l(t)("tools.sla-calculator.texts.label-agreed-sla"),"label-placement":"left"},{default:r(()=>[e(i,{value:l(f),"onUpdate:value":a[0]||(a[0]=d=>F(f)?f.value=d:null),min:0,max:100},null,8,["value"])]),_:1},8,["label"]),e(P),l(c).durationPerDay?(H(),W(s,{key:0,label:l(t)("tools.sla-calculator.texts.label-daily-downtime"),"label-placement":"left","label-width":"100"},{default:r(()=>[e(n,{value:l(c).durationPerDay},null,8,["value"])]),_:1},8,["label"])):g("",!0),e(s,{label:l(t)("tools.sla-calculator.texts.label-weekly-downtime"),"label-placement":"left","label-width":"100"},{default:r(()=>[e(n,{value:l(c).durationPerWeek},null,8,["value"])]),_:1},8,["label"]),e(s,{label:l(t)("tools.sla-calculator.texts.label-monthly-downtime"),"label-placement":"left","label-width":"100"},{default:r(()=>[e(n,{value:l(c).durationPerMonth},null,8,["value"])]),_:1},8,["label"]),e(s,{label:l(t)("tools.sla-calculator.texts.label-quarterly-downtime"),"label-placement":"left","label-width":"100"},{default:r(()=>[e(n,{value:l(c).durationPerQuarter},null,8,["value"])]),_:1},8,["label"]),e(s,{label:l(t)("tools.sla-calculator.texts.label-yearly-downtime"),"label-placement":"left","label-width":"100"},{default:r(()=>[e(n,{value:l(c).durationPerYear},null,8,["value"])]),_:1},8,["label"])]),_:1},8,["title"]),e(x,{title:l(t)("tools.sla-calculator.texts.title-downtime-to-sla"),"mb-2":""},{default:r(()=>[e(w,{value:l(p),"onUpdate:value":a[1]||(a[1]=d=>F(p)?p.value=d:null),label:l(t)("tools.sla-calculator.texts.label-downtime-duration"),"label-position":"left",placeholder:l(t)("tools.sla-calculator.texts.placeholder-put-downtime-duration-here"),validation:l(_),"mb-2":""},null,8,["value","label","placeholder","validation"]),e(P),l(m).slaForDay?(H(),W(s,{key:0,label:l(t)("tools.sla-calculator.texts.label-daily-sla"),"label-placement":"left","label-width":"100"},{default:r(()=>[e(n,{value:l(m).slaForDay},null,8,["value"])]),_:1},8,["label"])):g("",!0),e(s,{label:l(t)("tools.sla-calculator.texts.label-weekly-sla"),"label-placement":"left","label-width":"100"},{default:r(()=>[e(n,{value:l(m).slaForWeek},null,8,["value"])]),_:1},8,["label"]),e(s,{label:l(t)("tools.sla-calculator.texts.label-monthly-sla"),"label-placement":"left","label-width":"100"},{default:r(()=>[e(n,{value:l(m).slaForMonth},null,8,["value"])]),_:1},8,["label"]),e(s,{label:l(t)("tools.sla-calculator.texts.label-quarterly-sla"),"label-placement":"left","label-width":"100"},{default:r(()=>[e(n,{value:l(m).slaForQuarter},null,8,["value"])]),_:1},8,["label"]),e(s,{label:l(t)("tools.sla-calculator.texts.label-yearly-sla"),"label-placement":"left","label-width":"100"},{default:r(()=>[e(n,{value:l(m).slaForYear},null,8,["value"])]),_:1},8,["label"])]),_:1},8,["title"]),e(x,{title:l(t)("tools.sla-calculator.texts.title-weekdays-hours")},{default:r(()=>[M("div",Z,[e(s,{label:l(t)("tools.sla-calculator.texts.label-monday"),"flex-1":""},{default:r(()=>[e(i,{value:l(u).mon,"onUpdate:value":a[2]||(a[2]=d=>l(u).mon=d),min:0,max:24},null,8,["value"])]),_:1},8,["label"]),e(s,{label:l(t)("tools.sla-calculator.texts.label-tuesday"),"flex-1":""},{default:r(()=>[e(i,{value:l(u).tue,"onUpdate:value":a[3]||(a[3]=d=>l(u).tue=d),min:0,max:24},null,8,["value"])]),_:1},8,["label"]),e(s,{label:l(t)("tools.sla-calculator.texts.label-wednesday"),"flex-1":""},{default:r(()=>[e(i,{value:l(u).wed,"onUpdate:value":a[4]||(a[4]=d=>l(u).wed=d),min:0,max:24},null,8,["value"])]),_:1},8,["label"]),e(s,{label:l(t)("tools.sla-calculator.texts.label-thursday"),"flex-1":""},{default:r(()=>[e(i,{value:l(u).thu,"onUpdate:value":a[5]||(a[5]=d=>l(u).thu=d),min:0,max:24},null,8,["value"])]),_:1},8,["label"]),e(s,{label:l(t)("tools.sla-calculator.texts.label-friday"),"flex-1":""},{default:r(()=>[e(i,{value:l(u).fri,"onUpdate:value":a[6]||(a[6]=d=>l(u).fri=d),min:0,max:24},null,8,["value"])]),_:1},8,["label"])]),M("div",ll,[e(s,{label:l(t)("tools.sla-calculator.texts.label-saturday"),"flex-1":""},{default:r(()=>[e(i,{value:l(u).sat,"onUpdate:value":a[7]||(a[7]=d=>l(u).sat=d),min:0,max:24},null,8,["value"])]),_:1},8,["label"]),e(s,{label:l(t)("tools.sla-calculator.texts.label-sunday"),"flex-1":""},{default:r(()=>[e(i,{value:l(u).sun,"onUpdate:value":a[8]||(a[8]=d=>l(u).sun=d),min:0,max:24},null,8,["value"])]),_:1},8,["label"])])]),_:1},8,["title"])])}}});export{dl as default};
