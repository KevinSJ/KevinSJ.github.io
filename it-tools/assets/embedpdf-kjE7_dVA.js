const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/worker-engine-956808f1-C96IfFCm.js","assets/main-CdZmBCMR.js","assets/style-ynO7IsM1.js","assets/style-BjgAlZWF.css","assets/direct-engine-7d4cd2b1-DcCgsJO7.js"])))=>i.map(i=>d[i]);
import{_ as no}from"./main-CdZmBCMR.js";function oo(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function ui(t,e,n,o,i,r,a){try{var s=t[r](a),c=s.value}catch(d){return void n(d)}s.done?e(c):Promise.resolve(c).then(o,i)}function _r(t,e,n){return e=$e(e),(function(o,i){if(i&&(typeof i=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r})(o)})(t,Io()?Reflect.construct(e,n||[],$e(t).constructor):e.apply(t,n))}function Nr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gc(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,Br(o.key),o)}}function Lr(t,e,n){return e&&gc(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Se(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=To(t))||e){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var c=n.next();return a=c.done,c},e:function(c){s=!0,r=c},f:function(){try{a||n.return==null||n.return()}finally{if(s)throw r}}}}function Y(t,e,n){return(e=Br(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $e(t){return $e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$e(t)}function Dr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fe(t,e)}function Io(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(Io=function(){return!!t})()}function hi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.push.apply(n,o)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hi(Object(n),!0).forEach((function(o){Y(t,o,n[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hi(Object(n)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))}))}return t}function ue(t,e){if(t==null)return{};var n,o,i=(function(a,s){if(a==null)return{};var c={};for(var d in a)if({}.hasOwnProperty.call(a,d)){if(s.indexOf(d)!==-1)continue;c[d]=a[d]}return c})(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function io(){io=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(z,T,_){z[T]=_.value},r=typeof Symbol=="function"?Symbol:{},a=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function d(z,T,_){return Object.defineProperty(z,T,{value:_,enumerable:!0,configurable:!0,writable:!0}),z[T]}try{d({},"")}catch{d=function(T,_,H){return T[_]=H}}function u(z,T,_,H){var N=T&&T.prototype instanceof y?T:y,j=Object.create(N.prototype),B=new q(H||[]);return i(j,"_invoke",{value:O(z,_,B)}),j}function p(z,T,_){try{return{type:"normal",arg:z.call(T,_)}}catch(H){return{type:"throw",arg:H}}}e.wrap=u;var h="suspendedStart",g="suspendedYield",f="executing",m="completed",v={};function y(){}function b(){}function w(){}var x={};d(x,a,(function(){return this}));var k=Object.getPrototypeOf,M=k&&k(k(V([])));M&&M!==n&&o.call(M,a)&&(x=M);var P=w.prototype=y.prototype=Object.create(x);function I(z){["next","throw","return"].forEach((function(T){d(z,T,(function(_){return this._invoke(T,_)}))}))}function A(z,T){function _(N,j,B,ot){var ct=p(z[N],z,j);if(ct.type!=="throw"){var mt=ct.arg,pt=mt.value;return pt&&typeof pt=="object"&&o.call(pt,"__await")?T.resolve(pt.__await).then((function(zt){_("next",zt,B,ot)}),(function(zt){_("throw",zt,B,ot)})):T.resolve(pt).then((function(zt){mt.value=zt,B(mt)}),(function(zt){return _("throw",zt,B,ot)}))}ot(ct.arg)}var H;i(this,"_invoke",{value:function(N,j){function B(){return new T((function(ot,ct){_(N,j,ot,ct)}))}return H=H?H.then(B,B):B()}})}function O(z,T,_){var H=h;return function(N,j){if(H===f)throw Error("Generator is already running");if(H===m){if(N==="throw")throw j;return{value:t,done:!0}}for(_.method=N,_.arg=j;;){var B=_.delegate;if(B){var ot=L(B,_);if(ot){if(ot===v)continue;return ot}}if(_.method==="next")_.sent=_._sent=_.arg;else if(_.method==="throw"){if(H===h)throw H=m,_.arg;_.dispatchException(_.arg)}else _.method==="return"&&_.abrupt("return",_.arg);H=f;var ct=p(z,T,_);if(ct.type==="normal"){if(H=_.done?m:g,ct.arg===v)continue;return{value:ct.arg,done:_.done}}ct.type==="throw"&&(H=m,_.method="throw",_.arg=ct.arg)}}}function L(z,T){var _=T.method,H=z.iterator[_];if(H===t)return T.delegate=null,_==="throw"&&z.iterator.return&&(T.method="return",T.arg=t,L(z,T),T.method==="throw")||_!=="return"&&(T.method="throw",T.arg=new TypeError("The iterator does not provide a '"+_+"' method")),v;var N=p(H,z.iterator,T.arg);if(N.type==="throw")return T.method="throw",T.arg=N.arg,T.delegate=null,v;var j=N.arg;return j?j.done?(T[z.resultName]=j.value,T.next=z.nextLoc,T.method!=="return"&&(T.method="next",T.arg=t),T.delegate=null,v):j:(T.method="throw",T.arg=new TypeError("iterator result is not an object"),T.delegate=null,v)}function F(z){var T={tryLoc:z[0]};1 in z&&(T.catchLoc=z[1]),2 in z&&(T.finallyLoc=z[2],T.afterLoc=z[3]),this.tryEntries.push(T)}function W(z){var T=z.completion||{};T.type="normal",delete T.arg,z.completion=T}function q(z){this.tryEntries=[{tryLoc:"root"}],z.forEach(F,this),this.reset(!0)}function V(z){if(z||z===""){var T=z[a];if(T)return T.call(z);if(typeof z.next=="function")return z;if(!isNaN(z.length)){var _=-1,H=function N(){for(;++_<z.length;)if(o.call(z,_))return N.value=z[_],N.done=!1,N;return N.value=t,N.done=!0,N};return H.next=H}}throw new TypeError(typeof z+" is not iterable")}return b.prototype=w,i(P,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=d(w,c,"GeneratorFunction"),e.isGeneratorFunction=function(z){var T=typeof z=="function"&&z.constructor;return!!T&&(T===b||(T.displayName||T.name)==="GeneratorFunction")},e.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,w):(z.__proto__=w,d(z,c,"GeneratorFunction")),z.prototype=Object.create(P),z},e.awrap=function(z){return{__await:z}},I(A.prototype),d(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(z,T,_,H,N){N===void 0&&(N=Promise);var j=new A(u(z,T,_,H),N);return e.isGeneratorFunction(T)?j:j.next().then((function(B){return B.done?B.value:j.next()}))},I(P),d(P,c,"Generator"),d(P,a,(function(){return this})),d(P,"toString",(function(){return"[object Generator]"})),e.keys=function(z){var T=Object(z),_=[];for(var H in T)_.push(H);return _.reverse(),function N(){for(;_.length;){var j=_.pop();if(j in T)return N.value=j,N.done=!1,N}return N.done=!0,N}},e.values=V,q.prototype={constructor:q,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(W),!z)for(var T in this)T.charAt(0)==="t"&&o.call(this,T)&&!isNaN(+T.slice(1))&&(this[T]=t)},stop:function(){this.done=!0;var z=this.tryEntries[0].completion;if(z.type==="throw")throw z.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var T=this;function _(ct,mt){return j.type="throw",j.arg=z,T.next=ct,mt&&(T.method="next",T.arg=t),!!mt}for(var H=this.tryEntries.length-1;H>=0;--H){var N=this.tryEntries[H],j=N.completion;if(N.tryLoc==="root")return _("end");if(N.tryLoc<=this.prev){var B=o.call(N,"catchLoc"),ot=o.call(N,"finallyLoc");if(B&&ot){if(this.prev<N.catchLoc)return _(N.catchLoc,!0);if(this.prev<N.finallyLoc)return _(N.finallyLoc)}else if(B){if(this.prev<N.catchLoc)return _(N.catchLoc,!0)}else{if(!ot)throw Error("try statement without catch or finally");if(this.prev<N.finallyLoc)return _(N.finallyLoc)}}}},abrupt:function(z,T){for(var _=this.tryEntries.length-1;_>=0;--_){var H=this.tryEntries[_];if(H.tryLoc<=this.prev&&o.call(H,"finallyLoc")&&this.prev<H.finallyLoc){var N=H;break}}N&&(z==="break"||z==="continue")&&N.tryLoc<=T&&T<=N.finallyLoc&&(N=null);var j=N?N.completion:{};return j.type=z,j.arg=T,N?(this.method="next",this.next=N.finallyLoc,v):this.complete(j)},complete:function(z,T){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&T&&(this.next=T),v},finish:function(z){for(var T=this.tryEntries.length-1;T>=0;--T){var _=this.tryEntries[T];if(_.finallyLoc===z)return this.complete(_.completion,_.afterLoc),W(_),v}},catch:function(z){for(var T=this.tryEntries.length-1;T>=0;--T){var _=this.tryEntries[T];if(_.tryLoc===z){var H=_.completion;if(H.type==="throw"){var N=H.arg;W(_)}return N}}throw Error("illegal catch attempt")},delegateYield:function(z,T,_){return this.delegate={iterator:V(z),resultName:T,nextLoc:_},this.method==="next"&&(this.arg=t),v}},e}function Fe(t,e){return Fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Fe(t,e)}function U(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,o){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var r,a,s,c,d=[],u=!0,p=!1;try{if(s=(i=i.call(n)).next,o!==0)for(;!(u=(r=s.call(i)).done)&&(d.push(r.value),d.length!==o);u=!0);}catch(h){p=!0,a=h}finally{try{if(!u&&i.return!=null&&(c=i.return(),Object(c)!==c))return}finally{if(p)throw a}}return d}})(t,e)||To(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function Or(t){return(function(e){if(Array.isArray(e))return oo(e)})(t)||(function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)})(t)||To(t)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function Br(t){var e=(function(n,o){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,o);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(n)})(t,"string");return typeof e=="symbol"?e:e+""}function To(t,e){if(t){if(typeof t=="string")return oo(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oo(t,e):void 0}}function ro(t){var e=typeof Map=="function"?new Map:void 0;return ro=function(n){if(n===null||!(function(i){try{return Function.toString.call(i).indexOf("[native code]")!==-1}catch{return typeof i=="function"}})(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,o)}function o(){return(function(i,r,a){if(Io())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,r);var c=new(i.bind.apply(i,s));return a&&Fe(c,a.prototype),c})(n,arguments,$e(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Fe(o,n)},ro(t)}var kn,st,Hr,ve,pi,jr,$r,Fr,Ao,ao,lo,Ur,Ue={},Wr=[],fc=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Cn=Array.isArray;function ie(t,e){for(var n in e)t[n]=e[n];return t}function zo(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function l(t,e,n){var o,i,r,a={};for(r in e)r=="key"?o=e[r]:r=="ref"?i=e[r]:a[r]=e[r];if(arguments.length>2&&(a.children=arguments.length>3?kn.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)a[r]===void 0&&(a[r]=t.defaultProps[r]);return dn(t,a,o,i,null)}function dn(t,e,n,o,i){var r={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++Hr,__i:-1,__u:0};return i==null&&st.vnode!=null&&st.vnode(r),r}function tt(t){return t.children}function je(t,e){this.props=t,this.context=e}function ze(t,e){if(e==null)return t.__?ze(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?ze(t):null}function qr(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return qr(t)}}function so(t){(!t.__d&&(t.__d=!0)&&ve.push(t)&&!fn.__r++||pi!==st.debounceRendering)&&((pi=st.debounceRendering)||jr)(fn)}function fn(){for(var t,e,n,o,i,r,a,s=1;ve.length;)ve.length>s&&ve.sort($r),t=ve.shift(),s=ve.length,t.__d&&(n=void 0,i=(o=(e=t).__v).__e,r=[],a=[],e.__P&&((n=ie({},o)).__v=o.__v+1,st.vnode&&st.vnode(n),Ro(e.__P,n,o,e.__n,e.__P.namespaceURI,32&o.__u?[i]:null,r,i??ze(o),!!(32&o.__u),a),n.__v=o.__v,n.__.__k[n.__i]=n,Vr(r,n,a),n.__e!=i&&qr(n)));fn.__r=0}function Gr(t,e,n,o,i,r,a,s,c,d,u){var p,h,g,f,m,v,y=o&&o.__k||Wr,b=e.length;for(c=(function(w,x,k,M,P){var I,A,O,L,F,W=k.length,q=W,V=0;for(w.__k=new Array(P),I=0;I<P;I++)(A=x[I])!=null&&typeof A!="boolean"&&typeof A!="function"?(L=I+V,(A=w.__k[I]=typeof A=="string"||typeof A=="number"||typeof A=="bigint"||A.constructor==String?dn(null,A,null,null,null):Cn(A)?dn(tt,{children:A},null,null,null):A.constructor===void 0&&A.__b>0?dn(A.type,A.props,A.key,A.ref?A.ref:null,A.__v):A).__=w,A.__b=w.__b+1,O=null,(F=A.__i=mc(A,k,L,q))!==-1&&(q--,(O=k[F])&&(O.__u|=2)),O==null||O.__v===null?(F==-1&&(P>W?V--:P<W&&V++),typeof A.type!="function"&&(A.__u|=4)):F!=L&&(F==L-1?V--:F==L+1?V++:(F>L?V--:V++,A.__u|=4))):w.__k[I]=null;if(q)for(I=0;I<W;I++)(O=k[I])!=null&&!(2&O.__u)&&(O.__e==M&&(M=ze(O)),Xr(O,O));return M})(n,e,y,c,b),p=0;p<b;p++)(g=n.__k[p])!=null&&(h=g.__i===-1?Ue:y[g.__i]||Ue,g.__i=p,v=Ro(t,g,h,i,r,a,s,c,d,u),f=g.__e,g.ref&&h.ref!=g.ref&&(h.ref&&Eo(h.ref,null,g),u.push(g.ref,g.__c||f,g)),m==null&&f!=null&&(m=f),4&g.__u||h.__k===g.__k?c=Zr(g,c,t):typeof g.type=="function"&&v!==void 0?c=v:f&&(c=f.nextSibling),g.__u&=-7);return n.__e=m,c}function Zr(t,e,n){var o,i;if(typeof t.type=="function"){for(o=t.__k,i=0;o&&i<o.length;i++)o[i]&&(o[i].__=t,e=Zr(o[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=ze(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function mc(t,e,n,o){var i,r,a=t.key,s=t.type,c=e[n];if(c===null&&t.key==null||c&&a==c.key&&s===c.type&&!(2&c.__u))return n;if(o>(c==null||2&c.__u?0:1))for(i=n-1,r=n+1;i>=0||r<e.length;){if(i>=0){if((c=e[i])&&!(2&c.__u)&&a==c.key&&s===c.type)return i;i--}if(r<e.length){if((c=e[r])&&!(2&c.__u)&&a==c.key&&s===c.type)return r;r++}}return-1}function gi(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||fc.test(e)?n:n+"px"}function en(t,e,n,o,i){var r;t:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||gi(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||gi(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")r=e!=(e=e.replace(Fr,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=n,n?o?n.t=o.t:(n.t=Ao,t.addEventListener(e,r?lo:ao,r)):t.removeEventListener(e,r?lo:ao,r);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break t}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function fi(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.u==null)e.u=Ao++;else if(e.u<n.t)return;return n(st.event?st.event(e):e)}}}function Ro(t,e,n,o,i,r,a,s,c,d){var u,p,h,g,f,m,v,y,b,w,x,k,M,P,I,A,O,L=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),r=[s=e.__e=n.__e]),(u=st.__b)&&u(e);t:if(typeof L=="function")try{if(y=e.props,b="prototype"in L&&L.prototype.render,w=(u=L.contextType)&&o[u.__c],x=u?w?w.props.value:u.__:o,n.__c?v=(p=e.__c=n.__c).__=p.__E:(b?e.__c=p=new L(y,x):(e.__c=p=new je(y,x),p.constructor=L,p.render=yc),w&&w.sub(p),p.props=y,p.state||(p.state={}),p.context=x,p.__n=o,h=p.__d=!0,p.__h=[],p._sb=[]),b&&p.__s==null&&(p.__s=p.state),b&&L.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=ie({},p.__s)),ie(p.__s,L.getDerivedStateFromProps(y,p.__s))),g=p.props,f=p.state,p.__v=e,h)b&&L.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),b&&p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(b&&L.getDerivedStateFromProps==null&&y!==g&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(y,x),!p.__e&&(p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(y,p.__s,x)===!1||e.__v==n.__v)){for(e.__v!=n.__v&&(p.props=y,p.state=p.__s,p.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some((function(F){F&&(F.__=e)})),k=0;k<p._sb.length;k++)p.__h.push(p._sb[k]);p._sb=[],p.__h.length&&a.push(p);break t}p.componentWillUpdate!=null&&p.componentWillUpdate(y,p.__s,x),b&&p.componentDidUpdate!=null&&p.__h.push((function(){p.componentDidUpdate(g,f,m)}))}if(p.context=x,p.props=y,p.__P=t,p.__e=!1,M=st.__r,P=0,b){for(p.state=p.__s,p.__d=!1,M&&M(e),u=p.render(p.props,p.state,p.context),I=0;I<p._sb.length;I++)p.__h.push(p._sb[I]);p._sb=[]}else do p.__d=!1,M&&M(e),u=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++P<25);p.state=p.__s,p.getChildContext!=null&&(o=ie(ie({},o),p.getChildContext())),b&&!h&&p.getSnapshotBeforeUpdate!=null&&(m=p.getSnapshotBeforeUpdate(g,f)),A=u,u!=null&&u.type===tt&&u.key==null&&(A=Yr(u.props.children)),s=Gr(t,Cn(A)?A:[A],e,n,o,i,r,a,s,c,d),p.base=e.__e,e.__u&=-161,p.__h.length&&a.push(p),v&&(p.__E=p.__=null)}catch(F){if(e.__v=null,c||r!=null)if(F.then){for(e.__u|=c?160:128;s&&s.nodeType==8&&s.nextSibling;)s=s.nextSibling;r[r.indexOf(s)]=null,e.__e=s}else for(O=r.length;O--;)zo(r[O]);else e.__e=n.__e,e.__k=n.__k;st.__e(F,e,n)}else r==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):s=e.__e=vc(n.__e,e,n,o,i,r,a,c,d);return(u=st.diffed)&&u(e),128&e.__u?void 0:s}function Vr(t,e,n){for(var o=0;o<n.length;o++)Eo(n[o],n[++o],n[++o]);st.__c&&st.__c(e,t),t.some((function(i){try{t=i.__h,i.__h=[],t.some((function(r){r.call(i)}))}catch(r){st.__e(r,i.__v)}}))}function Yr(t){return typeof t!="object"||t==null?t:Cn(t)?t.map(Yr):ie({},t)}function vc(t,e,n,o,i,r,a,s,c){var d,u,p,h,g,f,m,v=n.props,y=e.props,b=e.type;if(b=="svg"?i="http://www.w3.org/2000/svg":b=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),r!=null){for(d=0;d<r.length;d++)if((g=r[d])&&"setAttribute"in g==!!b&&(b?g.localName==b:g.nodeType==3)){t=g,r[d]=null;break}}if(t==null){if(b==null)return document.createTextNode(y);t=document.createElementNS(i,b,y.is&&y),s&&(st.__m&&st.__m(e,r),s=!1),r=null}if(b===null)v===y||s&&t.data===y||(t.data=y);else{if(r=r&&kn.call(t.childNodes),v=n.props||Ue,!s&&r!=null)for(v={},d=0;d<t.attributes.length;d++)v[(g=t.attributes[d]).name]=g.value;for(d in v)if(g=v[d],d!="children"){if(d=="dangerouslySetInnerHTML")p=g;else if(!(d in y)){if(d=="value"&&"defaultValue"in y||d=="checked"&&"defaultChecked"in y)continue;en(t,d,null,g,i)}}for(d in y)g=y[d],d=="children"?h=g:d=="dangerouslySetInnerHTML"?u=g:d=="value"?f=g:d=="checked"?m=g:s&&typeof g!="function"||v[d]===g||en(t,d,g,v[d],i);if(u)s||p&&(u.__html===p.__html||u.__html===t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(p&&(t.innerHTML=""),Gr(e.type==="template"?t.content:t,Cn(h)?h:[h],e,n,o,b=="foreignObject"?"http://www.w3.org/1999/xhtml":i,r,a,r?r[0]:n.__k&&ze(n,0),s,c),r!=null)for(d=r.length;d--;)zo(r[d]);s||(d="value",b=="progress"&&f==null?t.removeAttribute("value"):f!==void 0&&(f!==t[d]||b=="progress"&&!f||b=="option"&&f!==v[d])&&en(t,d,f,v[d],i),d="checked",m!==void 0&&m!==t[d]&&en(t,d,m,v[d],i))}return t}function Eo(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(i){st.__e(i,n)}}function Xr(t,e,n){var o,i;if(st.unmount&&st.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Eo(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(r){st.__e(r,e)}o.base=o.__P=null}if(o=t.__k)for(i=0;i<o.length;i++)o[i]&&Xr(o[i],e,n||typeof t.type!="function");n||zo(t.__e),t.__c=t.__=t.__e=void 0}function yc(t,e,n){return this.constructor(t,n)}function Kr(t){function e(n){var o,i;return this.getChildContext||(o=new Set,(i={})[e.__c]=this,this.getChildContext=function(){return i},this.componentWillUnmount=function(){o=null},this.shouldComponentUpdate=function(r){this.props.value!==r.value&&o.forEach((function(a){a.__e=!0,so(a)}))},this.sub=function(r){o.add(r);var a=r.componentWillUnmount;r.componentWillUnmount=function(){o&&o.delete(r),a&&a.call(r)}}),n.children}return e.__c="__cC"+Ur++,e.__=t,e.Provider=e.__l=(e.Consumer=function(n,o){return n.children(o)}).contextType=e,e}kn=Wr.slice,st={__e:function(t,e,n,o){for(var i,r,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((r=i.constructor)&&r.getDerivedStateFromError!=null&&(i.setState(r.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,o||{}),a=i.__d),a)return i.__E=i}catch(s){t=s}throw t}},Hr=0,je.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ie({},this.state),typeof t=="function"&&(t=t(ie({},n),this.props)),t&&ie(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),so(this))},je.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),so(this))},je.prototype.render=tt,ve=[],jr=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,$r=function(t,e){return t.__v.__b-e.__v.__b},fn.__r=0,Fr=/(PointerCapture)$|Capture$/i,Ao=0,ao=fi(!1),lo=fi(!0),Ur=0;var we,ut,Hn,mi,bc=`/*! tailwindcss v4.0.6 | MIT License | https://tailwindcss.com */
@layer theme, base, components, utilities;
@layer theme {
  :root, :host {
    --font-sans: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",
      "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
    --font-serif: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",
      "Courier New", monospace;
    --color-red-50: oklch(97.1% 0.013 17.38);
    --color-red-100: oklch(93.6% 0.032 17.717);
    --color-red-200: oklch(88.5% 0.062 18.334);
    --color-red-300: oklch(80.8% 0.114 19.571);
    --color-red-400: oklch(70.4% 0.191 22.216);
    --color-red-500: oklch(63.7% 0.237 25.331);
    --color-red-600: oklch(57.7% 0.245 27.325);
    --color-red-700: oklch(50.5% 0.213 27.518);
    --color-red-800: oklch(44.4% 0.177 26.899);
    --color-red-900: oklch(39.6% 0.141 25.723);
    --color-red-950: oklch(25.8% 0.092 26.042);
    --color-orange-50: oklch(98% 0.016 73.684);
    --color-orange-100: oklch(95.4% 0.038 75.164);
    --color-orange-200: oklch(90.1% 0.076 70.697);
    --color-orange-300: oklch(83.7% 0.128 66.29);
    --color-orange-400: oklch(75% 0.183 55.934);
    --color-orange-500: oklch(70.5% 0.213 47.604);
    --color-orange-600: oklch(64.6% 0.222 41.116);
    --color-orange-700: oklch(55.3% 0.195 38.402);
    --color-orange-800: oklch(47% 0.157 37.304);
    --color-orange-900: oklch(40.8% 0.123 38.172);
    --color-orange-950: oklch(26.6% 0.079 36.259);
    --color-amber-50: oklch(98.7% 0.022 95.277);
    --color-amber-100: oklch(96.2% 0.059 95.617);
    --color-amber-200: oklch(92.4% 0.12 95.746);
    --color-amber-300: oklch(87.9% 0.169 91.605);
    --color-amber-400: oklch(82.8% 0.189 84.429);
    --color-amber-500: oklch(76.9% 0.188 70.08);
    --color-amber-600: oklch(66.6% 0.179 58.318);
    --color-amber-700: oklch(55.5% 0.163 48.998);
    --color-amber-800: oklch(47.3% 0.137 46.201);
    --color-amber-900: oklch(41.4% 0.112 45.904);
    --color-amber-950: oklch(27.9% 0.077 45.635);
    --color-yellow-50: oklch(98.7% 0.026 102.212);
    --color-yellow-100: oklch(97.3% 0.071 103.193);
    --color-yellow-200: oklch(94.5% 0.129 101.54);
    --color-yellow-300: oklch(90.5% 0.182 98.111);
    --color-yellow-400: oklch(85.2% 0.199 91.936);
    --color-yellow-500: oklch(79.5% 0.184 86.047);
    --color-yellow-600: oklch(68.1% 0.162 75.834);
    --color-yellow-700: oklch(55.4% 0.135 66.442);
    --color-yellow-800: oklch(47.6% 0.114 61.907);
    --color-yellow-900: oklch(42.1% 0.095 57.708);
    --color-yellow-950: oklch(28.6% 0.066 53.813);
    --color-lime-50: oklch(98.6% 0.031 120.757);
    --color-lime-100: oklch(96.7% 0.067 122.328);
    --color-lime-200: oklch(93.8% 0.127 124.321);
    --color-lime-300: oklch(89.7% 0.196 126.665);
    --color-lime-400: oklch(84.1% 0.238 128.85);
    --color-lime-500: oklch(76.8% 0.233 130.85);
    --color-lime-600: oklch(64.8% 0.2 131.684);
    --color-lime-700: oklch(53.2% 0.157 131.589);
    --color-lime-800: oklch(45.3% 0.124 130.933);
    --color-lime-900: oklch(40.5% 0.101 131.063);
    --color-lime-950: oklch(27.4% 0.072 132.109);
    --color-green-50: oklch(98.2% 0.018 155.826);
    --color-green-100: oklch(96.2% 0.044 156.743);
    --color-green-200: oklch(92.5% 0.084 155.995);
    --color-green-300: oklch(87.1% 0.15 154.449);
    --color-green-400: oklch(79.2% 0.209 151.711);
    --color-green-500: oklch(72.3% 0.219 149.579);
    --color-green-600: oklch(62.7% 0.194 149.214);
    --color-green-700: oklch(52.7% 0.154 150.069);
    --color-green-800: oklch(44.8% 0.119 151.328);
    --color-green-900: oklch(39.3% 0.095 152.535);
    --color-green-950: oklch(26.6% 0.065 152.934);
    --color-emerald-50: oklch(97.9% 0.021 166.113);
    --color-emerald-100: oklch(95% 0.052 163.051);
    --color-emerald-200: oklch(90.5% 0.093 164.15);
    --color-emerald-300: oklch(84.5% 0.143 164.978);
    --color-emerald-400: oklch(76.5% 0.177 163.223);
    --color-emerald-500: oklch(69.6% 0.17 162.48);
    --color-emerald-600: oklch(59.6% 0.145 163.225);
    --color-emerald-700: oklch(50.8% 0.118 165.612);
    --color-emerald-800: oklch(43.2% 0.095 166.913);
    --color-emerald-900: oklch(37.8% 0.077 168.94);
    --color-emerald-950: oklch(26.2% 0.051 172.552);
    --color-teal-50: oklch(98.4% 0.014 180.72);
    --color-teal-100: oklch(95.3% 0.051 180.801);
    --color-teal-200: oklch(91% 0.096 180.426);
    --color-teal-300: oklch(85.5% 0.138 181.071);
    --color-teal-400: oklch(77.7% 0.152 181.912);
    --color-teal-500: oklch(70.4% 0.14 182.503);
    --color-teal-600: oklch(60% 0.118 184.704);
    --color-teal-700: oklch(51.1% 0.096 186.391);
    --color-teal-800: oklch(43.7% 0.078 188.216);
    --color-teal-900: oklch(38.6% 0.063 188.416);
    --color-teal-950: oklch(27.7% 0.046 192.524);
    --color-cyan-50: oklch(98.4% 0.019 200.873);
    --color-cyan-100: oklch(95.6% 0.045 203.388);
    --color-cyan-200: oklch(91.7% 0.08 205.041);
    --color-cyan-300: oklch(86.5% 0.127 207.078);
    --color-cyan-400: oklch(78.9% 0.154 211.53);
    --color-cyan-500: oklch(71.5% 0.143 215.221);
    --color-cyan-600: oklch(60.9% 0.126 221.723);
    --color-cyan-700: oklch(52% 0.105 223.128);
    --color-cyan-800: oklch(45% 0.085 224.283);
    --color-cyan-900: oklch(39.8% 0.07 227.392);
    --color-cyan-950: oklch(30.2% 0.056 229.695);
    --color-sky-50: oklch(97.7% 0.013 236.62);
    --color-sky-100: oklch(95.1% 0.026 236.824);
    --color-sky-200: oklch(90.1% 0.058 230.902);
    --color-sky-300: oklch(82.8% 0.111 230.318);
    --color-sky-400: oklch(74.6% 0.16 232.661);
    --color-sky-500: oklch(68.5% 0.169 237.323);
    --color-sky-600: oklch(58.8% 0.158 241.966);
    --color-sky-700: oklch(50% 0.134 242.749);
    --color-sky-800: oklch(44.3% 0.11 240.79);
    --color-sky-900: oklch(39.1% 0.09 240.876);
    --color-sky-950: oklch(29.3% 0.066 243.157);
    --color-blue-50: oklch(97% 0.014 254.604);
    --color-blue-100: oklch(93.2% 0.032 255.585);
    --color-blue-200: oklch(88.2% 0.059 254.128);
    --color-blue-300: oklch(80.9% 0.105 251.813);
    --color-blue-400: oklch(70.7% 0.165 254.624);
    --color-blue-500: oklch(62.3% 0.214 259.815);
    --color-blue-600: oklch(54.6% 0.245 262.881);
    --color-blue-700: oklch(48.8% 0.243 264.376);
    --color-blue-800: oklch(42.4% 0.199 265.638);
    --color-blue-900: oklch(37.9% 0.146 265.522);
    --color-blue-950: oklch(28.2% 0.091 267.935);
    --color-indigo-50: oklch(96.2% 0.018 272.314);
    --color-indigo-100: oklch(93% 0.034 272.788);
    --color-indigo-200: oklch(87% 0.065 274.039);
    --color-indigo-300: oklch(78.5% 0.115 274.713);
    --color-indigo-400: oklch(67.3% 0.182 276.935);
    --color-indigo-500: oklch(58.5% 0.233 277.117);
    --color-indigo-600: oklch(51.1% 0.262 276.966);
    --color-indigo-700: oklch(45.7% 0.24 277.023);
    --color-indigo-800: oklch(39.8% 0.195 277.366);
    --color-indigo-900: oklch(35.9% 0.144 278.697);
    --color-indigo-950: oklch(25.7% 0.09 281.288);
    --color-violet-50: oklch(96.9% 0.016 293.756);
    --color-violet-100: oklch(94.3% 0.029 294.588);
    --color-violet-200: oklch(89.4% 0.057 293.283);
    --color-violet-300: oklch(81.1% 0.111 293.571);
    --color-violet-400: oklch(70.2% 0.183 293.541);
    --color-violet-500: oklch(60.6% 0.25 292.717);
    --color-violet-600: oklch(54.1% 0.281 293.009);
    --color-violet-700: oklch(49.1% 0.27 292.581);
    --color-violet-800: oklch(43.2% 0.232 292.759);
    --color-violet-900: oklch(38% 0.189 293.745);
    --color-violet-950: oklch(28.3% 0.141 291.089);
    --color-purple-50: oklch(97.7% 0.014 308.299);
    --color-purple-100: oklch(94.6% 0.033 307.174);
    --color-purple-200: oklch(90.2% 0.063 306.703);
    --color-purple-300: oklch(82.7% 0.119 306.383);
    --color-purple-400: oklch(71.4% 0.203 305.504);
    --color-purple-500: oklch(62.7% 0.265 303.9);
    --color-purple-600: oklch(55.8% 0.288 302.321);
    --color-purple-700: oklch(49.6% 0.265 301.924);
    --color-purple-800: oklch(43.8% 0.218 303.724);
    --color-purple-900: oklch(38.1% 0.176 304.987);
    --color-purple-950: oklch(29.1% 0.149 302.717);
    --color-fuchsia-50: oklch(97.7% 0.017 320.058);
    --color-fuchsia-100: oklch(95.2% 0.037 318.852);
    --color-fuchsia-200: oklch(90.3% 0.076 319.62);
    --color-fuchsia-300: oklch(83.3% 0.145 321.434);
    --color-fuchsia-400: oklch(74% 0.238 322.16);
    --color-fuchsia-500: oklch(66.7% 0.295 322.15);
    --color-fuchsia-600: oklch(59.1% 0.293 322.896);
    --color-fuchsia-700: oklch(51.8% 0.253 323.949);
    --color-fuchsia-800: oklch(45.2% 0.211 324.591);
    --color-fuchsia-900: oklch(40.1% 0.17 325.612);
    --color-fuchsia-950: oklch(29.3% 0.136 325.661);
    --color-pink-50: oklch(97.1% 0.014 343.198);
    --color-pink-100: oklch(94.8% 0.028 342.258);
    --color-pink-200: oklch(89.9% 0.061 343.231);
    --color-pink-300: oklch(82.3% 0.12 346.018);
    --color-pink-400: oklch(71.8% 0.202 349.761);
    --color-pink-500: oklch(65.6% 0.241 354.308);
    --color-pink-600: oklch(59.2% 0.249 0.584);
    --color-pink-700: oklch(52.5% 0.223 3.958);
    --color-pink-800: oklch(45.9% 0.187 3.815);
    --color-pink-900: oklch(40.8% 0.153 2.432);
    --color-pink-950: oklch(28.4% 0.109 3.907);
    --color-rose-50: oklch(96.9% 0.015 12.422);
    --color-rose-100: oklch(94.1% 0.03 12.58);
    --color-rose-200: oklch(89.2% 0.058 10.001);
    --color-rose-300: oklch(81% 0.117 11.638);
    --color-rose-400: oklch(71.2% 0.194 13.428);
    --color-rose-500: oklch(64.5% 0.246 16.439);
    --color-rose-600: oklch(58.6% 0.253 17.585);
    --color-rose-700: oklch(51.4% 0.222 16.935);
    --color-rose-800: oklch(45.5% 0.188 13.697);
    --color-rose-900: oklch(41% 0.159 10.272);
    --color-rose-950: oklch(27.1% 0.105 12.094);
    --color-slate-50: oklch(98.4% 0.003 247.858);
    --color-slate-100: oklch(96.8% 0.007 247.896);
    --color-slate-200: oklch(92.9% 0.013 255.508);
    --color-slate-300: oklch(86.9% 0.022 252.894);
    --color-slate-400: oklch(70.4% 0.04 256.788);
    --color-slate-500: oklch(55.4% 0.046 257.417);
    --color-slate-600: oklch(44.6% 0.043 257.281);
    --color-slate-700: oklch(37.2% 0.044 257.287);
    --color-slate-800: oklch(27.9% 0.041 260.031);
    --color-slate-900: oklch(20.8% 0.042 265.755);
    --color-slate-950: oklch(12.9% 0.042 264.695);
    --color-gray-50: oklch(98.5% 0.002 247.839);
    --color-gray-100: oklch(96.7% 0.003 264.542);
    --color-gray-200: oklch(92.8% 0.006 264.531);
    --color-gray-300: oklch(87.2% 0.01 258.338);
    --color-gray-400: oklch(70.7% 0.022 261.325);
    --color-gray-500: oklch(55.1% 0.027 264.364);
    --color-gray-600: oklch(44.6% 0.03 256.802);
    --color-gray-700: oklch(37.3% 0.034 259.733);
    --color-gray-800: oklch(27.8% 0.033 256.848);
    --color-gray-900: oklch(21% 0.034 264.665);
    --color-gray-950: oklch(13% 0.028 261.692);
    --color-zinc-50: oklch(98.5% 0 0);
    --color-zinc-100: oklch(96.7% 0.001 286.375);
    --color-zinc-200: oklch(92% 0.004 286.32);
    --color-zinc-300: oklch(87.1% 0.006 286.286);
    --color-zinc-400: oklch(70.5% 0.015 286.067);
    --color-zinc-500: oklch(55.2% 0.016 285.938);
    --color-zinc-600: oklch(44.2% 0.017 285.786);
    --color-zinc-700: oklch(37% 0.013 285.805);
    --color-zinc-800: oklch(27.4% 0.006 286.033);
    --color-zinc-900: oklch(21% 0.006 285.885);
    --color-zinc-950: oklch(14.1% 0.005 285.823);
    --color-neutral-50: oklch(98.5% 0 0);
    --color-neutral-100: oklch(97% 0 0);
    --color-neutral-200: oklch(92.2% 0 0);
    --color-neutral-300: oklch(87% 0 0);
    --color-neutral-400: oklch(70.8% 0 0);
    --color-neutral-500: oklch(55.6% 0 0);
    --color-neutral-600: oklch(43.9% 0 0);
    --color-neutral-700: oklch(37.1% 0 0);
    --color-neutral-800: oklch(26.9% 0 0);
    --color-neutral-900: oklch(20.5% 0 0);
    --color-neutral-950: oklch(14.5% 0 0);
    --color-stone-50: oklch(98.5% 0.001 106.423);
    --color-stone-100: oklch(97% 0.001 106.424);
    --color-stone-200: oklch(92.3% 0.003 48.717);
    --color-stone-300: oklch(86.9% 0.005 56.366);
    --color-stone-400: oklch(70.9% 0.01 56.259);
    --color-stone-500: oklch(55.3% 0.013 58.071);
    --color-stone-600: oklch(44.4% 0.011 73.639);
    --color-stone-700: oklch(37.4% 0.01 67.558);
    --color-stone-800: oklch(26.8% 0.007 34.298);
    --color-stone-900: oklch(21.6% 0.006 56.043);
    --color-stone-950: oklch(14.7% 0.004 49.25);
    --color-black: #000;
    --color-white: #fff;
    --spacing: 0.25rem;
    --breakpoint-sm: 40rem;
    --breakpoint-md: 48rem;
    --breakpoint-lg: 64rem;
    --breakpoint-xl: 80rem;
    --breakpoint-2xl: 96rem;
    --container-3xs: 16rem;
    --container-2xs: 18rem;
    --container-xs: 20rem;
    --container-sm: 24rem;
    --container-md: 28rem;
    --container-lg: 32rem;
    --container-xl: 36rem;
    --container-2xl: 42rem;
    --container-3xl: 48rem;
    --container-4xl: 56rem;
    --container-5xl: 64rem;
    --container-6xl: 72rem;
    --container-7xl: 80rem;
    --text-xs: 0.75rem;
    --text-xs--line-height: calc(1 / 0.75);
    --text-sm: 0.875rem;
    --text-sm--line-height: calc(1.25 / 0.875);
    --text-base: 1rem;
    --text-base--line-height: calc(1.5 / 1);
    --text-lg: 1.125rem;
    --text-lg--line-height: calc(1.75 / 1.125);
    --text-xl: 1.25rem;
    --text-xl--line-height: calc(1.75 / 1.25);
    --text-2xl: 1.5rem;
    --text-2xl--line-height: calc(2 / 1.5);
    --text-3xl: 1.875rem;
    --text-3xl--line-height: calc(2.25 / 1.875);
    --text-4xl: 2.25rem;
    --text-4xl--line-height: calc(2.5 / 2.25);
    --text-5xl: 3rem;
    --text-5xl--line-height: 1;
    --text-6xl: 3.75rem;
    --text-6xl--line-height: 1;
    --text-7xl: 4.5rem;
    --text-7xl--line-height: 1;
    --text-8xl: 6rem;
    --text-8xl--line-height: 1;
    --text-9xl: 8rem;
    --text-9xl--line-height: 1;
    --font-weight-thin: 100;
    --font-weight-extralight: 200;
    --font-weight-light: 300;
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    --font-weight-extrabold: 800;
    --font-weight-black: 900;
    --tracking-tighter: -0.05em;
    --tracking-tight: -0.025em;
    --tracking-normal: 0em;
    --tracking-wide: 0.025em;
    --tracking-wider: 0.05em;
    --tracking-widest: 0.1em;
    --leading-tight: 1.25;
    --leading-snug: 1.375;
    --leading-normal: 1.5;
    --leading-relaxed: 1.625;
    --leading-loose: 2;
    --radius-xs: 0.125rem;
    --radius-sm: 0.25rem;
    --radius-md: 0.375rem;
    --radius-lg: 0.5rem;
    --radius-xl: 0.75rem;
    --radius-2xl: 1rem;
    --radius-3xl: 1.5rem;
    --radius-4xl: 2rem;
    --shadow-2xs: 0 1px rgb(0 0 0 / 0.05);
    --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);
    --inset-shadow-2xs: inset 0 1px rgb(0 0 0 / 0.05);
    --inset-shadow-xs: inset 0 1px 1px rgb(0 0 0 / 0.05);
    --inset-shadow-sm: inset 0 2px 4px rgb(0 0 0 / 0.05);
    --drop-shadow-xs: 0 1px 1px rgb(0 0 0 / 0.05);
    --drop-shadow-sm: 0 1px 2px rgb(0 0 0 / 0.15);
    --drop-shadow-md: 0 3px 3px rgb(0 0 0 / 0.12);
    --drop-shadow-lg: 0 4px 4px rgb(0 0 0 / 0.15);
    --drop-shadow-xl: 0 9px 7px rgb(0 0 0 / 0.1);
    --drop-shadow-2xl: 0 25px 25px rgb(0 0 0 / 0.15);
    --text-shadow-2xs: 0px 1px 0px rgb(0 0 0 / 0.15);
    --text-shadow-xs: 0px 1px 1px rgb(0 0 0 / 0.2);
    --text-shadow-sm: 0px 1px 0px rgb(0 0 0 / 0.075), 0px 1px 1px rgb(0 0 0 / 0.075),
      0px 2px 2px rgb(0 0 0 / 0.075);
    --text-shadow-md: 0px 1px 1px rgb(0 0 0 / 0.1), 0px 1px 2px rgb(0 0 0 / 0.1),
      0px 2px 4px rgb(0 0 0 / 0.1);
    --text-shadow-lg: 0px 1px 2px rgb(0 0 0 / 0.1), 0px 3px 2px rgb(0 0 0 / 0.1),
      0px 4px 8px rgb(0 0 0 / 0.1);
    --ease-in: cubic-bezier(0.4, 0, 1, 1);
    --ease-out: cubic-bezier(0, 0, 0.2, 1);
    --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
    --animate-spin: spin 1s linear infinite;
    --animate-ping: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
    --animate-pulse: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    --animate-bounce: bounce 1s infinite;
    --blur-xs: 4px;
    --blur-sm: 8px;
    --blur-md: 12px;
    --blur-lg: 16px;
    --blur-xl: 24px;
    --blur-2xl: 40px;
    --blur-3xl: 64px;
    --perspective-dramatic: 100px;
    --perspective-near: 300px;
    --perspective-normal: 500px;
    --perspective-midrange: 800px;
    --perspective-distant: 1200px;
    --aspect-video: 16 / 9;
    --default-transition-duration: 150ms;
    --default-transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    --default-font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",
      "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
    --default-font-feature-settings: initial;
    --default-font-variation-settings: initial;
    --default-mono-font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",
      "Courier New", monospace;
    --default-mono-font-feature-settings: initial;
    --default-mono-font-variation-settings: initial;
  }
}
@layer base {
  *, ::after, ::before, ::backdrop, ::file-selector-button {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    border: 0 solid;
  }
  html, :host {
    line-height: 1.5;
    -webkit-text-size-adjust: 100%;
    -moz-tab-size: 4;
      -o-tab-size: 4;
         tab-size: 4;
    font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",
      "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
    font-feature-settings: initial;
    font-variation-settings: initial;
    -webkit-tap-highlight-color: transparent;
  }
  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }
  abbr:where([title]) {
    -webkit-text-decoration: underline dotted;
    text-decoration: underline dotted;
  }
  h1, h2, h3, h4, h5, h6 {
    font-size: inherit;
    font-weight: inherit;
  }
  a {
    color: inherit;
    -webkit-text-decoration: inherit;
    text-decoration: inherit;
  }
  b, strong {
    font-weight: bolder;
  }
  code, kbd, samp, pre {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",
      "Courier New", monospace;
    font-feature-settings: initial;
    font-variation-settings: initial;
    font-size: 1em;
  }
  small {
    font-size: 80%;
  }
  sub, sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }
  sub {
    bottom: -0.25em;
  }
  sup {
    top: -0.5em;
  }
  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }
  :-moz-focusring {
    outline: auto;
  }
  progress {
    vertical-align: baseline;
  }
  summary {
    display: list-item;
  }
  ol, ul, menu {
    list-style: none;
  }
  img, svg, video, canvas, audio, iframe, embed, object {
    display: block;
    vertical-align: middle;
  }
  img, video {
    max-width: 100%;
    height: auto;
  }
  button, input, select, optgroup, textarea, ::file-selector-button {
    font: inherit;
    font-feature-settings: inherit;
    font-variation-settings: inherit;
    letter-spacing: inherit;
    color: inherit;
    border-radius: 0;
    background-color: transparent;
    opacity: 1;
  }
  :where(select:is([multiple], [size])) optgroup {
    font-weight: bolder;
  }
  :where(select:is([multiple], [size])) optgroup option {
    padding-inline-start: 20px;
  }
  ::file-selector-button {
    margin-inline-end: 4px;
  }
  ::-moz-placeholder {
    opacity: 1;
  }
  ::placeholder {
    opacity: 1;
  }
  @supports (not (-webkit-appearance: -apple-pay-button))  or (contain-intrinsic-size: 1px) {
    ::-moz-placeholder {
      color: color-mix(in oklab, currentcolor 50%, transparent);
    }
    ::placeholder {
      color: color-mix(in oklab, currentcolor 50%, transparent);
    }
  }
  textarea {
    resize: vertical;
  }
  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }
  ::-webkit-date-and-time-value {
    min-height: 1lh;
    text-align: inherit;
  }
  ::-webkit-datetime-edit {
    display: inline-flex;
  }
  ::-webkit-datetime-edit-fields-wrapper {
    padding: 0;
  }
  ::-webkit-datetime-edit, ::-webkit-datetime-edit-year-field, ::-webkit-datetime-edit-month-field, ::-webkit-datetime-edit-day-field, ::-webkit-datetime-edit-hour-field, ::-webkit-datetime-edit-minute-field, ::-webkit-datetime-edit-second-field, ::-webkit-datetime-edit-millisecond-field, ::-webkit-datetime-edit-meridiem-field {
    padding-block: 0;
  }
  :-moz-ui-invalid {
    box-shadow: none;
  }
  button, input:where([type="button"], [type="reset"], [type="submit"]), ::file-selector-button {
    -webkit-appearance: button;
       -moz-appearance: button;
            appearance: button;
  }
  ::-webkit-inner-spin-button, ::-webkit-outer-spin-button {
    height: auto;
  }
  [hidden]:where(:not([hidden="until-found"])) {
    display: none !important;
  }
}
@layer utilities {
  .\\@container {
    container-type: inline-size;
  }
  .pointer-events-none {
    pointer-events: none;
  }
  .visible {
    visibility: visible;
  }
  .absolute {
    position: absolute;
  }
  .fixed {
    position: fixed;
  }
  .relative {
    position: relative;
  }
  .static {
    position: static;
  }
  .sticky {
    position: sticky;
  }
  .inset-0 {
    inset: calc(var(--spacing) * 0);
  }
  .inset-y-0 {
    inset-block: calc(var(--spacing) * 0);
  }
  .top-0 {
    top: calc(var(--spacing) * 0);
  }
  .top-6 {
    top: calc(var(--spacing) * 6);
  }
  .right-0 {
    right: calc(var(--spacing) * 0);
  }
  .right-1 {
    right: calc(var(--spacing) * 1);
  }
  .bottom-0 {
    bottom: calc(var(--spacing) * 0);
  }
  .bottom-4 {
    bottom: calc(var(--spacing) * 4);
  }
  .left-0 {
    left: calc(var(--spacing) * 0);
  }
  .left-1\\/2 {
    left: calc(1/2 * 100%);
  }
  .z-10 {
    z-index: 10;
  }
  .z-50 {
    z-index: 50;
  }
  .z-100 {
    z-index: 100;
  }
  .col-start-1 {
    grid-column-start: 1;
  }
  .row-start-1 {
    grid-row-start: 1;
  }
  .container {
    width: 100%;
    @media (width >= 40rem) {
      max-width: 40rem;
    }
    @media (width >= 48rem) {
      max-width: 48rem;
    }
    @media (width >= 64rem) {
      max-width: 64rem;
    }
    @media (width >= 80rem) {
      max-width: 80rem;
    }
    @media (width >= 96rem) {
      max-width: 96rem;
    }
  }
  .mx-4 {
    margin-inline: calc(var(--spacing) * 4);
  }
  .my-2 {
    margin-block: calc(var(--spacing) * 2);
  }
  .my-4 {
    margin-block: calc(var(--spacing) * 4);
  }
  .mt-0\\.5 {
    margin-top: calc(var(--spacing) * 0.5);
  }
  .mt-1 {
    margin-top: calc(var(--spacing) * 1);
  }
  .mt-2 {
    margin-top: calc(var(--spacing) * 2);
  }
  .mt-3 {
    margin-top: calc(var(--spacing) * 3);
  }
  .mt-4 {
    margin-top: calc(var(--spacing) * 4);
  }
  .mt-5 {
    margin-top: calc(var(--spacing) * 5);
  }
  .mr-1 {
    margin-right: calc(var(--spacing) * 1);
  }
  .mr-2 {
    margin-right: calc(var(--spacing) * 2);
  }
  .mr-5 {
    margin-right: calc(var(--spacing) * 5);
  }
  .mb-1 {
    margin-bottom: calc(var(--spacing) * 1);
  }
  .mb-2 {
    margin-bottom: calc(var(--spacing) * 2);
  }
  .mb-3 {
    margin-bottom: calc(var(--spacing) * 3);
  }
  .mb-4 {
    margin-bottom: calc(var(--spacing) * 4);
  }
  .mb-6 {
    margin-bottom: calc(var(--spacing) * 6);
  }
  .block {
    display: block;
  }
  .contents {
    display: contents;
  }
  .flex {
    display: flex;
  }
  .grid {
    display: grid;
  }
  .hidden {
    display: none;
  }
  .inline {
    display: inline;
  }
  .inline-block {
    display: inline-block;
  }
  .inline-flex {
    display: inline-flex;
  }
  .h-1 {
    height: calc(var(--spacing) * 1);
  }
  .h-1\\/2 {
    height: calc(1/2 * 100%);
  }
  .h-2 {
    height: calc(var(--spacing) * 2);
  }
  .h-3 {
    height: calc(var(--spacing) * 3);
  }
  .h-3\\.5 {
    height: calc(var(--spacing) * 3.5);
  }
  .h-4 {
    height: calc(var(--spacing) * 4);
  }
  .h-5 {
    height: calc(var(--spacing) * 5);
  }
  .h-6 {
    height: calc(var(--spacing) * 6);
  }
  .h-7 {
    height: calc(var(--spacing) * 7);
  }
  .h-8 {
    height: calc(var(--spacing) * 8);
  }
  .h-9 {
    height: calc(var(--spacing) * 9);
  }
  .h-12 {
    height: calc(var(--spacing) * 12);
  }
  .h-18 {
    height: calc(var(--spacing) * 18);
  }
  .h-\\[1px\\] {
    height: 1px;
  }
  .h-\\[32px\\] {
    height: 32px;
  }
  .h-full {
    height: 100%;
  }
  .max-h-48 {
    max-height: calc(var(--spacing) * 48);
  }
  .max-h-60 {
    max-height: calc(var(--spacing) * 60);
  }
  .min-h-0 {
    min-height: calc(var(--spacing) * 0);
  }
  .\\!w-full {
    width: 100% !important;
  }
  .w-2 {
    width: calc(var(--spacing) * 2);
  }
  .w-3 {
    width: calc(var(--spacing) * 3);
  }
  .w-3\\.5 {
    width: calc(var(--spacing) * 3.5);
  }
  .w-4 {
    width: calc(var(--spacing) * 4);
  }
  .w-5 {
    width: calc(var(--spacing) * 5);
  }
  .w-6 {
    width: calc(var(--spacing) * 6);
  }
  .w-8 {
    width: calc(var(--spacing) * 8);
  }
  .w-9 {
    width: calc(var(--spacing) * 9);
  }
  .w-12 {
    width: calc(var(--spacing) * 12);
  }
  .w-18 {
    width: calc(var(--spacing) * 18);
  }
  .w-32 {
    width: calc(var(--spacing) * 32);
  }
  .w-36 {
    width: calc(var(--spacing) * 36);
  }
  .w-\\[1px\\] {
    width: 1px;
  }
  .w-auto {
    width: auto;
  }
  .w-full {
    width: 100%;
  }
  .max-w-\\[150px\\] {
    max-width: 150px;
  }
  .min-w-0 {
    min-width: calc(var(--spacing) * 0);
  }
  .min-w-\\[8rem\\] {
    min-width: 8rem;
  }
  .min-w-\\[32px\\] {
    min-width: 32px;
  }
  .flex-1 {
    flex: 1;
  }
  .flex-none {
    flex: none;
  }
  .flex-shrink-0 {
    flex-shrink: 0;
  }
  .shrink-0 {
    flex-shrink: 0;
  }
  .-translate-x-1\\/2 {
    --tw-translate-x: calc(calc(1/2 * 100%) * -1);
    translate: var(--tw-translate-x) var(--tw-translate-y);
  }
  .translate-x-\\[1px\\] {
    --tw-translate-x: 1px;
    translate: var(--tw-translate-x) var(--tw-translate-y);
  }
  .translate-y-\\[1px\\] {
    --tw-translate-y: 1px;
    translate: var(--tw-translate-x) var(--tw-translate-y);
  }
  .rotate-45 {
    rotate: 45deg;
  }
  .transform {
    transform: var(--tw-rotate-x) var(--tw-rotate-y) var(--tw-rotate-z) var(--tw-skew-x) var(--tw-skew-y);
  }
  .animate-pulse {
    animation: var(--animate-pulse);
  }
  .animate-spin {
    animation: var(--animate-spin);
  }
  .cursor-default {
    cursor: default;
  }
  .cursor-grab {
    cursor: grab;
  }
  .cursor-not-allowed {
    cursor: not-allowed;
  }
  .cursor-pointer {
    cursor: pointer;
  }
  .touch-pan-y {
    --tw-pan-y: pan-y;
    touch-action: var(--tw-pan-x,) var(--tw-pan-y,) var(--tw-pinch-zoom,);
  }
  .appearance-none {
    -webkit-appearance: none;
       -moz-appearance: none;
            appearance: none;
  }
  .grid-cols-2 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
  .grid-cols-6 {
    grid-template-columns: repeat(6, minmax(0, 1fr));
  }
  .flex-col {
    flex-direction: column;
  }
  .flex-row {
    flex-direction: row;
  }
  .items-center {
    align-items: center;
  }
  .items-end {
    align-items: flex-end;
  }
  .items-start {
    align-items: flex-start;
  }
  .justify-between {
    justify-content: space-between;
  }
  .justify-center {
    justify-content: center;
  }
  .justify-end {
    justify-content: flex-end;
  }
  .gap-1 {
    gap: calc(var(--spacing) * 1);
  }
  .gap-2 {
    gap: calc(var(--spacing) * 2);
  }
  .gap-3 {
    gap: calc(var(--spacing) * 3);
  }
  .gap-4 {
    gap: calc(var(--spacing) * 4);
  }
  .gap-x-1 {
    -moz-column-gap: calc(var(--spacing) * 1);
         column-gap: calc(var(--spacing) * 1);
  }
  .space-y-2 {
    :where(& > :not(:last-child)) {
      --tw-space-y-reverse: 0;
      margin-block-start: calc(calc(var(--spacing) * 2) * var(--tw-space-y-reverse));
      margin-block-end: calc(calc(var(--spacing) * 2) * calc(1 - var(--tw-space-y-reverse)));
    }
  }
  .space-y-3 {
    :where(& > :not(:last-child)) {
      --tw-space-y-reverse: 0;
      margin-block-start: calc(calc(var(--spacing) * 3) * var(--tw-space-y-reverse));
      margin-block-end: calc(calc(var(--spacing) * 3) * calc(1 - var(--tw-space-y-reverse)));
    }
  }
  .space-y-4 {
    :where(& > :not(:last-child)) {
      --tw-space-y-reverse: 0;
      margin-block-start: calc(calc(var(--spacing) * 4) * var(--tw-space-y-reverse));
      margin-block-end: calc(calc(var(--spacing) * 4) * calc(1 - var(--tw-space-y-reverse)));
    }
  }
  .space-y-6 {
    :where(& > :not(:last-child)) {
      --tw-space-y-reverse: 0;
      margin-block-start: calc(calc(var(--spacing) * 6) * var(--tw-space-y-reverse));
      margin-block-end: calc(calc(var(--spacing) * 6) * calc(1 - var(--tw-space-y-reverse)));
    }
  }
  .gap-y-4 {
    row-gap: calc(var(--spacing) * 4);
  }
  .space-x-2 {
    :where(& > :not(:last-child)) {
      --tw-space-x-reverse: 0;
      margin-inline-start: calc(calc(var(--spacing) * 2) * var(--tw-space-x-reverse));
      margin-inline-end: calc(calc(var(--spacing) * 2) * calc(1 - var(--tw-space-x-reverse)));
    }
  }
  .space-x-3 {
    :where(& > :not(:last-child)) {
      --tw-space-x-reverse: 0;
      margin-inline-start: calc(calc(var(--spacing) * 3) * var(--tw-space-x-reverse));
      margin-inline-end: calc(calc(var(--spacing) * 3) * calc(1 - var(--tw-space-x-reverse)));
    }
  }
  .divide-y {
    :where(& > :not(:last-child)) {
      --tw-divide-y-reverse: 0;
      border-bottom-style: var(--tw-border-style);
      border-top-style: var(--tw-border-style);
      border-top-width: calc(1px * var(--tw-divide-y-reverse));
      border-bottom-width: calc(1px * calc(1 - var(--tw-divide-y-reverse)));
    }
  }
  .divide-gray-100 {
    :where(& > :not(:last-child)) {
      border-color: var(--color-gray-100);
    }
  }
  .self-center {
    align-self: center;
  }
  .truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  .overflow-auto {
    overflow: auto;
  }
  .overflow-hidden {
    overflow: hidden;
  }
  .overflow-y-auto {
    overflow-y: auto;
  }
  .rounded {
    border-radius: 0.25rem;
  }
  .rounded-\\[3px\\] {
    border-radius: 3px;
  }
  .rounded-full {
    border-radius: calc(infinity * 1px);
  }
  .rounded-lg {
    border-radius: var(--radius-lg);
  }
  .rounded-md {
    border-radius: var(--radius-md);
  }
  .rounded-none {
    border-radius: 0;
  }
  .rounded-l-md {
    border-top-left-radius: var(--radius-md);
    border-bottom-left-radius: var(--radius-md);
  }
  .rounded-r-md {
    border-top-right-radius: var(--radius-md);
    border-bottom-right-radius: var(--radius-md);
  }
  .border {
    border-style: var(--tw-border-style);
    border-width: 1px;
  }
  .border-0 {
    border-style: var(--tw-border-style);
    border-width: 0px;
  }
  .border-1 {
    border-style: var(--tw-border-style);
    border-width: 1px;
  }
  .border-2 {
    border-style: var(--tw-border-style);
    border-width: 2px;
  }
  .border-3 {
    border-style: var(--tw-border-style);
    border-width: 3px;
  }
  .border-4 {
    border-style: var(--tw-border-style);
    border-width: 4px;
  }
  .border-t {
    border-top-style: var(--tw-border-style);
    border-top-width: 1px;
  }
  .border-r-0 {
    border-right-style: var(--tw-border-style);
    border-right-width: 0px;
  }
  .border-b {
    border-bottom-style: var(--tw-border-style);
    border-bottom-width: 1px;
  }
  .border-b-2 {
    border-bottom-style: var(--tw-border-style);
    border-bottom-width: 2px;
  }
  .border-none {
    --tw-border-style: none;
    border-style: none;
  }
  .border-\\[\\#cfd4da\\] {
    border-color: #cfd4da;
  }
  .border-blue-300 {
    border-color: var(--color-blue-300);
  }
  .border-blue-500 {
    border-color: var(--color-blue-500);
  }
  .border-blue-600 {
    border-color: var(--color-blue-600);
  }
  .border-gray-100 {
    border-color: var(--color-gray-100);
  }
  .border-gray-200 {
    border-color: var(--color-gray-200);
  }
  .border-gray-300 {
    border-color: var(--color-gray-300);
  }
  .border-gray-400 {
    border-color: var(--color-gray-400);
  }
  .border-gray-600 {
    border-color: var(--color-gray-600);
  }
  .border-transparent {
    border-color: transparent;
  }
  .border-t-blue-500 {
    border-top-color: var(--color-blue-500);
  }
  .border-r-blue-500 {
    border-right-color: var(--color-blue-500);
  }
  .border-b-blue-500 {
    border-bottom-color: var(--color-blue-500);
  }
  .border-b-transparent {
    border-bottom-color: transparent;
  }
  .bg-\\[\\#f1f3f5\\] {
    background-color: #f1f3f5;
  }
  .bg-\\[\\#f8f9fa\\] {
    background-color: #f8f9fa;
  }
  .bg-black\\/50 {
    background-color: color-mix(in oklab, var(--color-black) 50%, transparent);
  }
  .bg-blue-50 {
    background-color: var(--color-blue-50);
  }
  .bg-blue-500 {
    background-color: var(--color-blue-500);
  }
  .bg-blue-600 {
    background-color: var(--color-blue-600);
  }
  .bg-gray-100 {
    background-color: var(--color-gray-100);
  }
  .bg-gray-200 {
    background-color: var(--color-gray-200);
  }
  .bg-gray-300 {
    background-color: var(--color-gray-300);
  }
  .bg-gray-900 {
    background-color: var(--color-gray-900);
  }
  .bg-green-500 {
    background-color: var(--color-green-500);
  }
  .bg-indigo-500 {
    background-color: var(--color-indigo-500);
  }
  .bg-inherit {
    background-color: inherit;
  }
  .bg-pink-500 {
    background-color: var(--color-pink-500);
  }
  .bg-purple-500 {
    background-color: var(--color-purple-500);
  }
  .bg-red-500 {
    background-color: var(--color-red-500);
  }
  .bg-teal-500 {
    background-color: var(--color-teal-500);
  }
  .bg-transparent {
    background-color: transparent;
  }
  .bg-white {
    background-color: var(--color-white);
  }
  .bg-white\\/80 {
    background-color: color-mix(in oklab, var(--color-white) 80%, transparent);
  }
  .bg-yellow-500 {
    background-color: var(--color-yellow-500);
  }
  .object-contain {
    -o-object-fit: contain;
       object-fit: contain;
  }
  .p-0 {
    padding: calc(var(--spacing) * 0);
  }
  .p-1 {
    padding: calc(var(--spacing) * 1);
  }
  .p-2 {
    padding: calc(var(--spacing) * 2);
  }
  .p-3 {
    padding: calc(var(--spacing) * 3);
  }
  .p-4 {
    padding: calc(var(--spacing) * 4);
  }
  .p-6 {
    padding: calc(var(--spacing) * 6);
  }
  .p-\\[5px\\] {
    padding: 5px;
  }
  .px-1 {
    padding-inline: calc(var(--spacing) * 1);
  }
  .px-2 {
    padding-inline: calc(var(--spacing) * 2);
  }
  .px-3 {
    padding-inline: calc(var(--spacing) * 3);
  }
  .px-4 {
    padding-inline: calc(var(--spacing) * 4);
  }
  .px-6 {
    padding-inline: calc(var(--spacing) * 6);
  }
  .py-1 {
    padding-block: calc(var(--spacing) * 1);
  }
  .py-1\\.5 {
    padding-block: calc(var(--spacing) * 1.5);
  }
  .py-2 {
    padding-block: calc(var(--spacing) * 2);
  }
  .py-3 {
    padding-block: calc(var(--spacing) * 3);
  }
  .py-4 {
    padding-block: calc(var(--spacing) * 4);
  }
  .pt-4 {
    padding-top: calc(var(--spacing) * 4);
  }
  .pr-2 {
    padding-right: calc(var(--spacing) * 2);
  }
  .pr-3 {
    padding-right: calc(var(--spacing) * 3);
  }
  .pr-4 {
    padding-right: calc(var(--spacing) * 4);
  }
  .pr-7 {
    padding-right: calc(var(--spacing) * 7);
  }
  .pr-9 {
    padding-right: calc(var(--spacing) * 9);
  }
  .pb-2 {
    padding-bottom: calc(var(--spacing) * 2);
  }
  .pl-2 {
    padding-left: calc(var(--spacing) * 2);
  }
  .pl-3 {
    padding-left: calc(var(--spacing) * 3);
  }
  .pl-8 {
    padding-left: calc(var(--spacing) * 8);
  }
  .text-center {
    text-align: center;
  }
  .text-left {
    text-align: left;
  }
  .text-right {
    text-align: right;
  }
  .align-bottom {
    vertical-align: bottom;
  }
  .align-middle {
    vertical-align: middle;
  }
  .align-top {
    vertical-align: top;
  }
  .text-base {
    font-size: var(--text-base);
    line-height: var(--tw-leading, var(--text-base--line-height));
  }
  .text-lg {
    font-size: var(--text-lg);
    line-height: var(--tw-leading, var(--text-lg--line-height));
  }
  .text-sm {
    font-size: var(--text-sm);
    line-height: var(--tw-leading, var(--text-sm--line-height));
  }
  .text-xs {
    font-size: var(--text-xs);
    line-height: var(--tw-leading, var(--text-xs--line-height));
  }
  .text-\\[13px\\] {
    font-size: 13px;
  }
  .leading-none {
    --tw-leading: 1;
    line-height: 1;
  }
  .leading-tight {
    --tw-leading: var(--leading-tight);
    line-height: var(--leading-tight);
  }
  .font-bold {
    --tw-font-weight: var(--font-weight-bold);
    font-weight: var(--font-weight-bold);
  }
  .font-medium {
    --tw-font-weight: var(--font-weight-medium);
    font-weight: var(--font-weight-medium);
  }
  .font-semibold {
    --tw-font-weight: var(--font-weight-semibold);
    font-weight: var(--font-weight-semibold);
  }
  .whitespace-nowrap {
    white-space: nowrap;
  }
  .text-black {
    color: var(--color-black);
  }
  .text-blue-500 {
    color: var(--color-blue-500);
  }
  .text-blue-700 {
    color: var(--color-blue-700);
  }
  .text-gray-400 {
    color: var(--color-gray-400);
  }
  .text-gray-500 {
    color: var(--color-gray-500);
  }
  .text-gray-600 {
    color: var(--color-gray-600);
  }
  .text-gray-700 {
    color: var(--color-gray-700);
  }
  .text-gray-800 {
    color: var(--color-gray-800);
  }
  .text-gray-900 {
    color: var(--color-gray-900);
  }
  .text-red-600 {
    color: var(--color-red-600);
  }
  .text-white {
    color: var(--color-white);
  }
  .uppercase {
    text-transform: uppercase;
  }
  .\\!italic {
    font-style: italic !important;
  }
  .italic {
    font-style: italic;
  }
  .underline {
    text-decoration-line: underline;
  }
  .placeholder-gray-500 {
    &::-moz-placeholder {
      color: var(--color-gray-500);
    }
    &::placeholder {
      color: var(--color-gray-500);
    }
  }
  .opacity-0 {
    opacity: 0%;
  }
  .opacity-25 {
    opacity: 25%;
  }
  .opacity-50 {
    opacity: 50%;
  }
  .opacity-75 {
    opacity: 75%;
  }
  .opacity-100 {
    opacity: 100%;
  }
  .ring {
    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }
  .ring-1 {
    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }
  .ring-2 {
    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }
  .shadow {
    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 1px 2px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1));
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }
  .shadow-lg {
    --tw-shadow: 0 10px 15px -3px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 4px 6px -4px var(--tw-shadow-color, rgb(0 0 0 / 0.1));
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }
  .shadow-md {
    --tw-shadow: 0 4px 6px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 2px 4px -2px var(--tw-shadow-color, rgb(0 0 0 / 0.1));
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }
  .shadow-sm {
    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 1px 2px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1));
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }
  .shadow-xs {
    --tw-shadow: 0 1px 2px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.05));
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }
  .ring-black {
    --tw-ring-color: var(--color-black);
  }
  .ring-blue-200 {
    --tw-ring-color: var(--color-blue-200);
  }
  .ring-blue-500 {
    --tw-ring-color: var(--color-blue-500);
  }
  .outline {
    outline-style: var(--tw-outline-style);
    outline-width: 1px;
  }
  .outline-1 {
    outline-style: var(--tw-outline-style);
    outline-width: 1px;
  }
  .outline-2 {
    outline-style: var(--tw-outline-style);
    outline-width: 2px;
  }
  .-outline-offset-1 {
    outline-offset: calc(1px * -1);
  }
  .-outline-offset-2 {
    outline-offset: calc(2px * -1);
  }
  .outline-offset-2 {
    outline-offset: 2px;
  }
  .outline-blue-500 {
    outline-color: var(--color-blue-500);
  }
  .outline-gray-300 {
    outline-color: var(--color-gray-300);
  }
  .filter {
    filter: var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,);
  }
  .backdrop-blur {
    --tw-backdrop-blur: blur(8px);
    -webkit-backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);
    backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);
  }
  .transition-all {
    transition-property: all;
    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));
    transition-duration: var(--tw-duration, var(--default-transition-duration));
  }
  .transition-colors {
    transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to;
    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));
    transition-duration: var(--tw-duration, var(--default-transition-duration));
  }
  .transition-opacity {
    transition-property: opacity;
    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));
    transition-duration: var(--tw-duration, var(--default-transition-duration));
  }
  .duration-150 {
    --tw-duration: 150ms;
    transition-duration: 150ms;
  }
  .duration-200 {
    --tw-duration: 200ms;
    transition-duration: 200ms;
  }
  .duration-300 {
    --tw-duration: 300ms;
    transition-duration: 300ms;
  }
  .ease-in-out {
    --tw-ease: var(--ease-in-out);
    transition-timing-function: var(--ease-in-out);
  }
  .outline-none {
    --tw-outline-style: none;
    outline-style: none;
  }
  .select-none {
    -webkit-user-select: none;
    -moz-user-select: none;
         user-select: none;
  }
  .peer-checked\\:opacity-100 {
    &:is(:where(.peer):checked ~ *) {
      opacity: 100%;
    }
  }
  .first\\:mt-0 {
    &:first-child {
      margin-top: calc(var(--spacing) * 0);
    }
  }
  .checked\\:border-blue-600 {
    &:checked {
      border-color: var(--color-blue-600);
    }
  }
  .checked\\:bg-blue-600 {
    &:checked {
      background-color: var(--color-blue-600);
    }
  }
  .hover\\:border-\\[\\#1a466b\\] {
    &:hover {
      @media (hover: hover) {
        border-color: #1a466b;
      }
    }
  }
  .hover\\:border-b-gray-500 {
    &:hover {
      @media (hover: hover) {
        border-bottom-color: var(--color-gray-500);
      }
    }
  }
  .hover\\:\\!bg-blue-700 {
    &:hover {
      @media (hover: hover) {
        background-color: var(--color-blue-700) !important;
      }
    }
  }
  .hover\\:bg-blue-600 {
    &:hover {
      @media (hover: hover) {
        background-color: var(--color-blue-600);
      }
    }
  }
  .hover\\:bg-blue-900 {
    &:hover {
      @media (hover: hover) {
        background-color: var(--color-blue-900);
      }
    }
  }
  .hover\\:bg-gray-50 {
    &:hover {
      @media (hover: hover) {
        background-color: var(--color-gray-50);
      }
    }
  }
  .hover\\:bg-gray-100 {
    &:hover {
      @media (hover: hover) {
        background-color: var(--color-gray-100);
      }
    }
  }
  .hover\\:bg-gray-200 {
    &:hover {
      @media (hover: hover) {
        background-color: var(--color-gray-200);
      }
    }
  }
  .hover\\:bg-gray-400 {
    &:hover {
      @media (hover: hover) {
        background-color: var(--color-gray-400);
      }
    }
  }
  .hover\\:bg-transparent {
    &:hover {
      @media (hover: hover) {
        background-color: transparent;
      }
    }
  }
  .hover\\:text-blue-600 {
    &:hover {
      @media (hover: hover) {
        color: var(--color-blue-600);
      }
    }
  }
  .hover\\:text-gray-600 {
    &:hover {
      @media (hover: hover) {
        color: var(--color-gray-600);
      }
    }
  }
  .hover\\:text-gray-700 {
    &:hover {
      @media (hover: hover) {
        color: var(--color-gray-700);
      }
    }
  }
  .hover\\:text-white {
    &:hover {
      @media (hover: hover) {
        color: var(--color-white);
      }
    }
  }
  .hover\\:ring {
    &:hover {
      @media (hover: hover) {
        --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);
        box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
      }
    }
  }
  .hover\\:ring-0 {
    &:hover {
      @media (hover: hover) {
        --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);
        box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
      }
    }
  }
  .hover\\:shadow-md {
    &:hover {
      @media (hover: hover) {
        --tw-shadow: 0 4px 6px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 2px 4px -2px var(--tw-shadow-color, rgb(0 0 0 / 0.1));
        box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
      }
    }
  }
  .hover\\:ring-\\[\\#1a466b\\] {
    &:hover {
      @media (hover: hover) {
        --tw-ring-color: #1a466b;
      }
    }
  }
  .hover\\:ring-transparent {
    &:hover {
      @media (hover: hover) {
        --tw-ring-color: transparent;
      }
    }
  }
  .focus\\:border-blue-500 {
    &:focus {
      border-color: var(--color-blue-500);
    }
  }
  .focus\\:border-transparent {
    &:focus {
      border-color: transparent;
    }
  }
  .focus\\:ring-1 {
    &:focus {
      --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);
      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
    }
  }
  .focus\\:ring-2 {
    &:focus {
      --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);
      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
    }
  }
  .focus\\:ring-blue-500 {
    &:focus {
      --tw-ring-color: var(--color-blue-500);
    }
  }
  .focus\\:outline-none {
    &:focus {
      --tw-outline-style: none;
      outline-style: none;
    }
  }
  .active\\:cursor-grabbing {
    &:active {
      cursor: grabbing;
    }
  }
  .disabled\\:cursor-not-allowed {
    &:disabled {
      cursor: not-allowed;
    }
  }
  .disabled\\:bg-gray-300 {
    &:disabled {
      background-color: var(--color-gray-300);
    }
  }
  .disabled\\:opacity-40 {
    &:disabled {
      opacity: 40%;
    }
  }
  .disabled\\:opacity-50 {
    &:disabled {
      opacity: 50%;
    }
  }
  .md\\:static {
    @media (width >= 48rem) {
      position: static;
    }
  }
  .md\\:flex {
    @media (width >= 48rem) {
      display: flex;
    }
  }
  .md\\:hidden {
    @media (width >= 48rem) {
      display: none;
    }
  }
  .md\\:h-auto {
    @media (width >= 48rem) {
      height: auto;
    }
  }
  .md\\:h-full {
    @media (width >= 48rem) {
      height: 100%;
    }
  }
  .md\\:max-h-\\[80vh\\] {
    @media (width >= 48rem) {
      max-height: 80vh;
    }
  }
  .md\\:w-\\[28rem\\] {
    @media (width >= 48rem) {
      width: 28rem;
    }
  }
  .md\\:w-\\[275px\\] {
    @media (width >= 48rem) {
      width: 275px;
    }
  }
  .md\\:max-w-\\[90vw\\] {
    @media (width >= 48rem) {
      max-width: 90vw;
    }
  }
  .md\\:min-w-\\[275px\\] {
    @media (width >= 48rem) {
      min-width: 275px;
    }
  }
  .md\\:flex-none {
    @media (width >= 48rem) {
      flex: none;
    }
  }
  .md\\:flex-row {
    @media (width >= 48rem) {
      flex-direction: row;
    }
  }
  .md\\:items-center {
    @media (width >= 48rem) {
      align-items: center;
    }
  }
  .md\\:justify-center {
    @media (width >= 48rem) {
      justify-content: center;
    }
  }
  .md\\:rounded-lg {
    @media (width >= 48rem) {
      border-radius: var(--radius-lg);
    }
  }
  .md\\:border {
    @media (width >= 48rem) {
      border-style: var(--tw-border-style);
      border-width: 1px;
    }
  }
  .md\\:border-t-0 {
    @media (width >= 48rem) {
      border-top-style: var(--tw-border-style);
      border-top-width: 0px;
    }
  }
  .md\\:border-r {
    @media (width >= 48rem) {
      border-right-style: var(--tw-border-style);
      border-right-width: 1px;
    }
  }
  .md\\:border-l {
    @media (width >= 48rem) {
      border-left-style: var(--tw-border-style);
      border-left-width: 1px;
    }
  }
  .md\\:border-gray-200 {
    @media (width >= 48rem) {
      border-color: var(--color-gray-200);
    }
  }
  .md\\:shadow-lg {
    @media (width >= 48rem) {
      --tw-shadow: 0 10px 15px -3px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 4px 6px -4px var(--tw-shadow-color, rgb(0 0 0 / 0.1));
      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
    }
  }
  .\\@max-\\[600px\\]\\:\\!top-auto {
    @container (width < 600px) {
      top: auto !important;
    }
  }
  .\\@max-\\[600px\\]\\:\\!right-0 {
    @container (width < 600px) {
      right: calc(var(--spacing) * 0) !important;
    }
  }
  .\\@max-\\[600px\\]\\:\\!bottom-0 {
    @container (width < 600px) {
      bottom: calc(var(--spacing) * 0) !important;
    }
  }
  .\\@max-\\[600px\\]\\:\\!left-0 {
    @container (width < 600px) {
      left: calc(var(--spacing) * 0) !important;
    }
  }
  .\\@min-\\[400px\\]\\:block {
    @container (width >= 400px) {
      display: block;
    }
  }
  .\\@min-\\[400px\\]\\:flex {
    @container (width >= 400px) {
      display: flex;
    }
  }
  .\\@min-\\[400px\\]\\:hidden {
    @container (width >= 400px) {
      display: none;
    }
  }
  .\\@min-\\[500px\\]\\:block {
    @container (width >= 500px) {
      display: block;
    }
  }
  .\\@min-\\[500px\\]\\:hidden {
    @container (width >= 500px) {
      display: none;
    }
  }
  .\\@min-\\[600px\\]\\:block {
    @container (width >= 600px) {
      display: block;
    }
  }
  .\\@min-\\[600px\\]\\:flex {
    @container (width >= 600px) {
      display: flex;
    }
  }
  .\\@min-\\[600px\\]\\:hidden {
    @container (width >= 600px) {
      display: none;
    }
  }
  .\\@min-\\[800px\\]\\:block {
    @container (width >= 800px) {
      display: block;
    }
  }
  .\\@min-\\[800px\\]\\:hidden {
    @container (width >= 800px) {
      display: none;
    }
  }
  .dark\\:bg-gray-700 {
    @media (prefers-color-scheme: dark) {
      background-color: var(--color-gray-700);
    }
  }
  .dark\\:text-gray-200 {
    @media (prefers-color-scheme: dark) {
      color: var(--color-gray-200);
    }
  }
  .dark\\:text-gray-300 {
    @media (prefers-color-scheme: dark) {
      color: var(--color-gray-300);
    }
  }
}
@import url('https://fonts.googleapis.com/css2?family=Open Sans:wght@400;600&amp;display=swap');
:host {
  --tw-translate-x: 0;
  --tw-translate-y: 0;
  --tw-translate-z: 0;
  --tw-rotate-x: rotateX(0);
  --tw-rotate-y: rotateY(0);
  --tw-rotate-z: rotateZ(0);
  --tw-skew-x: skewX(0);
  --tw-skew-y: skewY(0);
  --tw-border-style: solid;
  --tw-gradient-from: #0000;
  --tw-gradient-via: #0000;
  --tw-gradient-to: #0000;
  --tw-gradient-from-position: 0%;
  --tw-gradient-via-position: 50%;
  --tw-gradient-to-position: 100%;
  --tw-shadow: 0 0 #0000;
  --tw-inset-shadow: 0 0 #0000;
  --tw-ring-shadow: 0 0 #0000;
  --tw-inset-ring-shadow: 0 0 #0000;
  --tw-ring-offset-width: 0px;
  --tw-ring-offset-color: #fff;
  --tw-ring-offset-shadow: 0 0 #0000;
  --tw-outline-style: solid;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  width: 100%;
  height: 100%;
}
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}
@keyframes ping {
  75%, 100% {
    transform: scale(2);
    opacity: 0;
  }
}
@keyframes pulse {
  50% {
    opacity: 0.5;
  }
}
@keyframes bounce {
  0%, 100% {
    transform: translateY(-25%);
    animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
  }
  50% {
    transform: none;
    animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
  }
}
@property --tw-translate-x {
  syntax: "*";
  inherits: false;
  initial-value: 0;
}
@property --tw-translate-y {
  syntax: "*";
  inherits: false;
  initial-value: 0;
}
@property --tw-translate-z {
  syntax: "*";
  inherits: false;
  initial-value: 0;
}
@property --tw-rotate-x {
  syntax: "*";
  inherits: false;
  initial-value: rotateX(0);
}
@property --tw-rotate-y {
  syntax: "*";
  inherits: false;
  initial-value: rotateY(0);
}
@property --tw-rotate-z {
  syntax: "*";
  inherits: false;
  initial-value: rotateZ(0);
}
@property --tw-skew-x {
  syntax: "*";
  inherits: false;
  initial-value: skewX(0);
}
@property --tw-skew-y {
  syntax: "*";
  inherits: false;
  initial-value: skewY(0);
}
@property --tw-pan-x {
  syntax: "*";
  inherits: false;
}
@property --tw-pan-y {
  syntax: "*";
  inherits: false;
}
@property --tw-pinch-zoom {
  syntax: "*";
  inherits: false;
}
@property --tw-space-y-reverse {
  syntax: "*";
  inherits: false;
  initial-value: 0;
}
@property --tw-space-x-reverse {
  syntax: "*";
  inherits: false;
  initial-value: 0;
}
@property --tw-divide-y-reverse {
  syntax: "*";
  inherits: false;
  initial-value: 0;
}
@property --tw-border-style {
  syntax: "*";
  inherits: false;
  initial-value: solid;
}
@property --tw-leading {
  syntax: "*";
  inherits: false;
}
@property --tw-font-weight {
  syntax: "*";
  inherits: false;
}
@property --tw-shadow {
  syntax: "*";
  inherits: false;
  initial-value: 0 0 #0000;
}
@property --tw-shadow-color {
  syntax: "*";
  inherits: false;
}
@property --tw-inset-shadow {
  syntax: "*";
  inherits: false;
  initial-value: 0 0 #0000;
}
@property --tw-inset-shadow-color {
  syntax: "*";
  inherits: false;
}
@property --tw-ring-color {
  syntax: "*";
  inherits: false;
}
@property --tw-ring-shadow {
  syntax: "*";
  inherits: false;
  initial-value: 0 0 #0000;
}
@property --tw-inset-ring-color {
  syntax: "*";
  inherits: false;
}
@property --tw-inset-ring-shadow {
  syntax: "*";
  inherits: false;
  initial-value: 0 0 #0000;
}
@property --tw-ring-inset {
  syntax: "*";
  inherits: false;
}
@property --tw-ring-offset-width {
  syntax: "<length>";
  inherits: false;
  initial-value: 0px;
}
@property --tw-ring-offset-color {
  syntax: "*";
  inherits: false;
  initial-value: #fff;
}
@property --tw-ring-offset-shadow {
  syntax: "*";
  inherits: false;
  initial-value: 0 0 #0000;
}
@property --tw-outline-style {
  syntax: "*";
  inherits: false;
  initial-value: solid;
}
@property --tw-blur {
  syntax: "*";
  inherits: false;
}
@property --tw-brightness {
  syntax: "*";
  inherits: false;
}
@property --tw-contrast {
  syntax: "*";
  inherits: false;
}
@property --tw-grayscale {
  syntax: "*";
  inherits: false;
}
@property --tw-hue-rotate {
  syntax: "*";
  inherits: false;
}
@property --tw-invert {
  syntax: "*";
  inherits: false;
}
@property --tw-opacity {
  syntax: "*";
  inherits: false;
}
@property --tw-saturate {
  syntax: "*";
  inherits: false;
}
@property --tw-sepia {
  syntax: "*";
  inherits: false;
}
@property --tw-backdrop-blur {
  syntax: "*";
  inherits: false;
}
@property --tw-backdrop-brightness {
  syntax: "*";
  inherits: false;
}
@property --tw-backdrop-contrast {
  syntax: "*";
  inherits: false;
}
@property --tw-backdrop-grayscale {
  syntax: "*";
  inherits: false;
}
@property --tw-backdrop-hue-rotate {
  syntax: "*";
  inherits: false;
}
@property --tw-backdrop-invert {
  syntax: "*";
  inherits: false;
}
@property --tw-backdrop-opacity {
  syntax: "*";
  inherits: false;
}
@property --tw-backdrop-saturate {
  syntax: "*";
  inherits: false;
}
@property --tw-backdrop-sepia {
  syntax: "*";
  inherits: false;
}
@property --tw-duration {
  syntax: "*";
  inherits: false;
}
@property --tw-ease {
  syntax: "*";
  inherits: false;
}
`,We=0,Qr=[],vt=st,vi=vt.__b,yi=vt.__r,bi=vt.diffed,wi=vt.__c,xi=vt.unmount,ki=vt.__;function Xe(t,e){vt.__h&&vt.__h(ut,t,We||e),We=0;var n=ut.__H||(ut.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function D(t){return We=1,(function(e,n,o){var i=Xe(we++,2);if(i.t=e,!i.__c&&(i.__=[Si(void 0,n),function(c){var d=i.__N?i.__N[0]:i.__[0],u=i.t(d,c);d!==u&&(i.__N=[u,i.__[1]],i.__c.setState({}))}],i.__c=ut,!ut.__f)){var r=function(c,d,u){if(!i.__c.__H)return!0;var p=i.__c.__H.__.filter((function(g){return!!g.__c}));if(p.every((function(g){return!g.__N})))return!a||a.call(this,c,d,u);var h=i.__c.props!==c;return p.forEach((function(g){if(g.__N){var f=g.__[0];g.__=g.__N,g.__N=void 0,f!==g.__[0]&&(h=!0)}})),a&&a.call(this,c,d,u)||h};ut.__f=!0;var a=ut.shouldComponentUpdate,s=ut.componentWillUpdate;ut.componentWillUpdate=function(c,d,u){if(this.__e){var p=a;a=void 0,r(c,d,u),a=p}s&&s.call(this,c,d,u)},ut.shouldComponentUpdate=r}return i.__N||i.__})(Si,t)}function E(t,e){var n=Xe(we++,3);!vt.__s&&_o(n.__H,e)&&(n.__=t,n.u=e,ut.__H.__h.push(n))}function Jr(t,e){var n=Xe(we++,4);!vt.__s&&_o(n.__H,e)&&(n.__=t,n.u=e,ut.__h.push(n))}function Z(t){return We=5,At((function(){return{current:t}}),[])}function At(t,e){var n=Xe(we++,7);return _o(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function Ot(t,e){return We=8,At((function(){return t}),e)}function wc(){for(var t;t=Qr.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(un),t.__H.__h.forEach(co),t.__H.__h=[]}catch(e){t.__H.__h=[],vt.__e(e,t.__v)}}vt.__b=function(t){ut=null,vi&&vi(t)},vt.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),ki&&ki(t,e)},vt.__r=function(t){yi&&yi(t),we=0;var e=(ut=t.__c).__H;e&&(Hn===ut?(e.__h=[],ut.__h=[],e.__.forEach((function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0}))):(e.__h.forEach(un),e.__h.forEach(co),e.__h=[],we=0)),Hn=ut},vt.diffed=function(t){bi&&bi(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Qr.push(e)!==1&&mi===vt.requestAnimationFrame||((mi=vt.requestAnimationFrame)||xc)(wc)),e.__H.__.forEach((function(n){n.u&&(n.__H=n.u),n.u=void 0}))),Hn=ut=null},vt.__c=function(t,e){e.some((function(n){try{n.__h.forEach(un),n.__h=n.__h.filter((function(o){return!o.__||co(o)}))}catch(o){e.some((function(i){i.__h&&(i.__h=[])})),e=[],vt.__e(o,n.__v)}})),wi&&wi(t,e)},vt.unmount=function(t){xi&&xi(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach((function(o){try{un(o)}catch(i){e=i}})),n.__H=void 0,e&&vt.__e(e,n.__v))};var Ci=typeof requestAnimationFrame=="function";function xc(t){var e,n=function(){clearTimeout(o),Ci&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);Ci&&(e=requestAnimationFrame(n))}function un(t){var e=ut,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),ut=e}function co(t){var e=ut;t.__c=t.__(),ut=e}function _o(t,e){return!t||t.length!==e.length||e.some((function(n,o){return n!==t[o]}))}function Si(t,e){return typeof e=="function"?e(t):e}var kc=0;function S(t,e,n,o,i,r){e||(e={});var a,s,c=e;if("ref"in c)for(s in c={},e)s=="ref"?a=e[s]:c[s]=e[s];var d={type:t,props:c,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--kc,__i:-1,__u:0,__source:i,__self:r};if(typeof t=="function"&&(a=t.defaultProps))for(s in a)c[s]===void 0&&(c[s]=a[s]);return st.vnode&&st.vnode(d),d}var Ne=(t=>(t[t.Degree0=0]="Degree0",t[t.Degree90=1]="Degree90",t[t.Degree180=2]="Degree180",t[t.Degree270=3]="Degree270",t))(Ne||{});function Cc(t){return{x:Math.floor(t.x),y:Math.floor(t.y)}}function Sc(t){return{width:Math.ceil(t.width),height:Math.ceil(t.height)}}function hp(t){return{origin:Cc(t.origin),size:Sc(t.size)}}function uo(t){const{width:e,height:n}=t;return{width:n,height:e}}function No(t,e,n){return{width:(t=e%2==0?t:uo(t)).width*n,height:t.height*n}}function pp(t){const e=[t.p1.x,t.p2.x,t.p3.x,t.p4.x],n=[t.p1.y,t.p2.y,t.p3.y,t.p4.y];return{origin:{x:Math.min(...e),y:Math.min(...n)},size:{width:Math.max(...e)-Math.min(...e),height:Math.max(...n)-Math.min(...n)}}}function gp(t){return{p1:{x:t.origin.x,y:t.origin.y},p2:{x:t.origin.x+t.size.width,y:t.origin.y},p3:{x:t.origin.x+t.size.width,y:t.origin.y+t.size.height},p4:{x:t.origin.x,y:t.origin.y+t.size.height}}}function ta(t,e,n){let o=e.x,i=e.y;switch(n){case 0:o=e.x,i=e.y;break;case 1:o=t.height-e.y,i=e.x;break;case 2:o=t.width-e.x,i=t.height-e.y;break;case 3:o=e.y,i=t.width-e.x}return{x:o,y:i}}function hn(t,e){return{x:t.x*e,y:t.y*e}}function ce(t){if(t.length===0)return{origin:{x:0,y:0},size:{width:0,height:0}};const e=t.map((r=>r.x)),n=t.map((r=>r.y)),o=Math.min(...e),i=Math.min(...n);return{origin:{x:o,y:i},size:{width:Math.max(...e)-o,height:Math.max(...n)-i}}}function de(t,e){return{origin:{x:t.origin.x-e,y:t.origin.y-e},size:{width:t.size.width+2*e,height:t.size.height+2*e}}}function Lo(t,e,n){let o=e.origin.x,i=e.origin.y,r=e.size;switch(n){case 0:break;case 1:o=t.height-e.origin.y-e.size.height,i=e.origin.x,r=uo(e.size);break;case 2:o=t.width-e.origin.x-e.size.width,i=t.height-e.origin.y-e.size.height;break;case 3:o=e.origin.y,i=t.width-e.origin.x-e.size.width,r=uo(e.size)}return{origin:{x:o,y:i},size:{width:r.width,height:r.height}}}function ea(t,e){return{origin:{x:t.origin.x*e,y:t.origin.y*e},size:{width:t.size.width*e,height:t.size.height*e}}}function Mc(t,e,n,o){return ea(Lo(t,e,n),o)}function na(t){if(t.length===0)return null;let e=t[0].origin.x,n=t[0].origin.y,o=t[0].origin.x+t[0].size.width,i=t[0].origin.y+t[0].size.height;for(const r of t)e=Math.min(e,r.origin.x),n=Math.min(n,r.origin.y),o=Math.max(o,r.origin.x+r.size.width),i=Math.max(i,r.origin.y+r.size.height);return{origin:{x:e,y:n},size:{width:o-e,height:i-n}}}function fp(t,e,n,o){const i=t.origin.x,r=t.origin.y,a=t.size.width,s=t.size.height,c=n/a,d=o/s,u=n/s,p=o/a;switch(e){case 0:return{a:c,b:0,c:0,d,e:-c*i,f:-d*r};case 3:return{a:0,b:-p,c:u,d:0,e:-u*r,f:p*(i+a)};case 2:return{a:-c,b:0,c:0,d:-d,e:c*(i+a),f:d*(r+s)};case 1:return{a:0,b:p,c:-u,d:0,e:u*(r+s),f:-p*i}}}class oa{isEnabled(){return!1}debug(){}info(){}warn(){}error(){}perf(){}}class ia{isEnabled(){return!0}debug(e,n,...o){console.debug(`${e}.${n}`,...o)}info(e,n,...o){console.info(`${e}.${n}`,...o)}warn(e,n,...o){console.warn(`${e}.${n}`,...o)}error(e,n,...o){console.error(`${e}.${n}`,...o)}perf(e,n,o,i,...r){console.info(`${e}.${n}.${o}.${i}`,...r)}}class Pc{constructor(e,n){this.logger=e,this.level=n}isEnabled(e){return this.level<={debug:0,info:1,warn:2,error:3}[e]}debug(e,n,...o){this.level<=0&&this.logger.debug(e,n,...o)}info(e,n,...o){this.level<=1&&this.logger.info(e,n,...o)}warn(e,n,...o){this.level<=2&&this.logger.warn(e,n,...o)}error(e,n,...o){this.level<=3&&this.logger.error(e,n,...o)}perf(e,n,o,i,...r){this.logger.perf(e,n,o,i,...r)}}class ra{constructor(){}isEnabled(){return!1}debug(e,n,...o){}info(e,n,...o){}warn(e,n,...o){}error(e,n,...o){}perf(e,n,o,i,r,...a){switch(i){case"Begin":globalThis.performance.mark(`${e}.${n}.${o}.${i}.${r}`,{detail:a});break;case"End":globalThis.performance.mark(`${e}.${n}.${o}.${i}.${r}`,{detail:a}),globalThis.performance.measure(`${e}.${n}.${o}.Measure.${r}`,`${e}.${n}.${o}.Begin.${r}`,`${e}.${n}.${o}.End.${r}`)}}}class aa{constructor(e){this.loggers=e}isEnabled(e){return this.loggers.some((n=>n.isEnabled(e)))}debug(e,n,...o){for(const i of this.loggers)i.debug(e,n,...o)}info(e,n,...o){for(const i of this.loggers)i.info(e,n,...o)}warn(e,n,...o){for(const i of this.loggers)i.warn(e,n,...o)}error(e,n,...o){for(const i of this.loggers)i.error(e,n,...o)}perf(e,n,o,i,...r){for(const a of this.loggers)a.perf(e,n,o,i,...r)}}class Ic extends Error{constructor(e){super(`Task aborted: ${JSON.stringify(e)}`),this.name="TaskAbortedError",this.reason=e}}class Tc extends Error{constructor(e){super(`Task rejected: ${JSON.stringify(e)}`),this.name="TaskRejectedError",this.reason=e}}class Pt{constructor(){this.state={stage:0},this.resolvedCallbacks=[],this.rejectedCallbacks=[],this._promise=null,this.progressCbs=[]}toPromise(){return this._promise||(this._promise=new Promise(((e,n)=>{this.wait((o=>e(o)),(o=>{o.type==="abort"?n(new Ic(o.reason)):n(new Tc(o.reason))}))}))),this._promise}wait(e,n){switch(this.state.stage){case 0:this.resolvedCallbacks.push(e),this.rejectedCallbacks.push(n);break;case 1:e(this.state.result);break;case 2:n({type:"reject",reason:this.state.reason});break;case 3:n({type:"abort",reason:this.state.reason})}}resolve(e){if(this.state.stage===0){this.state={stage:1,result:e};for(const n of this.resolvedCallbacks)try{n(e)}catch{}this.resolvedCallbacks=[],this.rejectedCallbacks=[]}}reject(e){if(this.state.stage===0){this.state={stage:2,reason:e};for(const n of this.rejectedCallbacks)try{n({type:"reject",reason:e})}catch{}this.resolvedCallbacks=[],this.rejectedCallbacks=[]}}abort(e){if(this.state.stage===0){this.state={stage:3,reason:e};for(const n of this.rejectedCallbacks)try{n({type:"abort",reason:e})}catch{}this.resolvedCallbacks=[],this.rejectedCallbacks=[]}}fail(e){e.type==="abort"?this.abort(e.reason):this.reject(e.reason)}onProgress(e){this.progressCbs.push(e)}progress(e){for(const n of this.progressCbs)n(e)}static all(e){const n=new Pt;if(e.length===0)return n.resolve([]),n;const o=new Array(e.length);let i=0,r=!1;return e.forEach(((a,s)=>{a.wait((c=>{r||(o[s]=c,i++,i===e.length&&(r=!0,n.resolve(o)))}),(c=>{r||(r=!0,c.type==="abort"?n.abort(c.reason):n.reject(c.reason))}))})),n}static allSettled(e){const n=new Pt;if(e.length===0)return n.resolve([]),n;const o=new Array(e.length);let i=0;return e.forEach(((r,a)=>{r.wait((s=>{o[a]={status:"resolved",value:s},i++,i===e.length&&n.resolve(o)}),(s=>{o[a]={status:s.type==="abort"?"aborted":"rejected",reason:s.reason},i++,i===e.length&&n.resolve(o)}))})),n}static race(e){const n=new Pt;if(e.length===0)return n.reject("No tasks provided"),n;let o=!1;return e.forEach((i=>{i.wait((r=>{o||(o=!0,n.resolve(r))}),(r=>{o||(o=!0,r.type==="abort"?n.abort(r.reason):n.reject(r.reason))}))})),n}static withProgress(e,n){const o=Pt.all(e);if(n){let i=0;e.forEach((r=>{r.wait((()=>{i++,n(i,e.length)}),(()=>{i++,n(i,e.length)}))}))}return o}}const Ac=Object.freeze(["","","","\uFEFF","",""]),zc=new RegExp(`[${Ac.join("")}]`,"g");function mp(t){return t.replace(zc,"")}var ho=(t=>(t[t.Unknown=0]="Unknown",t[t.XYZ=1]="XYZ",t[t.FitPage=2]="FitPage",t[t.FitHorizontal=3]="FitHorizontal",t[t.FitVertical=4]="FitVertical",t[t.FitRectangle=5]="FitRectangle",t[t.FitBoundingBox=6]="FitBoundingBox",t[t.FitBoundingBoxHorizontal=7]="FitBoundingBoxHorizontal",t[t.FitBoundingBoxVertical=8]="FitBoundingBoxVertical",t))(ho||{}),Rc=(t=>(t[t.NotSet=0]="NotSet",t[t.True=1]="True",t[t.False=2]="False",t[t.Unknown=3]="Unknown",t))(Rc||{}),kt=(t=>(t[t.Unknown=-1]="Unknown",t[t.Courier=0]="Courier",t[t.Courier_Bold=1]="Courier_Bold",t[t.Courier_BoldOblique=2]="Courier_BoldOblique",t[t.Courier_Oblique=3]="Courier_Oblique",t[t.Helvetica=4]="Helvetica",t[t.Helvetica_Bold=5]="Helvetica_Bold",t[t.Helvetica_BoldOblique=6]="Helvetica_BoldOblique",t[t.Helvetica_Oblique=7]="Helvetica_Oblique",t[t.Times_Roman=8]="Times_Roman",t[t.Times_Bold=9]="Times_Bold",t[t.Times_BoldItalic=10]="Times_BoldItalic",t[t.Times_Italic=11]="Times_Italic",t[t.Symbol=12]="Symbol",t[t.ZapfDingbats=13]="ZapfDingbats",t))(kt||{}),Dt=(t=>(t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right",t))(Dt||{}),Wt=(t=>(t[t.Top=0]="Top",t[t.Middle=1]="Middle",t[t.Bottom=2]="Bottom",t))(Wt||{}),X=(t=>(t[t.Normal=0]="Normal",t[t.Multiply=1]="Multiply",t[t.Screen=2]="Screen",t[t.Overlay=3]="Overlay",t[t.Darken=4]="Darken",t[t.Lighten=5]="Lighten",t[t.ColorDodge=6]="ColorDodge",t[t.ColorBurn=7]="ColorBurn",t[t.HardLight=8]="HardLight",t[t.SoftLight=9]="SoftLight",t[t.Difference=10]="Difference",t[t.Exclusion=11]="Exclusion",t[t.Hue=12]="Hue",t[t.Saturation=13]="Saturation",t[t.Color=14]="Color",t[t.Luminosity=15]="Luminosity",t))(X||{}),Ec=(t=>(t[t.Contain=0]="Contain",t[t.Cover=1]="Cover",t[t.Stretch=2]="Stretch",t))(Ec||{}),_c=(t=>(t[t.Unsupported=0]="Unsupported",t[t.Goto=1]="Goto",t[t.RemoteGoto=2]="RemoteGoto",t[t.URI=3]="URI",t[t.LaunchAppOrOpenFile=4]="LaunchAppOrOpenFile",t))(_c||{}),R=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.TEXT=1]="TEXT",t[t.LINK=2]="LINK",t[t.FREETEXT=3]="FREETEXT",t[t.LINE=4]="LINE",t[t.SQUARE=5]="SQUARE",t[t.CIRCLE=6]="CIRCLE",t[t.POLYGON=7]="POLYGON",t[t.POLYLINE=8]="POLYLINE",t[t.HIGHLIGHT=9]="HIGHLIGHT",t[t.UNDERLINE=10]="UNDERLINE",t[t.SQUIGGLY=11]="SQUIGGLY",t[t.STRIKEOUT=12]="STRIKEOUT",t[t.STAMP=13]="STAMP",t[t.CARET=14]="CARET",t[t.INK=15]="INK",t[t.POPUP=16]="POPUP",t[t.FILEATTACHMENT=17]="FILEATTACHMENT",t[t.SOUND=18]="SOUND",t[t.MOVIE=19]="MOVIE",t[t.WIDGET=20]="WIDGET",t[t.SCREEN=21]="SCREEN",t[t.PRINTERMARK=22]="PRINTERMARK",t[t.TRAPNET=23]="TRAPNET",t[t.WATERMARK=24]="WATERMARK",t[t.THREED=25]="THREED",t[t.RICHMEDIA=26]="RICHMEDIA",t[t.XFAWIDGET=27]="XFAWIDGET",t[t.REDACT=28]="REDACT",t))(R||{}),Nc=(t=>(t[t.Normal=0]="Normal",t[t.Rollover=1]="Rollover",t[t.Down=2]="Down",t))(Nc||{}),Do=(t=>(t[t.Unknown=-1]="Unknown",t[t.Comment=0]="Comment",t[t.Key=1]="Key",t[t.Note=2]="Note",t[t.Help=3]="Help",t[t.NewParagraph=4]="NewParagraph",t[t.Paragraph=5]="Paragraph",t[t.Insert=6]="Insert",t[t.Graph=7]="Graph",t[t.PushPin=8]="PushPin",t[t.Paperclip=9]="Paperclip",t[t.Tag=10]="Tag",t[t.Speaker=11]="Speaker",t[t.Mic=12]="Mic",t[t.Approved=13]="Approved",t[t.Experimental=14]="Experimental",t[t.NotApproved=15]="NotApproved",t[t.AsIs=16]="AsIs",t[t.Expired=17]="Expired",t[t.NotForPublicRelease=18]="NotForPublicRelease",t[t.Confidential=19]="Confidential",t[t.Final=20]="Final",t[t.Sold=21]="Sold",t[t.Departmental=22]="Departmental",t[t.ForComment=23]="ForComment",t[t.TopSecret=24]="TopSecret",t[t.Draft=25]="Draft",t[t.ForPublicRelease=26]="ForPublicRelease",t))(Do||{}),G=(t=>(t[t.None=0]="None",t[t.Square=1]="Square",t[t.Circle=2]="Circle",t[t.Diamond=3]="Diamond",t[t.OpenArrow=4]="OpenArrow",t[t.ClosedArrow=5]="ClosedArrow",t[t.Butt=6]="Butt",t[t.ROpenArrow=7]="ROpenArrow",t[t.RClosedArrow=8]="RClosedArrow",t[t.Slash=9]="Slash",t[t.Unknown=10]="Unknown",t))(G||{}),Lc=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.PUSHBUTTON=1]="PUSHBUTTON",t[t.CHECKBOX=2]="CHECKBOX",t[t.RADIOBUTTON=3]="RADIOBUTTON",t[t.COMBOBOX=4]="COMBOBOX",t[t.LISTBOX=5]="LISTBOX",t[t.TEXTFIELD=6]="TEXTFIELD",t[t.SIGNATURE=7]="SIGNATURE",t[t.XFA=8]="XFA",t[t.XFA_CHECKBOX=9]="XFA_CHECKBOX",t[t.XFA_COMBOBOX=10]="XFA_COMBOBOX",t[t.XFA_IMAGEFIELD=11]="XFA_IMAGEFIELD",t[t.XFA_LISTBOX=12]="XFA_LISTBOX",t[t.XFA_PUSHBUTTON=13]="XFA_PUSHBUTTON",t[t.XFA_SIGNATURE=14]="XFA_SIGNATURE",t[t.XFA_TEXTFIELD=15]="XFA_TEXTFIELD",t))(Lc||{}),Dc=(t=>(t[t.Color=0]="Color",t[t.InteriorColor=1]="InteriorColor",t))(Dc||{}),at=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.SOLID=1]="SOLID",t[t.DASHED=2]="DASHED",t[t.BEVELED=3]="BEVELED",t[t.INSET=4]="INSET",t[t.UNDERLINE=5]="UNDERLINE",t[t.CLOUDY=6]="CLOUDY",t))(at||{}),Oc=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.TEXT=1]="TEXT",t[t.PATH=2]="PATH",t[t.IMAGE=3]="IMAGE",t[t.SHADING=4]="SHADING",t[t.FORM=5]="FORM",t))(Oc||{});const po=Object.freeze({1:"invisible",2:"hidden",4:"print",8:"noZoom",16:"noRotate",32:"noView",64:"readOnly",128:"locked",256:"toggleNoView"}),Bc=Object.entries(po).reduce(((t,[e,n])=>(t[n]=Number(e),t)),{});function vp(t){return Object.keys(po).filter((e=>!!(t&e))).map((e=>po[e]))}function yp(t){return t.reduce(((e,n)=>e|Bc[n]),0)}var Be=(t=>(t[t.None=0]="None",t[t.MatchCase=1]="MatchCase",t[t.MatchWholeWord=2]="MatchWholeWord",t[t.MatchConsecutive=4]="MatchConsecutive",t))(Be||{}),Hc=(t=>(t[t.Display=0]="Display",t[t.Print=1]="Print",t))(Hc||{}),lt=(t=>(t[t.Ok=0]="Ok",t[t.Unknown=1]="Unknown",t[t.NotFound=2]="NotFound",t[t.WrongFormat=3]="WrongFormat",t[t.Password=4]="Password",t[t.Security=5]="Security",t[t.PageError=6]="PageError",t[t.XFALoad=7]="XFALoad",t[t.XFALayout=8]="XFALayout",t[t.Cancelled=9]="Cancelled",t[t.Initialization=10]="Initialization",t[t.NotReady=11]="NotReady",t[t.NotSupport=12]="NotSupport",t[t.LoadDoc=13]="LoadDoc",t[t.DocNotOpen=14]="DocNotOpen",t[t.CantCloseDoc=15]="CantCloseDoc",t[t.CantCreateNewDoc=16]="CantCreateNewDoc",t[t.CantImportPages=17]="CantImportPages",t[t.CantCreateAnnot=18]="CantCreateAnnot",t[t.CantSetAnnotRect=19]="CantSetAnnotRect",t[t.CantSetAnnotContent=20]="CantSetAnnotContent",t[t.CantRemoveInkList=21]="CantRemoveInkList",t[t.CantAddInkStoke=22]="CantAddInkStoke",t[t.CantReadAttachmentSize=23]="CantReadAttachmentSize",t[t.CantReadAttachmentContent=24]="CantReadAttachmentContent",t[t.CantFocusAnnot=25]="CantFocusAnnot",t[t.CantSelectText=26]="CantSelectText",t[t.CantSelectOption=27]="CantSelectOption",t[t.CantCheckField=28]="CantCheckField",t[t.CantSetAnnotString=29]="CantSetAnnotString",t))(lt||{});class dt{static create(){return new Pt}static resolve(e){const n=new Pt;return n.resolve(e),n}static reject(e){const n=new Pt;return n.reject(e),n}static abort(e){const n=new Pt;return n.reject(e),n}}function bp(t){const e=n=>(o=>Math.max(0,Math.min(255,o)))(n).toString(16).padStart(2,"0");return`#${e(t.red)}${e(t.green)}${e(t.blue)}`}function wp(t){/^#?[0-9a-f]{3}$/i.test(t)&&(t=t.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i,"#$1$1$2$2$3$3").toLowerCase());const[,e,n,o]=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t)??(()=>{throw new Error(`Invalid hex colour: "${t}"`)})();return{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(o,16)}}function xp(t){return(e=>Math.max(0,Math.min(255,e)))(t)/255}function kp(t){return((e,n=255)=>Math.max(0,Math.min(n,e)))(Math.round(255*t))}function Cp(t){if(!t?.startsWith("D:")||t.length<16)return;const e=+t.slice(2,6),n=+t.slice(6,8)-1,o=+t.slice(8,10),i=+t.slice(10,12),r=+t.slice(12,14),a=+t.slice(14,16);return new Date(Date.UTC(e,n,o,i,r,a))}function Sp(t=new Date){const e=(n,o=2)=>n.toString().padStart(o,"0");return`D:${t.getUTCFullYear()}${e(t.getUTCMonth()+1)}${e(t.getUTCDate())}${e(t.getUTCHours())}${e(t.getUTCMinutes())}${e(t.getUTCSeconds())}`}const go=Object.freeze([{id:Dt.Left,label:"Left",css:"left"},{id:Dt.Center,label:"Center",css:"center"},{id:Dt.Right,label:"Right",css:"right"}]),Mi=go.reduce(((t,e)=>(t[e.id]=e,t)),{});function jc(t){return(function(e){return Mi[e]??Mi[Dt.Left]})(t).css}go.reduce(((t,e)=>(t[e.css]=e.id,t)),{}),go.map((t=>({value:t.id,label:t.label})));var la=(t=>(t.Courier="Courier",t.Helvetica="Helvetica",t.Times="Times",t.Symbol="Symbol",t.ZapfDingbats="ZapfDingbats",t.Unknown="Unknown",t))(la||{});const $c=kt.Helvetica,sa={id:kt.Helvetica,family:"Helvetica",bold:!1,italic:!1,label:"Helvetica",css:"Helvetica, Arial, sans-serif"},Oo=Object.freeze([{id:kt.Courier,family:"Courier",bold:!1,italic:!1,label:"Courier",css:"Courier, monospace"},{id:kt.Courier_Bold,family:"Courier",bold:!0,italic:!1,label:"Courier Bold",css:'"Courier-Bold", Courier, monospace'},{id:kt.Courier_BoldOblique,family:"Courier",bold:!0,italic:!0,label:"Courier Bold Oblique",css:'"Courier-BoldOblique", Courier, monospace'},{id:kt.Courier_Oblique,family:"Courier",bold:!1,italic:!0,label:"Courier Oblique",css:'"Courier-Oblique", Courier, monospace'},sa,{id:kt.Helvetica_Bold,family:"Helvetica",bold:!0,italic:!1,label:"Helvetica Bold",css:'"Helvetica-Bold", Arial, sans-serif'},{id:kt.Helvetica_BoldOblique,family:"Helvetica",bold:!0,italic:!0,label:"Helvetica Bold Oblique",css:'"Helvetica-BoldOblique", Arial, sans-serif'},{id:kt.Helvetica_Oblique,family:"Helvetica",bold:!1,italic:!0,label:"Helvetica Oblique",css:'"Helvetica-Oblique", Arial, sans-serif'},{id:kt.Times_Roman,family:"Times",bold:!1,italic:!1,label:"Times Roman",css:'"Times New Roman", Times, serif'},{id:kt.Times_Bold,family:"Times",bold:!0,italic:!1,label:"Times Bold",css:'"Times New Roman Bold", Times, serif'},{id:kt.Times_BoldItalic,family:"Times",bold:!0,italic:!0,label:"Times Bold Italic",css:'"Times New Roman Bold Italic", Times, serif'},{id:kt.Times_Italic,family:"Times",bold:!1,italic:!0,label:"Times Italic",css:'"Times New Roman Italic", Times, serif'},{id:kt.Symbol,family:"Symbol",bold:!1,italic:!1,label:"Symbol",css:"Symbol"},{id:kt.ZapfDingbats,family:"ZapfDingbats",bold:!1,italic:!1,label:"Zapf Dingbats",css:"ZapfDingbats"}]),Fc=Oo.reduce(((t,e)=>(t[e.id]=e,t)),{}),ca=new Map;for(const t of Oo)ca.set(`${t.family}_${t.bold}_${t.italic}`,t.id);function Sn(t){return Fc[t]??sa}function nn(t){return Sn(t).bold}function on(t){return Sn(t).italic}function ge(t,{bold:e,italic:n}){return ca.get(`${t}_${e}_${n}`)??$c}Object.values(la).filter((t=>t!=="Unknown")).map((t=>({value:t,label:t})));const Uc=[...new Set(Oo.map((t=>t.family)))];function Pi(t){switch(t){case"Courier":return"Courier";case"Helvetica":default:return"Helvetica";case"Times":return"Times";case"Symbol":return"Symbol";case"ZapfDingbats":return"ZapfDingbats"}}const Bo=Object.freeze([{id:X.Normal,label:"Normal",css:"normal"},{id:X.Multiply,label:"Multiply",css:"multiply"},{id:X.Screen,label:"Screen",css:"screen"},{id:X.Overlay,label:"Overlay",css:"overlay"},{id:X.Darken,label:"Darken",css:"darken"},{id:X.Lighten,label:"Lighten",css:"lighten"},{id:X.ColorDodge,label:"Color Dodge",css:"color-dodge"},{id:X.ColorBurn,label:"Color Burn",css:"color-burn"},{id:X.HardLight,label:"Hard Light",css:"hard-light"},{id:X.SoftLight,label:"Soft Light",css:"soft-light"},{id:X.Difference,label:"Difference",css:"difference"},{id:X.Exclusion,label:"Exclusion",css:"exclusion"},{id:X.Hue,label:"Hue",css:"hue"},{id:X.Saturation,label:"Saturation",css:"saturation"},{id:X.Color,label:"Color",css:"color"},{id:X.Luminosity,label:"Luminosity",css:"luminosity"}]),Ii=Bo.reduce(((t,e)=>(t[e.id]=e,t)),{});function Et(t){return(function(e){return Ii[e]??Ii[X.Normal]})(t).css}Bo.reduce(((t,e)=>(t[e.css]=e.id,t)),{});const Wc=Bo.map((t=>({value:t.id,label:t.label})));function Ti(t){if(t instanceof oa)return{type:"noop"};if(t instanceof ia)return{type:"console"};if(t instanceof ra)return{type:"perf"};if(t instanceof Pc){const e=t;return{type:"level",config:{level:e.level,logger:Ti(e.logger)}}}return t instanceof aa?{type:"all",config:{loggers:t.loggers.map(Ti)}}:{type:"noop"}}const qc=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;function Mp(t){return qc.test(t)}function yt(){var t;if(typeof((t=globalThis.crypto)==null?void 0:t.randomUUID)=="function")return globalThis.crypto.randomUUID();const e=(function(o){var i;if(typeof((i=globalThis.crypto)==null?void 0:i.getRandomValues)=="function")return globalThis.crypto.getRandomValues(new Uint8Array(o));if(typeof require=="function")try{const{randomBytes:a}=require("crypto");return a(o)}catch{}const r=new Uint8Array(o);for(let a=0;a<o;a++)r[a]=Math.floor(256*Math.random());return r})(16);e[6]=15&e[6]|64,e[8]=63&e[8]|128;const n=Array.from(e,(o=>o.toString(16).padStart(2,"0"))).join("");return`${n.slice(0,8)}-${n.slice(8,12)}-${n.slice(12,16)}-${n.slice(16,20)}-${n.slice(20)}`}function ht(){}class Ai{constructor(){this.dependencyGraph=new Map}addNode(e,n=[]){this.dependencyGraph.set(e,new Set(n))}hasCircularDependencies(){const e=new Set,n=new Set,o=i=>{e.add(i),n.add(i);const r=this.dependencyGraph.get(i)||new Set;for(const a of r)if(e.has(a)){if(n.has(a))return!0}else if(o(a))return!0;return n.delete(i),!1};for(const i of this.dependencyGraph.keys())if(!e.has(i)&&o(i))return!0;return!1}resolveLoadOrder(){if(this.hasCircularDependencies())throw new Error("Circular dependencies detected");const e=[],n=new Set,o=new Set,i=r=>{if(o.has(r))throw new Error("Circular dependency");if(n.has(r))return;o.add(r);const a=this.dependencyGraph.get(r)||new Set;for(const s of a)i(s);o.delete(r),n.add(r),e.push(r)};for(const r of this.dependencyGraph.keys())n.has(r)||i(r);return e}}class Lt extends Error{constructor(e){super(e),this.name="PluginRegistrationError"}}class Ce extends Error{constructor(e){super(e),this.name="PluginNotFoundError"}}class Gc extends Error{constructor(e){super(e),this.name="CircularDependencyError"}}class Zc extends Error{constructor(e){super(e),this.name="PluginConfigurationError"}}class Vc{constructor(e,n){this.store=e,this.pluginId=n}getState(){return this.store.getState().plugins[this.pluginId]}dispatch(e){return this.store.dispatchToPlugin(this.pluginId,e)}subscribeToState(e){return this.store.subscribeToPlugin(this.pluginId,((n,o,i)=>{e(n,o,i)}))}onAction(e,n){return this.store.onAction(e,((o,i,r)=>{n(o,i.plugins[this.pluginId],r.plugins[this.pluginId])}))}}const Ho="LOAD_DOCUMENT",da="REFRESH_DOCUMENT",Ke="REFRESH_PAGES",he="SET_DOCUMENT",ua="SET_DOCUMENT_ERROR",Mn="SET_SCALE",Qe="SET_ROTATION",Je="SET_PAGES",Yc=[Ho,da,he,ua,Mn,Qe,Je],zi=t=>({type:Ke,payload:t}),Ri=t=>({type:Je,payload:t});class Xc{constructor(e,n){this.initialCoreState=n,this.pluginReducers={},this.listeners=[],this.pluginListeners={},this.isDispatching=!1,this.state={core:n,plugins:{}},this.coreReducer=e}addPluginReducer(e,n,o){this.state.plugins[e]=o,this.pluginReducers[e]=n}dispatchToCore(e){if(!this.coreReducer)return this.getState();if(this.isDispatching)throw new Error("Reducers may not dispatch actions. To trigger cascading actions, dispatch from a listener callback instead.");const n=this.getState();try{this.isDispatching=!0,this.state.core=this.coreReducer(this.state.core,e)}finally{this.isDispatching=!1}return this.listeners.forEach((o=>{const i=this.getState();o(e,i,n)})),this.getState()}dispatchToPlugin(e,n,o=!0){if(this.isDispatching)throw new Error("Reducers may not dispatch actions. To trigger cascading actions, dispatch from a listener callback instead.");const i=this.getState(),r=this.pluginReducers[e];if(!r)return i.plugins[e];const a=i.plugins[e];try{this.isDispatching=!0;const s=r(a,n);this.state.plugins[e]=s}finally{this.isDispatching=!1}return o&&this.listeners.forEach((s=>{const c=this.getState();s(n,c,i)})),this.pluginListeners[e]&&this.pluginListeners[e].forEach((s=>{const c=this.getState().plugins[e];s(n,c,a)})),this.getState().plugins[e]}dispatch(e){if(this.isDispatching)throw new Error("Reducers may not dispatch actions. To trigger cascading actions, dispatch from a listener callback instead.");const n=this.getState();try{this.isDispatching=!0,this.isCoreAction(e)&&(this.state.core=this.coreReducer(this.state.core,e));for(const o in this.pluginReducers){const i=this.pluginReducers[o],r=n.plugins[o];i&&(this.state.plugins[o]=i(r,e))}}finally{this.isDispatching=!1}return this.listeners.forEach((o=>{const i=this.getState();o(e,i,n)})),this.getState()}getState(){if(this.isDispatching)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return{core:{...this.state.core},plugins:{...this.state.plugins}}}subscribe(e){if(this.isDispatching)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state.");return this.listeners.push(e),()=>{if(this.isDispatching)throw new Error("You may not unsubscribe from a store listener while the reducer is executing.");this.listeners=this.listeners.filter((n=>n!==e))}}subscribeToPlugin(e,n){if(!(e in this.state.plugins))throw new Error(`Plugin state not found for plugin "${e}". Did you forget to call addPluginReducer?`);if(this.isDispatching)throw new Error("You may not call store.subscribeToPlugin() while the reducer is executing.");return this.pluginListeners[e]||(this.pluginListeners[e]=[]),this.pluginListeners[e].push(n),()=>{if(this.isDispatching)throw new Error("You may not unsubscribe from a store listener while the reducer is executing.");this.pluginListeners[e]=this.pluginListeners[e].filter((o=>o!==n)),this.pluginListeners[e].length===0&&delete this.pluginListeners[e]}}onAction(e,n){return this.subscribe(((o,i,r)=>{o.type===e&&n(o,i,r)}))}getPluginStore(e){if(!(e in this.state.plugins))throw new Error(`Plugin state not found for plugin "${e}". Did you forget to call addPluginReducer?`);return new Vc(this,e)}isCoreAction(e){return Yc.includes(e.type)}destroy(){var e,n;this.listeners.length=0;for(const o in this.pluginListeners)(n=(e=this.pluginListeners[o])==null?void 0:e.splice)==null||n.call(e,0);this.pluginListeners={},this.pluginReducers={},this.state.plugins={},this.state.core={...this.initialCoreState}}}const He=t=>t.pages.map((e=>e.map((n=>({...n,rotatedSize:No(n.size,t.rotation,1)}))))),Kc=(t,e)=>{switch(e.type){case Ho:return{...t,loading:!0,error:null};case he:case da:return{...t,document:e.payload,pages:e.payload.pages.map((n=>[n])),loading:!1,error:null};case Qe:return{...t,rotation:e.payload};case Je:return{...t,pages:e.payload};case ua:return{...t,loading:!1,error:e.payload};case Mn:return{...t,scale:e.payload};default:return t}};class Qc{constructor(e,n){this.plugins=new Map,this.manifests=new Map,this.capabilities=new Map,this.status=new Map,this.configurations=new Map,this.engineInitialized=!1,this.initPromise=null,this.pendingRegistrations=[],this.processingRegistrations=[],this.initialized=!1,this.isInitializing=!1,this.pluginsReadyPromise=null,this.destroyed=!1,this.resolver=new Ai,this.engine=e,this.initialCoreState=(o=>({scale:o?.scale??1,rotation:o?.rotation??Ne.Degree0,document:null,pages:[],loading:!1,error:null}))(n),this.store=new Xc(Kc,this.initialCoreState),this.logger=n?.logger??new oa}getLogger(){return this.logger}async ensureEngineInitialized(){this.engineInitialized||(this.engine.initialize?(await this.engine.initialize().toPromise(),this.engineInitialized=!0):this.engineInitialized=!0)}registerPlugin(e,n){if(this.initialized&&!this.isInitializing)throw new Lt("Cannot register plugins after initialization");this.validateManifest(e.manifest),this.store.addPluginReducer(e.manifest.id,e.reducer,typeof e.initialState=="function"?e.initialState(this.initialCoreState,{...e.manifest.defaultConfig,...n}):e.initialState),this.pendingRegistrations.push({package:e,config:n})}getStore(){return this.store}getEngine(){return this.engine}pluginsReady(){return this.pluginsReadyPromise||(this.pluginsReadyPromise=(async()=>{this.initialized||await this.initialize();const e=Array.from(this.plugins.values()).map((n=>typeof n.ready=="function"?n.ready():Promise.resolve()));await Promise.all(e)})()),this.pluginsReadyPromise}async initialize(){if(this.destroyed)throw new Lt("Registry has been destroyed");return this.initPromise||(this.initPromise=(async()=>{var e;if(this.initialized)throw new Lt("Registry is already initialized");this.isInitializing=!0;try{if(await this.ensureEngineInitialized(),this.destroyed)return;for(;this.pendingRegistrations.length>0;){if(this.destroyed)return;this.processingRegistrations=[...this.pendingRegistrations],this.pendingRegistrations=[];for(const o of this.processingRegistrations){const i=new Set,r=[...o.package.manifest.requires,...o.package.manifest.optional];for(const a of r){const s=this.processingRegistrations.find((c=>c.package.manifest.provides.includes(a)));s&&i.add(s.package.manifest.id)}this.resolver.addNode(o.package.manifest.id,[...i])}const n=this.resolver.resolveLoadOrder();for(const o of n){const i=this.processingRegistrations.find((r=>r.package.manifest.id===o));await this.initializePlugin(i.package.manifest,i.package.create,i.config)}this.processingRegistrations=[],this.resolver=new Ai}for(const n of this.plugins.values())await((e=n.postInitialize)==null?void 0:e.call(n).catch((o=>{console.error(`Error in postInitialize for plugin ${n.id}`,o),this.status.set(n.id,"error")})));this.initialized=!0}catch(n){throw n instanceof Error?new Gc(`Failed to resolve plugin dependencies: ${n.message}`):n}finally{this.isInitializing=!1}})()),this.initPromise}async initializePlugin(e,n,o){const i={...e.defaultConfig,...o};this.validateConfig(e.id,i,e.defaultConfig);const r=n(this,i);this.validatePlugin(r);for(const a of e.requires)if(!this.capabilities.has(a))throw new Lt(`Missing required capability: ${a} for plugin ${e.id}`);for(const a of e.optional)this.capabilities.has(a)&&this.logger.debug("PluginRegistry","OptionalCapability",`Optional capability ${a} is available for plugin ${e.id}`);this.logger.debug("PluginRegistry","InitializePlugin",`Initializing plugin ${e.id}`,{provides:e.provides});for(const a of e.provides){if(this.capabilities.has(a))throw new Lt(`Capability ${a} is already provided by plugin ${this.capabilities.get(a)}`);this.capabilities.set(a,e.id)}this.plugins.set(e.id,r),this.manifests.set(e.id,e),this.status.set(e.id,"registered"),this.configurations.set(e.id,i);try{r.initialize&&await r.initialize(i),this.status.set(e.id,"active"),this.logger.info("PluginRegistry","PluginInitialized",`Plugin ${e.id} initialized successfully`)}catch(a){throw this.plugins.delete(e.id),this.manifests.delete(e.id),this.logger.error("PluginRegistry","InitializationFailed",`Plugin ${e.id} initialization failed`,{provides:e.provides,error:a}),e.provides.forEach((s=>this.capabilities.delete(s))),a}}getPluginConfig(e){const n=this.configurations.get(e);if(!n)throw new Ce(`Configuration for plugin ${e} not found`);return n}validateConfig(e,n,o){const i=Object.keys(o).filter((r=>!n.hasOwnProperty(r)));if(i.length>0)throw new Zc(`Missing required configuration keys for plugin ${e}: ${i.join(", ")}`)}async updatePluginConfig(e,n){const o=this.getPlugin(e);if(!o)throw new Ce(`Plugin ${e} not found`);const i=this.manifests.get(e),r=this.configurations.get(e);if(!i||!r)throw new Ce(`Plugin ${e} not found`);const a={...r,...n};this.validateConfig(e,a,i.defaultConfig),this.configurations.set(e,a),o.initialize&&await o.initialize(a)}registerPluginBatch(e){for(const n of e)this.registerPlugin(n.package,n.config)}async unregisterPlugin(e){const n=this.plugins.get(e);if(!n)throw new Ce(`Plugin ${e} is not registered`);const o=this.manifests.get(e);if(!o)throw new Ce(`Manifest for plugin ${e} not found`);for(const[i,r]of this.manifests.entries())if(i!==e&&[...r.requires,...r.optional].some((a=>o.provides.includes(a))))throw new Lt(`Cannot unregister plugin ${e}: plugin ${i} depends on it`);try{n.destroy&&await n.destroy();for(const i of o.provides)this.capabilities.delete(i);this.plugins.delete(e),this.manifests.delete(e),this.status.delete(e)}catch(i){throw i instanceof Error?new Error(`Failed to unregister plugin ${e}: ${i.message}`):i}}getPlugin(e){return this.plugins.get(e)||null}getCapabilityProvider(e){const n=this.capabilities.get(e);return n?this.getPlugin(n):null}hasCapability(e){return this.capabilities.has(e)}getAllPlugins(){return Array.from(this.plugins.values())}getPluginStatus(e){const n=this.status.get(e);if(!n)throw new Ce(`Plugin ${e} not found`);return n}validatePlugin(e){if(!e.id)throw new Lt("Plugin must have an id")}validateManifest(e){if(!e.id)throw new Lt("Manifest must have an id");if(!e.name)throw new Lt("Manifest must have a name");if(!e.version)throw new Lt("Manifest must have a version");if(!Array.isArray(e.provides))throw new Lt("Manifest must have a provides array");if(!Array.isArray(e.requires))throw new Lt("Manifest must have a requires array");if(!Array.isArray(e.optional))throw new Lt("Manifest must have an optional array")}isDestroyed(){return this.destroyed}async destroy(){var e;if(this.destroyed)throw new Lt("Registry has already been destroyed");this.destroyed=!0;try{await this.initPromise}catch{}for(const n of Array.from(this.plugins.values()).reverse())await((e=n.destroy)==null?void 0:e.call(n));this.store.destroy(),this.plugins.clear(),this.manifests.clear(),this.capabilities.clear(),this.status.clear(),this.pendingRegistrations.length=0,this.processingRegistrations.length=0}}function gt(t,e){return{package:t,config:e}}function Jc(t){return"autoMountElements"in t&&typeof t.autoMountElements=="function"}class ft{constructor(e,n){if(this.id=e,this.registry=n,this.cooldownActions={},this.debouncedTimeouts={},this.unsubscribeFromState=null,this.unsubscribeFromCoreStore=null,e!==this.constructor.id)throw new Error(`Plugin ID mismatch: ${e} !== ${this.constructor.id}`);this.engine=this.registry.getEngine(),this.logger=this.registry.getLogger(),this.coreStore=this.registry.getStore(),this.pluginStore=this.coreStore.getPluginStore(this.id),this.unsubscribeFromState=this.pluginStore.subscribeToState(((o,i,r)=>{this.onStoreUpdated(r,i)})),this.unsubscribeFromCoreStore=this.coreStore.subscribe(((o,i,r)=>{this.onCoreStoreUpdated(r,i)})),this.readyPromise=new Promise((o=>{this.readyResolve=o})),this.readyResolve()}provides(){if(!this._capability){const e=this.buildCapability();this._capability=Object.freeze(e)}return this._capability}get state(){return this.pluginStore.getState()}get coreState(){return this.coreStore.getState()}getState(){return this.pluginStore.getState()}getCoreState(){return this.coreStore.getState()}dispatchCoreAction(e){return this.coreStore.dispatchToCore(e)}dispatchToAllPlugins(e){return this.coreStore.dispatch(e)}dispatch(e){return this.pluginStore.dispatch(e)}cooldownDispatch(e,n=100){const o=Date.now();return o-(this.cooldownActions[e.type]||0)>=n&&(this.cooldownActions[e.type]=o,this.dispatch(e),!0)}debouncedDispatch(e,n=100){const o=e.type;this.debouncedTimeouts[o]&&clearTimeout(this.debouncedTimeouts[o]),this.debouncedTimeouts[o]=setTimeout((()=>{this.dispatch(e),delete this.debouncedTimeouts[o]}),n)}cancelDebouncedDispatch(e){this.debouncedTimeouts[e]&&(clearTimeout(this.debouncedTimeouts[e]),delete this.debouncedTimeouts[e])}subscribe(e){return this.pluginStore.subscribeToState(e)}subscribeToCoreStore(e){return this.coreStore.subscribe(e)}onStoreUpdated(e,n){}onCoreStoreUpdated(e,n){}destroy(){Object.values(this.debouncedTimeouts).forEach((e=>{clearTimeout(e)})),this.debouncedTimeouts={},this.unsubscribeFromState&&(this.unsubscribeFromState(),this.unsubscribeFromState=null),this.unsubscribeFromCoreStore&&(this.unsubscribeFromCoreStore(),this.unsubscribeFromCoreStore=null)}ready(){return this.readyPromise}markReady(){this.readyResolve()}resetReady(){this.readyPromise=new Promise((e=>{this.readyResolve=e}))}}class td{constructor(e,n){this.handler=e,this.options=n,this.lastRun=0,this.handle=o=>{this.options.mode==="debounce"?this.debounce(o):this.throttle(o)}}debounce(e){this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout((()=>{this.handler(e),this.timeoutId=void 0}),this.options.wait)}throttle(e){if(this.options.mode==="debounce")return;const n=Date.now(),o=this.options.throttleMode||"leading-trailing";n-this.lastRun>=this.options.wait&&(o==="leading-trailing"&&this.handler(e),this.lastRun=n),this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout((()=>{this.handler(e),this.lastRun=Date.now(),this.timeoutId=void 0}),this.options.wait-(n-this.lastRun))}destroy(){this.timeoutId&&window.clearTimeout(this.timeoutId)}}function it(t,e,n){return t<e?e:t>n?n:t}function qe(t,e,n){if(t===e)return!0;if(t==null||e==null)return t===e;const o=typeof t;if(o!==typeof e)return!1;if(o==="object"){n||(n=new Set);const i=(function(s,c){return`${Ei(s)}__${Ei(c)}`})(t,e);if(n.has(i))return!0;n.add(i);const r=Array.isArray(t),a=Array.isArray(e);return r&&a?(function(s,c,d){if(s.length!==c.length)return!1;const u=new Array(c.length).fill(!1);t:for(let p=0;p<s.length;p++){const h=s[p];for(let g=0;g<c.length;g++)if(!u[g]&&qe(h,c[g],d)){u[g]=!0;continue t}return!1}return!0})(t,e,n):!r&&!a&&(function(s,c,d){const u=Object.keys(s).sort(),p=Object.keys(c).sort();if(u.length!==p.length)return!1;for(let h=0;h<u.length;h++)if(u[h]!==p[h])return!1;for(const h of u)if(!qe(s[h],c[h],d))return!1;return!0})(t,e,n)}return!1}let ed=0;const jn=new WeakMap;function Ei(t){return jn.has(t)||jn.set(t,++ed),jn.get(t)}function Nt(){const t=new Set;return{emit:(e=void 0)=>t.forEach((n=>n(e))),on:e=>(t.add(e),()=>t.delete(e)),off:e=>t.delete(e),clear:()=>t.clear()}}function J(t,e=qe){const n=new Set,o=new Map;let i=t;const r=(a,s)=>{let c=a,d=()=>{};if(s){const u=new td(a,s);c=u.handle,d=()=>u.destroy(),o.set(a,{wrapped:c,destroy:d})}return i!==void 0&&c(i),n.add(c),()=>{n.delete(c),d(),o.delete(a)}};return{get value(){return i},emit(a=void 0){i!==void 0&&e(i,a)||(i=a,(s=>{n.forEach((c=>c(s)))})(a))},on:r,off(a){const s=o.get(a);s?(n.delete(s.wrapped),s.destroy(),o.delete(a)):n.delete(a)},clear(){n.clear(),o.forEach((a=>a.destroy())),o.clear()},select:(a,s=qe)=>(c,d)=>{let u;if(i!==void 0){const p=a(i);u=p,c(p)}return r((p=>{const h=a(p);u!==void 0&&s(u,h)||(u=h,c(h))}),d)}}}class nd{constructor(e){this.autoMountElements=[],this.package=e}addUtility(e){return this.autoMountElements.push({component:e,type:"utility"}),this}addWrapper(e){return this.autoMountElements.push({component:e,type:"wrapper"}),this}build(){return{...this.package,autoMountElements:()=>this.autoMountElements}}}function Le(t){return new nd(t)}const ha=Kr({registry:null,isInitializing:!0,pluginsReady:!1});function od({plugins:t,children:e}){const{utilities:n,wrappers:o}=At((()=>{const i=[],r=[];for(const a of t){const s=a.package;if(Jc(s)){const c=s.autoMountElements()||[];for(const d of c)d.type==="utility"?i.push(d.component):d.type==="wrapper"&&r.push(d.component)}}return{utilities:i,wrappers:r}}),[t]);return S(tt,{children:[o.reduce(((i,r)=>S(r,{children:i})),e),n.map(((i,r)=>S(i,{},`utility-${r}`)))]})}function id({engine:t,logger:e,onInitialized:n,plugins:o,children:i,autoMountDomElements:r=!0}){const[a,s]=D(null),[c,d]=D(!0),[u,p]=D(!1),h=Z(n);E((()=>{h.current=n}),[n]),E((()=>{const f=new Qc(t,{logger:e});return f.registerPluginBatch(o),(async()=>{var m;await f.initialize(),f.isDestroyed()||(await((m=h.current)==null?void 0:m.call(h,f)),f.isDestroyed()||(f.pluginsReady().then((()=>{f.isDestroyed()||p(!0)})),s(f),d(!1)))})().catch(console.error),()=>{f.destroy(),s(null),d(!0),p(!1)}}),[t,o]);const g=typeof i=="function"?i({registry:a,isInitializing:c,pluginsReady:u}):i;return S(ha.Provider,{value:{registry:a,isInitializing:c,pluginsReady:u},children:u&&r?S(od,{plugins:o,children:g}):g})}function pa(){const t=(function(o){var i=ut.context[o.__c],r=Xe(we++,9);return r.c=o,i?(r.__==null&&(r.__=!0,i.sub(ut)),i.props.value):o.__})(ha);if(t===void 0)throw new Error("useCapability must be used within a PDFContext.Provider");const{registry:e,isInitializing:n}=t;if(n)return t;if(e===null)throw new Error("PDF registry failed to initialize properly");return t}function $t(t){const{registry:e}=pa();if(e===null)return{plugin:null,isLoading:!0,ready:new Promise((()=>{}))};const n=e.getPlugin(t);if(!n)throw new Error(`Plugin ${t} not found`);return{plugin:n,isLoading:!1,ready:n.ready()}}function bt(t){const{plugin:e,isLoading:n,ready:o}=$t(t);if(!e)return{provides:null,isLoading:n,ready:o};if(!e.provides)throw new Error(`Plugin ${t} does not provide a capability`);return{provides:e.provides(),isLoading:n,ready:o}}const rd="https://cdn.jsdelivr.net/npm/@embedpdf/pdfium@1.4.1/dist/pdfium.wasm";Kr(void 0);const ga="viewport",ad={id:ga,name:"Viewport Plugin",version:"1.0.0",provides:["viewport"],requires:[],optional:[],defaultConfig:{enabled:!0,viewportGap:10,scrollEndDelay:300}},fa="SET_VIEWPORT_METRICS",ma="SET_VIEWPORT_SCROLL_METRICS",va="SET_VIEWPORT_GAP",ya="SET_SCROLL_ACTIVITY",ba="SET_SMOOTH_SCROLL_ACTIVITY";function _i(t){return{type:ba,payload:t}}const Ni={viewportGap:0,viewportMetrics:{width:0,height:0,scrollTop:0,scrollLeft:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0,relativePosition:{x:0,y:0}},isScrolling:!1,isSmoothScrolling:!1},wa=class extends ft{constructor(t,e,n){var o;super(t,e),this.id=t,this.viewportResize$=J(),this.viewportMetrics$=J(),this.scrollMetrics$=J(),this.scrollReq$=Nt(),this.scrollActivity$=J(),this.rectProvider=null,n.viewportGap&&this.dispatch((o=n.viewportGap,{type:va,payload:o})),this.scrollEndDelay=n.scrollEndDelay||100}buildCapability(){return{getViewportGap:()=>this.state.viewportGap,getMetrics:()=>this.state.viewportMetrics,getBoundingRect:()=>{var t;return((t=this.rectProvider)==null?void 0:t.call(this))??{origin:{x:0,y:0},size:{width:0,height:0}}},scrollTo:t=>this.scrollTo(t),isScrolling:()=>this.state.isScrolling,isSmoothScrolling:()=>this.state.isSmoothScrolling,onScrollChange:this.scrollMetrics$.on,onViewportChange:this.viewportMetrics$.on,onViewportResize:this.viewportResize$.on,onScrollActivity:this.scrollActivity$.on}}setViewportResizeMetrics(t){this.registry.isDestroyed()||(this.dispatch((function(e){return{type:fa,payload:e}})(t)),this.viewportResize$.emit(this.state.viewportMetrics))}setViewportScrollMetrics(t){this.registry.isDestroyed()||t.scrollTop===this.state.viewportMetrics.scrollTop&&t.scrollLeft===this.state.viewportMetrics.scrollLeft||(this.dispatch((function(e){return{type:ma,payload:e}})(t)),this.bumpScrollActivity(),this.scrollMetrics$.emit({scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}))}onScrollRequest(t){return this.scrollReq$.on(t)}registerBoundingRectProvider(t){this.rectProvider=t}bumpScrollActivity(){this.debouncedDispatch({type:ya,payload:!1},this.scrollEndDelay),this.debouncedDispatch(_i(!1),this.scrollEndDelay)}scrollTo(t){const{x:e,y:n,center:o,behavior:i="auto"}=t;if(i==="smooth"&&this.dispatch(_i(!0)),o){const r=this.state.viewportMetrics,a=e-r.clientWidth/2,s=n-r.clientHeight/2;this.scrollReq$.emit({x:a,y:s,behavior:i})}else this.scrollReq$.emit({x:e,y:n,behavior:i})}emitScrollActivity(){const t={isSmoothScrolling:this.state.isSmoothScrolling,isScrolling:this.state.isScrolling};this.scrollActivity$.emit(t)}onStoreUpdated(t,e){t!==e&&(this.viewportMetrics$.emit(e.viewportMetrics),t.isScrolling===e.isScrolling&&t.isSmoothScrolling===e.isSmoothScrolling||this.emitScrollActivity())}async initialize(t){}async destroy(){super.destroy(),this.viewportMetrics$.clear(),this.viewportResize$.clear(),this.scrollMetrics$.clear(),this.scrollReq$.clear(),this.scrollActivity$.clear(),this.rectProvider=null}};wa.id="viewport";let Pn=wa;const ld={manifest:ad,create:(t,e)=>new Pn(ga,t,e),reducer:(t=Ni,e)=>{switch(e.type){case va:return{...t,viewportGap:e.payload};case fa:return{...t,viewportMetrics:{width:e.payload.width,height:e.payload.height,scrollTop:e.payload.scrollTop,scrollLeft:e.payload.scrollLeft,clientWidth:e.payload.clientWidth,clientHeight:e.payload.clientHeight,scrollWidth:e.payload.scrollWidth,scrollHeight:e.payload.scrollHeight,relativePosition:{x:e.payload.scrollWidth<=e.payload.clientWidth?0:e.payload.scrollLeft/(e.payload.scrollWidth-e.payload.clientWidth),y:e.payload.scrollHeight<=e.payload.clientHeight?0:e.payload.scrollTop/(e.payload.scrollHeight-e.payload.clientHeight)}}};case ma:return{...t,viewportMetrics:{...t.viewportMetrics,scrollTop:e.payload.scrollTop,scrollLeft:e.payload.scrollLeft},isScrolling:!0};case ya:return{...t,isScrolling:e.payload};case ba:return{...t,isSmoothScrolling:e.payload};default:return t}},initialState:Ni},jo=()=>bt(Pn.id);function sd(){const{plugin:t}=$t(Pn.id),e=Z(null);return Jr((()=>{if(!t)return;const n=e.current;if(!n)return;let o=!1;t.registerBoundingRectProvider((()=>{const s=n.getBoundingClientRect();return{origin:{x:s.left,y:s.top},size:{width:s.width,height:s.height}}}));const i=()=>{t.setViewportScrollMetrics({scrollTop:n.scrollTop,scrollLeft:n.scrollLeft})};n.addEventListener("scroll",i);const r=new ResizeObserver((()=>{o||t.setViewportResizeMetrics({width:n.offsetWidth,height:n.offsetHeight,clientWidth:n.clientWidth,clientHeight:n.clientHeight,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft,scrollWidth:n.scrollWidth,scrollHeight:n.scrollHeight})}));r.observe(n);const a=t.onScrollRequest((({x:s,y:c,behavior:d="auto"})=>{requestAnimationFrame((()=>{n.scrollTo({left:s,top:c,behavior:d})}))}));return()=>{o=!0,r.disconnect(),t.registerBoundingRectProvider(null),n.removeEventListener("scroll",i),a()}}),[t]),e}function cd({children:t,...e}){const[n,o]=D(0),i=sd(),{provides:r}=jo();E((()=>{r&&o(r.getViewportGap())}),[r]);const{style:a,...s}=e;return S("div",{...s,ref:i,style:{width:"100%",height:"100%",overflow:"auto",...typeof a=="object"?a:{},padding:`${n}px`},children:t})}var Mt=(t=>(t.Vertical="vertical",t.Horizontal="horizontal",t))(Mt||{});class xa{constructor(e){this.pageGap=e.pageGap??20,this.viewportGap=e.viewportGap??20,this.bufferSize=e.bufferSize??2}getVisibleRange(e,n,o){const i=this.getScrollOffset(e),r=i,a=i+this.getClientSize(e);let s=0;for(;s<n.length&&(n[s].offset+n[s].height)*o<=r;)s++;let c=s;for(;c<n.length&&n[c].offset*o<=a;)c++;return{start:Math.max(0,s-this.bufferSize),end:Math.min(n.length-1,c+this.bufferSize-1)}}handleScroll(e,n,o){const i=this.getVisibleRange(e,n,o),r=n.slice(i.start,i.end+1),a=this.calculatePageVisibility(r,e,o),s=a.map((f=>f.pageNumber)),c=n.slice(i.start,i.end+1).flatMap((f=>f.index)),d=this.determineCurrentPage(a),u=n[i.start],p=n[i.end],h=u?u.offset*o:0,g=p?(n[n.length-1].offset+n[n.length-1].height)*o-(p.offset+p.height)*o:0;return{currentPage:d,visiblePages:s,pageVisibilityMetrics:a,renderedPageIndexes:c,scrollOffset:{x:e.scrollLeft,y:e.scrollTop},startSpacing:h,endSpacing:g}}calculatePageVisibility(e,n,o){const i=[];return e.forEach((r=>{r.pageLayouts.forEach((a=>{const s=r.x*o,c=r.y*o,d=s+a.x*o,u=c+a.y*o,p=a.rotatedWidth*o,h=a.rotatedHeight*o,g=n.scrollLeft,f=n.scrollTop,m=g+n.clientWidth,v=f+n.clientHeight,y=Math.max(d,g),b=Math.max(u,f),w=Math.min(d+p,m),x=Math.min(u+h,v);if(y<w&&b<x){const k=w-y,M=x-b,P=p*h,I=k*M;i.push({pageNumber:a.pageNumber,viewportX:y-g,viewportY:b-f,visiblePercentage:I/P*100,original:{pageX:(y-d)/o,pageY:(b-u)/o,visibleWidth:k/o,visibleHeight:M/o,scale:1},scaled:{pageX:y-d,pageY:b-u,visibleWidth:k,visibleHeight:M,scale:o}})}}))})),i}determineCurrentPage(e){if(e.length===0)return 1;const n=Math.max(...e.map((i=>i.visiblePercentage))),o=e.filter((i=>i.visiblePercentage===n));return o.length===1?o[0].pageNumber:o.sort(((i,r)=>i.pageNumber-r.pageNumber))[0].pageNumber}getRectLocationForPage(e,n,o){const i=n.find((s=>s.pageNumbers.includes(e)));if(!i)return null;const r=i.pageLayouts.find((s=>s.pageNumber===e));if(!r)return null;let a=0;if(o){const s=o.width;i.width<s&&(a=(s-i.width)/2)}return{origin:{x:i.x+r.x+a,y:i.y+r.y},size:{width:r.width,height:r.height}}}getScrollPositionForPage(e,n,o,i,r){const a=this.getTotalContentSize(n),s=this.getRectLocationForPage(e,n,a);if(!s)return null;const c=hn(s.origin,o);if(r){const d=(function(u,p,h,g){return hn(ta(u,p,h),g)})({width:s.size.width,height:s.size.height},{x:r.x,y:r.y},i,o);return{x:c.x+d.x+this.viewportGap,y:c.y+d.y+this.viewportGap}}return{x:c.x+this.viewportGap,y:c.y+this.viewportGap}}getRectPositionForPage(e,n,o,i,r){const a=this.getTotalContentSize(n),s=this.getRectLocationForPage(e,n,a);if(!s)return null;const c=hn(s.origin,o),d=Mc({width:s.size.width,height:s.size.height},r,i,o);return{origin:{x:c.x+d.origin.x,y:c.y+d.origin.y},size:d.size}}}class $n extends xa{constructor(e){super(e)}createVirtualItems(e){let n=0;return e.map(((o,i)=>{let r=0;const a=o.map((u=>{const p={pageNumber:u.index+1,pageIndex:u.index,x:r,y:0,width:u.size.width,height:u.size.height,rotatedWidth:u.rotatedSize.width,rotatedHeight:u.rotatedSize.height};return r+=u.rotatedSize.width+this.pageGap,p})),s=o.reduce(((u,p,h)=>u+p.rotatedSize.width+(h<o.length-1?this.pageGap:0)),0),c=Math.max(...o.map((u=>u.rotatedSize.height))),d={id:`item-${i}`,x:0,y:n,offset:n,width:s,height:c,pageLayouts:a,pageNumbers:o.map((u=>u.index+1)),index:i};return n+=c+this.pageGap,d}))}getTotalContentSize(e){return e.length===0?{width:0,height:0}:{width:Math.max(...e.map((n=>n.width))),height:e[e.length-1].y+e[e.length-1].height}}getScrollOffset(e){return e.scrollTop}getClientSize(e){return e.clientHeight}}class Fn extends xa{constructor(e){super(e)}createVirtualItems(e){let n=0;return e.map(((o,i)=>{let r=0;const a=o.map((u=>{const p={pageNumber:u.index+1,pageIndex:u.index,x:r,y:0,width:u.size.width,height:u.size.height,rotatedWidth:u.rotatedSize.width,rotatedHeight:u.rotatedSize.height};return r+=u.rotatedSize.width+this.pageGap,p})),s=o.reduce(((u,p,h)=>u+p.rotatedSize.width+(h<o.length-1?this.pageGap:0)),0),c=Math.max(...o.map((u=>u.rotatedSize.height))),d={id:`item-${i}`,x:n,y:0,offset:n,width:s,height:c,pageLayouts:a,pageNumbers:o.map((u=>u.index+1)),index:i};return n+=s+this.pageGap,d}))}getTotalContentSize(e){return e.length===0?{width:0,height:0}:{width:e[e.length-1].x+e[e.length-1].width,height:Math.max(...e.map((n=>n.height)))}}getScrollOffset(e){return e.scrollLeft}getClientSize(e){return e.clientWidth}}const ka="UPDATE_SCROLL_STATE",Ca="UPDATE_TOTAL_PAGES",Sa="SET_PAGE_CHANGE_STATE";function Li(t){return{type:ka,payload:t}}function Di(t){return{type:Sa,payload:t}}const Ma=class extends ft{constructor(t,e,n){var o,i,r,a;super(t,e),this.id=t,this.config=n,this.currentScale=1,this.currentRotation=Ne.Degree0,this.currentPage=1,this.layoutReady=!1,this.pageChangeState$=J(),this.layout$=J(),this.scroll$=J(),this.state$=J(),this.scrollerLayout$=J(),this.pageChange$=J(),this.layoutReady$=J(),this.viewport=this.registry.getPlugin("viewport").provides(),this.strategyConfig={pageGap:((o=this.config)==null?void 0:o.pageGap)??10,viewportGap:this.viewport.getViewportGap(),bufferSize:((i=this.config)==null?void 0:i.bufferSize)??2},this.strategy=((r=this.config)==null?void 0:r.strategy)===Mt.Horizontal?new Fn(this.strategyConfig):new $n(this.strategyConfig),this.initialPage=(a=this.config)==null?void 0:a.initialPage,this.currentScale=this.coreState.core.scale,this.currentRotation=this.coreState.core.rotation,this.viewport.onScrollActivity((s=>{this.state.pageChangeState.isChanging&&!s.isSmoothScrolling&&this.completePageChange()})),this.viewport.onViewportChange((s=>this.commitMetrics(this.computeMetrics(s))),{mode:"throttle",wait:100}),this.coreStore.onAction(he,((s,c)=>{const d=c.core.pages.length;this.dispatch({type:Ca,payload:d}),this.pageChange$.emit({pageNumber:this.currentPage,totalPages:d}),this.refreshAll(He(c.core),this.viewport.getMetrics())})),this.coreStore.onAction(Qe,((s,c)=>this.refreshAll(He(c.core),this.viewport.getMetrics()))),this.coreStore.onAction(Je,((s,c)=>this.refreshAll(He(c.core),this.viewport.getMetrics())))}startPageChange(t,e="smooth"){const n={isChanging:!0,targetPage:t,fromPage:this.currentPage,startTime:Date.now()};this.dispatch(Di(n)),e==="instant"&&this.completePageChange()}completePageChange(){if(!this.state.pageChangeState.isChanging)return;const t={isChanging:!1,targetPage:this.state.pageChangeState.targetPage,fromPage:this.state.pageChangeState.fromPage,startTime:this.state.pageChangeState.startTime};this.dispatch(Di(t))}computeLayout(t){const e=this.strategy.createVirtualItems(t);return{virtualItems:e,totalContentSize:this.strategy.getTotalContentSize(e)}}computeMetrics(t,e=this.state.virtualItems){return this.strategy.handleScroll(t,e,this.currentScale)}commit(t,e){this.dispatch(Li(t)),e?.layout&&this.layout$.emit(e.layout),e?.metrics&&(this.scroll$.emit(e.metrics),e.metrics.currentPage!==this.currentPage&&(this.currentPage=e.metrics.currentPage,this.pageChange$.emit({pageNumber:this.currentPage,totalPages:this.state.totalPages}))),this.scrollerLayout$.emit(this.getScrollerLayout())}commitMetrics(t){this.commit(t,{metrics:t})}refreshAll(t,e){const n=this.computeLayout(t),o=this.computeMetrics(e,n.virtualItems);this.commit({...n,...o},{layout:n,metrics:o})}getVirtualItemsFromState(){return this.state.virtualItems||[]}onScrollerData(t){return this.scrollerLayout$.on(t)}getScrollerLayout(){const t=this.coreState.core.scale;return((e,n)=>({startSpacing:e.startSpacing,endSpacing:e.endSpacing,totalWidth:e.totalContentSize.width*n,totalHeight:e.totalContentSize.height*n,pageGap:e.pageGap*n,strategy:e.strategy,items:e.renderedPageIndexes.map((o=>({...e.virtualItems[o],pageLayouts:e.virtualItems[o].pageLayouts.map((i=>({...i,rotatedWidth:i.rotatedWidth*n,rotatedHeight:i.rotatedHeight*n,width:i.width*n,height:i.height*n})))})))}))(this.state,t)}pushScrollLayout(){this.scrollerLayout$.emit(this.getScrollerLayout())}onStoreUpdated(t,e){this.pushScrollLayout(),t.pageChangeState!==e.pageChangeState&&this.pageChangeState$.emit(e.pageChangeState)}onCoreStoreUpdated(t,e){t.core.scale!==e.core.scale&&(this.currentScale=e.core.scale,this.commitMetrics(this.computeMetrics(this.viewport.getMetrics()))),t.core.rotation!==e.core.rotation&&(this.currentRotation=e.core.rotation)}setScrollStrategy(t){if(t===Mt.Horizontal&&this.strategy instanceof Fn||t===Mt.Vertical&&this.strategy instanceof $n)return;this.strategy=t===Mt.Horizontal?new Fn(this.strategyConfig):new $n(this.strategyConfig),this.dispatch(Li({strategy:t}));const e=He(this.coreState.core);this.refreshAll(e,this.viewport.getMetrics())}setLayoutReady(){this.layoutReady||(this.layoutReady=!0,this.layoutReady$.emit(!0),this.initialPage&&this.scrollToPage({pageNumber:this.initialPage,behavior:"instant"}))}buildCapability(){return{onStateChange:this.state$.on,onLayoutChange:this.layout$.on,onScroll:this.scroll$.on,onPageChange:this.pageChange$.on,onLayoutReady:this.layoutReady$.on,onPageChangeState:this.pageChangeState$.on,getCurrentPage:()=>this.currentPage,getTotalPages:()=>this.state.totalPages,getPageChangeState:()=>this.state.pageChangeState,scrollToPage:this.scrollToPage.bind(this),scrollToNextPage:this.scrollToNextPage.bind(this),scrollToPreviousPage:this.scrollToPreviousPage.bind(this),getMetrics:this.getMetrics.bind(this),getLayout:this.getLayout.bind(this),getRectPositionForPage:this.getRectPositionForPage.bind(this),getPageGap:()=>this.state.pageGap,setScrollStrategy:t=>this.setScrollStrategy(t)}}scrollToPage(t){const{pageNumber:e,behavior:n="smooth",pageCoordinates:o,center:i=!1}=t;this.startPageChange(e,n);const r=this.getVirtualItemsFromState(),a=this.strategy.getScrollPositionForPage(e,r,this.currentScale,this.currentRotation,o);a?this.viewport.scrollTo({...a,behavior:n,center:i}):this.completePageChange()}scrollToNextPage(t="smooth"){const e=this.getVirtualItemsFromState(),n=e.findIndex((o=>o.pageNumbers.includes(this.currentPage)));if(n>=0&&n<e.length-1){const o=e[n+1],i=o.pageNumbers[0];this.startPageChange(i,t);const r=this.strategy.getScrollPositionForPage(o.pageNumbers[0],e,this.currentScale,this.currentRotation);r?this.viewport.scrollTo({...r,behavior:t}):this.completePageChange()}}scrollToPreviousPage(t="smooth"){const e=this.getVirtualItemsFromState(),n=e.findIndex((o=>o.pageNumbers.includes(this.currentPage)));if(n>0){const o=e[n-1],i=o.pageNumbers[0];this.startPageChange(i,t);const r=this.strategy.getScrollPositionForPage(o.pageNumbers[0],e,this.currentScale,this.currentRotation);r?this.viewport.scrollTo({...r,behavior:t}):this.completePageChange()}}getMetrics(t){const e=t||this.viewport.getMetrics(),n=this.getVirtualItemsFromState();return this.strategy.handleScroll(e,n,this.currentScale)}getLayout(){return{virtualItems:this.state.virtualItems,totalContentSize:this.state.totalContentSize}}getRectPositionForPage(t,e,n,o){return this.strategy.getRectPositionForPage(t+1,this.state.virtualItems,n??this.currentScale,o??this.currentRotation,e)}async initialize(){}async destroy(){this.layout$.clear(),this.scroll$.clear(),this.pageChange$.clear(),this.state$.clear(),this.scrollerLayout$.clear(),this.layoutReady$.clear(),this.pageChangeState$.clear(),super.destroy()}};Ma.id="scroll";let $o=Ma;const Me="scroll",dd={currentPage:1,visiblePages:[],pageVisibilityMetrics:[],renderedPageIndexes:[],scrollOffset:{x:0,y:0},startSpacing:0,endSpacing:0},ud={isChanging:!1,targetPage:1,fromPage:1,startTime:0},hd={manifest:{id:Me,name:"Scroll Plugin",version:"1.0.0",provides:["scroll"],requires:["viewport"],optional:[],defaultConfig:{enabled:!0,pageGap:10}},create:(t,e)=>new $o(Me,t,e),reducer:(t,e)=>{switch(e.type){case Ca:return{...t,totalPages:e.payload};case Mn:return{...t,scale:e.payload};case ka:return{...t,...e.payload};case"SET_DESIRED_SCROLL_POSITION":return{...t,desiredScrollPosition:e.payload};case Sa:return{...t,pageChangeState:e.payload};default:return t}},initialState:(t,e)=>((n,o)=>({virtualItems:[],totalPages:n.pages.length,totalContentSize:{width:0,height:0},desiredScrollPosition:{x:0,y:0},strategy:o.strategy??Mt.Vertical,pageGap:o.pageGap??10,scale:n.scale,pageChangeState:ud,...dd}))(t,e)},ke=()=>bt($o.id);function pd({renderPage:t,overlayElements:e,...n}){const{plugin:o}=$t($o.id),{registry:i}=pa(),[r,a]=D((()=>o?.getScrollerLayout()??null));if(E((()=>{if(o)return o.onScrollerData(a)}),[o]),E((()=>{o&&o.setLayoutReady()}),[o]),!r||!i)return null;const s=i.getStore().getState();return S("div",{...n,style:{width:`${r.totalWidth}px`,height:`${r.totalHeight}px`,position:"relative",boxSizing:"border-box",margin:"0 auto",...r.strategy===Mt.Horizontal&&{display:"flex",flexDirection:"row"}},children:[S("div",{style:{...r.strategy===Mt.Horizontal?{width:r.startSpacing,height:"100%",flexShrink:0}:{height:r.startSpacing,width:"100%"}}}),S("div",{style:{gap:r.pageGap,display:"flex",alignItems:"center",position:"relative",boxSizing:"border-box",...r.strategy===Mt.Horizontal?{flexDirection:"row",minHeight:"100%"}:{flexDirection:"column",minWidth:"fit-content"}},children:r.items.map((c=>S("div",{style:{display:"flex",justifyContent:"center",gap:r.pageGap},children:c.pageLayouts.map((d=>S("div",{style:{width:`${d.rotatedWidth}px`,height:`${d.rotatedHeight}px`},children:t({...d,rotation:s.core.rotation,scale:s.core.scale,document:s.core.document})},d.pageNumber)))},c.pageNumbers[0])))}),S("div",{style:{...r.strategy===Mt.Horizontal?{width:r.endSpacing,height:"100%",flexShrink:0}:{height:r.endSpacing,width:"100%"}}}),e]})}var Ht=(t=>(t.None="none",t.Odd="odd",t.Even="even",t))(Ht||{});const Pa="SET_SPREAD_MODE";function Un(t){return{type:Pa,payload:t}}const Ia=class extends ft{constructor(t,e,n){super(t,e),this.spreadEmitter$=J(),this.resetReady(),this.dispatch(Un(n.defaultSpreadMode??Ht.None)),e.getPlugin("loader").provides().onDocumentLoaded((o=>this.documentLoaded(o)))}async initialize(t){t.defaultSpreadMode&&this.dispatch(Un(t.defaultSpreadMode))}documentLoaded(t){this.dispatchCoreAction(Ri(this.getSpreadPagesObjects(t.pages))),this.markReady()}getSpreadPagesObjects(t){if(!t.length)return[];switch(this.state.spreadMode){case Ht.None:return t.map((e=>[e]));case Ht.Odd:return Array.from({length:Math.ceil(t.length/2)},((e,n)=>t.slice(2*n,2*n+2)));case Ht.Even:return[[t[0]],...Array.from({length:Math.ceil((t.length-1)/2)},((e,n)=>t.slice(1+2*n,1+2*n+2)))];default:return t.map((e=>[e]))}}setSpreadMode(t){const e=this.state.spreadMode,n=this.coreState.core.document;if(!n)throw new Error("Document not loaded");e!==t&&(this.dispatch(Un(t)),this.dispatchCoreAction(Ri(this.getSpreadPagesObjects(n.pages))),this.notifySpreadChange(t))}notifySpreadChange(t){this.spreadEmitter$.emit(t)}buildCapability(){return{onSpreadChange:this.spreadEmitter$.on,setSpreadMode:t=>this.setSpreadMode(t),getSpreadMode:()=>this.state.spreadMode}}async destroy(){this.spreadEmitter$.clear()}};Ia.id="spread";let gd=Ia;const Ie="spread",fd={id:Ie,name:"Spread Plugin",version:"1.0.0",provides:["spread"],requires:["loader"],optional:[],defaultConfig:{enabled:!0}},Oi={spreadMode:Ht.None},md={manifest:fd,create:(t,e)=>new gd(Ie,t,e),reducer:(t=Oi,e)=>e.type===Pa?{...t,spreadMode:e.payload}:t,initialState:Oi};class vd{async load(e){const{pdfFile:n,options:o,engine:i}=e,r=i.openDocumentUrl(n,o);return new Promise(((a,s)=>{r.wait((c=>a(c)),(c=>{c.type==="abort"?s(new Error(`PDF loading aborted: ${c.reason}`)):s(new Error(`PDF loading failed: ${c.reason}`))}))}))}}class yd{async load(e){const{pdfFile:n,options:o,engine:i}=e,r=i.openDocumentBuffer(n,o);return new Promise(((a,s)=>{r.wait((c=>a(c)),(c=>{c.type==="abort"?s(new Error(`PDF loading aborted: ${c.reason}`)):s(new Error(`PDF loading failed: ${c.reason}`))}))}))}}class bd{constructor(){this.strategies=new Map,this.strategyResolvers=[];const e=new yd;this.registerStrategy("url",new vd),this.registerStrategy("buffer",e),this.addStrategyResolver((n=>(function(o){return o.type==="url"})(n)?this.strategies.get("url"):this.strategies.get("buffer")))}registerStrategy(e,n){this.strategies.set(e,n)}getStrategy(e){return this.strategies.get(e)}addStrategyResolver(e){this.strategyResolvers.push(e)}async loadDocument(e){try{const n=this.resolveStrategy(e);if(!n)throw new Error("No suitable strategy found for the given options");return await n.load(e)}catch(n){throw console.error("Error loading document:",n),n}}resolveStrategy(e){for(const n of this.strategyResolvers){const o=n(e);if(o)return o}}}const Ta=class extends ft{constructor(t,e){super(t,e),this.id=t,this.loaderHandlers$=J(),this.documentLoadedHandlers$=J(),this.openFileRequest$=Nt(),this.documentLoader=new bd}buildCapability(){return{onLoaderEvent:this.loaderHandlers$.on,onDocumentLoaded:this.documentLoadedHandlers$.on,onOpenFileRequest:this.openFileRequest$.on,openFileDialog:()=>this.openFileRequest$.emit("open"),loadDocument:t=>this.loadDocument(t),registerStrategy:(t,e)=>this.documentLoader.registerStrategy(t,e),getDocument:()=>this.loadedDocument,addStrategyResolver:t=>this.documentLoader.addStrategyResolver(t)}}async initialize(t){t.defaultStrategies&&Object.entries(t.defaultStrategies).forEach((([e,n])=>{this.documentLoader.registerStrategy(e,n)})),t.loadingOptions&&(this.loadingOptions=t.loadingOptions)}async postInitialize(){this.loadingOptions&&await this.loadDocument(this.loadingOptions)}async loadDocument(t){try{this.loadedDocument&&this.engine.closeDocument(this.loadedDocument),this.loaderHandlers$.emit({type:"start",documentId:t.pdfFile.id}),this.dispatchCoreAction({type:Ho});const e=await this.documentLoader.loadDocument({...t,engine:this.engine});return this.dispatchCoreAction((n=>({type:he,payload:n}))(e)),this.loadedDocument=e,this.loaderHandlers$.emit({type:"complete",documentId:t.pdfFile.id}),this.documentLoadedHandlers$.emit(e),e}catch(e){const n={type:"error",documentId:t.pdfFile.id,error:e instanceof Error?e:new Error(String(e))};throw this.loaderHandlers$.emit(n),e}}async destroy(){this.loaderHandlers$.clear(),this.documentLoadedHandlers$.clear(),this.openFileRequest$.clear(),super.destroy()}};Ta.id="loader";let Bi=Ta;const fo="loader",wd=Le({manifest:{id:fo,name:"Loader Plugin",version:"1.0.0",provides:["loader"],requires:[],optional:[],metadata:{name:"Loader Plugin",description:"A plugin for loading PDF documents",version:"1.0.0",author:"EmbedPDF",license:"MIT"},defaultConfig:{enabled:!0}},create:t=>new Bi(fo,t),reducer:()=>{},initialState:{}}).addUtility((function(){const{provides:t}=bt(Bi.id),e=Z(null);return E((()=>{if(t)return t.onOpenFileRequest((n=>{n==="open"&&e.current&&e.current.click()}))}),[t]),S(tt,{children:S("input",{ref:e,type:"file",accept:"application/pdf",style:{display:"none"},onChange:async n=>{var o;const i=(o=n.currentTarget.files)==null?void 0:o[0];i&&t&&await t.loadDocument({type:"buffer",pdfFile:{id:Math.random().toString(36).substring(2,15),name:i.name,content:await i.arrayBuffer()}})}})})})).build();class xd{constructor(e,n){this.children=[],this.updateCallbacks=[],this.hadUpdateBeforeListeners=!1,this.componentConfig=e;const o=e.props||{};if(typeof o=="function"){const i=o(e.initialState);this.props={...i,id:e.id}}else this.props={...o,id:e.id};this.type=e.type,this.registry=n}addChild(e,n,o=0,i){this.children.push({id:e,component:n,priority:o,className:i}),this.sortChildren()}sortChildren(){this.children.sort(((e,n)=>e.priority-n.priority))}removeChild(e){this.children=this.children.filter((n=>n.component!==e))}clearChildren(){this.children=[]}get getRenderType(){return this.componentConfig.render||this.type}getRenderer(){return this.registry[this.getRenderType]}getChildren(){return this.children}getChildContext(e){const n=this.componentConfig.getChildContext;return typeof n=="function"?{...e,...n(this.props)}:n&&typeof n=="object"?{...e,...n}:e}update(e){const{id:n,...o}=e;this.props={...this.props,...o},this.updateCallbacks.length===0&&(this.hadUpdateBeforeListeners=!0),this.notifyUpdate()}onUpdate(e){return this.updateCallbacks.push(e),this.hadUpdateBeforeListeners}offUpdate(e){this.updateCallbacks=this.updateCallbacks.filter((n=>n!==e))}notifyUpdate(){this.updateCallbacks.forEach((e=>e()))}}const Aa="UI_INIT_COMPONENTS",za="UI_SET_HEADER_VISIBLE",Ra="UI_TOGGLE_PANEL",Ea="UI_SHOW_COMMAND_MENU",_a="UI_HIDE_COMMAND_MENU",Na="UI_UPDATE_COMPONENT_STATE",Hi=t=>({type:_a,payload:t}),mo={panel:{},header:{},groupedItems:{},divider:{},iconButton:{},tabButton:{},selectButton:{},custom:{},floating:{},commandMenu:{}};function In(t,e){const n=o=>typeof o=="function"?o(e):o;return t.type==="group"?{...t,label:n(t.label)??""}:{...t,icon:n(t.icon)??"",iconProps:n(t.iconProps)??{},label:n(t.label)??"",visible:n(t.visible)??!0,active:n(t.active)??!1,disabled:n(t.disabled)??!1}}function Q(t,e){const n=In(t,e);return n.type!=="group"&&!!n.active}function rn(t,e){const n=In(t,e);return n.type!=="group"&&!!n.disabled}function Ct(t,e){const n=In(t,e);return n.type==="group"?{}:n.iconProps??{}}const La=class pn{constructor(e={},n){this.registry={},this.shortcutMap={},this.eventController=(function(){const o=new Map;return{emit(i,r){const a=o.get(i);a&&a.forEach((s=>s(r)))},on(i,r){return o.has(i)||o.set(i,new Set),o.get(i).add(r),()=>this.off(i,r)},off(i,r){const a=o.get(i);a&&(a.delete(r),a.size===0&&o.delete(i))}}})(),this.pluginRegistry=n,this.registerItems(e),this.setupKeyboardListeners()}get state(){return this.pluginRegistry.getStore().getState()}registerItem(e){this.registry[e.id]&&console.warn(`Menu item with ID ${e.id} already exists and will be overwritten`),this.registry[e.id]=e,"shortcut"in e&&e.shortcut&&(this.shortcutMap[this.normalizeShortcut(e.shortcut)]=e.id)}registerItems(e){Object.values(e).forEach((n=>{this.registerItem(n)}))}resolve(e){return In(this.registry[e],this.state)}getMenuItem(e){const n=this.resolve(e);if(n)return{item:n,isGroup:n.type==="group",isMenu:n.type==="menu",isAction:n.type==="action"}}getAction(e){const n=this.getMenuItem(e);if(n&&n.isAction)return n.item}getMenuOrAction(e){const n=this.getMenuItem(e);if(n)return n.item}getAllItems(){return{...this.registry}}getItemsByIds(e){return e.map((n=>this.resolve(n))).filter((n=>n!==void 0))}getChildItems(e,n={}){var o;const i=this.resolve(e);if(!i||!("children"in i)||!((o=i.children)!=null&&o.length))return[];const r=this.getItemsByIds(i.children);if(!n.flatten)return r;const a=[];for(const s of r)if(s.type==="group")a.push(s);else if(s.type==="menu"){const c=this.getChildItems(s.id,{flatten:!0});a.push(...c)}else a.push(s);return a}executeCommand(e,n={}){var o;const i=this.getMenuItem(e);if(!i)return void console.warn(`Menu item '${e}' not found`);if(i.item.type==="group")return void console.warn(`Cannot execute group '${e}'`);const{item:r}=i;r.disabled?console.warn(`Menu item '${e}' is disabled`):i.isAction?(r.action(this.pluginRegistry,this.state),this.eventController.emit(pn.EVENTS.COMMAND_EXECUTED,{command:r,source:n.source||"api"})):"children"in r&&((o=r.children)!=null&&o.length)&&this.handleSubmenu(r,n)}executeShortcut(e){const n=this.normalizeShortcut(e),o=this.shortcutMap[n];return!!o&&(this.executeCommand(o,{source:"shortcut"}),this.eventController.emit(pn.EVENTS.SHORTCUT_EXECUTED,{shortcut:n,itemId:o}),!0)}on(e,n){return this.eventController.on(e,n)}off(e,n){this.eventController.off(e,n)}handleSubmenu(e,n){this.eventController.emit(pn.EVENTS.MENU_REQUESTED,{menuId:e.id,triggerElement:n.triggerElement,position:n.position,flatten:n.flatten||!1})}setupKeyboardListeners(){typeof window>"u"||document.addEventListener("keydown",(e=>{const n=e.target;if(n.tagName==="INPUT"||n.tagName==="TEXTAREA"||n.isContentEditable)return;const o=this.buildShortcutString(e);o&&this.executeShortcut(o)&&e.preventDefault()}))}buildShortcutString(e){const n=[];e.ctrlKey&&n.push("Ctrl"),e.shiftKey&&n.push("Shift"),e.altKey&&n.push("Alt"),e.metaKey&&n.push("Meta");const o=e.key;if(!["Control","Shift","Alt","Meta"].includes(o)){const i=o.length===1?o.toUpperCase():o;return[...n,i].join("+")}return null}normalizeShortcut(e){return e.split("+").map((n=>n.trim())).join("+")}capabilities(){return{registerItem:this.registerItem.bind(this),registerItems:this.registerItems.bind(this),executeCommand:this.executeCommand.bind(this),getAction:this.getAction.bind(this),getMenuOrAction:this.getMenuOrAction.bind(this),getChildItems:this.getChildItems.bind(this),getItemsByIds:this.getItemsByIds.bind(this),getAllItems:this.getAllItems.bind(this)}}};La.EVENTS={COMMAND_EXECUTED:"menu:command_executed",MENU_REQUESTED:"menu:requested",SHORTCUT_EXECUTED:"menu:shortcut_executed"};let Wn=La;const Da=class extends ft{constructor(t,e,n){super(t,e),this.componentRenderers={},this.components={},this.mapStateCallbacks={},this.globalStoreSubscription=()=>{},this.config=n,this.menuManager=new Wn(n.menuItems||{},this.registry),this.setupCommandEventHandlers(),this.globalStoreSubscription=this.registry.getStore().subscribe(((o,i)=>{this.onGlobalStoreChange(i)}))}async initialize(){this.buildComponents(),this.linkGroupedItems(),this.setInitialStateUIComponents()}setupCommandEventHandlers(){this.menuManager.on(Wn.EVENTS.MENU_REQUESTED,(t=>{var e;const{menuId:n,triggerElement:o,position:i,flatten:r}=t;if(((e=this.state.commandMenu.commandMenu)==null?void 0:e.activeCommand)===n)return this.dispatch(Hi({id:"commandMenu"}));this.dispatch({type:Ea,payload:{id:"commandMenu",commandId:n,triggerElement:o,position:i,flatten:r}})})),this.menuManager.on(Wn.EVENTS.COMMAND_EXECUTED,(t=>{this.logger.debug("UIPlugin","CommandExecuted",`Command executed: ${t.command.id}`,{commandId:t.command.id,source:t.source})}))}addComponent(t,e){this.components[t]&&this.logger.warn("UIPlugin","ComponentAlreadyExists",`Component with ID ${t} already exists and will be overwritten`);const n=new xd(e,this.componentRenderers);return this.components[t]=n,typeof e.mapStateToProps=="function"&&(this.mapStateCallbacks[t]=e.mapStateToProps),n}buildComponents(){Object.entries(this.config.components).forEach((([t,e])=>{this.addComponent(t,e)}))}linkGroupedItems(){Object.values(this.components).forEach((t=>{var e;if(ji(t)){const n=t.componentConfig;(e=n.slots)==null||e.forEach((o=>{const i=this.components[o.componentId];i?t.addChild(o.componentId,i,o.priority,o.className):this.logger.warn("UIPlugin","ChildComponentNotFound",`Child component ${o.componentId} not found for GroupedItems ${n.id}`)}))}}))}setInitialStateUIComponents(){const t=mo;Object.entries(this.config.components).forEach((([e,n])=>{n.initialState?t[n.type][e]=n.initialState:t[n.type][e]={}})),this.dispatch({type:Aa,payload:t})}onGlobalStoreChange(t){for(const[e,n]of Object.entries(this.components)){const o=this.mapStateCallbacks[e];if(!o)continue;const{id:i,...r}=n.props,a=o(t,r);qe(r,{...r,...a})||n.update(a)}}addSlot(t,e,n,o){const i=this.components[t];if(!i)return void this.logger.error("UIPlugin","ParentComponentNotFound",`Parent component ${t} not found`);if(!ji(i))return void this.logger.error("UIPlugin","ParentComponentDoesNotSupportSlots",`Parent component ${t} does not support slots`);const r=this.components[e];if(!r)return void this.logger.error("UIPlugin","ChildComponentNotFound",`Child component ${e} not found`);const a=i.getChildren();let s=n;s===void 0&&(s=(a.length>0?Math.max(...a.map((c=>c.priority))):0)+10),i.addChild(e,r,s,o)}buildCapability(){return{registerComponentRenderer:(t,e)=>{this.componentRenderers[t]=e},getComponent:t=>this.components[t],registerComponent:this.addComponent.bind(this),getCommandMenu:()=>Object.values(this.components).find((t=>(function(e){return e.type==="commandMenu"})(t))),hideCommandMenu:()=>this.cooldownDispatch(Hi({id:"commandMenu"}),100),getFloatingComponents:t=>Object.values(this.components).filter((e=>ja(e))).filter((e=>!t||e.props.scrollerPosition===t)),getHeadersByPlacement:t=>Object.values(this.components).filter((e=>Ba(e))).filter((e=>e.props.placement===t)),getPanelsByLocation:t=>Object.values(this.components).filter((e=>Ha(e))).filter((e=>e.props.location===t)),addSlot:this.addSlot.bind(this),togglePanel:t=>{this.dispatch((e=>({type:Ra,payload:e}))(t))},setHeaderVisible:t=>{this.dispatch((e=>({type:za,payload:e}))(t))},updateComponentState:t=>{this.dispatch((e=>({type:Na,payload:e}))(t))},...this.menuManager.capabilities()}}async destroy(){this.globalStoreSubscription(),this.components={},this.componentRenderers={},this.mapStateCallbacks={}}};Da.id="ui";let Oa=Da;function ji(t){return(function(e){return e.type==="groupedItems"})(t)||Ba(t)||Ha(t)||ja(t)||(function(e){return e.type==="custom"})(t)}function Ba(t){return t.type==="header"}function Ha(t){return t.type==="panel"}function ja(t){return t.type==="floating"}const It="ui",kd={manifest:{id:It,name:"UI Plugin",version:"1.0.0",provides:["ui"],requires:[],optional:[],defaultConfig:{enabled:!0,components:{}}},create:(t,e)=>new Oa(It,t,e),reducer:(t=mo,e)=>{switch(e.type){case Aa:return{...t,...e.payload};case Ra:{const n=t.panel[e.payload.id]||{},{open:o,visibleChild:i}=e.payload,r=n.visibleChild;let a=n.open,s=n.visibleChild;return i===r?a=o!==void 0?o:!n.open:(s=i,a=!0),{...t,panel:{...t.panel,[e.payload.id]:{...n,open:a,visibleChild:s}}}}case za:return{...t,header:{...t.header,[e.payload.id]:{...t.header[e.payload.id],visible:e.payload.visible,visibleChild:e.payload.visibleChild}}};case Ea:return{...t,commandMenu:{...t.commandMenu,[e.payload.id]:{activeCommand:e.payload.commandId,triggerElement:e.payload.triggerElement,position:e.payload.position,open:!0,flatten:e.payload.flatten}}};case _a:return{...t,commandMenu:{...t.commandMenu,[e.payload.id]:{...t.commandMenu[e.payload.id],open:!1,activeCommand:null,triggerElement:void 0,position:void 0,flatten:!1}}};case Na:{const{componentType:n,componentId:o,patch:i}=e.payload;if(!t[n]||!t[n][o])return t;const r=t[n][o],a=Object.fromEntries(Object.entries(i).filter((([s])=>s in r)));return Object.keys(a).length===0?t:{...t,[n]:{...t[n],[o]:{...r,...a}}}}default:return t}},initialState:mo},Yt=()=>bt(Oa.id);function mn({component:t,parentContext:e={}}){const[n,o]=D({});E((()=>{const a=()=>o({});return t.onUpdate(a)&&o({}),()=>t.offUpdate(a)}),[t]);const i=t.getChildContext(e),r=t.getRenderer();if(!r)throw new Error(`No renderer for type: ${t.getRenderType}`);return r(t.props,(function(a){const s=a?.context?{...i,...a.context}:i;return t.getChildren().filter((({id:c})=>!a?.filter||a.filter(c))).map((({component:c,id:d,className:u})=>u?S("div",{className:u,children:S(mn,{component:c,parentContext:s},d)}):S(mn,{component:c,parentContext:s},d)))}),i)}function Cd({children:t}){const{provides:e}=Yt(),n=o=>o.map((i=>S(mn,{component:i},i.props.id)));return t({headers:{top:n(e?.getHeadersByPlacement("top")||[]),bottom:n(e?.getHeadersByPlacement("bottom")||[]),left:n(e?.getHeadersByPlacement("left")||[]),right:n(e?.getHeadersByPlacement("right")||[])},panels:{left:n(e?.getPanelsByLocation("left")||[]),right:n(e?.getPanelsByLocation("right")||[])},floating:{insideScroller:n(e?.getFloatingComponents("inside")||[]),outsideScroller:n(e?.getFloatingComponents("outside")||[])},commandMenu:e?.getCommandMenu()?S(mn,{component:e.getCommandMenu()}):null})}var Sd=["id","children","onClick","active","disabled","className","tooltip","ref"];function wt(t){var e=t.id,n=t.children,o=t.onClick,i=t.active,r=i!==void 0&&i,a=t.disabled,s=a!==void 0&&a,c=t.className,d=c===void 0?"":c,u=t.tooltip,p=t.ref,h=ue(t,Sd);return l("button",C({id:e,ref:p,onClick:o,className:"flex h-[32px] w-auto min-w-[32px] items-center justify-center rounded-md p-[5px] transition-colors ".concat(r?"border-none bg-blue-50 text-blue-500 shadow ring ring-blue-500":"hover:bg-gray-100 hover:ring hover:ring-[#1a466b]"," ").concat(s?"cursor-not-allowed opacity-50 hover:bg-transparent hover:ring-0":"cursor-pointer"," ").concat(d," "),title:u},h),n)}const Re=Math.min,ye=Math.max,vn=Math.round,an=Math.floor,Qt=t=>({x:t,y:t}),Md={left:"right",right:"left",bottom:"top",top:"bottom"},Pd={start:"end",end:"start"};function vo(t,e,n){return ye(t,Re(e,n))}function tn(t,e){return typeof t=="function"?t(e):t}function be(t){return t.split("-")[0]}function Ge(t){return t.split("-")[1]}function $a(t){return t==="x"?"y":"x"}function Fo(t){return t==="y"?"height":"width"}function Ee(t){return["top","bottom"].includes(be(t))?"y":"x"}function Uo(t){return $a(Ee(t))}function qn(t){return t.replace(/start|end/g,(e=>Pd[e]))}function ln(t){return t.replace(/left|right|bottom|top/g,(e=>Md[e]))}function Fa(t){return typeof t!="number"?(function(e){return{top:0,right:0,bottom:0,left:0,...e}})(t):{top:t,right:t,bottom:t,left:t}}function yn(t){const{x:e,y:n,width:o,height:i}=t;return{width:o,height:i,top:n,left:e,right:e+o,bottom:n+i,x:e,y:n}}function $i(t,e,n){let{reference:o,floating:i}=t;const r=Ee(e),a=Uo(e),s=Fo(a),c=be(e),d=r==="y",u=o.x+o.width/2-i.width/2,p=o.y+o.height/2-i.height/2,h=o[s]/2-i[s]/2;let g;switch(c){case"top":g={x:u,y:o.y-i.height};break;case"bottom":g={x:u,y:o.y+o.height};break;case"right":g={x:o.x+o.width,y:p};break;case"left":g={x:o.x-i.width,y:p};break;default:g={x:o.x,y:o.y}}switch(Ge(e)){case"start":g[a]-=h*(n&&d?-1:1);break;case"end":g[a]+=h*(n&&d?-1:1)}return g}async function Ua(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:a,elements:s,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:p="floating",altBoundary:h=!1,padding:g=0}=tn(e,t),f=Fa(g),m=s[h?p==="floating"?"reference":"floating":p],v=yn(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(m)))==null||n?m:m.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(s.floating)),boundary:d,rootBoundary:u,strategy:c})),y=p==="floating"?{x:o,y:i,width:a.floating.width,height:a.floating.height}:a.reference,b=await(r.getOffsetParent==null?void 0:r.getOffsetParent(s.floating)),w=await(r.isElement==null?void 0:r.isElement(b))&&await(r.getScale==null?void 0:r.getScale(b))||{x:1,y:1},x=yn(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:b,strategy:c}):y);return{top:(v.top-x.top+f.top)/w.y,bottom:(x.bottom-v.bottom+f.bottom)/w.y,left:(v.left-x.left+f.left)/w.x,right:(x.right-v.right+f.right)/w.x}}function Tn(){return typeof window<"u"}function _e(t){return Wa(t)?(t.nodeName||"").toLowerCase():"#document"}function jt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Jt(t){var e;return(e=(Wa(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Wa(t){return!!Tn()&&(t instanceof Node||t instanceof jt(t).Node)}function Zt(t){return!!Tn()&&(t instanceof Element||t instanceof jt(t).Element)}function ee(t){return!!Tn()&&(t instanceof HTMLElement||t instanceof jt(t).HTMLElement)}function Fi(t){return!(!Tn()||typeof ShadowRoot>"u")&&(t instanceof ShadowRoot||t instanceof jt(t).ShadowRoot)}function Ze(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=Vt(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function Id(t){return["table","td","th"].includes(_e(t))}function bn(t){return[":popover-open",":modal"].some((e=>{try{return t.matches(e)}catch{return!1}}))}function yo(t){const e=Wo(),n=Zt(t)?Vt(t):t;return["transform","translate","scale","rotate","perspective"].some((o=>!!n[o]&&n[o]!=="none"))||!!n.containerType&&n.containerType!=="normal"||!e&&!!n.backdropFilter&&n.backdropFilter!=="none"||!e&&!!n.filter&&n.filter!=="none"||["transform","translate","scale","rotate","perspective","filter"].some((o=>(n.willChange||"").includes(o)))||["paint","layout","strict","content"].some((o=>(n.contain||"").includes(o)))}function Wo(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Te(t){return["html","body","#document"].includes(_e(t))}function Vt(t){return jt(t).getComputedStyle(t)}function An(t){return Zt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function se(t){if(_e(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Fi(t)&&t.host||Jt(t);return Fi(e)?e.host:e}function qa(t){const e=se(t);return Te(e)?t.ownerDocument?t.ownerDocument.body:t.body:ee(e)&&Ze(e)?e:qa(e)}function Ve(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=qa(t),r=i===((o=t.ownerDocument)==null?void 0:o.body),a=jt(i);if(r){const s=bo(a);return e.concat(a,a.visualViewport||[],Ze(i)?i:[],s&&n?Ve(s):[])}return e.concat(i,Ve(i,[],n))}function bo(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Ga(t){const e=Vt(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=ee(t),r=i?t.offsetWidth:n,a=i?t.offsetHeight:o,s=vn(n)!==r||vn(o)!==a;return s&&(n=r,o=a),{width:n,height:o,$:s}}function qo(t){return Zt(t)?t:t.contextElement}function Ae(t){const e=qo(t);if(!ee(e))return Qt(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=Ga(e);let a=(r?vn(n.width):n.width)/o,s=(r?vn(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const Td=Qt(0);function Za(t){const e=jt(t);return Wo()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:Td}function xe(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=qo(t);let a=Qt(1);e&&(o?Zt(o)&&(a=Ae(o)):a=Ae(t));const s=(function(h,g,f){return g===void 0&&(g=!1),!(!f||g&&f!==jt(h))&&g})(r,n,o)?Za(r):Qt(0);let c=(i.left+s.x)/a.x,d=(i.top+s.y)/a.y,u=i.width/a.x,p=i.height/a.y;if(r){const h=jt(r),g=o&&Zt(o)?jt(o):o;let f=h,m=bo(f);for(;m&&o&&g!==f;){const v=Ae(m),y=m.getBoundingClientRect(),b=Vt(m),w=y.left+(m.clientLeft+parseFloat(b.paddingLeft))*v.x,x=y.top+(m.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,p*=v.y,c+=w,d+=x,f=jt(m),m=bo(f)}}return yn({width:u,height:p,x:c,y:d})}function Go(t,e){const n=An(t).scrollLeft;return e?e.left+n:xe(Jt(t)).left+n}function Va(t,e,n){n===void 0&&(n=!1);const o=t.getBoundingClientRect();return{x:o.left+e.scrollLeft-(n?0:Go(t,o)),y:o.top+e.scrollTop}}function Ui(t,e,n){let o;if(e==="viewport")o=(function(i,r){const a=jt(i),s=Jt(i),c=a.visualViewport;let d=s.clientWidth,u=s.clientHeight,p=0,h=0;if(c){d=c.width,u=c.height;const g=Wo();(!g||g&&r==="fixed")&&(p=c.offsetLeft,h=c.offsetTop)}return{width:d,height:u,x:p,y:h}})(t,n);else if(e==="document")o=(function(i){const r=Jt(i),a=An(i),s=i.ownerDocument.body,c=ye(r.scrollWidth,r.clientWidth,s.scrollWidth,s.clientWidth),d=ye(r.scrollHeight,r.clientHeight,s.scrollHeight,s.clientHeight);let u=-a.scrollLeft+Go(i);const p=-a.scrollTop;return Vt(s).direction==="rtl"&&(u+=ye(r.clientWidth,s.clientWidth)-c),{width:c,height:d,x:u,y:p}})(Jt(t));else if(Zt(e))o=(function(i,r){const a=xe(i,!0,r==="fixed"),s=a.top+i.clientTop,c=a.left+i.clientLeft,d=ee(i)?Ae(i):Qt(1);return{width:i.clientWidth*d.x,height:i.clientHeight*d.y,x:c*d.x,y:s*d.y}})(e,n);else{const i=Za(t);o={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return yn(o)}function Ya(t,e){const n=se(t);return!(n===e||!Zt(n)||Te(n))&&(Vt(n).position==="fixed"||Ya(n,e))}function Ad(t,e,n){const o=ee(e),i=Jt(e),r=n==="fixed",a=xe(t,!0,r,e);let s={scrollLeft:0,scrollTop:0};const c=Qt(0);if(o||!o&&!r)if((_e(e)!=="body"||Ze(i))&&(s=An(e)),o){const u=xe(e,!0,r,e);c.x=u.x+e.clientLeft,c.y=u.y+e.clientTop}else i&&(c.x=Go(i));const d=!i||o||r?Qt(0):Va(i,s);return{x:a.left+s.scrollLeft-c.x-d.x,y:a.top+s.scrollTop-c.y-d.y,width:a.width,height:a.height}}function Gn(t){return Vt(t).position==="static"}function Wi(t,e){if(!ee(t)||Vt(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Jt(t)===n&&(n=n.ownerDocument.body),n}function qi(t,e){const n=jt(t);if(bn(t))return n;if(!ee(t)){let i=se(t);for(;i&&!Te(i);){if(Zt(i)&&!Gn(i))return i;i=se(i)}return n}let o=Wi(t,e);for(;o&&Id(o)&&Gn(o);)o=Wi(o,e);return o&&Te(o)&&Gn(o)&&!yo(o)?n:o||(function(i){let r=se(i);for(;ee(r)&&!Te(r);){if(yo(r))return r;if(bn(r))return null;r=se(r)}return null})(t)||n}const zd={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r=i==="fixed",a=Jt(o),s=!!e&&bn(e.floating);if(o===a||s&&r)return n;let c={scrollLeft:0,scrollTop:0},d=Qt(1);const u=Qt(0),p=ee(o);if((p||!p&&!r)&&((_e(o)!=="body"||Ze(a))&&(c=An(o)),ee(o))){const g=xe(o);d=Ae(o),u.x=g.x+o.clientLeft,u.y=g.y+o.clientTop}const h=!a||p||r?Qt(0):Va(a,c,!0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+h.x,y:n.y*d.y-c.scrollTop*d.y+u.y+h.y}},getDocumentElement:Jt,getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const r=[...n==="clippingAncestors"?bn(e)?[]:(function(c,d){const u=d.get(c);if(u)return u;let p=Ve(c,[],!1).filter((m=>Zt(m)&&_e(m)!=="body")),h=null;const g=Vt(c).position==="fixed";let f=g?se(c):c;for(;Zt(f)&&!Te(f);){const m=Vt(f),v=yo(f);v||m.position!=="fixed"||(h=null),(g?!v&&!h:!v&&m.position==="static"&&h&&["absolute","fixed"].includes(h.position)||Ze(f)&&!v&&Ya(c,f))?p=p.filter((y=>y!==f)):h=m,f=se(f)}return d.set(c,p),p})(e,this._c):[].concat(n),o],a=r[0],s=r.reduce(((c,d)=>{const u=Ui(e,d,i);return c.top=ye(u.top,c.top),c.right=Re(u.right,c.right),c.bottom=Re(u.bottom,c.bottom),c.left=ye(u.left,c.left),c}),Ui(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:qi,getElementRects:async function(t){const e=this.getOffsetParent||qi,n=this.getDimensions,o=await n(t.floating);return{reference:Ad(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){const{width:e,height:n}=Ga(t);return{width:e,height:n}},getScale:Ae,isElement:Zt,isRTL:function(t){return Vt(t).direction==="rtl"}};function Gi(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Xa(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:c=!1}=o,d=qo(t),u=i||r?[...d?Ve(d):[],...Ve(e)]:[];u.forEach((v=>{i&&v.addEventListener("scroll",n,{passive:!0}),r&&v.addEventListener("resize",n)}));const p=d&&s?(function(v,y){let b,w=null;const x=Jt(v);function k(){var M;clearTimeout(b),(M=w)==null||M.disconnect(),w=null}return(function M(P,I){P===void 0&&(P=!1),I===void 0&&(I=1),k();const A=v.getBoundingClientRect(),{left:O,top:L,width:F,height:W}=A;if(P||y(),!F||!W)return;const q={rootMargin:-an(L)+"px "+-an(x.clientWidth-(O+F))+"px "+-an(x.clientHeight-(L+W))+"px "+-an(O)+"px",threshold:ye(0,Re(1,I))||1};let V=!0;function z(T){const _=T[0].intersectionRatio;if(_!==I){if(!V)return M();_?M(!1,_):b=setTimeout((()=>{M(!1,1e-7)}),1e3)}_!==1||Gi(A,v.getBoundingClientRect())||M(),V=!1}try{w=new IntersectionObserver(z,{...q,root:x.ownerDocument})}catch{w=new IntersectionObserver(z,q)}w.observe(v)})(!0),k})(d,n):null;let h,g=-1,f=null;a&&(f=new ResizeObserver((v=>{let[y]=v;y&&y.target===d&&f&&(f.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame((()=>{var b;(b=f)==null||b.observe(e)}))),n()})),d&&!c&&f.observe(d),f.observe(e));let m=c?xe(t):null;return c&&(function v(){const y=xe(t);m&&!Gi(m,y)&&n(),m=y,h=requestAnimationFrame(v)})(),n(),()=>{var v;u.forEach((y=>{i&&y.removeEventListener("scroll",n),r&&y.removeEventListener("resize",n)})),p?.(),(v=f)==null||v.disconnect(),f=null,c&&cancelAnimationFrame(h)}}const Ka=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:r,placement:a,middlewareData:s}=e,c=await(async function(d,u){const{placement:p,platform:h,elements:g}=d,f=await(h.isRTL==null?void 0:h.isRTL(g.floating)),m=be(p),v=Ge(p),y=Ee(p)==="y",b=["left","top"].includes(m)?-1:1,w=f&&y?-1:1,x=tn(u,d);let{mainAxis:k,crossAxis:M,alignmentAxis:P}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return v&&typeof P=="number"&&(M=v==="end"?-1*P:P),y?{x:M*w,y:k*b}:{x:k*b,y:M*w}})(e,t);return a===((n=s.offset)==null?void 0:n.placement)&&(o=s.arrow)!=null&&o.alignmentOffset?{}:{x:i+c.x,y:r+c.y,data:{...c,placement:a}}}}},Qa=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:a=!1,limiter:s={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...c}=tn(t,e),d={x:n,y:o},u=await Ua(e,c),p=Ee(be(i)),h=$a(p);let g=d[h],f=d[p];if(r){const v=h==="y"?"bottom":"right";g=vo(g+u[h==="y"?"top":"left"],g,g-u[v])}if(a){const v=p==="y"?"bottom":"right";f=vo(f+u[p==="y"?"top":"left"],f,f-u[v])}const m=s.fn({...e,[h]:g,[p]:f});return{...m,data:{x:m.x-n,y:m.y-o,enabled:{[h]:r,[p]:a}}}}}},Ja=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:r,rects:a,initialPlacement:s,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:m=!0,...v}=tn(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const y=be(i),b=Ee(s),w=be(s)===s,x=await(c.isRTL==null?void 0:c.isRTL(d.floating)),k=h||(w||!m?[ln(s)]:(function(q){const V=ln(q);return[qn(q),V,qn(V)]})(s)),M=f!=="none";!h&&M&&k.push(...(function(q,V,z,T){const _=Ge(q);let H=(function(N,j,B){const ot=["left","right"],ct=["right","left"],mt=["top","bottom"],pt=["bottom","top"];switch(N){case"top":case"bottom":return B?j?ct:ot:j?ot:ct;case"left":case"right":return j?mt:pt;default:return[]}})(be(q),z==="start",T);return _&&(H=H.map((N=>N+"-"+_)),V&&(H=H.concat(H.map(qn)))),H})(s,m,f,x));const P=[s,...k],I=await Ua(e,v),A=[];let O=((o=r.flip)==null?void 0:o.overflows)||[];if(u&&A.push(I[y]),p){const q=(function(V,z,T){T===void 0&&(T=!1);const _=Ge(V),H=Uo(V),N=Fo(H);let j=H==="x"?_===(T?"end":"start")?"right":"left":_==="start"?"bottom":"top";return z.reference[N]>z.floating[N]&&(j=ln(j)),[j,ln(j)]})(i,a,x);A.push(I[q[0]],I[q[1]])}if(O=[...O,{placement:i,overflows:A}],!A.every((q=>q<=0))){var L,F;const q=(((L=r.flip)==null?void 0:L.index)||0)+1,V=P[q];if(V)return{data:{index:q,overflows:O},reset:{placement:V}};let z=(F=O.filter((T=>T.overflows[0]<=0)).sort(((T,_)=>T.overflows[1]-_.overflows[1]))[0])==null?void 0:F.placement;if(!z)switch(g){case"bestFit":{var W;const T=(W=O.filter((_=>{if(M){const H=Ee(_.placement);return H===b||H==="y"}return!0})).map((_=>[_.placement,_.overflows.filter((H=>H>0)).reduce(((H,N)=>H+N),0)])).sort(((_,H)=>_[1]-H[1]))[0])==null?void 0:W[0];T&&(z=T);break}case"initialPlacement":z=s}if(i!==z)return{reset:{placement:z}}}return{}}}},Rd=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:r,platform:a,elements:s,middlewareData:c}=e,{element:d,padding:u=0}=tn(t,e)||{};if(d==null)return{};const p=Fa(u),h={x:n,y:o},g=Uo(i),f=Fo(g),m=await a.getDimensions(d),v=g==="y",y=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",x=r.reference[f]+r.reference[g]-h[g]-r.floating[f],k=h[g]-r.reference[g],M=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let P=M?M[w]:0;P&&await(a.isElement==null?void 0:a.isElement(M))||(P=s.floating[w]||r.floating[f]);const I=x/2-k/2,A=P/2-m[f]/2-1,O=Re(p[y],A),L=Re(p[b],A),F=O,W=P-m[f]-L,q=P/2-m[f]/2+I,V=vo(F,q,W),z=!c.arrow&&Ge(i)!=null&&q!==V&&r.reference[f]/2-(q<F?O:L)-m[f]/2<0,T=z?q<F?q-F:q-W:0;return{[g]:h[g]+T,data:{[g]:V,centerOffset:q-V-T,...z&&{alignmentOffset:T}},reset:z}}}),tl=(t,e,n)=>{const o=new Map,i={platform:zd,...n},r={...i.platform,_c:o};return(async(a,s,c)=>{const{placement:d="bottom",strategy:u="absolute",middleware:p=[],platform:h}=c,g=p.filter(Boolean),f=await(h.isRTL==null?void 0:h.isRTL(s));let m=await h.getElementRects({reference:a,floating:s,strategy:u}),{x:v,y}=$i(m,d,f),b=d,w={},x=0;for(let k=0;k<g.length;k++){const{name:M,fn:P}=g[k],{x:I,y:A,data:O,reset:L}=await P({x:v,y,initialPlacement:d,placement:b,strategy:u,middlewareData:w,rects:m,platform:h,elements:{reference:a,floating:s}});v=I??v,y=A??y,w={...w,[M]:{...w[M],...O}},L&&x<=50&&(x++,typeof L=="object"&&(L.placement&&(b=L.placement),L.rects&&(m=L.rects===!0?await h.getElementRects({reference:a,floating:s,strategy:u}):L.rects),{x:v,y}=$i(m,b,f)),k=-1)}return{x:v,y,placement:b,strategy:u,middlewareData:w}})(t,e,{...i,platform:r})};var Ed=(function(){function t(){return Nr(this,t),_r(this,t,arguments)}return Dr(t,je),Lr(t,[{key:"render",value:function(){return this.props.children}}])})();function re(t){var e=t.children,n=t.content,o=t.position,i=o===void 0?"top":o,r=t.className,a=r===void 0?"":r,s=t.delay,c=s===void 0?200:s,d=t.style,u=d===void 0?"dark":d,p=t.trigger,h=p===void 0?"hover":p,g=Z(null),f=Z(null),m=Z(null),v=U(D(!1),2),y=v[0],b=v[1],w=Z(null);return E((function(){var x;if((x=g.current)!==null&&x!==void 0&&x.base&&f.current)return Xa(g.current.base,f.current,(function(){tl(g.current.base,f.current,{placement:i,middleware:[Ka(8),Ja(),Qa({padding:8}),Rd({element:m.current,padding:6})]}).then((function(k){var M,P=k.x,I=k.y,A=k.placement,O=k.middlewareData;Object.assign(f.current.style,{left:"".concat(P,"px"),top:"".concat(I,"px")});var L=(M=O.arrow)!==null&&M!==void 0?M:{},F=L.x,W=L.y,q={top:"bottom",bottom:"top",left:"right",right:"left"}[A.split("-")[0]];Object.assign(m.current.style,Y({left:F!=null?"".concat(F,"px"):"",top:W!=null?"".concat(W,"px"):"",right:"",bottom:""},q,"-4px"))}))}))}),[i,y]),E((function(){var x,k=(x=g.current)===null||x===void 0?void 0:x.base,M=f.current;if(k&&M){var P=function(){w.current&&clearTimeout(w.current)},I=function(){P(),w.current=setTimeout((function(){return b(!0)}),c)},A=function(){P(),b(!1)},O=function(){return b((function(L){return!L}))};return h==="hover"?(k.addEventListener("mouseenter",I),k.addEventListener("mouseleave",A),M.addEventListener("mouseenter",I),M.addEventListener("mouseleave",A),k.addEventListener("pointerdown",A)):h==="click"&&k.addEventListener("click",O),h==="none"&&(w.current&&clearTimeout(w.current),b(!1)),function(){P(),h==="hover"?(k.removeEventListener("mouseenter",I),k.removeEventListener("mouseleave",A),M.removeEventListener("mouseenter",I),M.removeEventListener("mouseleave",A),k.removeEventListener("pointerdown",A)):h==="click"&&k.removeEventListener("click",O)}}}),[h,c]),l(tt,null,l("div",{ref:f,role:"tooltip",className:"z-100 pointer-events-none absolute select-none whitespace-nowrap rounded-lg px-3 py-2 text-sm shadow-md transition-opacity duration-150 ".concat(u==="dark"?"bg-gray-900 text-white":"border border-gray-200 bg-white text-gray-900"," ").concat(y?"opacity-100":"opacity-0"," ").concat(a," "),style:{visibility:y?"visible":"hidden"}},n,l("div",{ref:m,className:"absolute h-2 w-2 rotate-45 bg-inherit ".concat(u==="light"?"border border-gray-200":""," ")})),l(Ed,{ref:g},e))}function _d(t){var e=t.open,n=t.trigger,o=t.children,i=t.placement,r=i===void 0?"bottom-start":i,a=t.offsetSkidding,s=a===void 0?-2:a,c=t.offsetDistance,d=c===void 0?5:c,u=t.delay,p=u===void 0?0:u,h=t.onShow,g=t.onHide,f=t.className,m=Z(null),v=U(D({x:0,y:0}),2),y=v[0],b=v[1],w=(function(x){return x&&{top:"top-start",bottom:"bottom-start",left:"left-start",right:"right-start"}[x]||x||"bottom-start"})(r);return E((function(){var x=n,k=m.current;if(k&&(e?(k.style.display="block",h?.()):(p?setTimeout((function(){return k.style.display="none"}),p):k.style.display="none",g?.()),x&&e)){var M=Xa(x,k,(function(){tl(x,k,{placement:w,strategy:"absolute",middleware:[Ka({mainAxis:d,crossAxis:s}),Ja(),Qa({padding:8})]}).then((function(P){var I=P.x,A=P.y;b({x:I,y:A})}))}));return function(){return M()}}}),[e,n,r,s,d,p]),E((function(){if(e){var x=m.current;if(x){var k=function(M){var P,I,A=(P=(I=M.composedPath)===null||I===void 0?void 0:I.call(M))!==null&&P!==void 0?P:[M.target];n&&A.includes(n)||A.includes(x)||g==null||g()};return window.addEventListener("pointerdown",k,!0),function(){return window.removeEventListener("pointerdown",k,!0)}}}}),[e,n,g]),l("div",{ref:m,style:C({},n&&{display:"none",left:"".concat(y.x,"px"),top:"".concat(y.y,"px")}),className:"absolute z-50 min-w-[8rem] divide-y divide-gray-100 rounded-lg border border-[#cfd4da] bg-white shadow-sm transition-opacity duration-150 focus:outline-none ".concat(e?"opacity-100":"opacity-0"," ").concat(!n&&"bottom-0 left-0 right-0"," ").concat(f," ")},l("div",{className:"flex flex-col py-2"},o))}var Tt=(t=>(t.Automatic="automatic",t.FitPage="fit-page",t.FitWidth="fit-width",t))(Tt||{}),me=(t=>(t[t.Center=0]="Center",t[t.Top=1]="Top",t))(me||{});const Rt="zoom",Nd={id:Rt,name:"Zoom Plugin",version:"1.0.0",provides:["zoom"],requires:["viewport","scroll"],optional:["interaction-manager"],defaultConfig:{enabled:!0,defaultZoomLevel:Tt.Automatic,minZoom:.2,maxZoom:60,zoomStep:.1,zoomRanges:[{min:.2,max:.5,step:.05},{min:.5,max:1,step:.1},{min:1,max:2,step:.2},{min:2,max:4,step:.4},{min:4,max:10,step:.8},{min:10,max:20,step:1.6},{min:20,max:40,step:3.2},{min:40,max:60,step:6.4}],presets:[{name:"Fit Page",value:Tt.FitPage},{name:"Fit Width",value:Tt.FitWidth},{name:"Automatic",value:Tt.Automatic},{name:"25%",value:.25},{name:"50%",value:.5},{name:"100%",value:1},{name:"125%",value:1.25},{name:"150%",value:1.5},{name:"200%",value:2},{name:"400%",value:4},{name:"800%",value:8},{name:"1600%",value:16}]}},el="SET_ZOOM_LEVEL",nl="SET_INITIAL_ZOOM_LEVEL",Zi={zoomLevel:Tt.Automatic,currentZoomLevel:1},ol=class extends ft{constructor(t,e,n){var o;super(t,e),this.zoom$=Nt(),this.state$=J(),this.viewportPlugin=e.getPlugin("viewport"),this.viewport=this.viewportPlugin.provides(),this.scroll=e.getPlugin("scroll").provides();const i=e.getPlugin("interaction-manager");var r;this.interactionManager=i?.provides()??null,this.minZoom=n.minZoom??.25,this.maxZoom=n.maxZoom??10,this.zoomStep=n.zoomStep??.1,this.presets=n.presets??[],this.zoomRanges=this.normalizeRanges(n.zoomRanges??[]),this.dispatch((r=n.defaultZoomLevel,{type:nl,payload:{zoomLevel:r}})),this.viewport.onViewportResize((()=>this.recalcAuto(me.Top)),{mode:"debounce",wait:150}),this.coreStore.onAction(Qe,(()=>this.recalcAuto(me.Top))),this.coreStore.onAction(Je,(()=>this.recalcAuto(me.Top))),this.coreStore.onAction(he,(()=>this.recalcAuto(me.Top))),(o=this.interactionManager)==null||o.registerMode({id:"marqueeZoom",scope:"page",exclusive:!0,cursor:"zoom-in"}),this.resetReady()}buildCapability(){return{onZoomChange:this.zoom$.on,onStateChange:this.state$.on,zoomIn:()=>this.zoomIn(),zoomOut:()=>this.zoomOut(),zoomToArea:(t,e)=>this.zoomToArea(t,e),requestZoom:(t,e)=>this.handleRequest({level:t,center:e}),requestZoomBy:(t,e)=>{const n=this.state.currentZoomLevel,o=this.toZoom(n+t);return this.handleRequest({level:o,center:e})},enableMarqueeZoom:()=>{var t;(t=this.interactionManager)==null||t.activate("marqueeZoom")},disableMarqueeZoom:()=>{var t;(t=this.interactionManager)==null||t.activateDefaultMode()},toggleMarqueeZoom:()=>{var t,e,n;((t=this.interactionManager)==null?void 0:t.getActiveMode())==="marqueeZoom"?(e=this.interactionManager)==null||e.activateDefaultMode():(n=this.interactionManager)==null||n.activate("marqueeZoom")},isMarqueeZoomActive:()=>{var t;return((t=this.interactionManager)==null?void 0:t.getActiveMode())==="marqueeZoom"},registerMarqueeOnPage:t=>this.registerMarqueeOnPage(t),getState:()=>this.state,getPresets:()=>this.presets}}zoomOut(){const t=this.state.currentZoomLevel;return this.handleRequest({level:t,delta:-this.stepFor(t)})}zoomIn(){const t=this.state.currentZoomLevel;return this.handleRequest({level:t,delta:this.stepFor(t)})}zoomToArea(t,e){this.handleZoomToArea(t,e)}async initialize(){this.markReady()}async destroy(){this.zoom$.clear()}normalizeRanges(t){return[...t].filter((e=>e.step>0&&e.max>e.min)).sort(((e,n)=>e.min-n.min))}stepFor(t){const e=this.zoomRanges.find((n=>t>=n.min&&t<n.max));return e?e.step:this.zoomStep}toZoom(t){return parseFloat(it(t,this.minZoom,this.maxZoom).toFixed(2))}handleRequest({level:t,delta:e=0,center:n,focus:o=me.Center,align:i="keep"}){const r=this.viewport.getMetrics(),a=this.state.currentZoomLevel;if(r.clientWidth===0||r.clientHeight===0)return;const s=typeof t=="number"?t:this.computeZoomForMode(t,r);if(s===!1)return;const c=it(s+e,this.minZoom,this.maxZoom),d=Math.floor(1e3*c)/1e3,u=n??{vx:r.clientWidth/2,vy:o===me.Top?0:r.clientHeight/2},{desiredScrollLeft:p,desiredScrollTop:h}=this.computeScrollForZoomChange(r,a,d,u,i);isNaN(p)||isNaN(h)||this.viewportPlugin.setViewportScrollMetrics({scrollLeft:p,scrollTop:h}),this.dispatch({type:el,payload:{zoomLevel:typeof t=="number"?d:t,currentZoomLevel:d}}),this.dispatchCoreAction({type:Mn,payload:d}),this.markReady(),this.viewport.scrollTo({x:p,y:h,behavior:"instant"});const g={oldZoom:a,newZoom:d,level:t,center:u,desiredScrollLeft:p,desiredScrollTop:h,viewport:r};this.zoom$.emit(g)}computeZoomForMode(t,e){const n=He(this.coreState.core);if(!n.length)return!1;const o=this.scroll.getPageGap(),i=this.viewport.getViewportGap();if(e.clientWidth===0||e.clientHeight===0)return!1;const r=e.clientWidth-2*i,a=e.clientHeight-2*i;if(r<=0||a<=0)return!1;let s=0,c=0;switch(n.forEach((d=>{const u=d.reduce(((h,g,f)=>h+g.rotatedSize.width+(f?o:0)),0),p=Math.max(...d.map((h=>h.rotatedSize.height)));s=Math.max(s,u),c=Math.max(c,p)})),t){case Tt.FitWidth:return r/s;case Tt.FitPage:return Math.min(r/s,a/c);case Tt.Automatic:return Math.min(r/s,1);default:return 1}}computeScrollForZoomChange(t,e,n,o,i="keep"){const r=this.scroll.getLayout(),a=this.viewport.getViewportGap(),s=r.totalContentSize.width,c=r.totalContentSize.height,d=t.clientWidth-2*a,u=t.clientHeight-2*a,p=(x,k,M)=>k*M<x?(x-k*M)/2:0,h=p(d,s,e),g=p(u,c,e),f=p(d,s,n),m=p(u,c,n),v=(t.scrollLeft+o.vx-a-h)/e*n+a+f,y=(t.scrollTop+o.vy-a-g)/e*n+a+m,b=i==="center"?v-t.clientWidth/2:v-o.vx,w=i==="center"?y-t.clientHeight/2:y-o.vy;return{desiredScrollLeft:Math.max(0,b),desiredScrollTop:Math.max(0,w)}}handleZoomToArea(t,e){const n=this.coreState.core.rotation,o=this.viewport.getMetrics(),i=this.viewport.getViewportGap(),r=this.state.currentZoomLevel,a=o.clientWidth-2*i,s=o.clientHeight-2*i,c=this.scroll.getLayout(),d=c.virtualItems.find((M=>M.pageLayouts.some((P=>P.pageIndex===t))));if(!d)return;const u=d.pageLayouts.find((M=>M.pageIndex===t)),p=Lo({width:u.width,height:u.height},e,n),h=this.toZoom(Math.min(a/p.size.width,s/p.size.height)),g=d.x+u.x,f=d.y+u.y,m=g+p.origin.x+p.size.width/2,v=f+p.origin.y+p.size.height/2,y=(M,P,I)=>P*I<M?(M-P*I)/2:0,b=y(a,c.totalContentSize.width,r),w=y(s,c.totalContentSize.height,r),x=i+b+m*r-o.scrollLeft,k=i+w+v*r-o.scrollTop;this.handleRequest({level:h,center:{vx:x,vy:k},align:"center"})}recalcAuto(t){const e=this.state;e.zoomLevel!==Tt.Automatic&&e.zoomLevel!==Tt.FitPage&&e.zoomLevel!==Tt.FitWidth||this.handleRequest({level:e.zoomLevel,focus:t})}onStoreUpdated(t,e){this.state$.emit(e)}registerMarqueeOnPage(t){if(!this.interactionManager)return this.logger.warn("ZoomPlugin","MissingDependency","Interaction manager plugin not loaded, marquee zoom disabled"),()=>{};const e=this.coreState.core.document;if(!e)return this.logger.warn("ZoomPlugin","DocumentNotFound","Document not found"),()=>{};const n=e.pages[t.pageIndex];if(!n)return this.logger.warn("ZoomPlugin","PageNotFound",`Page ${t.pageIndex} not found`),()=>{};const o=(function(i){const{pageSize:r,scale:a,minDragPx:s=5,onPreview:c,onCommit:d,onSmallDrag:u}=i;let p=null,h=null;return{onPointerDown:(g,f)=>{var m;p=g,h={origin:{x:g.x,y:g.y},size:{width:0,height:0}},c?.(h),(m=f.setPointerCapture)==null||m.call(f)},onPointerMove:g=>{if(!p)return;const f=it(g.x,0,r.width),m=it(g.y,0,r.height);h={origin:{x:Math.min(p.x,f),y:Math.min(p.y,m)},size:{width:Math.abs(f-p.x),height:Math.abs(m-p.y)}},c?.(h)},onPointerUp:(g,f)=>{var m;h&&(Math.max(h.size.width,h.size.height)*a>s?d?.(h):u?.()),p=null,h=null,c?.(null),(m=f.releasePointerCapture)==null||m.call(f)},onPointerCancel:(g,f)=>{var m;p=null,h=null,c?.(null),(m=f.releasePointerCapture)==null||m.call(f)}}})({pageSize:n.size,scale:t.scale,onPreview:t.callback.onPreview,onCommit:i=>{var r,a;this.zoomToArea(t.pageIndex,i),(a=(r=t.callback).onCommit)==null||a.call(r,i)},onSmallDrag:()=>{var i,r;this.zoomIn(),(r=(i=t.callback).onSmallDrag)==null||r.call(i)}});return this.interactionManager.registerHandlers({modeId:"marqueeZoom",handlers:o,pageIndex:t.pageIndex})}};ol.id="zoom";let il=ol;const Ld={manifest:Nd,create:(t,e)=>new il(Rt,t,e),reducer:(t=Zi,e)=>{switch(e.type){case el:return{...t,zoomLevel:e.payload.zoomLevel,currentZoomLevel:e.payload.currentZoomLevel};case nl:return{...t,zoomLevel:e.payload.zoomLevel};default:return t}},initialState:Zi},Zo=()=>bt(il.id);function Dd({element:t,viewportProvides:e,zoomProvides:n}){if(typeof window>"u")return()=>{};let o,i=0,r={x:0,y:0};const a=()=>{t.style.transform="none",t.style.transformOrigin="0 0"},s=u=>{var p;i=n.getState().currentZoomLevel;const h=e.getBoundingRect();r={x:u.center.x-h.origin.x,y:u.center.y-h.origin.y};const g=t.getBoundingClientRect();t.style.transformOrigin=`${u.center.x-g.left}px ${u.center.y-g.top}px`,(p=u.srcEvent)!=null&&p.cancelable&&(u.srcEvent.preventDefault(),u.srcEvent.stopPropagation())},c=u=>{var p,h;h=u.scale,t.style.transform=`scale(${h})`,(p=u.srcEvent)!=null&&p.cancelable&&(u.srcEvent.preventDefault(),u.srcEvent.stopPropagation())},d=u=>{const p=(u.scale-1)*i;n.requestZoomBy(p,{vx:r.x,vy:r.y}),a(),i=0};return(async()=>{try{const u=(await no(()=>import("./hammer-e1aXHboh-6cda5c0f-CdNaDHdA.js"),[]).then((h=>h.h))).default,p=(()=>{const h="ontouchstart"in window||navigator.maxTouchPoints>0;return h&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent)?u.TouchInput:h?u.TouchMouseInput:u.MouseInput})();o=new u(t,{touchAction:"pan-x pan-y",inputClass:p}),o.get("pinch").set({enable:!0,pointers:2,threshold:.1}),o.on("pinchstart",s),o.on("pinchmove",c),o.on("pinchend",d)}catch(u){console.warn("Failed to load HammerJS:",u)}})(),()=>{o?.destroy(),a()}}function Od({children:t,style:e,...n}){const{elementRef:o}=(function(){const{provides:i}=bt("viewport"),{provides:r}=Zo(),a=Z(null);return E((()=>{const s=a.current;if(s&&i&&r)return Dd({element:s,viewportProvides:i,zoomProvides:r})}),[i,r]),{elementRef:a}})();return S("div",{ref:o,...n,style:{...e,display:"block",width:"fit-content",overflow:"visible",boxSizing:"border-box",margin:"0px auto"},children:t})}const Bd=({pageIndex:t,scale:e,className:n,stroke:o="rgba(33,150,243,0.8)",fill:i="rgba(33,150,243,0.15)"})=>{const{provides:r}=Zo(),[a,s]=D(null);return E((()=>{if(r)return r.registerMarqueeOnPage({pageIndex:t,scale:e,callback:{onPreview:s}})}),[r,t,e]),a?S("div",{style:{position:"absolute",pointerEvents:"none",left:a.origin.x*e,top:a.origin.y*e,width:a.size.width*e,height:a.size.height*e,border:`1px solid ${o}`,background:i,boxSizing:"border-box"},className:n}):null};var Hd={download:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),l("path",{d:"M7 11l5 5l5 -5"}),l("path",{d:"M12 4l0 12"}))},menu:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M4 8l16 0"}),l("path",{d:"M4 16l16 0"}))},fullscreen:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2"}),l("path",{d:"M4 16v2a2 2 0 0 0 2 2h2"}),l("path",{d:"M16 4h2a2 2 0 0 1 2 2v2"}),l("path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2"}))},fullscreenExit:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M4 8v-2c0 -.551 .223 -1.05 .584 -1.412"}),l("path",{d:"M4 16v2a2 2 0 0 0 2 2h2"}),l("path",{d:"M16 4h2a2 2 0 0 1 2 2v2"}),l("path",{d:"M16 20h2c.545 0 1.04 -.218 1.4 -.572"}),l("path",{d:"M3 3l18 18"}))},save:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}),l("path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),l("path",{d:"M14 4l0 4l-6 0l0 -4"}))},print:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M17 17h2a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-14a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h2"}),l("path",{d:"M17 9v-4a2 2 0 0 0 -2 -2h-6a2 2 0 0 0 -2 2v4"}),l("path",{d:"M7 13m0 2a2 2 0 0 1 2 -2h6a2 2 0 0 1 2 2v4a2 2 0 0 1 -2 2h-6a2 2 0 0 1 -2 -2z"}))},settings:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}),l("path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"}))},viewSettings:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),l("path",{d:"M12 10.5v1.5"}),l("path",{d:"M12 16v1.5"}),l("path",{d:"M15.031 12.25l-1.299 .75"}),l("path",{d:"M10.268 15l-1.3 .75"}),l("path",{d:"M15 15.803l-1.285 -.773"}),l("path",{d:"M10.285 12.97l-1.285 -.773"}),l("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),l("path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"}))},rotateClockwise:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M4.05 11a8 8 0 1 1 .5 4m-.5 5v-5h5"}))},rotateCounterClockwise:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M19.95 11a8 8 0 1 0 -.5 4m.5 5v-5h-5"}))},singlePage:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M5 3m0 1a1 1 0 0 1 1 -1h12a1 1 0 0 1 1 1v16a1 1 0 0 1 -1 1h-12a1 1 0 0 1 -1 -1z"}))},doublePage:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M3 3m0 1a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v16a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1zm9 -1v18"}))},zoomIn:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}),l("path",{d:"M9 12h6"}),l("path",{d:"M12 9v6"}))},zoomOut:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),l("path",{d:"M9 12l6 0"}))},fitToWidth:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M4 12v-6a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v6"}),l("path",{d:"M10 18h-7"}),l("path",{d:"M21 18h-7"}),l("path",{d:"M6 15l-3 3l3 3"}),l("path",{d:"M18 15l3 3l-3 3"}))},fitToPage:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M12 20h-6a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h6"}),l("path",{d:"M18 14v7"}),l("path",{d:"M18 3v7"}),l("path",{d:"M15 18l3 3l3 -3"}),l("path",{d:"M15 6l3 -3l3 3"}))},chevronRight:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M9 6l6 6l-6 6"}))},chevronLeft:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M15 6l-6 6l6 6"}))},chevronDown:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M6 9l6 6l6 -6"}))},search:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"}),l("path",{d:"M21 21l-6 -6"}))},comment:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M12 11v.01"}),l("path",{d:"M8 11v.01"}),l("path",{d:"M16 11v.01"}),l("path",{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3z"}))},sidebar:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M4 18v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"}),l("path",{d:"M14 18v-12a2 2 0 0 0 -2 -2h-6a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h6a2 2 0 0 0 2 -2z"}))},dots:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),l("path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),l("path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}))},vertical:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M8 7l4 -4l4 4"}),l("path",{d:"M8 17l4 4l4 -4"}),l("path",{d:"M12 3l0 18"}))},horizontal:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M7 8l-4 4l4 4"}),l("path",{d:"M17 8l4 4l-4 4"}),l("path",{d:"M3 12l18 0"}))},book:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),l("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),l("path",{d:"M3 6l0 13"}),l("path",{d:"M12 6l0 13"}),l("path",{d:"M21 6l0 13"}))},book2:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M19 4v16h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12z"}),l("path",{d:"M19 16h-12a2 2 0 0 0 -2 2"}),l("path",{d:"M9 8h6"}))},squares:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M8 10a2 2 0 0 1 2 -2h9a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-9a2 2 0 0 1 -2 -2z"}),l("path",{d:"M16 8v-3a2 2 0 0 0 -2 -2h-9a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h3"}))},listTree:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M9 6h11"}),l("path",{d:"M12 12h8"}),l("path",{d:"M15 18h5"}),l("path",{d:"M5 6v.01"}),l("path",{d:"M8 12v.01"}),l("path",{d:"M11 18v.01"}))},paperclip:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M15 7l-6.5 6.5a1.5 1.5 0 0 0 3 3l6.5 -6.5a3 3 0 0 0 -6 -6l-6.5 6.5a4.5 4.5 0 0 0 9 9l6.5 -6.5"}))},copy:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z"}),l("path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1"}))},underline:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor,a=r===void 0?"currentColor":r;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M4 20h16",stroke:a}),l("path",{d:"M8 16v-8a4 4 0 1 1 8 0v8",stroke:"#000000"}),l("path",{d:"M8 10h8",stroke:"#000000"}))},squiggly:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor,a=r===void 0?"currentColor":r;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M8 16v-8a4 4 0 1 1 8 0v8",stroke:"#000000"}),l("path",{d:"M8 10h8",stroke:"#000000"}),l("path",{d:"M4 20c1.5 -1.5 3.5 -1.5 5 0s3.5 1.5 5 0 3.5 -1.5 5 0",stroke:a}))},strikethrough:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor,a=r===void 0?"currentColor":r;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M8 16v-8a4 4 0 1 1 8 0v8",stroke:"#000000"}),l("path",{d:"M4 10h16",stroke:a}))},highlight:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor,a=r===void 0?"currentColor":r;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("rect",{x:"2",y:"6",width:"20",height:"16",rx:"2",fill:a,stroke:"none"}),l("path",{d:"M8 16v-8a4 4 0 1 1 8 0v8",stroke:"#000000"}),l("path",{d:"M8 10h8",stroke:"#000000"}))},palette:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M12 21a9 9 0 0 1 0 -18c4.97 0 9 3.582 9 8c0 1.06 -.474 2.078 -1.318 2.828c-.844 .75 -1.989 1.172 -3.182 1.172h-2.5a2 2 0 0 0 -1 3.75a1.3 1.3 0 0 1 -1 2.25"}),l("path",{d:"M8.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),l("path",{d:"M12.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),l("path",{d:"M16.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}))},x:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M18 6l-12 12"}),l("path",{d:"M6 6l12 12"}))},fileImport:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),l("path",{d:"M5 13v-8a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2h-5.5m-9.5 -2h7m-3 -3l3 3l-3 3"}))},hand:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),l("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),l("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),l("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"}))},zoomInArea:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M15 13v4"}),l("path",{d:"M13 15h4"}),l("path",{d:"M15 15m-5 0a5 5 0 1 0 10 0a5 5 0 1 0 -10 0"}),l("path",{d:"M22 22l-3 -3"}),l("path",{d:"M6 18h-1a2 2 0 0 1 -2 -2v-1"}),l("path",{d:"M3 11v-1"}),l("path",{d:"M3 6v-1a2 2 0 0 1 2 -2h1"}),l("path",{d:"M10 3h1"}),l("path",{d:"M15 3h1a2 2 0 0 1 2 2v1"}))},screenshot:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M7 19a2 2 0 0 1 -2 -2"}),l("path",{d:"M5 13v-2"}),l("path",{d:"M5 7a2 2 0 0 1 2 -2"}),l("path",{d:"M11 5h2"}),l("path",{d:"M17 5a2 2 0 0 1 2 2"}),l("path",{d:"M19 11v2"}),l("path",{d:"M19 17v4"}),l("path",{d:"M21 19h-4"}),l("path",{d:"M13 19h-2"}))},arrowBackUp:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M9 14l-4 -4l4 -4"}),l("path",{d:"M5 10h11a4 4 0 1 1 0 8h-1"}))},arrowForwardUp:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M15 14l4 -4l-4 -4"}),l("path",{d:"M19 10h-11a4 4 0 1 0 0 8h1"}))},trash:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M4 7l16 0"}),l("path",{d:"M10 11l0 6"}),l("path",{d:"M14 11l0 6"}),l("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),l("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"}))},deviceFloppy:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}),l("path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),l("path",{d:"M14 4l0 4l-6 0l0 -4"}))},pencilMarker:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor,a=r===void 0?"currentColor":r;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":i,class:t.className,role:"img","aria-label":t.title},l("g",{transform:"rotate(47.565 12.1875 10.75)"},l("path",{stroke:"#000000",d:"m14.18752,16.75l0,-12c0,-1.1 -0.9,-2 -2,-2s-2,0.9 -2,2l0,12l2,2l2,-2z"}),l("path",{stroke:"#000000",d:"m10.18752,6.75l4,0"})),l("path",{stroke:a,d:"m19.37499,20.125c0.56874,0.0625 -4.04999,-0.5625 -6.41249,-0.4375c-2.3625,0.125 -4.75833,1.22916 -6.85624,1.625c-1.76458,0.6875 -3.40416,-0.9375 -1.98125,-2.49999"}))},circle:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor,a=r===void 0?"currentColor":r,s=t.secondaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:s===void 0?"none":s,stroke:a,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}))},square:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor,a=r===void 0?"currentColor":r,s=t.secondaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:s===void 0?"none":s,stroke:a,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}))},line:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2.2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M20 4l-16 16"}))},lineArrow:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2.2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M20 4l-16 16"}),l("path",{d:"M16 3h5v5"}))},polygon:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor,a=r===void 0?"currentColor":r,s=t.secondaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:s===void 0?"none":s,stroke:a,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M13.163 2.168l8.021 5.828c.694 .504 .984 1.397 .719 2.212l-3.064 9.43a1.978 1.978 0 0 1 -1.881 1.367h-9.916a1.978 1.978 0 0 1 -1.881 -1.367l-3.064 -9.43a1.978 1.978 0 0 1 .719 -2.212l8.021 -5.828a1.978 1.978 0 0 1 2.326 0z"}))},zigzag:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{d:"M12 2.4L21.36 11.76L2.64 12.24L12 21.6"}))},text:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M6.5 15.5m-3.5 0a3.5 3.5 0 1 0 7 0a3.5 3.5 0 1 0 -7 0"}),l("path",{d:"M14 19v-10.5a3.5 3.5 0 0 1 7 0v10.5"}),l("path",{d:"M14 13h7"}),l("path",{d:"M10 12v7"}))},italic:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M11 5l6 0"}),l("path",{d:"M7 19l6 0"}),l("path",{d:"M14 5l-4 14"}))},bold:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z"}),l("path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7"}))},alignLeft:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M4 6l16 0"}),l("path",{d:"M4 12l10 0"}),l("path",{d:"M4 18l14 0"}))},alignCenter:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M4 6l16 0"}),l("path",{d:"M8 12l8 0"}),l("path",{d:"M6 18l12 0"}))},alignRight:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M4 6l16 0"}),l("path",{d:"M10 12l10 0"}),l("path",{d:"M6 18l14 0"}))},alignTop:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}),l("path",{d:"M11 13h2"}),l("path",{d:"M9 10h6"}),l("path",{d:"M10 7h4"}))},alignMiddle:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}),l("path",{d:"M11 15h2"}),l("path",{d:"M9 12h6"}),l("path",{d:"M10 9h4"}))},alignBottom:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}),l("path",{d:"M11 17h2"}),l("path",{d:"M9 14h6"}),l("path",{d:"M10 11h4"}))},photo:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M15 8h.01"}),l("path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z"}),l("path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5"}),l("path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3"}))},pointer:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M7.904 17.563a1.2 1.2 0 0 0 2.228 .308l2.09 -3.093l4.907 4.907a1.067 1.067 0 0 0 1.509 0l1.047 -1.047a1.067 1.067 0 0 0 0 -1.509l-4.907 -4.907l3.113 -2.09a1.2 1.2 0 0 0 -.309 -2.228l-13.582 -3.904l3.904 13.563z"}))},redact:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M7 4h10"}),l("path",{d:"M12 4v8"}),l("defs",null,l("clipPath",{id:"stripeClip"},l("rect",{x:"2",y:"12",width:"20",height:"10",rx:"2"}))),l("rect",{x:"2",y:"12",width:"20",height:"10",rx:"2",fill:"none"}),l("g",{"clip-path":"url(#stripeClip)"},l("path",{d:"M-7 24l12 -12"}),l("path",{d:"M-3 24l12 -12"}),l("path",{d:"M1 24l12 -12"}),l("path",{d:"M5 24l12 -12"}),l("path",{d:"M9 24l12 -12"}),l("path",{d:"M13 24l12 -12"}),l("path",{d:"M17 24l12 -12"}),l("path",{d:"M21 24l12 -12"}),l("path",{d:"M25 24l12 -12"})))},redactArea:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M6 20h-1a2 2 0 0 1 -2 -2v-1"}),l("path",{d:"M3 13v-3"}),l("path",{d:"M3 6v-1a2 2 0 0 1 2 -2h1"}),l("path",{d:"M10 3h3"}),l("path",{d:"M17 3h1a2 2 0 0 1 2 2v1"}),l("defs",null,l("clipPath",{id:"redactClip"},l("rect",{x:"10",y:"10",width:"12",height:"12",rx:"2"}))),l("rect",{x:"10",y:"10",width:"12",height:"12",rx:"2",fill:"none"}),l("g",{"clip-path":"url(#redactClip)"},l("path",{d:"M-2 24l14 -14"}),l("path",{d:"M2 24l14 -14"}),l("path",{d:"M6 24l14 -14"}),l("path",{d:"M10 24l15 -15"}),l("path",{d:"M14 24l15 -15"}),l("path",{d:"M18 24l15 -15"})))},check:function(t){var e=t.size,n=e===void 0?24:e,o=t.strokeWidth,i=o===void 0?2:o,r=t.primaryColor;return l("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r===void 0?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:t.className,role:"img","aria-label":t.title},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M5 12l5 5l10 -10"}))}},jd=["icon","title","size","strokeWidth","primaryColor","secondaryColor","className"];function nt(t){var e=t.icon,n=t.title,o=t.size,i=o===void 0?24:o,r=t.strokeWidth,a=r===void 0?2:r,s=t.primaryColor,c=s===void 0?"currentColor":s,d=t.secondaryColor,u=t.className,p=ue(t,jd),h=Hd[e];return h?l(h,C({size:i,strokeWidth:a,primaryColor:c,secondaryColor:d,className:u,title:n},p)):(console.warn("Icon not found: ".concat(e)),null)}const rl="START_SEARCH_SESSION",al="STOP_SEARCH_SESSION",ll="SET_SEARCH_FLAGS",sl="SET_SHOW_ALL_RESULTS",cl="START_SEARCH",dl="SET_SEARCH_RESULTS",ul="APPEND_SEARCH_RESULTS",hl="SET_ACTIVE_RESULT_INDEX";function Vi(t){return{type:ll,payload:t}}function Yi(t){return{type:sl,payload:t}}function Zn(t,e,n){return{type:dl,payload:{results:t,total:e,activeResultIndex:n}}}function Xi(t){return{type:hl,payload:t}}const pl=class extends ft{constructor(t,e){super(t,e),this.searchStop$=J(),this.searchStart$=J(),this.searchResult$=J(),this.searchActiveResultChange$=J(),this.searchResultState$=J(),this.searchState$=J(),this.loader=this.registry.getPlugin("loader").provides(),this.loader.onDocumentLoaded(this.handleDocumentLoaded.bind(this)),this.loader.onLoaderEvent(this.handleLoaderEvent.bind(this))}handleDocumentLoaded(t){this.currentDocument=t,this.state.active&&this.startSearchSession()}handleLoaderEvent(t){(t.type==="error"||t.type==="start"&&this.currentDocument)&&(this.state.active&&this.stopSearchSession(),this.currentDocument=void 0)}async initialize(t){this.dispatch(Vi(t.flags||[])),this.dispatch(Yi(t.showAllResults===void 0||t.showAllResults))}onStoreUpdated(t,e){this.searchResultState$.emit({results:e.results,activeResultIndex:e.activeResultIndex,showAllResults:e.showAllResults,active:e.active}),this.searchState$.emit(e)}buildCapability(){return{startSearch:this.startSearchSession.bind(this),stopSearch:this.stopSearchSession.bind(this),searchAllPages:this.searchAllPages.bind(this),nextResult:this.nextResult.bind(this),previousResult:this.previousResult.bind(this),goToResult:this.goToResult.bind(this),setShowAllResults:t=>this.dispatch(Yi(t)),getShowAllResults:()=>this.state.showAllResults,onSearchResult:this.searchResult$.on,onSearchStart:this.searchStart$.on,onSearchStop:this.searchStop$.on,onActiveResultChange:this.searchActiveResultChange$.on,onSearchResultStateChange:this.searchResultState$.on,onStateChange:this.searchState$.on,getFlags:()=>this.state.flags,setFlags:t=>this.setFlags(t),getState:()=>this.state}}setFlags(t){this.dispatch(Vi(t)),this.state.active&&this.searchAllPages(this.state.query,!0)}notifySearchStart(){this.searchStart$.emit()}notifySearchStop(){this.searchStop$.emit()}notifyActiveResultChange(t){this.searchActiveResultChange$.emit(t)}startSearchSession(){this.currentDocument&&(this.dispatch({type:rl}),this.notifySearchStart())}stopSearchSession(){var t,e;if(this.currentDocument&&this.state.active){try{(e=(t=this.currentTask)==null?void 0:t.abort)==null||e.call(t,{type:"abort",code:"cancelled",message:"search stopped"})}catch{}this.currentTask=void 0,this.dispatch({type:al}),this.notifySearchStop()}}searchAllPages(t,e=!1){var n,o;const i=t.trim();if(this.state.query===i&&!e)return dt.resolve({results:this.state.results,total:this.state.total});if(this.currentTask){try{(o=(n=this.currentTask).abort)==null||o.call(n,{type:"abort",code:"superseded",message:"new search"})}catch{}this.currentTask=void 0}if(this.dispatch({type:cl,payload:i}),!i||!this.currentDocument)return this.dispatch(Zn([],0,-1)),dt.resolve({results:[],total:0});this.state.active||this.startSearchSession();const r=this.currentTask=this.engine.searchAllPages(this.currentDocument,i,{flags:this.state.flags});return r.onProgress((a=>{var s,c;(s=a?.results)!=null&&s.length&&(this.dispatch((c=a.results,{type:ul,payload:{results:c}})),this.state.activeResultIndex===-1&&(this.dispatch(Xi(0)),this.notifyActiveResultChange(0)))})),r.wait((a=>{this.currentTask=void 0;const s=a.total>0?0:-1;this.dispatch(Zn(a.results,a.total,s)),this.searchResult$.emit(a),a.total>0&&this.notifyActiveResultChange(0)}),(a=>{this.currentTask=void 0,console.error("Error during search:",a),this.dispatch(Zn([],0,-1))})),r}nextResult(){if(this.state.results.length===0)return-1;const t=this.state.activeResultIndex>=this.state.results.length-1?0:this.state.activeResultIndex+1;return this.goToResult(t)}previousResult(){if(this.state.results.length===0)return-1;const t=this.state.activeResultIndex<=0?this.state.results.length-1:this.state.activeResultIndex-1;return this.goToResult(t)}goToResult(t){return this.state.results.length===0||t<0||t>=this.state.results.length?-1:(this.dispatch(Xi(t)),this.notifyActiveResultChange(t),t)}async destroy(){this.state.active&&this.currentDocument&&this.stopSearchSession(),this.searchResult$.clear(),this.searchStart$.clear(),this.searchStop$.clear(),this.searchActiveResultChange$.clear(),this.searchResultState$.clear(),this.searchState$.clear()}};pl.id="search";let gl=pl;const Ki="search",Qi={flags:[],results:[],total:0,activeResultIndex:-1,showAllResults:!0,query:"",loading:!1,active:!1},$d={manifest:{id:Ki,name:"Search Plugin",version:"1.0.0",provides:["search"],requires:["loader"],optional:[],defaultConfig:{enabled:!0,flags:[]}},create:t=>new gl(Ki,t),reducer:(t=Qi,e)=>{switch(e.type){case rl:return{...t,active:!0};case al:return{...t,results:[],total:0,activeResultIndex:-1,query:"",loading:!1,active:!1};case ll:return{...t,flags:e.payload};case sl:return{...t,showAllResults:e.payload};case cl:return{...t,loading:!0,query:e.payload,results:[],total:0,activeResultIndex:-1};case ul:{const n=[...t.results,...e.payload.results],o=t.activeResultIndex===-1&&n.length>0?0:t.activeResultIndex;return{...t,results:n,total:n.length,activeResultIndex:o,loading:!0}}case dl:return{...t,results:e.payload.results,total:e.payload.total,activeResultIndex:e.payload.activeResultIndex,loading:!1};case hl:return{...t,activeResultIndex:e.payload};default:return t}},initialState:Qi},fl=()=>bt(gl.id);function Fd({pageIndex:t,scale:e,style:n,highlightColor:o="#FFFF00",activeHighlightColor:i="#FFBF00",...r}){const{provides:a}=fl(),[s,c]=D(null);return E((()=>a?.onSearchResultStateChange((d=>{c(d)}))),[a]),s?S("div",{style:{...n},...r,children:s.results.map(((d,u)=>({result:d,originalIndex:u}))).filter((({result:d})=>d.pageIndex===t)).map((({result:d,originalIndex:u})=>d.rects.map(((p,h)=>S("div",{style:{position:"absolute",top:p.origin.y*e,left:p.origin.x*e,width:p.size.width*e,height:p.size.height*e,backgroundColor:u===s.activeResultIndex?i:o,mixBlendMode:"multiply",transform:"scale(1.02)",transformOrigin:"center",transition:"opacity .3s ease-in-out",opacity:1}},`${u}-${h}`)))))}):null}const ml="thumbnail",Ud={id:ml,name:"Thumbnail Plugin",version:"1.0.0",provides:["thumbnail"],requires:["render"],optional:["scroll"],defaultConfig:{enabled:!0,width:150,gap:10,buffer:3,labelHeight:16,autoScroll:!0,scrollBehavior:"smooth",imagePadding:0,paddingY:0}},vl=class extends ft{constructor(t,e,n){var o;super(t,e),this.cfg=n,this.scrollCapability=null,this.thumbs=[],this.window=null,this.viewportH=0,this.scrollY=0,this.emitWindow=J(),this.refreshPages$=Nt(),this.taskCache=new Map,this.canAutoScroll=!0,this.scrollTo$=J(),this.renderCapability=this.registry.getPlugin("render").provides(),this.scrollCapability=((o=this.registry.getPlugin("scroll"))==null?void 0:o.provides())??null,this.coreStore.onAction(he,((i,r)=>{this.taskCache.clear(),this.setWindowState(r)})),this.coreStore.onAction(Ke,(i=>{this.refreshPages$.emit(i.payload);for(const r of i.payload)this.taskCache.delete(r)})),this.scrollCapability&&this.cfg.autoScroll!==!1&&(this.scrollCapability.onPageChangeState((({isChanging:i,targetPage:r})=>{this.canAutoScroll=!i,i||this.scrollToThumb(r-1)})),this.scrollCapability.onPageChange((({pageNumber:i})=>{this.canAutoScroll&&this.scrollToThumb(i-1)})))}async initialize(){}onRefreshPages(t){return this.refreshPages$.on(t)}onWindow(t){return this.emitWindow.on(t)}onScrollTo(t){return this.scrollTo$.on(t)}setWindowState(t){const e=t.core;if(!e.document)return;const n=this.cfg.width??120,o=this.cfg.labelHeight??16,i=this.cfg.gap??8,r=this.cfg.imagePadding??0,a=this.cfg.paddingY??0,s=Math.max(1,n-2*r);let c=a;this.thumbs=e.document.pages.map((d=>{const u=d.size.height/d.size.width,p=Math.round(s*u),h=r+p+r+o,g={pageIndex:d.index,width:s,height:p,wrapperHeight:h,top:c,labelHeight:o,padding:r};return c+=h+i,g})),this.window={start:-1,end:-1,items:[],totalHeight:c-i+a},this.viewportH>0?this.updateWindow(this.scrollY,this.viewportH):this.emitWindow.emit(this.window)}buildCapability(){return{renderThumb:(t,e)=>this.renderThumb(t,e),scrollToThumb:t=>this.scrollToThumb(t)}}updateWindow(t,e){const n=this.cfg.buffer??3;if(this.scrollY=t,this.viewportH=e,!this.window||this.thumbs.length===0)return;let o=0,i=this.thumbs.length-1,r=0;for(;o<=i;){const d=o+i>>1,u=this.thumbs[d];u.top+u.wrapperHeight<t?o=d+1:(r=d,i=d-1)}let a=r;const s=t+e;for(;a+1<this.thumbs.length&&this.thumbs[a].top<s;)a++;a=Math.min(this.thumbs.length-1,a+n);const c=Math.max(0,r-n);c===this.window.start&&a===this.window.end||(this.window={start:c,end:a,items:this.thumbs.slice(c,a+1),totalHeight:this.window.totalHeight},this.emitWindow.emit(this.window))}scrollToThumb(t){if(!this.window)return;const e=this.thumbs[t];if(!e)return;const n=this.cfg.scrollBehavior??"smooth",o=this.cfg.paddingY??0;if(this.viewportH<=0){const c=Math.max(o,e.top-e.wrapperHeight);return void this.scrollTo$.emit({top:c,behavior:n})}const i=e.top,r=e.top+e.wrapperHeight,a=i<this.scrollY+8+o,s=r>this.scrollY+this.viewportH-8;a?this.scrollTo$.emit({top:Math.max(0,i-o),behavior:n}):s&&this.scrollTo$.emit({top:Math.max(0,r-this.viewportH+o),behavior:n})}renderThumb(t,e){if(this.taskCache.has(t))return this.taskCache.get(t);const n=this.coreState.core.document.pages[t],o=this.cfg.width??120,i=this.cfg.imagePadding??0,r=Math.max(1,o-2*i)/n.size.width,a=this.renderCapability.renderPageRect({pageIndex:t,rect:{origin:{x:0,y:0},size:n.size},options:{scaleFactor:r,dpr:e}});return this.taskCache.set(t,a),a.wait(ht,(()=>this.taskCache.delete(t))),a}};vl.id="thumbnail";let Vo=vl;const Wd={manifest:Ud,create:(t,e)=>new Vo(ml,t,e),reducer:()=>{},initialState:{}},yl=()=>$t(Vo.id);function qd({style:t,scrollOptions:e,selectedPage:n,...o}){const{plugin:i}=yl(),r=Z(null),[a,s]=D(null);E((()=>i?.onWindow(s)),[i]),E((()=>{const d=r.current;if(!d)return;const u=()=>i?.updateWindow(d.scrollTop,d.clientHeight);return d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}),[i]),E((()=>{const d=r.current;if(!d||!i)return;const u=new ResizeObserver((()=>{i.updateWindow(d.scrollTop,d.clientHeight)}));return u.observe(d),()=>u.disconnect()}),[i]),E((()=>{const d=r.current;d&&i&&i.updateWindow(d.scrollTop,d.clientHeight)}),[a,i]),E((()=>{const d=r.current;if(d&&i&&a)return i.onScrollTo((({top:u,behavior:p})=>{d.scrollTo({top:u,behavior:p})}))}),[i,!!a]);const c=i?.cfg.paddingY??0;return S("div",{ref:r,style:{overflowY:"auto",position:"relative",paddingTop:c,paddingBottom:c,height:"100%",...t},...o,children:S("div",{style:{height:a?.totalHeight??0,position:"relative"},children:a?.items.map((d=>o.children(d)))})})}function Gd({meta:t,style:e,...n}){const{provides:o}=bt(Vo.id),{plugin:i}=yl(),[r,a]=D(),s=Z(null),[c,d]=D(0);return E((()=>{if(i)return i.onRefreshPages((u=>{u.includes(t.pageIndex)&&d((p=>p+1))}))}),[i]),E((()=>{const u=o?.renderThumb(t.pageIndex,window.devicePixelRatio);return u?.wait((p=>{const h=URL.createObjectURL(p);s.current=h,a(h)}),ht),()=>{s.current?(URL.revokeObjectURL(s.current),s.current=null):u?.abort({code:lt.Cancelled,message:"canceled render task"})}}),[o,t.pageIndex,c]),r?S("img",{src:r,onLoad:()=>{s.current&&(URL.revokeObjectURL(s.current),s.current=null)},style:e,...n}):null}function qt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:300,n=U(D(t),2),o=n[0],i=n[1];return E((function(){var r=window.setTimeout((function(){return i(t)}),e);return function(){return clearTimeout(r)}}),[t,e]),o}var Ji=function(t){var e=t.label,n=t.checked,o=t.onChange;return l("label",{className:"inline-flex cursor-pointer select-none items-center gap-2 text-xs font-medium text-gray-700"},l("input",{type:"checkbox",checked:n,onChange:function(i){return o(i.target.checked)},className:"peer h-4 w-4 shrink-0 appearance-none rounded-[3px] border border-gray-300 bg-white transition-all checked:border-blue-600 checked:bg-blue-600"}),l("svg",{viewBox:"0 0 24 24",className:"/* fine-tune centering */ pointer-events-none absolute h-3.5 w-3.5 translate-x-[1px] translate-y-[1px] text-white opacity-0 peer-checked:opacity-100",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"},l("polyline",{points:"20 6 9 17 4 12"})),e)};const oe="selection",Zd={id:oe,name:"Selection Plugin",version:"1.0.0",provides:["selection"],requires:["interaction-manager"],optional:[],defaultConfig:{enabled:!0}},bl="CACHE_PAGE_GEOMETRY",wl="SET_SELECTION",xl="START_SELECTION",kl="END_SELECTION",Cl="CLEAR_SELECTION",Sl="SET_RECTS",Ml="SET_SLICES",Pl="RESET";function gn(t,e){return t.rects[e]??[]}function Oe(t,e){return na(gn(t,e))}function tr(t,e){for(const n of t.runs){if(!(e.y>=n.rect.y&&e.y<=n.rect.y+n.rect.height&&e.x>=n.rect.x&&e.x<=n.rect.x+n.rect.width))continue;const o=n.glyphs.findIndex((i=>e.x>=i.x&&e.x<=i.x+i.width&&e.y>=i.y&&e.y<=i.y+i.height));if(o!==-1)return n.charStart+o}return-1}function Vd(t,e,n){if(!t||!e||n<t.start.page||n>t.end.page)return null;const o=n===t.start.page?t.start.index:0,i=e.runs[e.runs.length-1],r=i.charStart+i.glyphs.length-1;return{from:o,to:n===t.end.page?t.end.index:r}}function Yd(t,e,n,o=!0){const i=[];for(const r of t.runs){const a=r.charStart,s=a+r.glyphs.length-1;if(s<e||a>n)continue;const c=Math.max(e,a)-a,d=Math.min(n,s)-a;let u=1/0,p=-1/0,h=1/0,g=-1/0,f=0;for(let m=c;m<=d;m++){const v=r.glyphs[m];v.flags!==2&&(u=Math.min(u,v.x),p=Math.max(p,v.x+v.width),h=Math.min(h,v.y),g=Math.max(g,v.y+v.height),f++)}u!==1/0&&f>0&&i.push({rect:{origin:{x:u,y:h},size:{width:p-u,height:g-h}},charCount:f})}return o?(function(r){const a=[];let s=null,c=null;for(const d of r)s&&c?Kd(s,d)?c=Il(c,d.rect):(a.push(c),c=d.rect):c=d.rect,s=d;return c&&!wo(c)&&a.push(c),a})(i):i.map((r=>r.rect))}function Il(t,e){const n=Math.min(t.origin.x,e.origin.x),o=Math.min(t.origin.y,e.origin.y);return{origin:{x:n,y:o},size:{width:Math.max(t.origin.x+t.size.width,e.origin.x+e.size.width)-n,height:Math.max(t.origin.y+t.size.height,e.origin.y+e.size.height)-o}}}function wo(t){return t.size.width<=0||t.size.height<=0}function Xd(t,e){if(wo(t)||wo(e))return 0;const n=Il(t,e);return n.size.height===t.size.height||n.size.height===e.size.height?1:(function(i,r){const a=Math.max(i.origin.x,r.origin.x),s=Math.max(i.origin.y,r.origin.y),c=Math.min(i.origin.x+i.size.width,r.origin.x+r.size.width),d=Math.min(i.origin.y+i.size.height,r.origin.y+r.size.height);return{origin:{x:a,y:s},size:{width:Math.max(0,c-a),height:Math.max(0,d-s)}}})(t,e).size.height/n.size.height}function Kd(t,e){const n=t.rect,o=e.rect;if(Xd(n,o)<.8)return!1;const i=1*n.size.width/t.charCount,r=1*o.size.width/e.charCount,a=n.origin.x-i,s=n.origin.x+n.size.width+i,c=o.origin.x-r;return a<o.origin.x+o.size.width+r&&s>c}const Tl=class extends ft{constructor(t,e){var n;super(t,e),this.enabledModes=new Set(["pointerMode"]),this.selecting=!1,this.pageCallbacks=new Map,this.selChange$=J(),this.textRetrieved$=J(),this.copyToClipboard$=Nt(),this.beginSelection$=Nt(),this.endSelection$=Nt(),this.interactionManagerCapability=(n=this.registry.getPlugin("interaction-manager"))==null?void 0:n.provides(),this.coreStore.onAction(he,(o=>{this.dispatch({type:Pl}),this.notifyAllPages()})),this.coreStore.onAction(Ke,(o=>{const i=o.payload.map((r=>this.getNewPageGeometryAndCache(r)));Pt.all(i).wait((()=>{o.payload.forEach((r=>{this.notifyPage(r)}))}),ht)}))}async initialize(){}async destroy(){this.selChange$.clear()}buildCapability(){return{getFormattedSelection:()=>(function(t){const e=[],n=Object.keys(t.rects).map(Number);for(const o of n){const i=t.rects[o]||[];if(i.length===0)continue;const r=Oe(t,o);r&&e.push({pageIndex:o,rect:r,segmentRects:i})}return e})(this.state),getFormattedSelectionForPage:t=>(function(e,n){const o=e.rects[n]||[];if(o.length===0)return null;const i=Oe(e,n);return i?{pageIndex:n,rect:i,segmentRects:o}:null})(this.state,t),getHighlightRectsForPage:t=>gn(this.state,t),getHighlightRects:()=>this.state.rects,getBoundingRectForPage:t=>Oe(this.state,t),getBoundingRects:()=>(function(t){const e=[],n=t.rects;for(const o in n){const i=Number(o),r=na(n[i]);r&&e.push({page:i,rect:r})}return e})(this.state),onCopyToClipboard:this.copyToClipboard$.on,onSelectionChange:this.selChange$.on,onTextRetrieved:this.textRetrieved$.on,onBeginSelection:this.beginSelection$.on,onEndSelection:this.endSelection$.on,clear:()=>this.clearSelection(),getSelectedText:()=>this.getSelectedText(),copyToClipboard:()=>this.copyToClipboard(),enableForMode:t=>this.enabledModes.add(t),isEnabledForMode:t=>this.enabledModes.has(t),getState:()=>this.state}}registerSelectionOnPage(t){if(!this.interactionManagerCapability)return this.logger.warn("SelectionPlugin","MissingDependency","Interaction manager plugin not loaded, text selection disabled"),()=>{};const{pageIndex:e,onRectsChange:n}=t;this.pageCallbacks.set(e,n);const o=this.getOrLoadGeometry(e);n({rects:gn(this.state,e),boundingRect:Oe(this.state,e)});const i={onPointerDown:(a,s,c)=>{if(!this.enabledModes.has(c))return;this.clearSelection();const d=this.state.geometry[e];if(d){const u=tr(d,a);u!==-1&&this.beginSelection(e,u)}},onPointerMove:(a,s,c)=>{var d,u;if(!this.enabledModes.has(c))return;const p=this.state.geometry[e];if(p){const h=tr(p,a);h!==-1?(d=this.interactionManagerCapability)==null||d.setCursor("selection-text","text",10):(u=this.interactionManagerCapability)==null||u.removeCursor("selection-text"),this.selecting&&h!==-1&&this.updateSelection(e,h)}},onPointerUp:(a,s,c)=>{this.enabledModes.has(c)&&this.endSelection()},onHandlerActiveEnd:a=>{this.enabledModes.has(a)&&this.clearSelection()}},r=this.interactionManagerCapability.registerAlways({scope:{type:"page",pageIndex:e},handlers:i});return()=>{r(),this.pageCallbacks.delete(e),o.abort({code:lt.Cancelled,message:"Cleanup"})}}notifyPage(t){var e;const n=this.pageCallbacks.get(t);n&&n(((e=this.interactionManagerCapability)==null?void 0:e.getActiveMode())==="pointerMode"?{rects:gn(this.state,t),boundingRect:Oe(this.state,t)}:{rects:[],boundingRect:null})}notifyAllPages(){this.pageCallbacks.forEach(((t,e)=>{this.notifyPage(e)}))}getNewPageGeometryAndCache(t){if(!this.coreState.core.document)return dt.reject({code:lt.NotFound,message:"Doc Not Found"});const e=this.coreState.core.document.pages.find((o=>o.index===t)),n=this.engine.getPageGeometry(this.coreState.core.document,e);return n.wait((o=>{this.dispatch(((i,r)=>({type:bl,payload:{page:i,geo:r}}))(t,o))}),ht),n}getOrLoadGeometry(t){const e=this.state.geometry[t];return e?dt.resolve(e):this.getNewPageGeometryAndCache(t)}beginSelection(t,e){this.selecting=!0,this.anchor={page:t,index:e},this.dispatch({type:xl}),this.beginSelection$.emit({page:t,index:e})}endSelection(){this.selecting=!1,this.anchor=void 0,this.dispatch({type:kl}),this.endSelection$.emit()}clearSelection(){this.selecting=!1,this.anchor=void 0,this.dispatch({type:Cl}),this.selChange$.emit(null),this.notifyAllPages()}updateSelection(t,e){if(!this.selecting||!this.anchor)return;const n=this.anchor,o=t>n.page||t===n.page&&e>=n.index,i={start:o?n:{page:t,index:e},end:o?{page:t,index:e}:n};this.dispatch({type:wl,payload:i}),this.updateRectsAndSlices(i),this.selChange$.emit(i);for(let r=i.start.page;r<=i.end.page;r++)this.notifyPage(r)}updateRectsAndSlices(t){const e={},n={};for(let o=t.start.page;o<=t.end.page;o++){const i=this.state.geometry[o],r=Vd(t,i,o);r&&(e[o]=Yd(i,r.from,r.to),n[o]={start:r.from,count:r.to-r.from+1})}this.dispatch((o=>({type:Sl,payload:o}))(e)),this.dispatch({type:Ml,payload:n})}getSelectedText(){if(!this.coreState.core.document||!this.state.selection)return dt.reject({code:lt.NotFound,message:"Doc Not Found or No Selection"});const t=this.state.selection,e=[];for(let o=t.start.page;o<=t.end.page;o++){const i=this.state.slices[o];i&&e.push({pageIndex:o,charIndex:i.start,charCount:i.count})}if(e.length===0)return dt.resolve([]);const n=this.engine.getTextSlices(this.coreState.core.document,e);return n.wait((o=>{this.textRetrieved$.emit(o)}),ht),n}copyToClipboard(){this.getSelectedText().wait((t=>{this.copyToClipboard$.emit(t.join(`
`))}),ht)}};Tl.id="selection";let Yo=Tl;const Vn={geometry:{},rects:{},slices:{},selection:null,active:!1,selecting:!1},zn=()=>bt(Yo.id);function Qd({pageIndex:t,scale:e,background:n="rgba(33,150,243)"}){const{plugin:o}=$t(Yo.id),[i,r]=D([]),[a,s]=D(null);return E((()=>{if(o)return o.registerSelectionOnPage({pageIndex:t,onRectsChange:({rects:c,boundingRect:d})=>{r(c),s(d)}})}),[o,t]),a?S("div",{style:{position:"absolute",left:a.origin.x*e,top:a.origin.y*e,width:a.size.width*e,height:a.size.height*e,mixBlendMode:"multiply",isolation:"isolate"},children:i.map(((c,d)=>S("div",{style:{position:"absolute",left:(c.origin.x-a.origin.x)*e,top:(c.origin.y-a.origin.y)*e,width:c.size.width*e,height:c.size.height*e,background:n,pointerEvents:"none"}},d)))}):null}const Jd=Le({manifest:Zd,create:t=>new Yo(oe,t),reducer:(t=Vn,e)=>{switch(e.type){case bl:{const{page:n,geo:o}=e.payload;return{...t,geometry:{...t.geometry,[n]:o}}}case wl:return{...t,selection:e.payload,active:!0};case xl:return{...t,selecting:!0,selection:null,rects:{}};case kl:return{...t,selecting:!1};case Cl:return{...t,selecting:!1,selection:null,rects:{},active:!1};case Sl:return{...t,rects:e.payload};case Ml:return{...t,slices:e.payload};case Pl:return Vn;default:return t}},initialState:Vn}).addUtility((function(){const{provides:t}=zn();return E((()=>{if(t)return t.onCopyToClipboard((e=>{navigator.clipboard.writeText(e)}))}),[t]),null})).build();function er(t,e,n,o,i,r){return r?t.origin.y+i>=n+o:t.origin.y+i+t.size.height+n+o<=e.scrollTop+e.clientHeight}var Al=function(t){if(!t)return"(no date)";try{return(t instanceof Date?t:new Date(t)).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}catch{return typeof t=="string"?t:"(no date)"}};function zl(t){var e=t.open,n=t.title,o=t.children,i=t.onClose,r=t.className,a=t.showCloseButton,s=a===void 0||a;t.maxWidth;var c=Z(null);return E((function(){if(e){var d=function(u){u.key==="Escape"&&i?.()};return document.addEventListener("keydown",d),function(){return document.removeEventListener("keydown",d)}}}),[e,i]),E((function(){return document.body.style.overflow=e?"hidden":"",function(){document.body.style.overflow=""}}),[e]),e?S("div",{ref:c,className:"fixed inset-0 z-50 bg-black/50 md:flex md:items-center md:justify-center",onClick:function(d){d.target===c.current&&i?.()},children:S("div",{className:"relative flex h-full w-full flex-col bg-white md:h-auto md:w-[28rem] md:max-w-[90vw] md:rounded-lg md:border md:border-gray-200 md:shadow-lg ".concat(r),onClick:function(d){return d.stopPropagation()},children:[(n||s)&&S("div",{className:"flex flex-shrink-0 items-center justify-between border-b border-gray-200 px-6 py-4",children:[n&&S("h2",{className:"text-lg font-semibold text-gray-900",children:n}),s&&S(wt,{onClick:i,className:"p-1 hover:bg-gray-100",children:S(nt,{icon:"x",className:"h-5 w-5"})})]}),S("div",{className:"flex-1 overflow-y-auto px-6 py-4 md:max-h-[80vh] md:flex-none",children:o})]})}):null}const Rl="print",tu={id:Rl,name:"Print Plugin",version:"1.0.0",provides:["print"],requires:[],optional:[],defaultConfig:{enabled:!0}},El=class extends ft{constructor(t,e,n){super(t,e),this.printReady$=Nt()}async initialize(t){}buildCapability(){return{print:this.print.bind(this)}}onPrintRequest(t){return this.printReady$.on(t)}print(t){const e=t??{},n=new Pt;return n.progress({stage:"preparing",message:"Preparing document..."}),this.preparePrintDocument(e).wait((o=>{n.progress({stage:"document-ready",message:"Document prepared successfully"}),this.printReady$.emit({options:e,buffer:o,task:n})}),n.fail),n}preparePrintDocument(t){const e=this.coreState.core.document;return e?this.engine.preparePrintDocument(e,t):dt.reject({code:lt.DocNotOpen,message:"Document not found"})}};El.id="print";let xo=El;const _l=()=>bt(xo.id),eu=Le({manifest:tu,create:(t,e)=>new xo(Rl,t,e),reducer:()=>{},initialState:{}}).addUtility((function(){const{provides:t}=_l(),{plugin:e}=$t(xo.id),n=Z(null),o=Z(null);return E((()=>{if(!t||!e)return;const i=e.onPrintRequest((({buffer:r,task:a})=>{const s=n.current;if(!s)return;o.current&&(URL.revokeObjectURL(o.current),o.current=null);const c=URL.createObjectURL(new Blob([r],{type:"application/pdf"}));o.current=c,s.onload=()=>{var d,u;s.src===c&&(a.progress({stage:"iframe-ready",message:"Ready to print"}),(d=s.contentWindow)==null||d.focus(),(u=s.contentWindow)==null||u.print(),a.progress({stage:"printing",message:"Print dialog opened"}),a.resolve(r))},s.src=c}));return()=>{i(),o.current&&URL.revokeObjectURL(o.current)}}),[t,e]),S("iframe",{ref:n,style:{position:"absolute",display:"none"},title:"Print Document",src:"about:blank"})})).build(),Nl="bookmark",nu={id:Nl,name:"Bookmark Plugin",version:"1.0.0",provides:["bookmark"],requires:[],optional:[],defaultConfig:{enabled:!0}},Ll=class extends ft{constructor(t,e){super(t,e)}async initialize(t){}buildCapability(){return{getBookmarks:this.getBookmarks.bind(this)}}getBookmarks(){const t=this.coreState.core.document;if(!t)throw new Error("Document not open");return this.engine.getBookmarks(t)}};Ll.id="bookmark";let Dl=Ll;const ou={manifest:nu,create:t=>new Dl(Nl,t),reducer:()=>{},initialState:{}},Ol=class extends ft{constructor(t,e){super(t,e)}async initialize(t){}buildCapability(){return{getAttachments:this.getAttachments.bind(this),downloadAttachment:this.downloadAttachment.bind(this)}}downloadAttachment(t){const e=this.coreState.core.document;return e?this.engine.readAttachmentContent(e,t):dt.reject({code:lt.NotFound,message:"Document not found"})}getAttachments(){const t=this.coreState.core.document;return t?this.engine.getAttachments(t):dt.reject({code:lt.NotFound,message:"Document not found"})}};Ol.id="attachment";let Bl=Ol;const nr="attachment",iu={manifest:{id:nr,name:"Attachment Plugin",version:"1.0.0",provides:["attachment"],requires:[],optional:[],defaultConfig:{enabled:!0}},create:t=>new Bl(nr,t),reducer:()=>{},initialState:{}};var ru=["commandId","onClick","active","iconProps","disabled"],au=["commandId","onClick","active"],lu=function(t,e,n){var o=t.commandId,i=t.onClick,r=t.active,a=t.iconProps,s=t.disabled,c=s!==void 0&&s,d=ue(t,ru),u=Yt().provides,p=o?u?.getMenuOrAction(o):null,h=Ot((function(g){if(g.preventDefault(),g.stopPropagation(),i)i();else if(o&&u&&p){var f=g.currentTarget;u.executeCommand(o,{source:"click",triggerElement:f,position:n?.direction==="horizontal"?"bottom":"right"})}}),[p,o,u,i]);return l(re,{position:n?.direction==="horizontal"?"bottom":"right",content:d.label||p?.label||"",trigger:r?"none":"hover",delay:500},l(wt,{active:r,onClick:h,disabled:c,className:" ".concat(n?.variant==="flyout"?"w-full rounded-none px-2":""," ")},!(p!=null&&p.icon)&&d.img&&l("img",{src:d.img,alt:d.label,className:"h-5 w-5"}),p?.icon&&l(nt,C({icon:p.icon,className:"h-5 w-5"},a))))},su=function(t,e){var n=t.commandId,o=t.onClick,i=t.active,r=ue(t,au),a=Yt().provides,s=n?a?.getMenuOrAction(n):null,c=Ot((function(d){d.preventDefault(),d.stopPropagation(),o?o():n&&a&&s&&a.executeCommand(n,{source:"click"})}),[s,n,a,o]);return l(wt,{key:r.id,className:"rounded-none px-2 py-1 text-sm hover:bg-transparent ".concat(i?"border-b-2 border-b-blue-500 text-blue-500":"border-b-2 border-b-transparent hover:border-b-gray-500"," hover:ring-transparent"),onClick:c},r.label)},cu=function(t,e,n){return l("div",{className:n?.direction==="horizontal"?"h-6 w-[1px] bg-gray-300 self-center":"h-[1px] w-6 bg-gray-300 self-center"})},du=function(t,e,n){return l("div",{style:{display:"flex",flexDirection:n?.direction==="horizontal"?"row":"column",justifyContent:t.justifyContent||"start",gap:"".concat(t.gap||0,"px")}},e())},uu=function(t,e){var n=C(C(C({},t.placement==="top"?{borderBottom:"1px solid #cfd4da"}:t.placement==="bottom"?{borderTop:"1px solid #cfd4da"}:t.placement==="left"?{borderRight:"1px solid #cfd4da"}:{borderLeft:"1px solid #cfd4da"}),{},{width:t.placement==="top"||t.placement==="bottom"?"100%":"auto",height:t.placement==="left"||t.placement==="right"?"100%":"auto",zIndex:10,justifyContent:"space-between",display:"flex",flexDirection:t.placement==="top"||t.placement==="bottom"?"row":"column"},t.placement==="top"||t.placement==="bottom"?{paddingTop:"8px",paddingBottom:"8px",paddingLeft:"16px",paddingRight:"16px"}:{paddingLeft:"8px",paddingRight:"8px",paddingTop:"16px",paddingBottom:"16px"}),t.style);return t.visible===void 0||t.visible?l("div",{style:n,className:"header"},e(C({},t.visibleChild&&{filter:function(o){return o===t.visibleChild}}))):null},hu=function(t,e){var n=Yt().provides,o=t.tabsCommandId?n?.getMenuOrAction(t.tabsCommandId):null,i=o&&o.type==="menu"?n?.getItemsByIds(o.children):null;return l(tt,null,o&&i&&l("div",{role:"tablist",className:"mx-4 my-4 flex flex-shrink-0 overflow-hidden bg-white"},i.filter((function(r){return r.type==="action"})).map((function(r,a,s){var c=!!r.active,d=a===0,u=a===s.length-1;return l(re,{key:r.id,content:r.label,trigger:"hover",position:"bottom"},l("button",{role:"tab","aria-selected":c,tabIndex:c?0:-1,onClick:function(p){return n?.executeCommand(r.id,{source:"click",triggerElement:p.currentTarget,position:"bottom"})},className:"relative flex h-7 flex-1 cursor-pointer items-center justify-center border outline-none transition-colors ".concat(d?"rounded-l-md":""," ").concat(u?"rounded-r-md":""," ").concat(u?"":"border-r-0"," ").concat(c?"border-blue-600 bg-blue-600 text-white":"border-gray-300 text-gray-600 hover:bg-gray-50"," ")},r.icon&&l(nt,{icon:r.icon,className:"pointer-events-none block h-5 w-5"})))}))),e(C({},t.visibleChild&&{filter:function(r){return r===t.visibleChild}})))},pu=function(t,e){var n=(function(s){var c=U(D(!1),2),d=c[0],u=c[1],p=Z(0),h=Z(0),g=Z(null),f=Z(!1);return E((function(){s||(u(!1),f.current=!1)}),[s]),E((function(){if(s){var m=g.current;if(m){var v=function(w){f.current=!0,p.current="touches"in w?w.touches[0].clientY:w.clientY,h.current=p.current},y=function(w){if(f.current){h.current="touches"in w?w.touches[0].clientY:w.clientY;var x=h.current-p.current;x<-2&&!d?(u(!0),f.current=!1):x>2&&d&&(u(!1),f.current=!1)}},b=function(){f.current=!1};return m.addEventListener("touchstart",v),m.addEventListener("touchmove",y),m.addEventListener("touchend",b),m.addEventListener("touchcancel",b),m.addEventListener("mousedown",v),m.addEventListener("mousemove",y),m.addEventListener("mouseup",b),m.addEventListener("mouseleave",b),function(){m.removeEventListener("touchstart",v),m.removeEventListener("touchmove",y),m.removeEventListener("touchend",b),m.removeEventListener("touchcancel",b),m.removeEventListener("mousedown",v),m.removeEventListener("mousemove",y),m.removeEventListener("mouseup",b),m.removeEventListener("mouseleave",b)}}}}),[s,d]),{elementRef:g,isFullscreen:d}})(t.open),o=n.elementRef,i=n.isFullscreen,r=Yt().provides;if(!t.open)return null;var a=t.location==="left"?"md:border-r":"md:border-l";return l("div",{className:"flex w-full flex-none shrink-0 flex-col border-t bg-white md:w-[275px] md:min-w-[275px] md:border-t-0 ".concat(a," absolute bottom-0 left-0 right-0 z-10 touch-pan-y border-[#cfd4da] transition-all duration-300 ease-in-out md:static md:h-full ").concat(i?"h-full":"h-1/2")},l("div",{className:"flex h-6 w-full cursor-grab items-center justify-center active:cursor-grabbing md:hidden",ref:o},l("div",{className:"h-1 w-12 rounded-full bg-gray-300"})),l("div",{className:"flex flex-row justify-end md:hidden"},l("button",{onClick:function(){r?.togglePanel({id:t.id,visibleChild:t.visibleChild||"leftPanelMain",open:!t.open})},className:"mr-5 cursor-pointer"},l(nt,{icon:"x",className:"h-5 w-5"}))),l("div",{className:"flex min-h-0 flex-1 flex-col"},e(C({},t.visibleChild&&{filter:function(s){return s===t.visibleChild}}))))};function gu(t){var e=t.hit,n=t.onClick,o=t.active,i=e.context,r=i.before,a=i.match,s=i.after,c=i.truncatedLeft,d=i.truncatedRight,u=Z(null);return E((function(){o&&u.current&&u.current.scrollIntoView({behavior:"smooth",block:"nearest"})}),[o]),l("button",{ref:u,onClick:function(){return n(e)},className:"shadow-xs w-full cursor-pointer overflow-hidden rounded border border-[#cfd4da] p-3 text-left text-xs leading-tight text-gray-600 ".concat(o?"border-blue-500 bg-blue-50":"hover:border-[#1a466b] hover:bg-gray-100")},c&&" ",r,l("span",{className:"font-bold text-blue-500"},a),s,d&&" ")}var fu=function(t){var e=Z(null),n=U(D(t.query||""),2),o=n[0],i=n[1],r=fl().provides,a=ke().provides,s=qt(o,400);E((function(){e.current&&e.current.focus()}),[r]),E((function(){s===""?r?.stopSearch():r?.searchAllPages(s)}),[s,r]),E((function(){t.activeResultIndex!==void 0&&d(t.activeResultIndex)}),[t.activeResultIndex,t.query,t.flags]);var c=function(p,h){h?r?.setFlags([].concat(Or(t.flags),[p])):r?.setFlags(t.flags.filter((function(g){return g!==p})))},d=function(p){var h=t.results[p];if(h){var g=h.rects.reduce((function(f,m){return{x:Math.min(f.x,m.origin.x),y:Math.min(f.y,m.origin.y)}}),{x:1/0,y:1/0});a?.scrollToPage({pageNumber:h.pageIndex+1,pageCoordinates:g,center:!0})}},u=t.results.reduce((function(p,h,g){var f,m;return((m=p[f=h.pageIndex])!==null&&m!==void 0?m:p[f]=[]).push({hit:h,index:g}),p}),{});return l("div",{className:"flex h-full flex-col bg-white"},l("div",{className:"p-4"},l("div",{className:"relative"},l("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-2"},l("svg",{className:"h-4 w-4 text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},l("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"}))),l("input",{ref:e,type:"text",placeholder:"Search",autoFocus:!0,value:o,onInput:function(p){var h=p.target;i(h.value)},className:"w-full rounded-md border border-gray-300 py-1 pl-8 pr-9 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"}),o&&l("div",{className:"absolute inset-y-0 right-0 flex cursor-pointer items-center pr-3",onClick:function(){i(""),e.current&&e.current.focus()}},l("svg",{className:"h-4 w-4 text-gray-500 hover:text-gray-700",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},l("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})))),l("div",{className:"mt-3 flex flex-row gap-4"},l(Ji,{label:"Case sensitive",checked:t.flags.includes(Be.MatchCase),onChange:function(p){return c(Be.MatchCase,p)}}),l(Ji,{label:"Whole word",checked:t.flags.includes(Be.MatchWholeWord),onChange:function(p){return c(Be.MatchWholeWord,p)}})),l("hr",{className:"mb-2 mt-5 border-gray-200"}),t.active&&l("div",{className:"flex h-[32px] flex-row items-center justify-between"},l("div",{className:"text-xs text-gray-500"},t.total," results found"),t.total>1&&l("div",{className:"flex flex-row"},l(wt,{onClick:function(){r?.previousResult()}},l(nt,{icon:"chevronLeft",className:"h-4 w-4"})),l(wt,{onClick:function(){r?.nextResult()}},l(nt,{icon:"chevronRight",className:"h-4 w-4"}))))),l("div",{className:"flex min-h-0 flex-1 flex-col gap-2 overflow-y-auto px-4"},Object.entries(u).map((function(p){var h=U(p,2),g=h[0],f=h[1];return l("div",{key:g,className:"mt-2 first:mt-0"},l("div",{className:"bg-white/80 py-2 text-xs text-gray-500 backdrop-blur"},"Page ",Number(g)+1),l("div",{className:"flex flex-col gap-2"},f.map((function(m){var v=m.hit,y=m.index;return l(gu,{key:y,hit:v,active:y===t.activeResultIndex,onClick:function(){r?.goToResult(y)}})}))))})),l("div",null)))},mu=function(t,e,n){var o=Zo().provides,i=Yt().provides;if(!i)return null;var r=t.commandZoomMenu?i.getMenuOrAction(t.commandZoomMenu):null,a=t.commandZoomIn?i.getMenuOrAction(t.commandZoomIn):null,s=t.commandZoomOut?i.getMenuOrAction(t.commandZoomOut):null,c=U(D(!1),2);c[0],c[1];var d=Z(null),u=Math.round(100*t.zoomLevel),p=function(h,g){g&&i.executeCommand(g.id,{source:"click",triggerElement:h.currentTarget,position:n?.direction==="horizontal"?"bottom":"right",flatten:!0})};return E((function(){d.current&&console.log(d.current)}),[d.current]),l("div",{className:"flex flex-row items-center rounded-md bg-[#f1f3f5]"},l("form",{onSubmit:function(h){h.preventDefault();var g=h.target,f=new FormData(g).get("zoom");o?.requestZoom(parseFloat(f)/100)},className:"block"},l("input",{name:"zoom",type:"text",inputMode:"numeric",pattern:"\\d*",className:"h-6 w-8 border-0 bg-transparent p-0 text-right text-sm","aria-label":"Set zoom",autoFocus:!1,value:u,onInput:function(h){var g=h.target;g.value=g.value.replace(/[^0-9]/g,"")}}),l("span",{className:"text-sm"},"%")),l(re,{position:n?.direction==="horizontal"?"bottom":"right",content:"Zoom Options",trigger:t.zoomMenuActive?"none":"hover"},l(wt,{className:"p-1",onClick:function(h){return p(h,r)},active:t.zoomMenuActive},l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-chevron-down"},l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M6 9l6 6l6 -6"})))),l(re,{position:n?.direction==="horizontal"?"bottom":"right",content:"Zoom Out",trigger:"hover"},l(wt,{className:"p-1",onClick:function(h){return p(h,s)}},s?.icon&&l(nt,{icon:s.icon,className:"h-5 w-5"}))),l(re,{position:n?.direction==="horizontal"?"bottom":"right",content:"Zoom In",trigger:"hover"},l(wt,{className:"p-1",onClick:function(h){return p(h,a)}},a?.icon&&l(nt,{icon:a.icon,className:"h-5 w-5"}))))},vu=function(t,e){var n=zn().provides,o=ke().provides,i=jo().provides;if(!(t.open&&n&&o&&i))return null;var r=(function(a,s,c){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:8,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:40;if(!a.length)return null;var p=c.getMetrics(),h=c.getViewportGap(),g=a.length===1?{first:a[0],last:a[0]}:{first:a[0],last:a[a.length-1]},f=s.getRectPositionForPage(g.first.page,g.first.rect),m=s.getRectPositionForPage(g.last.page,g.last.rect);if(!f||!m)return null;var v=er(m,p,u,d,h,!1),y=er(f,p,u,d,h,!0);return v?{left:m.origin.x+m.size.width/2,top:m.origin.y+m.size.height+d}:y?{left:f.origin.x+f.size.width/2,top:f.origin.y-d-u}:null})(n.getBoundingRects(),o,i,10,42);return r?l("div",{style:{left:"".concat(r.left,"px"),top:"".concat(r.top,"px"),transform:"translate(-50%, 0%)",zIndex:2e3},className:"absolute rounded-md border border-[#cfd4da] bg-[#f8f9fa] p-1"},e()):null},yu=function(t,e){var n=jo().provides,o=U(D(!1),2),i=o[0],r=o[1],a=U(D(!1),2),s=a[0],c=a[1],d=Z(),u=Ot((function(){d.current&&clearTimeout(d.current),d.current=setTimeout((function(){s||r(!1)}),4e3)}),[s]);return E((function(){if(n)return n.onScrollChange((function(p){(p.scrollTop>0||p.scrollLeft>0)&&(r(!0),u())}))}),[n,u]),E((function(){return function(){d.current&&clearTimeout(d.current)}}),[]),l("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2",onMouseEnter:function(){c(!0),r(!0)},onMouseLeave:function(){c(!1),u()}},l("div",{className:"rounded-md border border-[#cfd4da] bg-[#f8f9fa] p-1 transition-opacity duration-200 ".concat(i?"opacity-100":"opacity-0")},e()))},bu=function(t){var e=ke().provides,n=Yt().provides,o=t.currentPage===1,i=t.currentPage===t.pageCount,r=t.nextPageCommandId?n?.getMenuOrAction(t.nextPageCommandId):null,a=t.previousPageCommandId?n?.getMenuOrAction(t.previousPageCommandId):null,s=function(c,d){d&&n&&n.executeCommand(d.id,{source:"click",triggerElement:c.currentTarget})};return l("div",{className:"flex flex-row items-center justify-between gap-3 rounded-md"},l(re,{position:"top",content:"Previous Page",trigger:o?"none":"hover"},l(wt,{className:"p-1 ".concat(o?"cursor-not-allowed opacity-50 hover:ring-0":""),onClick:function(c){return s(c,a)},disabled:o},a?.icon&&l(nt,{icon:a.icon,className:"h-5 w-5"}))),l("form",{className:"flex flex-row items-center gap-3",onSubmit:function(c){c.preventDefault();var d=c.target,u=new FormData(d).get("page"),p=parseInt(u);!isNaN(p)&&p>=1&&e?.scrollToPage({pageNumber:p})}},l("input",{name:"page",type:"text",inputMode:"numeric",pattern:"\\d*",className:"border-1 h-8 w-8 rounded-md border-gray-600 bg-white p-0 text-center text-sm","aria-label":"Set page",value:t.currentPage,onInput:function(c){var d=c.target;d.value=d.value.replace(/[^0-9]/g,"")}}),l("span",{className:"text-sm"},t.pageCount)),l(re,{position:"top",content:"Next Page",trigger:i?"none":"hover"},l(wt,{className:"p-1 ".concat(i?"cursor-not-allowed opacity-50 hover:ring-0":""),onClick:function(c){return s(c,r)},disabled:i},r?.icon&&l(nt,{icon:r.icon,className:"h-5 w-5"}))))},wu=function(t){var e=t.activeCommand,n=t.open,o=t.position,i=t.triggerElement,r=t.flatten,a=Yt().provides,s=U(D([]),2),c=s[0],d=s[1],u=Z(null);if(E((function(){n||d([])}),[n]),E((function(){e&&(u.current!==e?d([]):u.current=null)}),[e]),!a)return null;var p=e?a?.getChildItems(e,{flatten:r}):null,h=c.length>0&&e?a.getMenuOrAction(e):void 0,g=function(v){e&&d((function(y){return[].concat(Or(y),[e])})),u.current=v,a.executeCommand(v,{triggerElement:i,position:o})},f=function(v,y){if(v.type==="group"){var b=v,w=a.getItemsByIds(b.children);return l(tt,{key:v.id},l("div",{className:"px-4 py-3 text-xs font-medium uppercase text-gray-600"},b.label),w.map((function(k,M){return l(tt,{key:k.id},f(k,M))})),l("hr",{className:"my-2 border-gray-200"}))}var x=v.dividerBefore&&y!==0?l("hr",{className:"my-2 border-gray-200"}):null;return l(tt,{key:v.id},x,l("button",{disabled:!!v.disabled,onClick:function(){return(function(k){k.type==="action"?(a.hideCommandMenu(),a.executeCommand(k.id)):k.type==="menu"&&g(k.id)})(v)},className:"flex cursor-pointer flex-row items-center justify-between gap-2 px-4 py-1 ".concat(v.type==="menu"?"menu-item":""," ").concat(v.active&&!v.disabled?"bg-blue-500 text-white":"text-gray-500 hover:bg-blue-900 hover:text-white"," ").concat(v.disabled?"pointer-events-none cursor-not-allowed opacity-50":""," ")},l("div",{className:"flex flex-row items-center gap-2"},l("div",{className:"flex h-6 w-6 items-center justify-center"},v.icon&&l(nt,C({icon:v.icon,className:"h-6 w-6"},v.iconProps))),l("div",{className:"text-sm"},v.label)),l("div",{className:"flex items-center"},v.shortcutLabel&&l("div",{className:"mr-2 text-sm"},"(",v.shortcutLabel,")"),v.type==="menu"&&l(nt,{icon:"chevronRight",className:"h-6 w-6"}))))},m=l(tt,null,c.length>0&&l("div",{onClick:function(){if(c.length!==0){var v=c[c.length-1];d((function(y){return y.slice(0,-1)})),u.current=v,a.executeCommand(v,{triggerElement:i,position:o})}},className:"flex cursor-pointer flex-row items-center gap-2 px-4 py-1 pb-2 text-sm font-medium text-gray-500 hover:bg-gray-100"},l(nt,{icon:"chevronLeft",className:"h-6 w-6 text-gray-500"})," ",h?.label),p?.map((function(v,y){return f(v,y)})));return n?l(_d,{trigger:i,open:n,placement:o||"bottom",className:"@max-[600px]:!bottom-0 @max-[600px]:!top-auto @max-[600px]:!left-0 @max-[600px]:!right-0",onShow:function(){},onHide:function(){a.hideCommandMenu()}},m):null},xu=function(t,e){var n=ke().provides;return l(qd,{className:"flex-1",selectedPage:t.currentPage},(function(o){return l("div",{key:o.pageIndex,className:"absolute flex w-full cursor-pointer flex-col items-center",style:{height:o.wrapperHeight,top:o.top},onClick:function(){n?.scrollToPage({pageNumber:o.pageIndex+1})}},l("div",{style:{width:o.width,height:o.height},className:"outline outline-2 -outline-offset-2 ".concat(t.currentPage===o.pageIndex+1?"outline-blue-500":"outline-gray-300")},l(Gd,{meta:o,className:"h-full w-full object-contain"})),l("div",{className:"flex items-center justify-center text-xs text-gray-500",style:{height:o.labelHeight}},o.pageIndex+1))}))},ku=function(t,e){var n=bt(Dl.id).provides,o=ke().provides,i=U(D([]),2),r=i[0],a=i[1],s=U(D(new Set),2),c=s[0],d=s[1];E((function(){if(n){var p=n.getBookmarks();return p.wait((function(h){var g=h.bookmarks;a(g);var f=g.map((function(m,v){return"bookmark-".concat(v)}));d(new Set(f))}),ht),function(){p.abort({code:lt.Cancelled,message:"Bookmark task cancelled"})}}}),[n,t.document]);var u=function(p,h){var g,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,m="bookmark-".concat(h),v=p.children&&p.children.length>0,y=c.has(m);return l("div",{key:m,className:"outline-item"},l("div",{className:"flex cursor-pointer items-center py-1 pr-4 text-sm text-gray-700 hover:bg-gray-100",style:{paddingLeft:"".concat(16*f+8,"px")},onClick:function(){return(function(b){if(o&&b.target&&b.target.type==="action"){var w=b.target.action;if(w.type===1&&w.destination){var x=w.destination;if(x.zoom.mode===ho.XYZ){var k,M=(k=t.document)===null||k===void 0?void 0:k.pages.find((function(P){return P.index===x.pageIndex}));if(!M)return;o.scrollToPage({pageNumber:x.pageIndex+1,pageCoordinates:x.zoom.params?{x:x.zoom.params.x,y:M.size.height-x.zoom.params.y}:void 0,behavior:"smooth"})}else x.zoom.mode===ho.FitPage&&o.scrollToPage({pageNumber:x.pageIndex+1,behavior:"smooth"})}}})(p)}},v&&l("button",{className:"mr-1 flex h-4 w-4 items-center justify-center rounded hover:bg-gray-200",onClick:function(b){b.stopPropagation(),(function(w){d((function(x){var k=new Set(x);return k.has(w)?k.delete(w):k.add(w),k}))})(m)}},l(nt,{icon:y?"chevronDown":"chevronRight",className:"h-3 w-3 text-gray-500"})),!v&&l("div",{className:"mr-1 w-4"}),l("span",{className:"flex-1 truncate",title:p.title},p.title)),v&&y&&l("div",{className:"outline-children"},(g=p.children)===null||g===void 0?void 0:g.map((function(b,w){return u(b,"".concat(h,"-").concat(w),f+1)}))))};return r.length===0?l("div",{className:"flex h-full items-center justify-center p-6"},l("div",{className:"text-center text-gray-500"},l("div",{className:"text-sm"},"No outline available"),l("div",{className:"mt-1 text-xs"},"This document doesn't contain bookmarks"))):l("div",{className:"flex h-full flex-col bg-white"},l("div",{className:"flex-1 overflow-y-auto"},l("div",{className:"outline-tree"},r.map((function(p,h){return u(p,h)})))))},Cu=function(t,e){var n=bt(Bl.id).provides,o=U(D([]),2),i=o[0],r=o[1];E((function(){if(n){var s=n.getAttachments();return s.wait((function(c){r(c)}),ht),function(){s.abort({code:lt.Cancelled,message:"Bookmark task cancelled"})}}}),[n,t.document]);var a=function(s){if(n){var c=n.downloadAttachment(s);return c.wait((function(d){console.log(d)}),ht),function(){c.abort({code:lt.Cancelled,message:"Attachment task cancelled"})}}};return l("div",null,i.map((function(s){return l("div",{key:s.name,onClick:function(){return a(s)}},s.name)})))},Su=function(t,e){var n=t.activeCommandId,o=t.menuCommandId,i=t.active,r=Yt().provides;if(!r)return null;var a=r.getMenuOrAction(n),s=Ot((function(c){if(c.preventDefault(),c.stopPropagation(),r&&o){var d=c.currentTarget;r.executeCommand(o,{source:"click",triggerElement:d})}}),[o,r]);return l("div",{style:{maxWidth:"100px",width:"100px"}},l(wt,{className:"col-start-1 row-start-1 !w-full appearance-none rounded-md bg-white py-1.5 pl-3 pr-2 text-[13px] text-gray-900 ".concat(i?"text-blue-500 outline outline-2 -outline-offset-2 outline-blue-500":"outline outline-1 -outline-offset-1 outline-gray-300"," flex flex-row items-center justify-between gap-2 hover:ring-transparent"),onClick:s},l("span",{className:"min-w-0 flex-1 truncate text-left"},a?.label),l(nt,{icon:"chevronDown",className:"h-4 w-4 text-gray-500"})))},Mu=function(t){var e=Yt().provides,n=ke().provides,o=_l().provides,i=U(D("all"),2),r=i[0],a=i[1],s=U(D(""),2),c=s[0],d=s[1],u=U(D(!0),2),p=u[0],h=u[1],g=U(D(!1),2),f=g[0],m=g[1],v=U(D(""),2),y=v[0],b=v[1];if(!e||!t.open)return null;var w=n?.getMetrics(),x=w?.currentPage||1,k=n?.getTotalPages()||0,M=function(){e.updateComponentState({componentType:"floating",componentId:"printModal",patch:{open:!1}})},P=(r!=="custom"||c.trim().length>0)&&!f;return l(zl,{open:t.open,title:"Print Settings",onClose:M,maxWidth:"28rem"},l("div",{className:"space-y-6"},l("div",null,l("label",{className:"mb-3 block text-sm font-medium text-gray-700"},"Pages to print"),l("div",{className:"space-y-2"},l("label",{className:"flex items-center"},l("input",{type:"radio",name:"pageRange",value:"all",checked:r==="all",onChange:function(){return a("all")},disabled:f,className:"mr-2"}),l("span",{className:"text-sm"},"All pages")),l("label",{className:"flex items-center"},l("input",{type:"radio",name:"pageRange",value:"current",checked:r==="current",onChange:function(){return a("current")},disabled:f,className:"mr-2"}),l("span",{className:"text-sm"},"Current page (",x,")")),l("label",{className:"flex items-start"},l("input",{type:"radio",name:"pageRange",value:"custom",checked:r==="custom",onChange:function(){return a("custom")},disabled:f,className:"mr-2 mt-0.5"}),l("div",{className:"flex-1"},l("span",{className:"mb-1 block text-sm"},"Specify pages"),l("input",{type:"text",placeholder:"e.g., 1-3, 5, 8-10",value:c,onInput:function(I){return d(I.target.value)},disabled:r!=="custom"||f,className:"w-full rounded-md border px-3 py-1 text-sm ".concat(r!=="custom"||f?"bg-gray-100 text-gray-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"," focus:outline-none focus:ring-1")}),r==="custom"&&c.trim()&&k>0&&l("p",{className:"mt-1 text-xs text-gray-500"},"Total pages in document: ",k))))),l("div",null,l("label",{className:"flex items-center"},l("input",{type:"checkbox",checked:p,onChange:function(I){return h(I.target.checked)},disabled:f,className:"mr-2"}),l("span",{className:"text-sm font-medium text-gray-700"},"Include annotations"))),f&&l("div",{className:"flex items-center space-x-3 rounded-md bg-blue-50 p-3"},l("div",{className:"flex-shrink-0"},l("svg",{className:"h-5 w-5 animate-spin text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},l("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}))),l("div",{className:"text-sm text-blue-700"},y)),l("div",{className:"flex justify-end space-x-3 border-t border-gray-200 pt-4"},l(wt,{onClick:M,disabled:f,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Cancel"),l(wt,{onClick:function(){var I;r==="current"?I=String(x):r==="custom"&&(I=c.trim()||void 0);var A={includeAnnotations:p,pageRange:I};try{m(!0),b("Preparing document...");var O=o?.print(A);O&&(O.onProgress((function(L){b(L.message)})),O.wait((function(){m(!1),b(""),M()}),(function(L){console.error("Print failed:",L),m(!1),b("")})))}catch(L){console.error("Print failed:",L),m(!1),b("")}},disabled:!P,className:"flex items-center space-x-2 rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm text-white hover:!bg-blue-700 disabled:cursor-not-allowed disabled:opacity-50"},f&&l("svg",{className:"h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},l("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),l("span",null,f?"Printing...":"Print")))))};const rt="annotation",Pu={id:rt,name:"Annotation Plugin",version:"1.0.0",provides:["annotation"],requires:["interaction-manager","selection"],optional:["history"],defaultConfig:{enabled:!0,autoCommit:!0,annotationAuthor:"Guest",deactivateToolAfterCreate:!1,selectAfterCreate:!0}},Hl="ANNOTATION/SET_ANNOTATIONS",jl="ANNOTATION/SELECT_ANNOTATION",$l="ANNOTATION/DESELECT_ANNOTATION",Fl="ANNOTATION/ADD_COLOR_PRESET",Ul="ANNOTATION/CREATE_ANNOTATION",Wl="ANNOTATION/PATCH_ANNOTATION",ql="ANNOTATION/DELETE_ANNOTATION",Gl="ANNOTATION/COMMIT",Zl="ANNOTATION/PURGE_ANNOTATION",Vl="ANNOTATION/SET_ACTIVE_TOOL_ID",Yl="ANNOTATION/SET_TOOL_DEFAULTS",Xl="ANNOTATION/ADD_TOOL",Yn=()=>({type:$l}),Xn=(t,e)=>({type:Ul,payload:{pageIndex:t,annotation:e}}),or=(t,e,n)=>({type:Wl,payload:{pageIndex:t,id:e,patch:n}}),ir=(t,e)=>({type:ql,payload:{pageIndex:t,id:e}}),rr=t=>({type:Zl,payload:{uid:t}});function Kl(t){return t.object.type===R.INK}function Ql(t){return t.object.type===R.CIRCLE}function Jl(t){return t.object.type===R.POLYGON}function ts(t){return t.object.type===R.SQUARE}function es(t){return t.object.type===R.LINE}function ns(t){return t.object.type===R.POLYLINE}function os(t){return t.object.type===R.HIGHLIGHT}function is(t){return t.object.type===R.UNDERLINE}function rs(t){return t.object.type===R.STRIKEOUT}function as(t){return t.object.type===R.SQUIGGLY}function ls(t){return t.object.type===R.FREETEXT}function ss(t){return t.object.type===R.STAMP}function Iu(t){return t.object.type===R.TEXT}function cs(t){return(function(e){return os(e)||is(e)||rs(e)||as(e)})(t)||Kl(t)||ts(t)||Ql(t)||Jl(t)||es(t)||ns(t)||ls(t)||ss(t)}const ko=t=>t.selectedUid?t.byUid[t.selectedUid]:null;function xt(t,e){const n=t.tools.find((o=>o.id===e));return n?.defaults}const Tu=t=>{const e={};for(const o of Object.values(t.pages))for(const i of o){const r=t.byUid[i];if(r&&Iu(r)){const a=r.object.inReplyToId;a&&(e[a]||(e[a]=[])).push(r)}}const n={};for(const[o,i]of Object.entries(t.pages)){const r=Number(o),a=[];for(const s of i){const c=t.byUid[s];c&&cs(c)&&a.push({page:r,annotation:c,replies:e[c.object.id]??[]})}a.length>0&&(n[r]=a)}return n};function Gt(t){let e=t;return[()=>e,n=>{e=n}]}const Au={annotationType:R.INK,create(t){const{onCommit:e,onPreview:n,getTool:o,pageSize:i}=t,[r,a]=Gt([]),[s,c]=Gt(!1),d={current:null},u=g=>({x:it(g.x,0,i.width),y:it(g.y,0,i.height)}),p=()=>{const g=o();return g?{...g.defaults,strokeWidth:g.defaults.strokeWidth??1,color:g.defaults.color??"#000000",opacity:g.defaults.opacity??1,flags:g.defaults.flags??["print"]}:null},h=()=>{const g=r();if(g.length===0||g[0].points.length===0)return null;const f=p();if(!f)return null;const m=g.flatMap((y=>y.points)),v=de(ce(m),f.strokeWidth/2);return{type:R.INK,bounds:v,data:{...f,rect:v,inkList:g}}};return{onPointerDown:(g,f)=>{var m;const v=u(g);c(!0),d.current&&clearTimeout(d.current);const y=[...r(),{points:[v]}];a(y),n(h()),(m=f.setPointerCapture)==null||m.call(f)},onPointerMove:g=>{if(!s())return;const f=r();if(f.length===0)return;const m=u(g);f[f.length-1].points.push(m),a(f),n(h())},onPointerUp:(g,f)=>{var m;c(!1),(m=f.releasePointerCapture)==null||m.call(f),d.current&&clearTimeout(d.current),d.current=setTimeout((()=>{const v=r();if(v.length>0&&v[0].points.length>1){const y=p();if(!y)return;const b=v.flatMap((x=>x.points)),w=de(ce(b),y.strokeWidth/2);e({...y,inkList:v,rect:w,type:R.INK,pageIndex:t.pageIndex,id:yt(),created:new Date})}a([]),n(null)}),800)},onPointerCancel:(g,f)=>{var m;a([]),c(!1),n(null),d.current&&clearTimeout(d.current),(m=f.releasePointerCapture)==null||m.call(f)}}}};function Rn({threshold:t=5,getTool:e,onClickDetected:n}){const[o,i]=Gt(null),[r,a]=Gt(!1);return{onStart:s=>{i(s),a(!1)},onMove:s=>{const c=o();!c||r()||Math.sqrt(Math.pow(s.x-c.x,2)+Math.pow(s.y-c.y,2))>t&&a(!0)},onEnd:s=>{var c;if(o()&&!r()){const d=e();d&&"clickBehavior"in d&&((c=d.clickBehavior)!=null&&c.enabled)&&n(s,d)}i(null),a(!1)},hasMoved:r,reset:()=>{i(null),a(!1)}}}const zu={annotationType:R.FREETEXT,create(t){const{onCommit:e,onPreview:n,getTool:o,pageSize:i,pageIndex:r}=t,[a,s]=Gt(null),c=h=>({x:it(h.x,0,i.width),y:it(h.y,0,i.height)}),d=()=>{const h=o();return h?{...h.defaults,fontColor:h.defaults.fontColor??"#000000",opacity:h.defaults.opacity??1,fontSize:h.defaults.fontSize??12,fontFamily:h.defaults.fontFamily??kt.Helvetica,backgroundColor:h.defaults.backgroundColor??"transparent",textAlign:h.defaults.textAlign??Dt.Left,verticalAlign:h.defaults.verticalAlign??Wt.Top,contents:h.defaults.contents??"Insert text here",flags:h.defaults.flags??["print"]}:null},u=Rn({threshold:5,getTool:o,onClickDetected:(h,g)=>{const f=d();if(!f)return;const m=g.clickBehavior;if(!m?.enabled)return;const{width:v,height:y}=m.defaultSize,b=v/2,w=y/2,x={origin:{x:it(h.x-b,0,i.width-v),y:it(h.y-w,0,i.height-y)},size:{width:v,height:y}},k=m.defaultContent??f.contents,M={...f,contents:k,type:R.FREETEXT,rect:x,pageIndex:r,id:yt(),created:new Date};e(M)}}),p=h=>{const g=a();if(!g)return null;const f=d();if(!f)return null;const m={origin:{x:Math.min(g.x,h.x),y:Math.min(g.y,h.y)},size:{width:Math.abs(g.x-h.x),height:Math.abs(g.y-h.y)}};return{type:R.FREETEXT,bounds:m,data:{...f,rect:m}}};return{onPointerDown:(h,g)=>{var f;const m=c(h);s(m),u.onStart(m),n(p(m)),(f=g.setPointerCapture)==null||f.call(g)},onPointerMove:h=>{const g=c(h);u.onMove(g),a()&&u.hasMoved()&&n(p(g))},onPointerUp:(h,g)=>{var f;const m=a();if(!m)return;const v=d();if(!v)return;const y=c(h);if(u.hasMoved()){const b={origin:{x:Math.min(m.x,y.x),y:Math.min(m.y,y.y)},size:{width:Math.abs(m.x-y.x),height:Math.abs(m.y-y.y)}},w={...v,type:R.FREETEXT,rect:b,pageIndex:t.pageIndex,id:yt(),created:new Date};e(w)}else u.onEnd(y);s(null),n(null),u.reset(),(f=g.releasePointerCapture)==null||f.call(g)},onPointerLeave:(h,g)=>{var f;s(null),n(null),u.reset(),(f=g.releasePointerCapture)==null||f.call(g)},onPointerCancel:(h,g)=>{var f;s(null),n(null),u.reset(),(f=g.releasePointerCapture)==null||f.call(g)}}}};function ds(t){const e=n=>{const o=9*n,i=Math.PI/6;return{x:-o*Math.cos(i),y:o*Math.sin(i)}};return{getSvgPath:n=>{const{x:o,y:i}=e(n);return t?`M 0 0 L ${o} ${i} L ${o} ${-i} Z`:`M ${o} ${i} L 0 0 L ${o} ${-i}`},getLocalPoints:n=>{const{x:o,y:i}=e(n);return[{x:0,y:0},{x:o,y:i},{x:o,y:-i}]},getRotation:n=>n,filled:t}}function ar(t,e){const n=o=>o*t/2;return{getSvgPath:o=>{const i=n(o);return`M ${-i} 0 L ${i} 0`},getLocalPoints:o=>{const i=n(o);return[{x:-i,y:0},{x:i,y:0}]},getRotation:e,filled:!1}}const lr=ds(!1),sr=ds(!0),Co={[G.OpenArrow]:lr,[G.ClosedArrow]:sr,[G.ROpenArrow]:{...lr,getRotation:t=>t+Math.PI},[G.RClosedArrow]:{...sr,getRotation:t=>t+Math.PI},[G.Circle]:{getSvgPath:t=>{const e=5*t/2;return`M ${e} 0 A ${e} ${e} 0 1 1 ${-e} 0 A ${e} ${e} 0 1 1 ${e} 0`},getLocalPoints:t=>{const e=5*t/2;return[{x:-e,y:-e},{x:e,y:e}]},getRotation:()=>0,filled:!0},[G.Square]:{getSvgPath:t=>{const e=6*t/2;return`M ${-e} ${-e} L ${e} ${-e} L ${e} ${e} L ${-e} ${e} Z`},getLocalPoints:t=>{const e=6*t/2;return[{x:-e,y:-e},{x:e,y:-e},{x:e,y:e},{x:-e,y:e}]},getRotation:t=>t,filled:!0},[G.Diamond]:{getSvgPath:t=>{const e=6*t/2;return`M 0 ${-e} L ${e} 0 L 0 ${e} L ${-e} 0 Z`},getLocalPoints:t=>{const e=6*t/2;return[{x:0,y:-e},{x:e,y:0},{x:0,y:e},{x:-e,y:0}]},getRotation:t=>t,filled:!0},[G.Butt]:ar(6,(t=>t+Math.PI/2)),[G.Slash]:ar(18,(t=>t+Math.PI/1.5))};function te(t,e,n){if(!t||t.length===0)return{origin:{x:0,y:0},size:{width:0,height:0}};const o=[...t],i=(a,s)=>Math.atan2(s.y-a.y,s.x-a.x),r=(a,s,c)=>{if(!a)return;const d=Co[a];if(!d)return;const u=d.getLocalPoints(e),p=d.getRotation(c),h=u.map((g=>(function(f,m,v){const y=Math.cos(m),b=Math.sin(m),w=f.x*y-f.y*b,x=f.x*b+f.y*y;return{x:w+v.x,y:x+v.y}})(g,p,s)));o.push(...h)};if(t.length>=2){const a=i(t[1],t[0]);r(n?.start,t[0],a);const s=t.length-1,c=i(t[s-1],t[s]);r(n?.end,t[s],c)}if(o.length<=1){const a=t[0]||{x:0,y:0},s=e;return{origin:{x:a.x-s,y:a.y-s},size:{width:2*s,height:2*s}}}return de(ce(o),e/2+1.2*e)}class Xo{constructor(){this.patches=new Map}register(e,n){this.patches.set(e,n)}transform(e,n){const o=this.patches.get(e.type);return o?o(e,n):n.changes}}const Ru=new Xo,wn=Object.freeze(Object.defineProperty({__proto__:null,LINE_ENDING_HANDLERS:Co,PatchRegistry:Xo,createEnding:function(t,e,n,o,i){if(!t)return null;const r=Co[t];if(!r)return null;const a=r.getRotation(n);return{d:r.getSvgPath(e),transform:`translate(${o} ${i}) rotate(${(s=>180*s/Math.PI)(a)})`,filled:r.filled}},lineRectWithEndings:te,patchRegistry:Ru},Symbol.toStringTag,{value:"Module"})),Eu={annotationType:R.LINE,create(t){const{pageIndex:e,onCommit:n,onPreview:o,getTool:i,pageSize:r}=t,[a,s]=Gt(null),c=h=>({x:it(h.x,0,r.width),y:it(h.y,0,r.height)}),d=()=>{const h=i();return h?{...h.defaults,strokeWidth:h.defaults.strokeWidth??1,lineEndings:h.defaults.lineEndings??{start:G.None,end:G.None},color:h.defaults.color??"#000000",opacity:h.defaults.opacity??1,strokeStyle:h.defaults.strokeStyle??at.SOLID,strokeDashArray:h.defaults.strokeDashArray??[],strokeColor:h.defaults.strokeColor??"#000000",flags:h.defaults.flags??["print"]}:null},u=Rn({threshold:5,getTool:i,onClickDetected:(h,g)=>{const f=d();if(!f)return;const m=g.clickBehavior;if(!m?.enabled)return;const v=m.defaultAngle??0,y=m.defaultLength/2,b=h.x-y*Math.cos(v),w=h.y-y*Math.sin(v),x=h.x+y*Math.cos(v),k=h.y+y*Math.sin(v),M=c({x:b,y:w}),P=c({x,y:k}),I=te([M,P],f.strokeWidth,f.lineEndings);n({...f,rect:I,linePoints:{start:M,end:P},pageIndex:e,id:yt(),created:new Date,type:R.LINE})}}),p=h=>{const g=a();if(!g)return null;const f=d();if(!f)return null;const m=te([g,h],f.strokeWidth,f.lineEndings);return{type:R.LINE,bounds:m,data:{...f,rect:m,linePoints:{start:g,end:h}}}};return{onPointerDown:(h,g)=>{var f;const m=c(h);s(m),u.onStart(m),o(p(m)),(f=g.setPointerCapture)==null||f.call(g)},onPointerMove:h=>{const g=c(h);u.onMove(g),a()&&u.hasMoved()&&o(p(g))},onPointerUp:(h,g)=>{var f;const m=a();if(!m)return;const v=c(h);if(u.hasMoved()){const y=d();if(!y)return;if(Math.abs(v.x-m.x)>2||Math.abs(v.y-m.y)>2){const b=te([m,v],y.strokeWidth,y.lineEndings);n({...y,rect:b,linePoints:{start:m,end:v},pageIndex:e,id:yt(),flags:["print"],created:new Date,type:R.LINE})}}else u.onEnd(v);s(null),o(null),u.reset(),(f=g.releasePointerCapture)==null||f.call(g)},onPointerLeave:(h,g)=>{var f;s(null),o(null),u.reset(),(f=g.releasePointerCapture)==null||f.call(g)},onPointerCancel:(h,g)=>{var f;s(null),o(null),u.reset(),(f=g.releasePointerCapture)==null||f.call(g)}}}},_u={annotationType:R.POLYLINE,create(t){const{onCommit:e,onPreview:n,getTool:o,pageSize:i}=t,[r,a]=Gt([]),[s,c]=Gt(null),d=h=>({x:it(h.x,0,i.width),y:it(h.y,0,i.height)}),u=()=>{const h=o();return h?{...h.defaults,strokeWidth:h.defaults.strokeWidth??1,lineEndings:h.defaults.lineEndings??{start:G.None,end:G.None},color:h.defaults.color??"#000000",opacity:h.defaults.opacity??1,strokeColor:h.defaults.strokeColor??"#000000",strokeStyle:h.defaults.strokeStyle??at.SOLID,strokeDashArray:h.defaults.strokeDashArray??[],flags:h.defaults.flags??["print"]}:null},p=()=>{const h=r(),g=s();if(h.length===0||!g)return null;const f=u();if(!f)return null;const m=[...h,g],v=te(m,f.strokeWidth,f.lineEndings);return{type:R.POLYLINE,bounds:v,data:{...f,rect:v,vertices:m,currentVertex:g}}};return{onClick:h=>{const g=d(h),f=r(),m=f[f.length-1];m&&Math.abs(m.x-g.x)<1&&Math.abs(m.y-g.y)<1||(a([...f,g]),c(g),n(p()))},onDoubleClick:()=>{(()=>{const h=r();if(h.length<2)return;const g=u();if(!g)return;const f=te(h,g.strokeWidth,g.lineEndings),m={...g,vertices:h,rect:f,type:R.POLYLINE,pageIndex:t.pageIndex,id:yt(),created:new Date};e(m),a([]),c(null),n(null)})()},onPointerMove:h=>{if(r().length>0){const g=d(h);c(g),n(p())}},onPointerCancel:()=>{a([]),c(null),n(null)}}}},Nu={annotationType:R.POLYGON,create(t){const{onCommit:e,onPreview:n,getTool:o,scale:i,pageSize:r}=t,[a,s]=Gt([]),[c,d]=Gt(null),u=f=>({x:it(f.x,0,r.width),y:it(f.y,0,r.height)}),p=()=>{const f=o();return f?{...f.defaults,color:f.defaults.color??"#000000",opacity:f.defaults.opacity??1,strokeWidth:f.defaults.strokeWidth??1,strokeColor:f.defaults.strokeColor??"#000000",strokeStyle:f.defaults.strokeStyle??at.SOLID,strokeDashArray:f.defaults.strokeDashArray??[],flags:f.defaults.flags??["print"]}:null},h=()=>{const f=a();if(f.length<3)return;const m=p();if(!m)return;const v=de(ce(f),m.strokeWidth/2),y={...m,vertices:f,rect:v,type:R.POLYGON,pageIndex:t.pageIndex,id:yt(),created:new Date};e(y),s([]),d(null),n(null)},g=()=>{const f=a(),m=c();if(f.length===0||!m)return null;const v=p();if(!v)return null;const y=de(ce([...f,m]),v.strokeWidth/2);return{type:R.POLYGON,bounds:y,data:{...v,rect:y,vertices:f,currentVertex:m}}};return{onClick:f=>{const m=u(f);if((b=>{const w=a();if(w.length<2)return!1;const x=14/i/2,k=w[0];return b.x>=k.x-x&&b.x<=k.x+x&&b.y>=k.y-x&&b.y<=k.y+x})(m)&&a().length>=3)return void h();const v=a(),y=v[v.length-1];y&&Math.abs(y.x-m.x)<1&&Math.abs(y.y-m.y)<1||(s([...v,m]),d(m),n(g()))},onDoubleClick:f=>{h()},onPointerMove:f=>{if(a().length>0){const m=u(f);d(m),n(g())}},onPointerCancel:f=>{s([]),d(null),n(null)}}}},Lu={annotationType:R.SQUARE,create(t){const{pageIndex:e,onCommit:n,onPreview:o,getTool:i,pageSize:r}=t,[a,s]=Gt(null),c=h=>({x:it(h.x,0,r.width),y:it(h.y,0,r.height)}),d=()=>{const h=i();return h?{...h.defaults,flags:h.defaults.flags??["print"],strokeWidth:h.defaults.strokeWidth??2,strokeColor:h.defaults.strokeColor??"#000000",strokeStyle:h.defaults.strokeStyle??at.SOLID,strokeDashArray:h.defaults.strokeDashArray??[],color:h.defaults.color??"#000000",opacity:h.defaults.opacity??1}:null},u=Rn({threshold:5,getTool:i,onClickDetected:(h,g)=>{const f=d();if(!f)return;const m=g.clickBehavior;if(!m?.enabled)return;const{width:v,height:y}=m.defaultSize,b=v/2,w=y/2,x=it(h.x-b,0,r.width-v),k=it(h.y-w,0,r.height-y),M=f.strokeWidth,P=M/2,I={origin:{x:x-P,y:k-P},size:{width:v+M,height:y+M}},A={...f,type:R.SQUARE,created:new Date,id:yt(),pageIndex:e,rect:I};n(A)}}),p=h=>{const g=a();if(!g)return null;const f=Math.min(g.x,h.x),m=Math.min(g.y,h.y),v=Math.abs(g.x-h.x),y=Math.abs(g.y-h.y),b=d();if(!b)return null;const w=b.strokeWidth,x=w/2,k={origin:{x:f-x,y:m-x},size:{width:v+w,height:y+w}};return{type:R.SQUARE,bounds:k,data:{rect:k,...b}}};return{onPointerDown:(h,g)=>{var f;const m=c(h);s(m),u.onStart(m),o(p(m)),(f=g.setPointerCapture)==null||f.call(g)},onPointerMove:h=>{const g=c(h);u.onMove(g),a()&&u.hasMoved()&&o(p(g))},onPointerUp:(h,g)=>{var f;if(!a()||!d())return;const m=c(h);if(u.hasMoved()){const v=d();if(!v)return;const y=p(m);if(y){const b={...v,type:R.SQUARE,created:new Date,id:yt(),pageIndex:e,rect:y.data.rect};n(b)}}else u.onEnd(m);s(null),o(null),u.reset(),(f=g.releasePointerCapture)==null||f.call(g)},onPointerLeave:(h,g)=>{var f;s(null),o(null),u.reset(),(f=g.releasePointerCapture)==null||f.call(g)},onPointerCancel:(h,g)=>{var f;s(null),o(null),u.reset(),(f=g.releasePointerCapture)==null||f.call(g)}}}},Du={annotationType:R.STAMP,create(t){const{services:e,onCommit:n,getTool:o,pageSize:i}=t;return{onPointerDown:r=>{const a=o();if(!a)return;const{imageSrc:s,imageSize:c}=a.defaults,d=(u,p,h)=>{const g=r.x-p/2,f=r.y-h/2,m={origin:{x:it(g,0,i.width-p),y:it(f,0,i.height-h)},size:{width:p,height:h}},v={...a.defaults,rect:m,type:R.STAMP,icon:a.defaults.icon??Do.Draft,subject:a.defaults.subject??"Stamp",flags:a.defaults.flags??["print"],pageIndex:t.pageIndex,id:yt(),created:new Date};n(v,{imageData:u})};s?e.processImage({source:s,maxWidth:i.width,maxHeight:i.height,onComplete:u=>d(u.imageData,c?.width??u.width,c?.height??u.height)}):e.requestFile({accept:"image/png,image/jpeg",onFile:u=>{e.processImage({source:u,maxWidth:i.width,maxHeight:i.height,onComplete:p=>d(p.imageData,p.width,p.height)})}})}}}},Ou={annotationType:R.CIRCLE,create(t){const{pageIndex:e,onCommit:n,onPreview:o,getTool:i,pageSize:r}=t,[a,s]=Gt(null),c=h=>({x:it(h.x,0,r.width),y:it(h.y,0,r.height)}),d=()=>{const h=i();return h?{...h.defaults,strokeWidth:h.defaults.strokeWidth??2,strokeColor:h.defaults.strokeColor??"#000000",strokeStyle:h.defaults.strokeStyle??at.SOLID,strokeDashArray:h.defaults.strokeDashArray??[],color:h.defaults.color??"#000000",opacity:h.defaults.opacity??1,flags:h.defaults.flags??["print"]}:null},u=Rn({threshold:5,getTool:i,onClickDetected:(h,g)=>{const f=d();if(!f)return;const m=g.clickBehavior;if(!m?.enabled)return;const{width:v,height:y}=m.defaultSize,b=v/2,w=y/2,x=it(h.x-b,0,r.width-v),k=it(h.y-w,0,r.height-y),M=f.strokeWidth,P=M/2,I={origin:{x:x-P,y:k-P},size:{width:v+M,height:y+M}},A={...f,type:R.CIRCLE,created:new Date,id:yt(),pageIndex:e,rect:I};n(A)}}),p=h=>{const g=a();if(!g)return null;const f=Math.min(g.x,h.x),m=Math.min(g.y,h.y),v=Math.abs(g.x-h.x),y=Math.abs(g.y-h.y),b=d();if(!b)return null;const w=b.strokeWidth,x=w/2,k={origin:{x:f-x,y:m-x},size:{width:v+w,height:y+w}};return{type:R.CIRCLE,bounds:k,data:{rect:k,...b}}};return{onPointerDown:(h,g)=>{var f;const m=c(h);s(m),u.onStart(m),o(p(m)),(f=g.setPointerCapture)==null||f.call(g)},onPointerMove:h=>{const g=c(h);u.onMove(g),a()&&u.hasMoved()&&o(p(g))},onPointerUp:(h,g)=>{var f;if(!a()||!d())return;const m=c(h);if(u.hasMoved()){const v=d();if(!v)return;const y=p(m);if(y){const b={...v,type:R.CIRCLE,flags:["print"],created:new Date,id:yt(),pageIndex:e,rect:y.data.rect};n(b)}}else u.onEnd(m);s(null),o(null),u.reset(),(f=g.releasePointerCapture)==null||f.call(g)},onPointerLeave:(h,g)=>{var f;s(null),o(null),u.reset(),(f=g.releasePointerCapture)==null||f.call(g)},onPointerCancel:(h,g)=>{var f;s(null),o(null),u.reset(),(f=g.releasePointerCapture)==null||f.call(g)}}}},Bu=(t,e)=>{var n;switch(e.type){case"vertex-edit":default:return e.changes;case"move":if(e.changes.rect){const o=e.changes.rect.origin.x-t.rect.origin.x,i=e.changes.rect.origin.y-t.rect.origin.y,r=t.inkList.map((a=>({points:a.points.map((s=>({x:s.x+o,y:s.y+i})))})));return{rect:e.changes.rect,inkList:r}}return e.changes;case"resize":if(e.changes.rect){const o=t.rect,i=e.changes.rect;let r=i.size.width/o.size.width,a=i.size.height/o.size.height;const s=10;if((i.size.width<s||i.size.height<s)&&(r=Math.max(r,s/o.size.width),a=Math.max(a,s/o.size.height),e.changes.rect={origin:i.origin,size:{width:o.size.width*r,height:o.size.height*a}}),(n=e.metadata)==null?void 0:n.maintainAspectRatio){const v=Math.min(r,a);r=v,a=v,e.changes.rect.size={width:o.size.width*v,height:o.size.height*v}}const c=(v,y)=>({origin:{x:v.origin.x+y,y:v.origin.y+y},size:{width:Math.max(1,v.size.width-2*y),height:Math.max(1,v.size.height-2*y)}}),d=Math.min(e.changes.rect.size.width/o.size.width,e.changes.rect.size.height/o.size.height),u=Math.max(1,Math.round(t.strokeWidth*d)),p=c(o,t.strokeWidth/2),h=c(e.changes.rect,u/2),g=h.size.width/Math.max(p.size.width,1e-6),f=h.size.height/Math.max(p.size.height,1e-6),m=t.inkList.map((v=>({points:v.points.map((y=>({x:h.origin.x+(y.x-p.origin.x)*g,y:h.origin.y+(y.y-p.origin.y)*f})))})));return{rect:e.changes.rect,inkList:m,strokeWidth:u}}return e.changes;case"property-update":if(e.changes.strokeWidth!==void 0){const o={...t,...e.changes},i=o.inkList.flatMap((a=>a.points)),r=de(ce(i),o.strokeWidth/2);return{...e.changes,rect:r}}return e.changes}},Hu=(t,e)=>{var n;switch(e.type){case"vertex-edit":if(e.changes.linePoints){const{start:o,end:i}=e.changes.linePoints;return{rect:te([o,i],t.strokeWidth,t.lineEndings),linePoints:{start:o,end:i}}}return e.changes;case"move":if(e.changes.rect){const o=e.changes.rect.origin.x-t.rect.origin.x,i=e.changes.rect.origin.y-t.rect.origin.y;return{rect:e.changes.rect,linePoints:{start:{x:t.linePoints.start.x+o,y:t.linePoints.start.y+i},end:{x:t.linePoints.end.x+o,y:t.linePoints.end.y+i}}}}return e.changes;case"resize":if(e.changes.rect){const o=t.rect,i=e.changes.rect;let r=i.size.width/o.size.width,a=i.size.height/o.size.height;const s=10;if((i.size.width<s||i.size.height<s)&&(r=Math.max(r,s/o.size.width),a=Math.max(a,s/o.size.height),e.changes.rect={origin:i.origin,size:{width:o.size.width*r,height:o.size.height*a}}),(n=e.metadata)==null?void 0:n.maintainAspectRatio){const d=Math.min(r,a);r=d,a=d,e.changes.rect.size={width:o.size.width*d,height:o.size.height*d}}const c={start:{x:e.changes.rect.origin.x+(t.linePoints.start.x-o.origin.x)*r,y:e.changes.rect.origin.y+(t.linePoints.start.y-o.origin.y)*a},end:{x:e.changes.rect.origin.x+(t.linePoints.end.x-o.origin.x)*r,y:e.changes.rect.origin.y+(t.linePoints.end.y-o.origin.y)*a}};return{rect:e.changes.rect,linePoints:c}}return e.changes;case"property-update":if(e.changes.strokeWidth||e.changes.lineEndings){const o={...t,...e.changes},i=te([o.linePoints.start,o.linePoints.end],o.strokeWidth,o.lineEndings);return{...e.changes,rect:i}}return e.changes;default:return e.changes}},ju=(t,e)=>{var n;switch(e.type){case"vertex-edit":return e.changes.vertices&&e.changes.vertices.length?{rect:te(e.changes.vertices,t.strokeWidth,t.lineEndings),vertices:e.changes.vertices}:e.changes;case"move":if(e.changes.rect){const o=e.changes.rect.origin.x-t.rect.origin.x,i=e.changes.rect.origin.y-t.rect.origin.y,r=t.vertices.map((a=>({x:a.x+o,y:a.y+i})));return{rect:e.changes.rect,vertices:r}}return e.changes;case"resize":if(e.changes.rect){const o=t.rect,i=e.changes.rect;let r=i.size.width/o.size.width,a=i.size.height/o.size.height;const s=10;if((i.size.width<s||i.size.height<s)&&(r=Math.max(r,s/o.size.width),a=Math.max(a,s/o.size.height),e.changes.rect={origin:i.origin,size:{width:o.size.width*r,height:o.size.height*a}}),(n=e.metadata)==null?void 0:n.maintainAspectRatio){const d=Math.min(r,a);r=d,a=d,e.changes.rect.size={width:o.size.width*d,height:o.size.height*d}}const c=t.vertices.map((d=>({x:e.changes.rect.origin.x+(d.x-o.origin.x)*r,y:e.changes.rect.origin.y+(d.y-o.origin.y)*a})));return{rect:e.changes.rect,vertices:c}}return e.changes;case"property-update":if(e.changes.strokeWidth!==void 0||e.changes.lineEndings!==void 0){const o={...t,...e.changes},i=te(o.vertices,o.strokeWidth,o.lineEndings);return{...e.changes,rect:i}}return e.changes;default:return e.changes}},$u=(t,e)=>{var n;switch(e.type){case"vertex-edit":if(e.changes.vertices&&e.changes.vertices.length){const o=t.strokeWidth/2;return{rect:de(ce(e.changes.vertices),o),vertices:e.changes.vertices}}return e.changes;case"move":if(e.changes.rect){const o=e.changes.rect.origin.x-t.rect.origin.x,i=e.changes.rect.origin.y-t.rect.origin.y,r=t.vertices.map((a=>({x:a.x+o,y:a.y+i})));return{rect:e.changes.rect,vertices:r}}return e.changes;case"resize":if(e.changes.rect){const o=t.rect,i=e.changes.rect;let r=i.size.width/o.size.width,a=i.size.height/o.size.height;const s=10;if((i.size.width<s||i.size.height<s)&&(r=Math.max(r,s/o.size.width),a=Math.max(a,s/o.size.height),e.changes.rect={origin:i.origin,size:{width:o.size.width*r,height:o.size.height*a}}),(n=e.metadata)==null?void 0:n.maintainAspectRatio){const d=Math.min(r,a);r=d,a=d,e.changes.rect.size={width:o.size.width*d,height:o.size.height*d}}const c=t.vertices.map((d=>({x:e.changes.rect.origin.x+(d.x-o.origin.x)*r,y:e.changes.rect.origin.y+(d.y-o.origin.y)*a})));return{rect:e.changes.rect,vertices:c}}return e.changes;case"property-update":if(e.changes.strokeWidth!==void 0){const o={...t,...e.changes},i=o.strokeWidth/2,r=de(ce(o.vertices),i);return{...e.changes,rect:r}}return e.changes;default:return e.changes}},us=class extends ft{constructor(t,e,n){var o,i,r;super(t,e),this.ANNOTATION_HISTORY_TOPIC="annotations",this.state$=J(),this.pendingContexts=new Map,this.handlerFactories=new Map,this.activeTool$=J(null),this.events$=J(),this.patchRegistry=new Xo,this.isInitialLoadComplete=!1,this.importQueue=[],this.config=n,this.selection=((o=e.getPlugin("selection"))==null?void 0:o.provides())??null,this.history=((i=e.getPlugin("history"))==null?void 0:i.provides())??null,this.interactionManager=((r=e.getPlugin("interaction-manager"))==null?void 0:r.provides())??null,this.coreStore.onAction(he,((a,s)=>{const c=s.core.document;this.isInitialLoadComplete=!1,c&&this.getAllAnnotations(c)})),this.registerHandlerFactories(),this.registerBuiltInPatches()}registerHandlerFactories(){this.handlerFactories.set(R.CIRCLE,Ou),this.handlerFactories.set(R.SQUARE,Lu),this.handlerFactories.set(R.STAMP,Du),this.handlerFactories.set(R.POLYGON,Nu),this.handlerFactories.set(R.POLYLINE,_u),this.handlerFactories.set(R.LINE,Eu),this.handlerFactories.set(R.INK,Au),this.handlerFactories.set(R.FREETEXT,zu)}registerBuiltInPatches(){this.patchRegistry.register(R.INK,Bu),this.patchRegistry.register(R.LINE,Hu),this.patchRegistry.register(R.POLYLINE,ju),this.patchRegistry.register(R.POLYGON,$u)}async initialize(){var t,e,n;this.state.tools.forEach((o=>this.registerInteractionForTool(o))),(t=this.history)==null||t.onHistoryChange((o=>{o===this.ANNOTATION_HISTORY_TOPIC&&this.config.autoCommit!==!1&&this.commit()})),(e=this.interactionManager)==null||e.onModeChange((o=>{var i;const r=((i=this.state.tools.find((a=>(a.interaction.mode??a.id)===o.activeMode)))==null?void 0:i.id)??null;r!==this.state.activeToolId&&this.dispatch({type:Vl,payload:r})})),(n=this.selection)==null||n.onEndSelection((()=>{var o,i,r;const a=this.getActiveTool();if(!a||!a.interaction.textSelection)return;const s=(o=this.selection)==null?void 0:o.getFormattedSelection(),c=(i=this.selection)==null?void 0:i.getSelectedText();if(s&&c){for(const d of s)c.wait((u=>{const p=yt();this.createAnnotation(d.pageIndex,{...a.defaults,rect:d.rect,segmentRects:d.segmentRects,pageIndex:d.pageIndex,created:new Date,id:p,custom:{text:u.join(`
`)}}),this.getToolBehavior(a,"deactivateToolAfterCreate")&&this.setActiveTool(null),this.getToolBehavior(a,"selectAfterCreate")&&this.selectAnnotation(d.pageIndex,p)}),ht);(r=this.selection)==null||r.clear()}}))}registerInteractionForTool(t){var e,n;(e=this.interactionManager)==null||e.registerMode({id:t.interaction.mode??t.id,scope:"page",exclusive:t.interaction.exclusive,cursor:t.interaction.cursor}),t.interaction.textSelection&&((n=this.selection)==null||n.enableForMode(t.interaction.mode??t.id))}buildCapability(){return{getPageAnnotations:t=>this.getPageAnnotations(t),getSelectedAnnotation:()=>ko(this.state),selectAnnotation:(t,e)=>this.selectAnnotation(t,e),deselectAnnotation:()=>this.dispatch(Yn()),getActiveTool:()=>this.getActiveTool(),setActiveTool:t=>this.setActiveTool(t),getTools:()=>this.state.tools,getTool:t=>this.getTool(t),addTool:t=>{this.dispatch((e=>({type:Xl,payload:e}))(t)),this.registerInteractionForTool(t)},transformAnnotation:(t,e)=>this.transformAnnotation(t,e),registerPatchFunction:(t,e)=>this.registerPatchFunction(t,e),findToolForAnnotation:t=>this.findToolForAnnotation(t),setToolDefaults:(t,e)=>this.dispatch(((n,o)=>({type:Yl,payload:{toolId:n,patch:o}}))(t,e)),getColorPresets:()=>[...this.state.colorPresets],addColorPreset:t=>this.dispatch((e=>({type:Fl,payload:e}))(t)),importAnnotations:t=>this.importAnnotations(t),createAnnotation:(t,e,n)=>this.createAnnotation(t,e,n),updateAnnotation:(t,e,n)=>this.updateAnnotation(t,e,n),deleteAnnotation:(t,e)=>this.deleteAnnotation(t,e),renderAnnotation:t=>this.renderAnnotation(t),onStateChange:this.state$.on,onActiveToolChange:this.activeTool$.on,onAnnotationEvent:this.events$.on,commit:()=>this.commit()}}onStoreUpdated(t,e){this.state$.emit(e),t.activeToolId===e.activeToolId&&t.tools===e.tools||this.activeTool$.emit(this.getActiveTool())}registerPatchFunction(t,e){this.patchRegistry.register(t,e)}transformAnnotation(t,e){const n={type:e.type,changes:e.changes,metadata:e.metadata};return this.patchRegistry.transform(t,n)}registerPageHandlers(t,e,n){var o;const i=(o=this.coreState.core.document)==null?void 0:o.pages[t];if(!i)return()=>{};if(!this.interactionManager)return()=>{};const r=[];for(const a of this.state.tools){if(!a.defaults.type)continue;const s=this.handlerFactories.get(a.defaults.type);if(!s)continue;const c={pageIndex:t,pageSize:i.size,scale:e,services:n.services,onPreview:u=>n.onPreview(a.id,u),onCommit:(u,p)=>{this.createAnnotation(t,u,p),this.getToolBehavior(a,"deactivateToolAfterCreate")&&this.setActiveTool(null),this.getToolBehavior(a,"selectAfterCreate")&&this.selectAnnotation(t,u.id)},getTool:()=>this.state.tools.find((u=>u.id===a.id))},d=this.interactionManager.registerHandlers({modeId:a.interaction.mode??a.id,handlers:s.create(c),pageIndex:t});r.push(d)}return()=>r.forEach((a=>a()))}getAllAnnotations(t){this.engine.getAllAnnotations(t).wait((e=>{this.dispatch((n=>({type:Hl,payload:n}))(e)),this.isInitialLoadComplete=!0,this.importQueue.length>0&&this.processImportQueue(),this.events$.emit({type:"loaded",total:Object.values(e).reduce(((n,o)=>n+o.length),0)})}),ht)}getPageAnnotations(t){const{pageIndex:e}=t,n=this.coreState.core.document;if(!n)return dt.reject({code:lt.NotFound,message:"Document not found"});const o=n.pages.find((i=>i.index===e));return o?this.engine.getPageAnnotations(n,o):dt.reject({code:lt.NotFound,message:"Page not found"})}renderAnnotation({pageIndex:t,annotation:e,options:n}){const o=this.coreState.core;if(!o.document)return dt.reject({code:lt.NotFound,message:"Document not found"});const i=o.document.pages.find((r=>r.index===t));return i?this.engine.renderPageAnnotation(o.document,i,e,n):dt.reject({code:lt.NotFound,message:"Page not found"})}importAnnotations(t){this.isInitialLoadComplete?this.processImportItems(t):this.importQueue.push(...t)}processImportQueue(){if(this.importQueue.length===0)return;const t=[...this.importQueue];this.importQueue=[],this.processImportItems(t)}processImportItems(t){for(const e of t){const{annotation:n,ctx:o}=e,i=n.pageIndex,r=n.id;this.dispatch(Xn(i,n)),o&&this.pendingContexts.set(r,o)}this.config.autoCommit!==!1&&this.commit()}createAnnotation(t,e,n){const o=e.id,i={...e,author:e.author??this.config.annotationAuthor},r=()=>{this.dispatch(Xn(t,i)),n&&this.pendingContexts.set(o,n),this.events$.emit({type:"create",annotation:i,pageIndex:t,ctx:n,committed:!1})};if(!this.history)return r(),void(this.config.autoCommit&&this.commit());const a={execute:r,undo:()=>{this.pendingContexts.delete(o),this.dispatch(Yn()),this.dispatch(ir(t,o)),this.events$.emit({type:"delete",annotation:i,pageIndex:t,committed:!1})}};this.history.register(a,this.ANNOTATION_HISTORY_TOPIC)}buildPatch(t,e){return"rect"in e?e:this.transformAnnotation(t,{type:"property-update",changes:e})}updateAnnotation(t,e,n){const o=this.state.byUid[e].object,i=this.buildPatch(o,{...n,author:n.author??this.config.annotationAuthor}),r=()=>{this.dispatch(or(t,e,i)),this.events$.emit({type:"update",annotation:o,pageIndex:t,patch:i,committed:!1})};if(!this.history)return r(),void(this.config.autoCommit!==!1&&this.commit());const a=Object.fromEntries(Object.keys(n).map((c=>[c,o[c]]))),s={execute:r,undo:()=>{this.dispatch(or(t,e,a)),this.events$.emit({type:"update",annotation:o,pageIndex:t,patch:a,committed:!1})}};this.history.register(s,this.ANNOTATION_HISTORY_TOPIC)}deleteAnnotation(t,e){var n;const o=(n=this.state.byUid[e])==null?void 0:n.object;if(!o)return;const i=()=>{this.dispatch(Yn()),this.dispatch(ir(t,e)),this.events$.emit({type:"delete",annotation:o,pageIndex:t,committed:!1})};if(!this.history)return i(),void(this.config.autoCommit!==!1&&this.commit());const r={execute:i,undo:()=>{this.dispatch(Xn(t,o)),this.events$.emit({type:"create",annotation:o,pageIndex:t,committed:!1})}};this.history.register(r,this.ANNOTATION_HISTORY_TOPIC)}selectAnnotation(t,e){this.dispatch(((n,o)=>({type:jl,payload:{pageIndex:n,id:o}}))(t,e))}getActiveTool(){return this.state.activeToolId?this.state.tools.find((t=>t.id===this.state.activeToolId))??null:null}setActiveTool(t){var e,n;if(t===this.state.activeToolId)return;const o=this.state.tools.find((i=>i.id===t));o?(e=this.interactionManager)==null||e.activate(o.interaction.mode??o.id):(n=this.interactionManager)==null||n.activateDefaultMode()}getTool(t){return this.state.tools.find((e=>e.id===t))}findToolForAnnotation(t){let e=null,n=0;for(const o of this.state.tools){const i=o.matchScore(t);i>n&&(n=i,e=o)}return e}commit(){const t=new Pt;if(!this.state.hasPendingChanges)return dt.resolve(!0);const e=this.coreState.core.document;if(!e)return dt.reject({code:lt.NotFound,message:"Document not found"});const n=[],o=[],i=[];for(const[s,c]of Object.entries(this.state.byUid)){if(c.commitState==="synced")continue;const d=e.pages.find((u=>u.index===c.object.pageIndex));if(d)switch(c.commitState){case"new":const u=this.pendingContexts.get(c.object.id),p=this.engine.createPageAnnotation(e,d,c.object,u);p.wait((()=>{this.events$.emit({type:"create",annotation:c.object,pageIndex:c.object.pageIndex,ctx:u,committed:!0}),this.pendingContexts.delete(c.object.id)}),ht),n.push(p);break;case"dirty":const h=this.engine.updatePageAnnotation(e,d,c.object);h.wait((()=>{this.events$.emit({type:"update",annotation:c.object,pageIndex:c.object.pageIndex,patch:c.object,committed:!0})}),ht),o.push(h);break;case"deleted":i.push({ta:c,uid:s})}}const r=[];for(const{ta:s,uid:c}of i){const d=e.pages.find((u=>u.index===s.object.pageIndex));if(s.commitState==="deleted"&&s.object.id){const u=new Pt;this.engine.removePageAnnotation(e,d,s.object).wait((()=>{this.dispatch(rr(c)),this.events$.emit({type:"delete",annotation:s.object,pageIndex:s.object.pageIndex,committed:!0}),u.resolve(!0)}),u.fail),r.push(u)}else this.dispatch(rr(c))}const a=[...n,...o,...r];return Pt.allSettled(a).wait((()=>{this.dispatch({type:Gl}),t.resolve(!0)}),t.fail),t}getToolBehavior(t,e){var n;return((n=t.behavior)==null?void 0:n[e])!==void 0?t.behavior[e]:this.config[e]!==!1}};us.id="annotation";let Ko=us;const Fu=[{id:"highlight",name:"Highlight",matchScore:t=>t.type===R.HIGHLIGHT?1:0,interaction:{exclusive:!1,textSelection:!0,isDraggable:!1,isResizable:!1},defaults:{type:R.HIGHLIGHT,color:"#FFCD45",opacity:1,blendMode:X.Multiply}},{id:"underline",name:"Underline",matchScore:t=>t.type===R.UNDERLINE?1:0,interaction:{exclusive:!1,textSelection:!0,isDraggable:!1,isResizable:!1},defaults:{type:R.UNDERLINE,color:"#E44234",opacity:1}},{id:"strikeout",name:"Strikeout",matchScore:t=>t.type===R.STRIKEOUT?1:0,interaction:{exclusive:!1,textSelection:!0},defaults:{type:R.STRIKEOUT,color:"#E44234",opacity:1}},{id:"squiggly",name:"Squiggly",matchScore:t=>t.type===R.SQUIGGLY?1:0,interaction:{exclusive:!1,textSelection:!0,isDraggable:!1,isResizable:!1},defaults:{type:R.SQUIGGLY,color:"#E44234",opacity:1}},{id:"ink",name:"Pen",matchScore:t=>t.type===R.INK&&t.intent!=="InkHighlight"?5:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!0,lockAspectRatio:!1},defaults:{type:R.INK,color:"#E44234",opacity:1,strokeWidth:6}},{id:"inkHighlighter",name:"Ink Highlighter",matchScore:t=>t.type===R.INK&&t.intent==="InkHighlight"?10:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!0,lockAspectRatio:!1},defaults:{type:R.INK,intent:"InkHighlight",color:"#FFCD45",opacity:1,strokeWidth:14,blendMode:X.Multiply}},{id:"circle",name:"Circle",matchScore:t=>t.type===R.CIRCLE?1:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!0,lockAspectRatio:!1},defaults:{type:R.CIRCLE,color:"transparent",opacity:1,strokeWidth:6,strokeColor:"#E44234",strokeStyle:at.SOLID},clickBehavior:{enabled:!0,defaultSize:{width:100,height:100}}},{id:"square",name:"Square",matchScore:t=>t.type===R.SQUARE?1:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!0,lockAspectRatio:!1},defaults:{type:R.SQUARE,color:"transparent",opacity:1,strokeWidth:6,strokeColor:"#E44234",strokeStyle:at.SOLID},clickBehavior:{enabled:!0,defaultSize:{width:100,height:100}}},{id:"line",name:"Line",matchScore:t=>t.type===R.LINE&&t.intent!=="LineArrow"?5:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!1,lockAspectRatio:!1},defaults:{type:R.LINE,color:"transparent",opacity:1,strokeWidth:6,strokeColor:"#E44234"},clickBehavior:{enabled:!0,defaultLength:100,defaultAngle:0}},{id:"lineArrow",name:"Arrow",matchScore:t=>t.type===R.LINE&&t.intent==="LineArrow"?10:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!1,lockAspectRatio:!1},defaults:{type:R.LINE,intent:"LineArrow",color:"transparent",opacity:1,strokeWidth:6,strokeColor:"#E44234",lineEndings:{start:G.None,end:G.OpenArrow}},clickBehavior:{enabled:!0,defaultLength:100,defaultAngle:0}},{id:"polyline",name:"Polyline",matchScore:t=>t.type===R.POLYLINE?1:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!1,lockAspectRatio:!1},defaults:{type:R.POLYLINE,color:"transparent",opacity:1,strokeWidth:6,strokeColor:"#E44234"}},{id:"polygon",name:"Polygon",matchScore:t=>t.type===R.POLYGON?1:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!1,lockAspectRatio:!1},defaults:{type:R.POLYGON,color:"transparent",opacity:1,strokeWidth:6,strokeColor:"#E44234"}},{id:"freeText",name:"Free Text",matchScore:t=>t.type===R.FREETEXT?1:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!0,lockAspectRatio:!1},defaults:{type:R.FREETEXT,contents:"Insert text",fontSize:14,fontColor:"#E44234",fontFamily:kt.Helvetica,textAlign:Dt.Left,verticalAlign:Wt.Top,backgroundColor:"transparent",opacity:1},clickBehavior:{enabled:!0,defaultSize:{width:100,height:20},defaultContent:"Insert text"}},{id:"stamp",name:"Image",matchScore:t=>t.type===R.STAMP?1:0,interaction:{exclusive:!1,cursor:"copy",isDraggable:!0,isResizable:!0,lockAspectRatio:!0},defaults:{type:R.STAMP}}],Uu=["#E44234","#FF8D00","#FFCD45","#5CC96E","#25D2D1","#597CE2","#C544CE","#7D2E25","#000000","#FFFFFF"];function En(t){return e=>e?.id===t}const Wu=En("highlight"),qu=En("squiggly"),Gu=En("underline"),Zu=En("strikeout"),Vu={manifest:Pu,create:(t,e)=>new Ko(rt,t,e),reducer:(t,e)=>{switch(e.type){case Hl:{const n={...t.pages},o={...t.byUid};for(const[i,r]of Object.entries(e.payload)){const a=Number(i),s=t.pages[a]||[];for(const d of s)delete o[d];const c=r.map((d=>{const u=d.id;return o[u]={commitState:"synced",object:d},u}));n[a]=c}return{...t,pages:n,byUid:o}}case Vl:return{...t,activeToolId:e.payload};case Xl:{const n=new Map(t.tools.map((o=>[o.id,o])));return n.set(e.payload.id,e.payload),{...t,tools:Array.from(n.values())}}case Yl:{const{toolId:n,patch:o}=e.payload;return{...t,tools:t.tools.map((i=>i.id===n?{...i,defaults:{...i.defaults,...o}}:i))}}case jl:return{...t,selectedUid:e.payload.id};case $l:return{...t,selectedUid:null};case Fl:return t.colorPresets.includes(e.payload)?t:{...t,colorPresets:[...t.colorPresets,e.payload]};case Ul:{const{pageIndex:n,annotation:o}=e.payload,i=o.id;return{...t,pages:{...t.pages,[n]:[...t.pages[n]??[],i]},byUid:{...t.byUid,[i]:{commitState:"new",object:o}},hasPendingChanges:!0}}case ql:{const{pageIndex:n,id:o}=e.payload;return t.byUid[o]?{...t,pages:{...t.pages,[n]:(t.pages[n]??[]).filter((i=>i!==o))},byUid:{...t.byUid,[o]:{...t.byUid[o],commitState:"deleted"}},hasPendingChanges:!0}:t}case Wl:return((n,o,i)=>{const r=n.byUid[o];return r?{...n,byUid:{...n.byUid,[o]:{...r,commitState:r.commitState==="synced"?"dirty":r.commitState,object:{...r.object,...i}}},hasPendingChanges:!0}:n})(t,e.payload.id,e.payload.patch);case Gl:{const n={};for(const[o,i]of Object.entries(t.byUid))n[o]={...i,commitState:i.commitState==="dirty"||i.commitState==="new"?"synced":i.commitState};return{...t,byUid:n,hasPendingChanges:!1}}case Zl:{const{uid:n}=e.payload,{[n]:o,...i}=t.byUid;return{...t,byUid:i}}default:return t}},initialState:(t,e)=>(n=>{const o=new Map;return Fu.forEach((i=>o.set(i.id,i))),(n.tools||[]).forEach((i=>o.set(i.id,i))),{pages:{},byUid:{},selectedUid:null,activeToolId:null,tools:Array.from(o.values()),colorPresets:n.colorPresets??Uu,hasPendingChanges:!1}})(e)},hs="INTERACTION/ACTIVATE_MODE",ps="INTERACTION/PAUSE",gs="INTERACTION/RESUME",fs="INTERACTION/SET_CURSOR",ms="INTERACTION/SET_DEFAULT_MODE",vs="INTERACTION/SET_EXCLUSION_RULES",ys="INTERACTION/ADD_EXCLUSION_CLASS",bs="INTERACTION/REMOVE_EXCLUSION_CLASS",ws="INTERACTION/ADD_EXCLUSION_ATTRIBUTE",xs="INTERACTION/REMOVE_EXCLUSION_ATTRIBUTE",cr=t=>({type:vs,payload:{rules:t}}),Kn="pointerMode",ks=class extends ft{constructor(t,e,n){super(t,e),this.modes=new Map,this.cursorClaims=new Map,this.buckets=new Map,this.alwaysGlobal=new Set,this.alwaysPage=new Map,this.onModeChange$=Nt(),this.onHandlerChange$=Nt(),this.onCursorChange$=Nt(),this.onStateChange$=J(),this.registerMode({id:Kn,scope:"page",exclusive:!1,cursor:"auto"}),this.setDefaultMode(Kn),this.activate(Kn),n.exclusionRules&&this.dispatch(cr(n.exclusionRules))}async initialize(t){}buildCapability(){return{activate:t=>this.activate(t),onModeChange:this.onModeChange$.on,onCursorChange:this.onCursorChange$.on,onHandlerChange:this.onHandlerChange$.on,onStateChange:this.onStateChange$.on,getActiveMode:()=>this.state.activeMode,getActiveInteractionMode:()=>this.getActiveInteractionMode(),activateDefaultMode:()=>this.activate(this.state.defaultMode),registerMode:t=>this.registerMode(t),registerHandlers:t=>this.registerHandlers(t),registerAlways:t=>this.registerAlways(t),setCursor:(t,e,n=0)=>this.setCursor(t,e,n),removeCursor:t=>this.removeCursor(t),getCurrentCursor:()=>this.state.cursor,getHandlersForScope:t=>this.getHandlersForScope(t),activeModeIsExclusive:()=>this.activeModeIsExclusive(),pause:()=>this.dispatch({type:ps}),resume:()=>this.dispatch({type:gs}),isPaused:()=>this.registry.isDestroyed()||this.state.paused,setDefaultMode:t=>this.setDefaultMode(t),getDefaultMode:()=>this.state.defaultMode,getExclusionRules:()=>this.state.exclusionRules,setExclusionRules:t=>this.dispatch(cr(t)),addExclusionClass:t=>this.dispatch((e=>({type:ys,payload:{className:e}}))(t)),removeExclusionClass:t=>this.dispatch((e=>({type:bs,payload:{className:e}}))(t)),addExclusionAttribute:t=>this.dispatch((e=>({type:ws,payload:{attribute:e}}))(t)),removeExclusionAttribute:t=>this.dispatch((e=>({type:xs,payload:{attribute:e}}))(t))}}activate(t){if(!this.modes.has(t))throw new Error(`[interaction] unknown mode '${t}'`);if(t===this.state.activeMode)return;const e=this.state.activeMode;this.cursorClaims.clear(),this.notifyHandlersInactive(e),this.dispatch((n=>({type:hs,payload:{mode:n}}))(t)),this.emitCursor(),this.notifyHandlersActive(t),this.onModeChange$.emit({...this.state,activeMode:t})}setDefaultMode(t){if(!this.modes.has(t))throw new Error(`[interaction] cannot set unknown mode '${t}' as default`);this.dispatch({type:ms,payload:{mode:t}})}notifyHandlersActive(t){this.alwaysGlobal.forEach((o=>{var i;(i=o.onHandlerActiveStart)==null||i.call(o,t)})),this.alwaysPage.forEach((o=>{o.forEach((i=>{var r;(r=i.onHandlerActiveStart)==null||r.call(i,t)}))}));const e=this.modes.get(t);if(!e)return;const n=this.buckets.get(t);n&&(e.scope==="global"&&n.global.forEach((o=>{var i;(i=o.onHandlerActiveStart)==null||i.call(o,t)})),e.scope==="page"&&n.page.forEach(((o,i)=>{o.forEach((r=>{var a;(a=r.onHandlerActiveStart)==null||a.call(r,t)}))})))}notifyHandlersInactive(t){this.alwaysGlobal.forEach((o=>{var i;(i=o.onHandlerActiveEnd)==null||i.call(o,t)})),this.alwaysPage.forEach((o=>{o.forEach((i=>{var r;(r=i.onHandlerActiveEnd)==null||r.call(i,t)}))}));const e=this.modes.get(t);if(!e)return;const n=this.buckets.get(t);n&&(e.scope==="global"&&n.global.forEach((o=>{var i;(i=o.onHandlerActiveEnd)==null||i.call(o,t)})),e.scope==="page"&&n.page.forEach(((o,i)=>{o.forEach((r=>{var a;(a=r.onHandlerActiveEnd)==null||a.call(r,t)}))})))}registerMode(t){this.modes.set(t.id,t),this.buckets.has(t.id)||this.buckets.set(t.id,{global:new Set,page:new Map})}registerHandlers({modeId:t,handlers:e,pageIndex:n}){const o=Array.isArray(t)?t:[t],i=[];for(const r of o){const a=this.buckets.get(r);if(!a)throw new Error(`unknown mode '${r}'`);if(n==null)a.global.add(e);else{const s=a.page.get(n)??new Set;s.add(e),a.page.set(n,s)}i.push((()=>{if(n==null)a.global.delete(e);else{const s=a.page.get(n);s&&(s.delete(e),s.size===0&&a.page.delete(n))}}))}return this.onHandlerChange$.emit({...this.state}),()=>{i.forEach((r=>r())),this.onHandlerChange$.emit({...this.state})}}registerAlways({scope:t,handlers:e}){if(t.type==="global")return this.alwaysGlobal.add(e),this.onHandlerChange$.emit({...this.state}),()=>this.alwaysGlobal.delete(e);const n=this.alwaysPage.get(t.pageIndex)??new Set;return n.add(e),this.alwaysPage.set(t.pageIndex,n),this.onHandlerChange$.emit({...this.state}),()=>{n.delete(e),this.onHandlerChange$.emit({...this.state})}}getHandlersForScope(t){if(!this.state)return null;const e=this.modes.get(this.state.activeMode);if(!e)return null;const n=this.buckets.get(e.id);if(!n)return null;const o=(i,r)=>i.size||r.size?(function(a){const s=["onPointerDown","onPointerUp","onPointerMove","onPointerEnter","onPointerLeave","onPointerCancel","onMouseDown","onMouseUp","onMouseMove","onMouseEnter","onMouseLeave","onMouseCancel","onClick","onDoubleClick"],c={};for(const d of s)c[d]=(u,p,h)=>{var g;for(const f of a)(g=f[d])==null||g.call(f,u,p,h)};return c})([...i,...r]):null;if(t.type==="global"){const i=e.scope==="global"?n.global:new Set;return o(this.alwaysGlobal,i)}return o(this.alwaysPage.get(t.pageIndex)??new Set,e.scope==="page"?n.page.get(t.pageIndex)??new Set:new Set)}setCursor(t,e,n=0){this.cursorClaims.set(t,{cursor:e,priority:n}),this.emitCursor()}removeCursor(t){this.cursorClaims.delete(t),this.emitCursor()}emitCursor(){var t;const e=[...this.cursorClaims.values()].sort(((o,i)=>i.priority-o.priority))[0]??{cursor:((t=this.modes.get(this.state.activeMode))==null?void 0:t.cursor)??"auto"};var n;e.cursor!==this.state.cursor&&(this.dispatch((n=e.cursor,{type:fs,payload:{cursor:n}})),this.onCursorChange$.emit(e.cursor))}onStoreUpdated(t,e){this.onStateChange$.emit(e)}activeModeIsExclusive(){const t=this.modes.get(this.state.activeMode);return!!t?.exclusive}getActiveInteractionMode(){return this.modes.get(this.state.activeMode)??null}async destroy(){this.onModeChange$.clear(),this.onCursorChange$.clear(),await super.destroy()}};ks.id="interaction-manager";let Qo=ks;const Xt="interaction-manager",Cs={activeMode:"pointerMode",defaultMode:"pointerMode",cursor:"auto",paused:!1,exclusionRules:{classes:[],dataAttributes:[]}},Yu={manifest:{id:Xt,name:"Interaction Manager Plugin",version:"1.0.0",provides:["interaction-manager"],requires:[],optional:[],defaultConfig:{enabled:!0,exclusionRules:{classes:[],dataAttributes:["data-no-interaction"]}}},create:(t,e)=>new Qo(Xt,t,e),reducer:(t,e)=>{switch(e.type){case hs:return{...t,activeMode:e.payload.mode};case fs:return{...t,cursor:e.payload.cursor};case ps:return{...t,paused:!0};case gs:return{...t,paused:!1};case ms:return{...t,defaultMode:e.payload.mode};case vs:return{...t,exclusionRules:e.payload.rules};case ys:return{...t,exclusionRules:{...t.exclusionRules,classes:[...t.exclusionRules.classes||[],e.payload.className].filter(((n,o,i)=>i.indexOf(n)===o))}};case bs:return{...t,exclusionRules:{...t.exclusionRules,classes:(t.exclusionRules.classes||[]).filter((n=>n!==e.payload.className))}};case ws:return{...t,exclusionRules:{...t.exclusionRules,dataAttributes:[...t.exclusionRules.dataAttributes||[],e.payload.attribute].filter(((n,o,i)=>i.indexOf(n)===o))}};case xs:return{...t,exclusionRules:{...t.exclusionRules,dataAttributes:(t.exclusionRules.dataAttributes||[]).filter((n=>n!==e.payload.attribute))}};default:return t}},initialState:Cs},Ye=()=>bt(Qo.id),Xu={pointerdown:"onPointerDown",pointerup:"onPointerUp",pointermove:"onPointerMove",pointerenter:"onPointerEnter",pointerleave:"onPointerLeave",pointercancel:"onPointerCancel",mousedown:"onMouseDown",mouseup:"onMouseUp",mousemove:"onMouseMove",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousecancel:"onMouseCancel",click:"onClick",dblclick:"onDoubleClick",touchstart:"onPointerDown",touchend:"onPointerUp",touchmove:"onPointerMove",touchcancel:"onPointerCancel"},dr=["pointerdown","pointerup","pointermove","pointerenter","pointerleave","pointercancel","mousedown","mouseup","mousemove","mouseenter","mouseleave","mousecancel","click","dblclick"],ur=typeof PointerEvent<"u"?dr:[...dr,"touchstart","touchend","touchmove","touchcancel"];function hr(t){return typeof TouchEvent<"u"&&t instanceof TouchEvent}function Ss(t,e,n,o){let i=t.getHandlersForScope(e);const r=()=>{var y;return((y=t.getActiveInteractionMode())==null?void 0:y.wantsRawTouch)!==!1},a={};let s=r();const c=y=>{ur.forEach((b=>{const w=a[b]??(a[b]=v);var x;n.addEventListener(b,w,(x=y,b.startsWith("touch")?{passive:!x}:{passive:!1}))}))},d=()=>{ur.forEach((y=>{const b=a[y];b&&n.removeEventListener(y,b)}))};c(s),n.style.touchAction=s?"none":"";const u=t.onModeChange((()=>{if(e.type==="global"){const b=t.getActiveInteractionMode();n.style.cursor=b?.scope==="global"?b.cursor??"auto":"auto"}i=t.getHandlersForScope(e);const y=r();y!==s&&(d(),c(y),s=y,n.style.touchAction=s?"none":"")})),p=t.onHandlerChange((()=>{i=t.getHandlersForScope(e)})),h=t.getActiveInteractionMode(),g=t.getCurrentCursor();n.style.cursor=e.type==="global"&&h?.scope!=="global"?"auto":g;const f=t.onCursorChange((y=>{var b;e.type==="global"&&((b=t.getActiveInteractionMode())==null?void 0:b.scope)!=="global"||(n.style.cursor=y)})),m=(y,b)=>{if(o)return o(y,b);const w=b.getBoundingClientRect();return{x:y.clientX-w.left,y:y.clientY-w.top}};function v(y){var b;if(t.isPaused())return;const w=t.getExclusionRules();if(y.target&&(function(P,I){var A,O,L;if(!P)return!1;let F=P;for(;F;){if((A=I.classes)!=null&&A.length){for(const W of I.classes)if((O=F.classList)!=null&&O.contains(W))return!0}if((L=I.dataAttributes)!=null&&L.length){for(const W of I.dataAttributes)if(F.hasAttribute(W))return!0}F=F.parentElement}return!1})(y.target,w))return;const x=Xu[y.type];if(!x||!i?.[x])return;let k,M;if(hr(y)&&s&&(y.type==="touchmove"||y.type==="touchcancel")&&y.preventDefault(),hr(y)){const P=y.type==="touchend"||y.type==="touchcancel"?y.changedTouches[0]:y.touches[0];if(!P)return;k=m(P,n),M={clientX:P.clientX,clientY:P.clientY,ctrlKey:y.ctrlKey,shiftKey:y.shiftKey,altKey:y.altKey,metaKey:y.metaKey,target:y.target,currentTarget:y.currentTarget,setPointerCapture:()=>{},releasePointerCapture:()=>{}}}else{const P=y;k=m(P,n),M={clientX:P.clientX,clientY:P.clientY,ctrlKey:P.ctrlKey,shiftKey:P.shiftKey,altKey:P.altKey,metaKey:P.metaKey,target:P.target,currentTarget:P.currentTarget,setPointerCapture:()=>{var I,A;(A=(I=P.target)==null?void 0:I.setPointerCapture)==null||A.call(I,P.pointerId)},releasePointerCapture:()=>{var I,A;(A=(I=P.target)==null?void 0:I.releasePointerCapture)==null||A.call(I,P.pointerId)}}}(b=i[x])==null||b.call(i,k,M,t.getActiveMode())}return()=>{d(),u(),f(),p()}}const Ku=({children:t,style:e,...n})=>{const o=Z(null),{provides:i}=Ye();return E((()=>{if(i&&o.current)return Ss(i,{type:"global"},o.current)}),[i]),S("div",{ref:o,style:{width:"100%",height:"100%",...e},...n,children:t})},Qu=({pageIndex:t,children:e,pageWidth:n,pageHeight:o,rotation:i,scale:r,convertEventToPoint:a,style:s,...c})=>{const d=Z(null),{provides:u}=Ye(),p=(function(){const{provides:g}=Ye(),[f,m]=D((()=>{const v=g?.getActiveInteractionMode();return v?.scope==="page"&&!!v.exclusive}));return E((()=>{if(g)return g.onModeChange((()=>{const v=g.getActiveInteractionMode();m(v?.scope==="page"&&!!v?.exclusive)}))}),[g]),f})(),h=Ot(((g,f)=>{const m=f.getBoundingClientRect(),v={x:g.clientX-m.left,y:g.clientY-m.top};return(function(y,b,w,x){return hn(ta(y,b,(4-w)%4),1/x)})(No({width:n,height:o},i,1),v,i,r)}),[n,o,i,r]);return E((()=>{if(u&&d.current)return Ss(u,{type:"page",pageIndex:t},d.current,a||h)}),[u,t,a,h]),S("div",{ref:d,style:{position:"relative",width:n,height:o,...s},...c,children:[e,p&&S("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:10}})]})},Ju="onDblClick";function So({children:t,...e}){const{rect:n,rotation:o}=e,{matrix:i,width:r,height:a}=(function(c,d){const{width:u,height:p}=c.size;switch(d%4){case 1:return{matrix:`matrix(0, -1, 1, 0, 0, ${p})`,width:p,height:u};case 2:return{matrix:`matrix(-1, 0, 0, -1, ${u}, ${p})`,width:u,height:p};case 3:return{matrix:`matrix(0, 1, -1, 0, ${u}, 0)`,width:p,height:u};default:return{matrix:"matrix(1, 0, 0, 1, 0, 0)",width:u,height:p}}})(n,o),s=Z(null);return E((()=>{const c=s.current;if(!c)return;const d=p=>{p.stopPropagation()},u=p=>{p.stopPropagation()};return c.addEventListener("pointerdown",d,{capture:!0}),c.addEventListener("touchstart",u,{capture:!0}),()=>{c.removeEventListener("pointerdown",d,{capture:!0}),c.removeEventListener("touchstart",u,{capture:!0})}}),[]),S(tt,{children:t({menuWrapperProps:{style:{position:"absolute",left:n.origin.x,top:n.origin.y,transform:i,transformOrigin:"0 0",width:r,height:a,pointerEvents:"none",zIndex:3},ref:c=>{s.current=c}},matrix:i,rect:{origin:{x:n.origin.x,y:n.origin.y},size:{width:r,height:a}}})})}class th{constructor(e,n){this.config=e,this.onUpdate=n,this.state="idle",this.startPoint=null,this.startElement=null,this.activeHandle=null,this.currentPosition=null,this.activeVertexIndex=null,this.startVertices=[],this.currentVertices=[],this.currentVertices=e.vertices||[]}updateConfig(e){this.config={...this.config,...e},this.currentVertices=e.vertices||[]}startDrag(e,n){this.state="dragging",this.startPoint={x:e,y:n},this.startElement={...this.config.element},this.currentPosition={...this.config.element},this.onUpdate({state:"start",transformData:{type:"move",changes:{rect:this.startElement}}})}startResize(e,n,o){this.state="resizing",this.activeHandle=e,this.startPoint={x:n,y:o},this.startElement={...this.config.element},this.currentPosition={...this.config.element},this.onUpdate({state:"start",transformData:{type:"resize",changes:{rect:this.startElement},metadata:{handle:this.activeHandle,maintainAspectRatio:this.config.maintainAspectRatio}}})}startVertexEdit(e,n,o){this.currentVertices=[...this.config.vertices??this.currentVertices],e<0||e>=this.currentVertices.length||(this.state="vertex-editing",this.activeVertexIndex=e,this.startPoint={x:n,y:o},this.startVertices=[...this.currentVertices],this.onUpdate({state:"start",transformData:{type:"vertex-edit",changes:{vertices:this.startVertices},metadata:{vertexIndex:e}}}))}move(e,n){if(this.state!=="idle"&&this.startPoint){if(this.state==="dragging"&&this.startElement){const o=this.calculateDelta(e,n),i=this.calculateDragPosition(o);this.currentPosition=i,this.onUpdate({state:"move",transformData:{type:"move",changes:{rect:i}}})}else if(this.state==="resizing"&&this.activeHandle&&this.startElement){const o=this.calculateDelta(e,n),i=this.calculateResizePosition(o,this.activeHandle);this.currentPosition=i,this.onUpdate({state:"move",transformData:{type:"resize",changes:{rect:i},metadata:{handle:this.activeHandle,maintainAspectRatio:this.config.maintainAspectRatio}}})}else if(this.state==="vertex-editing"&&this.activeVertexIndex!==null){const o=this.calculateVertexPosition(e,n);this.currentVertices=o,this.onUpdate({state:"move",transformData:{type:"vertex-edit",changes:{vertices:o},metadata:{vertexIndex:this.activeVertexIndex}}})}}}end(){if(this.state==="idle")return;const e=this.state,n=this.activeHandle,o=this.activeVertexIndex;if(e==="vertex-editing")this.onUpdate({state:"end",transformData:{type:"vertex-edit",changes:{vertices:this.currentVertices},metadata:{vertexIndex:o||void 0}}});else{const i=this.getCurrentPosition();this.onUpdate({state:"end",transformData:{type:e==="dragging"?"move":"resize",changes:{rect:i},metadata:e==="dragging"?void 0:{handle:n||void 0,maintainAspectRatio:this.config.maintainAspectRatio}}})}this.reset()}cancel(){this.state!=="idle"&&(this.state==="vertex-editing"?this.onUpdate({state:"end",transformData:{type:"vertex-edit",changes:{vertices:this.startVertices},metadata:{vertexIndex:this.activeVertexIndex||void 0}}}):this.startElement&&this.onUpdate({state:"end",transformData:{type:this.state==="dragging"?"move":"resize",changes:{rect:this.startElement},metadata:this.state==="dragging"?void 0:{handle:this.activeHandle||void 0,maintainAspectRatio:this.config.maintainAspectRatio}}}),this.reset())}reset(){this.state="idle",this.startPoint=null,this.startElement=null,this.activeHandle=null,this.currentPosition=null,this.activeVertexIndex=null,this.startVertices=[]}getCurrentPosition(){return this.currentPosition||this.config.element}calculateDelta(e,n){if(!this.startPoint)return{x:0,y:0};const o={x:e-this.startPoint.x,y:n-this.startPoint.y};return this.transformDelta(o)}transformDelta(e){const{pageRotation:n=0,scale:o=1}=this.config,i=n*Math.PI/2,r=Math.cos(i),a=Math.sin(i),s=e.x/o,c=e.y/o;return{x:r*s+a*c,y:-a*s+r*c}}clampPoint(e){var n;const o=(n=this.config.constraints)==null?void 0:n.boundingBox;return o?{x:Math.max(0,Math.min(e.x,o.width)),y:Math.max(0,Math.min(e.y,o.height))}:e}calculateVertexPosition(e,n){if(this.activeVertexIndex===null)return this.startVertices;const o=this.calculateDelta(e,n),i=[...this.startVertices],r=i[this.activeVertexIndex],a={x:r.x+o.x,y:r.y+o.y};return i[this.activeVertexIndex]=this.clampPoint(a),i}calculateDragPosition(e){if(!this.startElement)return this.config.element;const n={origin:{x:this.startElement.origin.x+e.x,y:this.startElement.origin.y+e.y},size:{width:this.startElement.size.width,height:this.startElement.size.height}};return this.applyConstraints(n)}calculateResizePosition(e,n){var o;if(!this.startElement)return this.config.element;let{origin:{x:i,y:r},size:{width:a,height:s}}=this.startElement;switch(n){case"se":a+=e.x,s+=e.y;break;case"sw":i+=e.x,a-=e.x,s+=e.y;break;case"ne":a+=e.x,r+=e.y,s-=e.y;break;case"nw":i+=e.x,a-=e.x,r+=e.y,s-=e.y;break;case"n":r+=e.y,s-=e.y;break;case"s":s+=e.y;break;case"e":a+=e.x;break;case"w":i+=e.x,a-=e.x}if(this.config.maintainAspectRatio&&this.startElement){const d=this.startElement.size.width/this.startElement.size.height;if(["n","s","e","w"].includes(n))if(n==="n"||n==="s"){const u=s*d,p=u-a;a=u,i-=p/2}else{const u=a/d,p=u-s;s=u,n==="w"&&(i=this.startElement.origin.x+this.startElement.size.width-a),r-=p/2}else Math.abs(a-this.startElement.size.width)>Math.abs(s-this.startElement.size.height)?s=a/d:a=s*d,n.includes("w")&&(i=this.startElement.origin.x+this.startElement.size.width-a),n.includes("n")&&(r=this.startElement.origin.y+this.startElement.size.height-s)}const c=(o=this.config.constraints)==null?void 0:o.boundingBox;if(c)switch(n){case"e":a=Math.min(a,c.width-i);break;case"s":s=Math.min(s,c.height-r);break;case"se":a=Math.min(a,c.width-i),s=Math.min(s,c.height-r);break;case"w":i<0&&(a+=i,i=0);break;case"n":r<0&&(s+=r,r=0);break;case"sw":i<0&&(a+=i,i=0),s=Math.min(s,c.height-r);break;case"nw":i<0&&(a+=i,i=0),r<0&&(s+=r,r=0);break;case"ne":a=Math.min(a,c.width-i),r<0&&(s+=r,r=0)}return this.applyConstraints({origin:{x:i,y:r},size:{width:a,height:s}})}applyConstraints(e){const{constraints:n}=this.config;if(!n)return e;let{origin:{x:o,y:i},size:{width:r,height:a}}=e;return r=Math.max(n.minWidth||1,r),a=Math.max(n.minHeight||1,a),n.maxWidth&&(r=Math.min(n.maxWidth,r)),n.maxHeight&&(a=Math.min(n.maxHeight,a)),n.boundingBox&&(o=Math.max(0,Math.min(o,n.boundingBox.width-r)),i=Math.max(0,Math.min(i,n.boundingBox.height-a))),{origin:{x:o,y:i},size:{width:r,height:a}}}}function eh(t,e){return t==="n"||t==="s"?"ns-resize":t==="e"||t==="w"?"ew-resize":e%2==0?{nw:"nwse-resize",ne:"nesw-resize",sw:"nesw-resize",se:"nwse-resize"}[t]:{nw:"nesw-resize",ne:"nwse-resize",sw:"nwse-resize",se:"nesw-resize"}[t]}function nh(t,e,n){const o=-t/2;return n==="center"?o:n==="outside"?o-e:o+e}function oh(t){const{controller:e,resizeUI:n,vertexUI:o,includeVertices:i=!1,handleAttrs:r,vertexAttrs:a}=t,{dragProps:s,createResizeProps:c,createVertexProps:d}=(function(h){const{onUpdate:g,enabled:f=!0,...m}=h,v=Z(null),y=Z(g);E((()=>{y.current=g}),[g]),E((()=>{v.current?v.current.updateConfig(m):v.current=new th(m,(P=>{var I;return(I=y.current)==null?void 0:I.call(y,P)}))}),[m.element,m.constraints,m.maintainAspectRatio,m.pageRotation,m.scale,m.vertices]);const b=Ot((P=>{var I;f&&(P.preventDefault(),P.stopPropagation(),(I=v.current)==null||I.startDrag(P.clientX,P.clientY),P.currentTarget.setPointerCapture(P.pointerId))}),[f]),w=Ot((P=>{var I;P.preventDefault(),P.stopPropagation(),(I=v.current)==null||I.move(P.clientX,P.clientY)}),[]),x=Ot((P=>{var I,A,O;P.preventDefault(),P.stopPropagation(),(I=v.current)==null||I.end(),(O=(A=P.currentTarget).releasePointerCapture)==null||O.call(A,P.pointerId)}),[]),k=Ot((P=>({onPointerDown:I=>{var A;f&&(I.preventDefault(),I.stopPropagation(),(A=v.current)==null||A.startResize(P,I.clientX,I.clientY),I.currentTarget.setPointerCapture(I.pointerId))},onPointerMove:w,onPointerUp:x,onPointerCancel:x})),[f,w,x]),M=Ot((P=>({onPointerDown:I=>{var A;f&&(I.preventDefault(),I.stopPropagation(),(A=v.current)==null||A.startVertexEdit(P,I.clientX,I.clientY),I.currentTarget.setPointerCapture(I.pointerId))},onPointerMove:w,onPointerUp:x,onPointerCancel:x})),[f,w,x]);return{dragProps:f?{onPointerDown:b,onPointerMove:w,onPointerUp:x,onPointerCancel:x}:{},createResizeProps:k,createVertexProps:M}})(e),u=At((()=>(function(h,g={}){const{handleSize:f=8,spacing:m=1,offsetMode:v="outside",includeSides:y=!1,zIndex:b=3,rotationAwareCursor:w=!0}=g,x=(h.pageRotation??0)%4,k=M=>({[M]:nh(f,m,v)+"px"});return[["nw",{...k("top"),...k("left")}],["ne",{...k("top"),...k("right")}],["sw",{...k("bottom"),...k("left")}],["se",{...k("bottom"),...k("right")}],...y?[["n",{...k("top"),left:`calc(50% - ${f/2}px)`}],["s",{...k("bottom"),left:`calc(50% - ${f/2}px)`}],["w",{...k("left"),top:`calc(50% - ${f/2}px)`}],["e",{...k("right"),top:`calc(50% - ${f/2}px)`}]]:[]].map((([M,P])=>({handle:M,style:{position:"absolute",width:f+"px",height:f+"px",borderRadius:"50%",zIndex:b,cursor:w?eh(M,x):"default",touchAction:"none",...P},attrs:{"data-epdf-handle":M}})))})(e,n).map((h=>{var g;return{key:(g=h.attrs)==null?void 0:g["data-epdf-handle"],style:h.style,...c(h.handle),...h.attrs??{},...r?.(h.handle)??{}}}))),[e.element.origin.x,e.element.origin.y,e.element.size.width,e.element.size.height,e.scale,e.pageRotation,e.maintainAspectRatio,n?.handleSize,n?.spacing,n?.offsetMode,n?.includeSides,n?.zIndex,n?.rotationAwareCursor,c,r]),p=At((()=>i?(function(g,f={},m){const{vertexSize:v=12,zIndex:y=4}=f,b=g.element,w=g.scale??1;return(m??g.vertices??[]).map(((x,k)=>({handle:"nw",style:{position:"absolute",left:(x.x-b.origin.x)*w-v/2+"px",top:(x.y-b.origin.y)*w-v/2+"px",width:v+"px",height:v+"px",borderRadius:"50%",cursor:"pointer",zIndex:y,touchAction:"none"},attrs:{"data-epdf-vertex":k}})))})(e,o,e.vertices).map(((g,f)=>({key:f,style:g.style,...d(f),...g.attrs??{},...a?.(f)??{}}))):[]),[i,e.element.origin.x,e.element.origin.y,e.element.size.width,e.element.size.height,e.scale,e.vertices,o?.vertexSize,o?.zIndex,d,a]);return{dragProps:s,resize:u,vertices:p}}const ih={},Bt=()=>bt(Ko.id);function Ut({scale:t,pageIndex:e,rotation:n,pageWidth:o,pageHeight:i,trackedAnnotation:r,children:a,isSelected:s,isDraggable:c,isResizable:d,lockAspectRatio:u=!1,style:p={},vertexConfig:h,selectionMenu:g,outlineOffset:f=1,onDoubleClick:m,onSelect:v,zIndex:y=1,resizeUI:b,vertexUI:w,selectionOutlineColor:x="#007ACC",customAnnotationRenderer:k,...M}){const[P,I]=D(r.object),{provides:A}=Bt(),O=Z(null),L=P?{...r.object,...P}:r.object,F=b?.color??"#007ACC",W=w?.color??"#007ACC",q=b?.size??12,V=w?.size??12,{dragProps:z,vertices:T,resize:_}=oh({controller:{element:L.rect,vertices:h?.extractVertices(L),constraints:{minWidth:10,minHeight:10,boundingBox:{width:o/t,height:i/t}},maintainAspectRatio:u,pageRotation:n,scale:t,enabled:s,onUpdate:N=>{var j;if(!((j=N.transformData)!=null&&j.type))return;N.state==="start"&&(O.current=L);const B=N.transformData.type,ot=O.current??L,ct=N.transformData.changes.vertices?h?.transformAnnotation(ot,N.transformData.changes.vertices):{rect:N.transformData.changes.rect},mt=A?.transformAnnotation(ot,{type:B,changes:ct,metadata:N.transformData.metadata});mt&&I((pt=>({...pt,...mt}))),N.state==="end"&&mt&&(O.current=null,A?.updateAnnotation(e,r.object.id,mt))}},resizeUI:{handleSize:q,spacing:f,offsetMode:"outside",includeSides:!u,zIndex:y+1},vertexUI:{vertexSize:V,zIndex:y+2},includeVertices:!!h}),H=(function(N,{delay:j=300,tolerancePx:B=18}={}){const ot=Z({t:0,x:0,y:0}),ct=Ot((pt=>{if(!N||pt.pointerType==="mouse"||pt.isPrimary===!1)return;const zt=performance.now(),pe=pt.clientX,ae=pt.clientY,Ft=zt-ot.current.t<=j,et=pe-ot.current.x,De=ae-ot.current.y;Ft&&et*et+De*De<=B*B&&N?.(pt),ot.current={t:zt,x:pe,y:ae}}),[N,j,B]),mt=Ot((pt=>{N?.(pt)}),[N]);return N?{[Ju]:mt,onPointerUpCapture:ct}:{}})(m);return E((()=>{I(r.object)}),[r.object]),S("div",{"data-no-interaction":!0,children:[S("div",{...c&&s?z:{},...H,style:{position:"absolute",left:L.rect.origin.x*t,top:L.rect.origin.y*t,width:L.rect.size.width*t,height:L.rect.size.height*t,outline:s?`1px solid ${x}`:"none",outlineOffset:s?`${f}px`:"0px",pointerEvents:s?"auto":"none",touchAction:"none",cursor:s&&c?"move":"default",zIndex:y,...p},...M,children:[(()=>{const N=typeof a=="function"?a(L):a,j=k?.({annotation:L,children:N,isSelected:s,scale:t,rotation:n,pageWidth:o,pageHeight:i,pageIndex:e,onSelect:v});return j??N})(),s&&d&&_.map((({key:N,...j})=>b?.component?b.component({key:N,...j,backgroundColor:F}):S("div",{...j,style:{...j.style,backgroundColor:F}},N))),s&&T.map((({key:N,...j})=>w?.component?w.component({key:N,...j,backgroundColor:W}):S("div",{...j,style:{...j.style,backgroundColor:W}},N)))]}),S(So,{rect:{origin:{x:L.rect.origin.x*t,y:L.rect.origin.y*t},size:{width:L.rect.size.width*t,height:L.rect.size.height*t}},rotation:n,children:({rect:N,menuWrapperProps:j})=>g&&g({annotation:r,selected:s,rect:N,menuWrapperProps:j})})]})}function Ms({color:t="#FFFF00",opacity:e=.5,segmentRects:n,rect:o,scale:i,onClick:r,style:a}){return S(tt,{children:n.map(((s,c)=>S("div",{onPointerDown:r,onTouchStart:r,style:{position:"absolute",left:(o?s.origin.x-o.origin.x:s.origin.x)*i,top:(o?s.origin.y-o.origin.y:s.origin.y)*i,width:s.size.width*i,height:s.size.height*i,background:t,opacity:e,pointerEvents:r?"auto":"none",cursor:r?"pointer":"default",zIndex:r?1:void 0,...a}},c)))})}function Ps({color:t="#FFFF00",opacity:e=.5,segmentRects:n,rect:o,scale:i,onClick:r,style:a}){const s=2*i;return S(tt,{children:n.map(((c,d)=>S("div",{onPointerDown:r,onTouchStart:r,style:{position:"absolute",left:(o?c.origin.x-o.origin.x:c.origin.x)*i,top:(o?c.origin.y-o.origin.y:c.origin.y)*i,width:c.size.width*i,height:c.size.height*i,background:"transparent",pointerEvents:r?"auto":"none",cursor:r?"pointer":"default",zIndex:r?1:0,...a},children:S("div",{style:{position:"absolute",left:0,bottom:0,width:"100%",height:s,background:t,opacity:e,pointerEvents:"none"}})},d)))})}function Is({color:t="#FFFF00",opacity:e=.5,segmentRects:n,rect:o,scale:i,onClick:r,style:a}){const s=2*i;return S(tt,{children:n.map(((c,d)=>S("div",{onPointerDown:r,onTouchStart:r,style:{position:"absolute",left:(o?c.origin.x-o.origin.x:c.origin.x)*i,top:(o?c.origin.y-o.origin.y:c.origin.y)*i,width:c.size.width*i,height:c.size.height*i,background:"transparent",pointerEvents:r?"auto":"none",cursor:r?"pointer":"default",zIndex:r?1:0,...a},children:S("div",{style:{position:"absolute",left:0,top:"50%",width:"100%",height:s,background:t,opacity:e,transform:"translateY(-50%)",pointerEvents:"none"}})},d)))})}function Ts({color:t="#FFFF00",opacity:e=.5,segmentRects:n,rect:o,scale:i,onClick:r,style:a}){const s=2*i,c=6*i,d=`url("data:image/svg+xml;utf8,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="${c}" height="${2*s}" viewBox="0 0 ${c} ${2*s}">
      <path d="M0 ${s} Q ${c/4} 0 ${c/2} ${s} T ${c} ${s}"
            fill="none" stroke="${t}" stroke-width="${s}" stroke-linecap="round"/>
    </svg>`)}")`;return S(tt,{children:n.map(((u,p)=>S("div",{onPointerDown:r,onTouchStart:r,style:{position:"absolute",left:(o?u.origin.x-o.origin.x:u.origin.x)*i,top:(o?u.origin.y-o.origin.y:u.origin.y)*i,width:u.size.width*i,height:u.size.height*i,background:"transparent",pointerEvents:r?"auto":"none",cursor:r?"pointer":"default",zIndex:r?1:0,...a},children:S("div",{style:{position:"absolute",left:0,bottom:0,width:"100%",height:2*s,backgroundImage:d,backgroundRepeat:"repeat-x",backgroundSize:`${c}px ${2*s}px`,opacity:e,pointerEvents:"none"}})},p)))})}function As({isSelected:t,color:e="#000000",opacity:n=1,strokeWidth:o,inkList:i,rect:r,scale:a,onClick:s}){const c=At((()=>i.map((({points:p})=>{let h="";return p.forEach((({x:g,y:f},m)=>{const v=g-r.origin.x,y=f-r.origin.y;h+=(m===0?"M":"L")+v+" "+y+" "})),h.trim()}))),[i,r]),d=r.size.width*a,u=r.size.height*a;return S("svg",{style:{position:"absolute",width:d,height:u,pointerEvents:"none",zIndex:2,overflow:"visible"},width:d,height:u,viewBox:`0 0 ${r.size.width} ${r.size.height}`,children:c.map(((p,h)=>S("path",{d:p,fill:"none",opacity:n,onPointerDown:s,onTouchStart:s,style:{cursor:t?"move":"pointer",pointerEvents:t?"none":"visibleStroke",stroke:e,strokeWidth:o,strokeLinecap:"round",strokeLinejoin:"round"}},h)))})}function zs({isSelected:t,color:e="#000000",strokeColor:n,opacity:o=1,strokeWidth:i,strokeStyle:r=at.SOLID,strokeDashArray:a,rect:s,scale:c,onClick:d}){const{width:u,height:p,x:h,y:g}=At((()=>{const v=s.size.width,y=s.size.height;return{width:Math.max(v-i,0),height:Math.max(y-i,0),x:i/2,y:i/2}}),[s,i]),f=(u+i)*c,m=(p+i)*c;return S("svg",{style:{position:"absolute",width:f,height:m,pointerEvents:"none",zIndex:2},width:f,height:m,viewBox:`0 0 ${u+i} ${p+i}`,children:S("rect",{x:h,y:g,width:u,height:p,fill:e,opacity:o,onPointerDown:d,onTouchStart:d,style:{cursor:t?"move":"pointer",pointerEvents:t?"none":e==="transparent"?"visibleStroke":"visible",stroke:n??e,strokeWidth:i,...r===at.DASHED&&{strokeDasharray:a?.join(",")}}})})}function Rs({color:t="#000000",strokeColor:e,opacity:n=1,strokeWidth:o,strokeStyle:i=at.SOLID,strokeDashArray:r,rect:a,scale:s,onClick:c,isSelected:d}){const{width:u,height:p,cx:h,cy:g,rx:f,ry:m}=At((()=>{const b=a.size.width,w=a.size.height,x=Math.max(b-o,0),k=Math.max(w-o,0);return{width:b,height:w,cx:o/2+x/2,cy:o/2+k/2,rx:x/2,ry:k/2}}),[a,o]),v=u*s,y=p*s;return S("svg",{style:{position:"absolute",width:v,height:y,pointerEvents:"none",zIndex:2},width:v,height:y,viewBox:`0 0 ${u} ${p}`,children:S("ellipse",{cx:h,cy:g,rx:f,ry:m,fill:t,opacity:n,onPointerDown:c,onTouchStart:c,style:{cursor:d?"move":"pointer",pointerEvents:d?"none":t==="transparent"?"visibleStroke":"visible",stroke:e??t,strokeWidth:o,...i===at.DASHED&&{strokeDasharray:r?.join(",")}}})})}function Es({color:t="transparent",opacity:e=1,strokeWidth:n,strokeColor:o="#000000",strokeStyle:i=at.SOLID,strokeDashArray:r,rect:a,linePoints:s,lineEndings:c,scale:d,onClick:u,isSelected:p}){const{x1:h,y1:g,x2:f,y2:m}=At((()=>({x1:s.start.x-a.origin.x,y1:s.start.y-a.origin.y,x2:s.end.x-a.origin.x,y2:s.end.y-a.origin.y})),[s,a]),v=At((()=>{const w=Math.atan2(m-g,f-h);return{start:wn.createEnding(c?.start,n,w+Math.PI,h,g),end:wn.createEnding(c?.end,n,w,f,m)}}),[c,n,h,g,f,m]),y=a.size.width*d,b=a.size.height*d;return S("svg",{style:{position:"absolute",width:y,height:b,pointerEvents:"none",zIndex:2,overflow:"visible"},width:y,height:b,viewBox:`0 0 ${a.size.width} ${a.size.height}`,children:[S("line",{x1:h,y1:g,x2:f,y2:m,opacity:e,onPointerDown:u,onTouchStart:u,style:{cursor:p?"move":"pointer",pointerEvents:p?"none":"visibleStroke",stroke:o,strokeWidth:n,strokeLinecap:"butt",...i===at.DASHED&&{strokeDasharray:r?.join(",")}}}),v.start&&S("path",{d:v.start.d,transform:v.start.transform,onPointerDown:u,onTouchStart:u,stroke:o,style:{cursor:p?"move":"pointer",strokeWidth:n,strokeLinecap:"butt",pointerEvents:p?"none":v.start.filled?"visible":"visibleStroke",...i===at.DASHED&&{strokeDasharray:r?.join(",")}},fill:v.start.filled?t:"none"}),v.end&&S("path",{d:v.end.d,transform:v.end.transform,stroke:o,onPointerDown:u,onTouchStart:u,style:{cursor:p?"move":"pointer",strokeWidth:n,strokeLinecap:"butt",pointerEvents:p?"none":v.end.filled?"visible":"visibleStroke",...i===at.DASHED&&{strokeDasharray:r?.join(",")}},fill:v.end.filled?t:"none"})]})}function _s({rect:t,vertices:e,color:n="transparent",strokeColor:o="#000000",opacity:i=1,strokeWidth:r,scale:a,isSelected:s,onClick:c,lineEndings:d}){const u=At((()=>e.map((({x:m,y:v})=>({x:m-t.origin.x,y:v-t.origin.y})))),[e,t]),p=At((()=>{if(!u.length)return"";const[m,...v]=u;return`M ${m.x} ${m.y} `+v.map((y=>`L ${y.x} ${y.y} `)).join("").trim()}),[u]),h=At((()=>{if(u.length<2)return{start:null,end:null};const m=(b,w)=>Math.atan2(w.y-b.y,w.x-b.x),v=m(u[0],u[1]),y=m(u[u.length-2],u[u.length-1]);return{start:wn.createEnding(d?.start,r,v+Math.PI,u[0].x,u[0].y),end:wn.createEnding(d?.end,r,y,u[u.length-1].x,u[u.length-1].y)}}),[u,d,r]),g=t.size.width*a,f=t.size.height*a;return S("svg",{style:{position:"absolute",width:g,height:f,pointerEvents:"none",zIndex:2,overflow:"visible"},width:g,height:f,viewBox:`0 0 ${t.size.width} ${t.size.height}`,children:[S("path",{d:p,onPointerDown:c,onTouchStart:c,opacity:i,style:{fill:"none",stroke:o??n,strokeWidth:r,cursor:s?"move":"pointer",pointerEvents:s?"none":"visibleStroke",strokeLinecap:"butt",strokeLinejoin:"miter"}}),h.start&&S("path",{d:h.start.d,transform:h.start.transform,stroke:o,fill:h.start.filled?n:"none",onPointerDown:c,onTouchStart:c,style:{cursor:s?"move":"pointer",strokeWidth:r,pointerEvents:s?"none":h.start.filled?"visible":"visibleStroke",strokeLinecap:"butt"}}),h.end&&S("path",{d:h.end.d,transform:h.end.transform,stroke:o,fill:h.end.filled?n:"none",onPointerDown:c,onTouchStart:c,style:{cursor:s?"move":"pointer",strokeWidth:r,pointerEvents:s?"none":h.end.filled?"visible":"visibleStroke",strokeLinecap:"butt"}})]})}function Ns({rect:t,vertices:e,color:n="transparent",strokeColor:o="#000000",opacity:i=1,strokeWidth:r,strokeStyle:a=at.SOLID,strokeDashArray:s,scale:c,isSelected:d,onClick:u,currentVertex:p,handleSize:h=14}){const g=p?[...e,p]:e,f=At((()=>g.map((({x:w,y:x})=>({x:w-t.origin.x,y:x-t.origin.y})))),[g,t]),m=At((()=>{if(!f.length)return"";const[w,...x]=f,k=!!p;return(`M ${w.x} ${w.y} `+x.map((M=>`L ${M.x} ${M.y}`)).join(" ")+(k?"":" Z")).trim()}),[f,p]),v=p&&e.length>0,y=t.size.width*c,b=t.size.height*c;return S("svg",{style:{position:"absolute",width:y,height:b,pointerEvents:"none",zIndex:2,overflow:"visible"},width:y,height:b,viewBox:`0 0 ${t.size.width} ${t.size.height}`,children:[S("path",{d:m,onPointerDown:u,onTouchStart:u,opacity:i,style:{fill:p?"none":n,stroke:o??n,strokeWidth:r,cursor:d?"move":"pointer",pointerEvents:d?"none":n==="transparent"?"visibleStroke":"visible",strokeLinecap:"butt",strokeLinejoin:"miter",...a===at.DASHED&&{strokeDasharray:s?.join(",")}}}),v&&e.length>1&&S("path",{d:`M ${f[f.length-1].x} ${f[f.length-1].y} L ${f[0].x} ${f[0].y}`,fill:"none",style:{stroke:o,strokeWidth:r,strokeDasharray:"4,4",opacity:.7}}),v&&e.length>=2&&S("rect",{x:f[0].x-h/c/2,y:f[0].y-h/c/2,width:h/c,height:h/c,fill:o,opacity:.4,stroke:o,strokeWidth:r/2})]})}function rh({isSelected:t,isEditing:e,annotation:n,pageIndex:o,scale:i,onClick:r}){const a=Z(null),{provides:s}=Bt(),[c,d]=D(!1);E((()=>{if(e&&a.current){const v=a.current;v.focus();const y=window.getSelection();if(y){const b=document.createRange();b.selectNodeContents(v),b.collapse(!1),y.removeAllRanges(),y.addRange(b)}}}),[e]),Jr((()=>{try{const v=navigator,y=/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&v?.maxTouchPoints>1;d(y)}catch{d(!1)}}),[]);const u=n.object.fontSize*i,p=c&&e&&u>0&&u<16,h=p?16:u,g=p?u/16:1,f=p?100/g:100;return S("div",{style:{position:"absolute",width:n.object.rect.size.width*i,height:n.object.rect.size.height*i,cursor:t&&!e?"move":"default",pointerEvents:t&&!e?"none":"auto",zIndex:2},onPointerDown:r,onTouchStart:r,children:S("span",{ref:a,onBlur:()=>{s&&a.current&&s.updateAnnotation(o,n.object.id,{contents:a.current.innerText})},tabIndex:0,style:{color:n.object.fontColor,fontSize:h,fontFamily:(m=n.object.fontFamily,Sn(m).css),textAlign:jc(n.object.textAlign),flexDirection:"column",justifyContent:n.object.verticalAlign===Wt.Top?"flex-start":n.object.verticalAlign===Wt.Middle?"center":"flex-end",display:"flex",backgroundColor:n.object.backgroundColor,opacity:n.object.opacity,width:p?`${f}%`:"100%",height:p?`${f}%`:"100%",lineHeight:"1.18",overflow:"hidden",cursor:e?"text":"pointer",outline:"none",transform:p?`scale(${g})`:void 0,transformOrigin:"top left"},contentEditable:e,...ih,children:n.object.contents})});var m}function ah({pageIndex:t,annotation:e,scaleFactor:n=1,style:o,...i}){const{provides:r}=Bt(),[a,s]=D(null),c=Z(null),{width:d,height:u}=e.rect.size;return E((()=>{if(r){const p=r.renderAnnotation({pageIndex:t,annotation:e,options:{scaleFactor:n,dpr:window.devicePixelRatio}});return p.wait((h=>{const g=URL.createObjectURL(h);s(g),c.current=g}),ht),()=>{c.current?(URL.revokeObjectURL(c.current),c.current=null):p.abort({code:lt.Cancelled,message:"canceled render task"})}}}),[t,n,r,e.id,d,u]),S(tt,{children:a&&S("img",{src:a,onLoad:()=>{c.current&&(URL.revokeObjectURL(c.current),c.current=null)},...i,style:{width:"100%",height:"100%",display:"block",...o||{}}})})}function lh({isSelected:t,annotation:e,pageIndex:n,scale:o,onClick:i}){return S("div",{style:{position:"absolute",width:"100%",height:"100%",zIndex:2,pointerEvents:t?"none":"auto",cursor:"pointer"},onPointerDown:i,onTouchStart:i,children:S(ah,{pageIndex:n,annotation:{...e.object,id:e.object.id},scaleFactor:o})})}function sh(t){const{pageIndex:e,scale:n,selectionMenu:o}=t,{provides:i}=Bt(),{provides:r}=zn(),[a,s]=D([]),{register:c}=(function({modeId:m,pageIndex:v}){const{provides:y}=Ye();return{register:(b,w)=>{const x=w?.modeId??m,k=w?.pageIndex??v;return x?y?.registerHandlers({modeId:x,handlers:b,pageIndex:k}):y?.registerAlways({scope:k!==void 0?{type:"page",pageIndex:k}:{type:"global"},handlers:b})}}})({pageIndex:e}),[d,u]=D(null),[p,h]=D(null);E((()=>{i&&i.onStateChange((m=>{s(((v,y)=>(v.pages[y]??[]).map((b=>v.byUid[b])))(m,e)),u(((v,y)=>v.selectedUid&&(v.pages[y]??[]).includes(v.selectedUid)?v.byUid[v.selectedUid]:null)(m,e))}))}),[i]);const g=At((()=>({onPointerDown:(m,v)=>{v.target===v.currentTarget&&i&&(i.deselectAnnotation(),h(null))}})),[i]),f=Ot(((m,v)=>{m.stopPropagation(),i&&r&&(i.selectAnnotation(e,v.object.id),r.clear(),v.object.id!==p&&h(null))}),[i,r,p,e]);return E((()=>c(g)),[c,g]),S(tt,{children:a.map((m=>{const v=d?.object.id===m.object.id,y=p===m.object.id,b=i?.findToolForAnnotation(m.object);return Kl(m)?S(Ut,{trackedAnnotation:m,isSelected:v,isDraggable:b?.interaction.isDraggable??!0,isResizable:b?.interaction.isResizable??!0,lockAspectRatio:b?.interaction.lockAspectRatio??!1,selectionMenu:o,onSelect:w=>f(w,m),style:{mixBlendMode:Et(m.object.blendMode??X.Normal)},...t,children:w=>S(As,{...w,isSelected:v,scale:n,onClick:x=>f(x,m)})},m.object.id):ts(m)?S(Ut,{trackedAnnotation:m,isSelected:v,isDraggable:b?.interaction.isDraggable??!0,isResizable:b?.interaction.isResizable??!0,lockAspectRatio:b?.interaction.lockAspectRatio??!1,selectionMenu:o,onSelect:w=>f(w,m),style:{mixBlendMode:Et(m.object.blendMode??X.Normal)},...t,children:w=>S(zs,{...w,isSelected:v,scale:n,onClick:x=>f(x,m)})},m.object.id):Ql(m)?S(Ut,{trackedAnnotation:m,isSelected:v,isDraggable:b?.interaction.isDraggable??!0,isResizable:b?.interaction.isResizable??!0,lockAspectRatio:b?.interaction.lockAspectRatio??!1,selectionMenu:o,onSelect:w=>f(w,m),style:{mixBlendMode:Et(m.object.blendMode??X.Normal)},...t,children:w=>S(Rs,{...w,isSelected:v,scale:n,onClick:x=>f(x,m)})},m.object.id):is(m)?S(Ut,{trackedAnnotation:m,isSelected:v,isDraggable:b?.interaction.isDraggable??!1,isResizable:b?.interaction.isResizable??!1,lockAspectRatio:b?.interaction.lockAspectRatio??!1,selectionMenu:o,onSelect:w=>f(w,m),zIndex:0,style:{mixBlendMode:Et(m.object.blendMode??X.Normal)},...t,children:w=>S(Ps,{...w,scale:n,onClick:x=>f(x,m)})},m.object.id):rs(m)?S(Ut,{trackedAnnotation:m,isSelected:v,isDraggable:b?.interaction.isDraggable??!1,isResizable:b?.interaction.isResizable??!1,lockAspectRatio:b?.interaction.lockAspectRatio??!1,selectionMenu:o,onSelect:w=>f(w,m),zIndex:0,style:{mixBlendMode:Et(m.object.blendMode??X.Normal)},...t,children:w=>S(Is,{...w,scale:n,onClick:x=>f(x,m)})},m.object.id):as(m)?S(Ut,{trackedAnnotation:m,isSelected:v,isDraggable:b?.interaction.isDraggable??!1,isResizable:b?.interaction.isResizable??!1,lockAspectRatio:b?.interaction.lockAspectRatio??!1,selectionMenu:o,onSelect:w=>f(w,m),zIndex:0,style:{mixBlendMode:Et(m.object.blendMode??X.Normal)},...t,children:w=>S(Ts,{...w,scale:n,onClick:x=>f(x,m)})},m.object.id):os(m)?S(Ut,{trackedAnnotation:m,isSelected:v,isDraggable:b?.interaction.isDraggable??!1,isResizable:b?.interaction.isResizable??!1,lockAspectRatio:b?.interaction.lockAspectRatio??!1,selectionMenu:o,onSelect:w=>f(w,m),zIndex:0,style:{mixBlendMode:Et(m.object.blendMode??X.Multiply)},...t,children:w=>S(Ms,{...w,scale:n,onClick:x=>f(x,m)})},m.object.id):es(m)?S(Ut,{trackedAnnotation:m,isSelected:v,isDraggable:b?.interaction.isDraggable??!0,isResizable:b?.interaction.isResizable??!1,lockAspectRatio:b?.interaction.lockAspectRatio??!1,selectionMenu:o,onSelect:w=>f(w,m),vertexConfig:{extractVertices:w=>[w.linePoints.start,w.linePoints.end],transformAnnotation:(w,x)=>({...w,linePoints:{start:x[0],end:x[1]}})},style:{mixBlendMode:Et(m.object.blendMode??X.Normal)},...t,children:w=>S(tt,{children:S(Es,{...w,isSelected:v,scale:n,onClick:x=>f(x,m)})})},m.object.id):ns(m)?S(Ut,{trackedAnnotation:m,isSelected:v,isDraggable:b?.interaction.isDraggable??!0,isResizable:b?.interaction.isResizable??!1,lockAspectRatio:b?.interaction.lockAspectRatio??!1,selectionMenu:o,onSelect:w=>f(w,m),vertexConfig:{extractVertices:w=>w.vertices,transformAnnotation:(w,x)=>({...w,vertices:x})},style:{mixBlendMode:Et(m.object.blendMode??X.Normal)},...t,children:w=>S(tt,{children:S(_s,{...w,isSelected:v,scale:n,onClick:x=>f(x,m)})})},m.object.id):Jl(m)?S(Ut,{trackedAnnotation:m,isSelected:v,isDraggable:b?.interaction.isDraggable??!0,isResizable:b?.interaction.isResizable??!1,lockAspectRatio:b?.interaction.lockAspectRatio??!1,selectionMenu:o,onSelect:w=>f(w,m),vertexConfig:{extractVertices:w=>w.vertices,transformAnnotation:(w,x)=>({...w,vertices:x})},style:{mixBlendMode:Et(m.object.blendMode??X.Normal)},...t,children:w=>S(tt,{children:S(Ns,{...w,isSelected:v,scale:n,onClick:x=>f(x,m)})})},m.object.id):ls(m)?S(Ut,{trackedAnnotation:m,isSelected:v,isDraggable:(b?.interaction.isDraggable??!0)&&!y,isResizable:b?.interaction.isResizable??!0,lockAspectRatio:b?.interaction.lockAspectRatio??!1,selectionMenu:o,onSelect:w=>f(w,m),style:{mixBlendMode:Et(m.object.blendMode??X.Normal)},onDoubleClick:w=>{w.stopPropagation(),h(m.object.id)},...t,children:w=>S(rh,{isSelected:v,isEditing:y,annotation:{...m,object:w},pageIndex:e,scale:n,onClick:x=>f(x,m)})},m.object.id):ss(m)?S(Ut,{trackedAnnotation:m,isSelected:v,isDraggable:b?.interaction.isDraggable??!0,isResizable:b?.interaction.isResizable??!0,lockAspectRatio:b?.interaction.lockAspectRatio??!1,selectionMenu:o,onSelect:w=>f(w,m),style:{mixBlendMode:Et(m.object.blendMode??X.Normal)},...t,children:w=>S(lh,{isSelected:v,annotation:m,pageIndex:e,scale:n,onClick:x=>f(x,m)})},m.object.id):null}))})}function ch({pageIndex:t,scale:e}){var n,o,i,r,a,s,c,d,u,p,h,g;const{provides:f}=zn(),{provides:m}=Bt(),[v,y]=D([]),[b,w]=D(null),[x,k]=D(null);if(E((()=>{if(f)return f.onSelectionChange((()=>{y(f.getHighlightRectsForPage(t)),w(f.getBoundingRectForPage(t))}))}),[f,t]),E((()=>{if(m)return m.onActiveToolChange(k)}),[m]),!b||!x||!x.defaults)return null;switch(x.defaults.type){case R.UNDERLINE:return S("div",{style:{mixBlendMode:Et(((n=x.defaults)==null?void 0:n.blendMode)??X.Normal),pointerEvents:"none",position:"absolute",inset:0},children:S(Ps,{color:(o=x.defaults)==null?void 0:o.color,opacity:(i=x.defaults)==null?void 0:i.opacity,segmentRects:v,scale:e})});case R.HIGHLIGHT:return S("div",{style:{mixBlendMode:Et(((r=x.defaults)==null?void 0:r.blendMode)??X.Multiply),pointerEvents:"none",position:"absolute",inset:0},children:S(Ms,{color:(a=x.defaults)==null?void 0:a.color,opacity:(s=x.defaults)==null?void 0:s.opacity,segmentRects:v,scale:e})});case R.STRIKEOUT:return S("div",{style:{mixBlendMode:Et(((c=x.defaults)==null?void 0:c.blendMode)??X.Normal),pointerEvents:"none",position:"absolute",inset:0},children:S(Is,{color:(d=x.defaults)==null?void 0:d.color,opacity:(u=x.defaults)==null?void 0:u.opacity,segmentRects:v,scale:e})});case R.SQUIGGLY:return S("div",{style:{mixBlendMode:Et(((p=x.defaults)==null?void 0:p.blendMode)??X.Normal),pointerEvents:"none",position:"absolute",inset:0},children:S(Ts,{color:(h=x.defaults)==null?void 0:h.color,opacity:(g=x.defaults)==null?void 0:g.opacity,segmentRects:v,scale:e})});default:return null}}function dh({preview:t,scale:e}){const{bounds:n}=t,o={position:"absolute",left:n.origin.x*e,top:n.origin.y*e,width:n.size.width*e,height:n.size.height*e,pointerEvents:"none",zIndex:10};return t.type===R.CIRCLE?S("div",{style:o,children:S(Rs,{isSelected:!1,scale:e,...t.data})}):t.type===R.SQUARE?S("div",{style:o,children:S(zs,{isSelected:!1,scale:e,...t.data})}):t.type===R.POLYGON?S("div",{style:o,children:S(Ns,{isSelected:!1,scale:e,...t.data})}):t.type===R.POLYLINE?S("div",{style:o,children:S(_s,{isSelected:!1,scale:e,...t.data})}):t.type===R.LINE?S("div",{style:o,children:S(Es,{isSelected:!1,scale:e,...t.data})}):t.type===R.INK?S("div",{style:o,children:S(As,{isSelected:!1,scale:e,...t.data})}):t.type===R.FREETEXT?S("div",{style:o,children:S("div",{style:{width:"100%",height:"100%",border:`1px dashed ${t.data.fontColor||"#000000"}`,backgroundColor:"transparent"}})}):null}function uh({pageIndex:t,scale:e}){const{plugin:n}=$t(Ko.id),[o,i]=D(new Map),r=Z(null),a=Z(null),s=At((()=>({requestFile:({accept:c,onFile:d})=>{if(!r.current)return;const u=r.current;u.accept=c,u.onchange=p=>{var h;const g=(h=p.target.files)==null?void 0:h[0];g&&(d(g),u.value="")},u.click()},processImage:({source:c,maxWidth:d,maxHeight:u,onComplete:p})=>{const h=a.current;if(!h||!h.getContext)return;const g=h.getContext("2d");if(!g)return;const f=new Image;f.crossOrigin="Anonymous",f.onload=()=>{let{naturalWidth:m,naturalHeight:v}=f;const y=d?d/m:1,b=u?u/v:1,w=Math.min(y,b,1),x=m*w,k=v*w;h.width=x,h.height=k,g.drawImage(f,0,0,x,k);const M=g.getImageData(0,0,x,k);typeof c!="string"&&URL.revokeObjectURL(f.src),p({imageData:M,width:x,height:k})},f.src=typeof c=="string"?c:URL.createObjectURL(c)}})),[]);return E((()=>{if(n)return n.registerPageHandlers(t,e,{services:s,onPreview:(c,d)=>{i((u=>{const p=new Map(u);return d?p.set(c,d):p.delete(c),p}))}})}),[t,e,n,s]),S(tt,{children:[S("input",{ref:r,type:"file",style:{display:"none"}}),S("canvas",{ref:a,style:{display:"none"}}),Array.from(o.entries()).map((([c,d])=>S(dh,{preview:d,scale:e},c)))]})}function hh({style:t,pageIndex:e,scale:n,selectionMenu:o,resizeUI:i,vertexUI:r,pageWidth:a,pageHeight:s,rotation:c,selectionOutlineColor:d,customAnnotationRenderer:u,...p}){return S("div",{style:{...t},...p,children:[S(sh,{selectionMenu:o,pageIndex:e,scale:n,rotation:c,pageWidth:a,pageHeight:s,resizeUI:i,vertexUI:r,selectionOutlineColor:d,customAnnotationRenderer:u}),S(ch,{pageIndex:e,scale:n}),S(uh,{pageIndex:e,scale:n})]})}var pr,ph=["position"],Ls=function(){var t=U(D(!1),2),e=t[0],n=t[1],o=Z(null),i=Z(null);return E((function(){if(e){var r=function(a){o.current&&!o.current.contains(a.target)&&n(!1)};return document.addEventListener("click",r),function(){return document.removeEventListener("click",r)}}}),[e]),E((function(){e&&i.current&&i.current.scrollIntoView({block:"center",inline:"start"})}),[e]),{open:e,setOpen:n,rootRef:o,selectedItemRef:i}},Jo=function(t){var e=t.value,n=t.onChange,o=t.options,i=t.getOptionKey,r=t.renderValue,a=t.renderOption,s=t.triggerClass,c=s===void 0?"px-3 py-2":s,d=Ls(),u=d.open,p=d.setOpen,h=d.rootRef,g=d.selectedItemRef;return l("div",{ref:h,class:"relative inline-block w-full"},l("button",{type:"button",class:"flex w-full items-center justify-between gap-2 rounded border border-gray-300 bg-white ".concat(c),onClick:function(){return p((function(f){return!f}))}},r(e),l("svg",{class:"h-4 w-4 text-gray-600 dark:text-gray-300",viewBox:"0 0 20 20",fill:"currentColor"},l("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z",clipRule:"evenodd"}))),u&&l("div",{class:"absolute z-10 mt-1 max-h-60 w-full overflow-y-auto rounded border bg-white p-1 shadow-lg"},o.map((function(f){var m=i(f)===i(e);return l("button",{ref:m?g:null,key:i(f),class:"block w-full rounded text-left hover:bg-gray-100 ".concat(m?"bg-gray-100 dark:bg-gray-700":""),onClick:function(){n(f),p(!1)}},a(f,m))}))))},Kt=function(t){var e=t.value,n=t.min,o=n===void 0?0:n,i=t.max,r=i===void 0?1:i,a=t.step,s=a===void 0?.1:a,c=t.onChange;return l("input",{type:"range",class:"range-sm mb-2 h-1 w-full cursor-pointer appearance-none rounded-lg bg-gray-200",value:e,min:o,max:r,step:s,onInput:function(d){return c(parseFloat(d.target.value))}})},_t=function(t){var e=t.color,n=t.active,o=t.onSelect,i=(function(r){return r==="transparent"||/^rgba\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*0\s*\)$/i.test(r)||/^#([0-9a-f]{8})$/i.test(r)&&r.slice(-2).toLowerCase()==="00"||/^#([0-9a-f]{4})$/i.test(r)&&r.slice(-1).toLowerCase()==="0"})(e)?{backgroundColor:"#fff",backgroundImage:"linear-gradient(45deg, transparent 40%, red 40%, red 60%, transparent 60%)",backgroundSize:"100% 100%"}:{backgroundColor:e};return l("button",{title:e,class:"h-5 w-5 rounded-full border border-gray-400 ".concat(n?"outline outline-2 outline-offset-2 outline-blue-500":""),style:i,onClick:function(){return o(e)}})},gh=[{id:at.SOLID},{id:at.DASHED,dash:[6,2]},{id:at.DASHED,dash:[8,4]},{id:at.DASHED,dash:[3,3]},{id:at.DASHED,dash:[1,2]},{id:at.DASHED,dash:[4,2,1,2]},{id:at.DASHED,dash:[8,4,1,4]}],gr=function(t){return l("svg",{width:"80",height:"8",viewBox:"0 0 80 8"},l("line",{x1:"0",y1:"4",x2:"80",y2:"4",style:{strokeDasharray:t?.join(" "),stroke:"black",strokeWidth:"2"}}))},ti=function(t){return l(Jo,C(C({},t),{},{options:gh,getOptionKey:function(e){var n;return e.id+(((n=e.dash)===null||n===void 0?void 0:n.join("-"))||"")},renderValue:function(e){return gr(e.dash)},renderOption:function(e){return l("div",{class:"px-1 py-2"},gr(e.dash))}}))},fh=[G.None,G.Square,G.Circle,G.Diamond,G.OpenArrow,G.ClosedArrow,G.ROpenArrow,G.RClosedArrow,G.Butt,G.Slash],fr=function(t){var e,n=t.ending,o=t.position,i=Y(Y(Y(Y(Y(Y(Y(Y(Y({},G.Square,l("path",{d:"M68 -4 L76 -4 L76 4 L68 4 Z"})),G.Circle,l("circle",{cx:"72",cy:"0",r:"4"})),G.Diamond,l("path",{d:"M72 -5 L77 0 L72 5 L67 0 Z"})),G.OpenArrow,l("path",{d:"M67 -5 L77 0 L67 5",fill:"none"})),G.ClosedArrow,l("path",{d:"M67 -5 L77 0 L67 5 Z"})),G.ROpenArrow,l("path",{d:"M77 -5 L67 0 L77 5",fill:"none"})),G.RClosedArrow,l("path",{d:"M77 -5 L67 0 L77 5 Z"})),G.Butt,l("path",{d:"M72 -5 L72 5",fill:"none"})),G.Slash,l("path",{d:"M67 -5 L77 5",fill:"none"})),r=Y(Y(Y(Y(Y(Y(Y(Y(Y({},G.Square,68),G.Circle,68),G.Diamond,67),G.OpenArrow,76),G.ClosedArrow,67),G.ROpenArrow,67),G.RClosedArrow,67),G.Butt,72),G.Slash,72),a=i[n];return l("svg",{width:"80",height:"20",viewBox:"0 0 80 20",class:"text-black"},l("g",{transform:o==="start"?"rotate(180 40 10)":""},l("line",{x1:"4",y1:"10",x2:(e=r[n])!==null&&e!==void 0?e:77,y2:"10",stroke:"currentColor","stroke-width":"1.5"}),a&&l("g",{transform:"translate(0, 10)",fill:"currentColor",stroke:"currentColor","stroke-width":"1.5"},a)))},mr=function(t){var e=t.position,n=ue(t,ph);return l(Jo,C(C({},n),{},{options:fh,getOptionKey:function(o){return o},triggerClass:"px-3 py-1",renderValue:function(o){return l(fr,{ending:o,position:e})},renderOption:function(o){return l("div",{class:"px-1 py-1"},l(fr,{ending:o,position:e}))}}))},mh=function(t){return l(Jo,C(C({},t),{},{options:Uc,getOptionKey:function(e){return e},triggerClass:"px-2 py-1 text-sm",renderValue:function(e){return l("span",null,Pi(e))},renderOption:function(e){return l("div",{class:"px-2 py-1"},Pi(e))}}))},vh=function(t){var e=t.value,n=t.onChange,o=t.options,i=o===void 0?[8,9,10,11,12,14,16,18,24,36,48,72]:o,r=Ls(),a=r.open,s=r.setOpen,c=r.rootRef,d=r.selectedItemRef;return l("div",{ref:c,class:"relative w-full"},l("input",{type:"number",min:"1",class:"w-full rounded border border-gray-300 bg-white px-2 py-1 pr-7 text-sm",value:e,onInput:function(u){var p=parseInt(u.target.value,10);Number.isFinite(p)&&p>0&&n(p)},onClick:function(){return s(!0)}}),l("button",{type:"button",class:"absolute inset-y-0 right-1 flex items-center",onClick:function(){return s((function(u){return!u}))},tabIndex:-1},l("svg",{class:"h-4 w-4 text-gray-600",viewBox:"0 0 20 20",fill:"currentColor"},l("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z","clip-rule":"evenodd"}))),a&&l("div",{class:"absolute z-10 mt-1 max-h-48 w-full overflow-y-auto rounded border bg-white shadow-lg"},i.map((function(u){var p=u===e;return l("button",{ref:p?d:null,key:u,class:"block w-full px-2 py-1 text-left text-sm hover:bg-gray-100 ".concat(p?"bg-gray-100":""),onClick:function(){n(u),s(!1)}},u)}))))},sn=function(t){var e,n,o,i,r=t.selected,a=t.activeTool,s=t.colorPresets,c=Bt().provides;if(!c)return null;var d=r?.object,u=a?.defaults,p=!!d,h=p?d.color:(e=u?.color)!==null&&e!==void 0?e:"#FFFF00",g=p?d.opacity:(n=u?.opacity)!==null&&n!==void 0?n:1,f=p?(o=d.blendMode)!==null&&o!==void 0?o:X.Normal:(i=u?.blendMode)!==null&&i!==void 0?i:X.Normal,m=U(D(h),2),v=m[0],y=m[1],b=U(D(g),2),w=b[0],x=b[1],k=U(D(f),2),M=k[0],P=k[1];E((function(){return y(h)}),[h]),E((function(){return x(g)}),[g]),E((function(){return P(f)}),[f]);var I=qt(w,300);E((function(){return O({opacity:I})}),[I]);var A=function(L){y(L),O({color:L})};function O(L){c&&(p?c.updateAnnotation(d.pageIndex,d.id,L):a&&c.setToolDefaults(a.id,L))}return l(tt,null,l("section",{class:"mb-6"},l("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Color"),l("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},s.map((function(L){return l(_t,{key:L,color:L,active:L===v,onSelect:A})})))),l("section",{class:"mb-6"},l("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Opacity"),l(Kt,{value:w,min:.1,max:1,step:.05,onChange:x}),l("span",{class:"text-xs text-gray-500"},Math.round(100*w),"%")),l("section",{class:"mb-6"},l("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Blend mode"),l("select",{class:"w-full rounded border border-gray-300 bg-white px-2 py-1 text-sm",value:M,onChange:function(L){return F=parseInt(L.target.value,10),P(W=F),void O({blendMode:W});var F,W}},Wc.map((function(L){return l("option",{key:L.value,value:L.value},L.label)})))))},vr=function(t){var e,n,o,i,r,a=t.selected,s=t.activeTool,c=t.colorPresets,d=Bt().provides;if(!d)return null;var u=a?.object,p=s?.defaults,h=!!u,g=h?u.color:(e=p?.color)!==null&&e!==void 0?e:"#000000",f=h?u.strokeColor:(n=p?.strokeColor)!==null&&n!==void 0?n:"#000000",m=h?u.opacity:(o=p?.opacity)!==null&&o!==void 0?o:1,v=h?u.strokeWidth:(i=p?.strokeWidth)!==null&&i!==void 0?i:2,y=h?{id:u.strokeStyle,dash:u.strokeDashArray}:{id:(r=p?.strokeStyle)!==null&&r!==void 0?r:at.SOLID,dash:p?.strokeDashArray},b=U(D(g),2),w=b[0],x=b[1],k=U(D(f),2),M=k[0],P=k[1],I=U(D(m),2),A=I[0],O=I[1],L=U(D(v),2),F=L[0],W=L[1],q=U(D(y),2),V=q[0],z=q[1];E((function(){return x(g)}),[g]),E((function(){return P(f)}),[f]),E((function(){return O(m)}),[m]),E((function(){return W(v)}),[v]),E((function(){return z(y)}),[y]);var T=qt(A,300),_=qt(F,300);E((function(){return j({opacity:T})}),[T]),E((function(){return j({strokeWidth:_})}),[_]);var H=function(B){x(B),j({color:B})},N=function(B){P(B),j({strokeColor:B})};function j(B){d&&(h?d.updateAnnotation(u.pageIndex,u.id,B):s&&d.setToolDefaults(s.id,B))}return l(tt,null,l("section",{class:"mb-6"},l("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Fill color"),l("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},c.map((function(B){return l(_t,{key:B,color:B,active:B===w,onSelect:H})})),l(_t,{color:"transparent",active:w==="transparent",onSelect:H}))),l("section",{class:"mb-6"},l("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Opacity"),l(Kt,{value:A,min:.1,max:1,step:.05,onChange:O}),l("span",{class:"text-xs text-gray-500"},Math.round(100*A),"%")),l("section",{class:"mb-6"},l("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Stroke color"),l("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},c.map((function(B){return l(_t,{key:B,color:B,active:B===M,onSelect:N})})))),l("section",{class:"mb-6"},l("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Stroke style"),l(ti,{value:V,onChange:function(B){z(B),j({strokeStyle:B.id,strokeDashArray:B.dash})}})),l("section",{class:"mb-6"},l("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Stroke width"),l(Kt,{value:F,min:1,max:30,step:1,onChange:W}),l("span",{class:"text-xs text-gray-500"},F,"px")))},yr=function(t){var e,n,o,i,r,a,s,c=t.selected,d=t.activeTool,u=t.colorPresets,p=Bt().provides;if(!p)return null;var h=c?.object,g=d?.defaults,f=!!h,m=f?h.color:(e=g?.color)!==null&&e!==void 0?e:"#000000",v=f?h.strokeColor:(n=g?.strokeColor)!==null&&n!==void 0?n:"#000000",y=f?h.opacity:(o=g?.opacity)!==null&&o!==void 0?o:1,b=f?h.strokeWidth:(i=g?.strokeWidth)!==null&&i!==void 0?i:2,w=f?(r=h.lineEndings)!==null&&r!==void 0?r:{start:G.None,end:G.None}:(a=g?.lineEndings)!==null&&a!==void 0?a:{start:G.None,end:G.None},x=f?{id:h.strokeStyle,dash:h.strokeDashArray}:{id:(s=g?.strokeStyle)!==null&&s!==void 0?s:at.SOLID,dash:g?.strokeDashArray},k=U(D(m),2),M=k[0],P=k[1],I=U(D(v),2),A=I[0],O=I[1],L=U(D(y),2),F=L[0],W=L[1],q=U(D(b),2),V=q[0],z=q[1],T=U(D(x),2),_=T[0],H=T[1],N=U(D(w.start),2),j=N[0],B=N[1],ot=U(D(w.end),2),ct=ot[0],mt=ot[1];E((function(){return P(m)}),[m]),E((function(){return O(v)}),[v]),E((function(){return W(y)}),[y]),E((function(){return z(b)}),[b]),E((function(){return H(x)}),[x]),E((function(){return B(w.start)}),[w.start]),E((function(){return mt(w.end)}),[w.end]);var pt=qt(F,300),zt=qt(V,300);E((function(){return Ft({opacity:pt})}),[pt]),E((function(){return Ft({strokeWidth:zt})}),[zt]);var pe=function(et){P(et),Ft({color:et})},ae=function(et){O(et),Ft({strokeColor:et})};function Ft(et){p&&(f?p.updateAnnotation(h.pageIndex,h.id,et):d&&p.setToolDefaults(d.id,et))}return l(tt,null,l("section",{class:"mb-6"},l("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Stroke color"),l("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},u.map((function(et){return l(_t,{key:et,color:et,active:et===A,onSelect:ae})})),l(_t,{color:"transparent",active:A==="transparent",onSelect:ae}))),l("section",{class:"mb-6"},l("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Opacity"),l(Kt,{value:F,min:.1,max:1,step:.05,onChange:W}),l("span",{class:"text-xs text-gray-500"},Math.round(100*F),"%")),l("section",{class:"mb-6"},l("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Stroke style"),l(ti,{value:_,onChange:function(et){H(et),Ft({strokeStyle:et.id,strokeDashArray:et.dash})}})),l("section",{class:"mb-6"},l("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Stroke width"),l(Kt,{value:V,min:1,max:10,step:1,onChange:z}),l("span",{class:"text-xs text-gray-500"},V)),l("section",{class:"mb-6"},l("div",{class:"grid grid-cols-2 gap-4"},l("div",null,l("label",{class:"mb-3 block text-sm font-medium text-gray-900 dark:text-gray-200"},"Line start"),l(mr,{value:j,onChange:function(et){B(et),Ft({lineEndings:{start:et,end:ct}})},position:"start"})),l("div",null,l("label",{class:"mb-3 block text-sm font-medium text-gray-900 dark:text-gray-200"},"Line end"),l(mr,{value:ct,onChange:function(et){mt(et),Ft({lineEndings:{start:j,end:et}})},position:"end"})))),l("section",{class:"mb-6"},l("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Fill color"),l("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},u.map((function(et){return l(_t,{key:et,color:et,active:et===M,onSelect:pe})})),l(_t,{color:"transparent",active:M==="transparent",onSelect:pe}))))},yh=(Y(Y(Y(Y(Y(Y(Y(Y(Y(Y(pr={},R.INK,{component:function(t){var e,n,o,i,r,a,s=t.selected,c=t.activeTool,d=t.colorPresets,u=Bt().provides;if(!u)return null;var p=s?.object,h=c?.defaults,g=(e=(n=p?.color)!==null&&n!==void 0?n:h?.color)!==null&&e!==void 0?e:"#000000",f=(o=(i=p?.opacity)!==null&&i!==void 0?i:h?.opacity)!==null&&o!==void 0?o:1,m=(r=(a=p?.strokeWidth)!==null&&a!==void 0?a:h?.strokeWidth)!==null&&r!==void 0?r:2,v=U(D(g),2),y=v[0],b=v[1],w=U(D(f),2),x=w[0],k=w[1],M=U(D(m),2),P=M[0],I=M[1];E((function(){return b(g)}),[g]),E((function(){return k(f)}),[f]),E((function(){return I(m)}),[m]);var A=qt(x,300),O=qt(P,300);E((function(){return F({opacity:A})}),[A]),E((function(){return F({strokeWidth:O})}),[O]);var L=function(W){b(W),F({color:W})};function F(W){u&&(p?u.updateAnnotation(p.pageIndex,p.id,W):c&&u.setToolDefaults(c.id,W))}return l(tt,null,l("section",{class:"mb-6"},l("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Color"),l("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},d.map((function(W){return l(_t,{key:W,color:W,active:W===y,onSelect:L})})))),l("section",{class:"mb-6"},l("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Opacity"),l(Kt,{value:x,min:.1,max:1,step:.05,onChange:k}),l("span",{class:"text-xs text-gray-500"},Math.round(100*x),"%")),l("section",{class:"mb-6"},l("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Stroke width"),l(Kt,{value:P,min:1,max:30,step:1,onChange:I}),l("span",{class:"text-xs text-gray-500"},P,"px")))},title:"Ink"}),R.POLYGON,{component:function(t){var e,n,o,i,r,a=t.selected,s=t.activeTool,c=t.colorPresets,d=Bt().provides;if(!d)return null;var u=a?.object,p=s?.defaults,h=!!u,g=h?u.color:(e=p?.color)!==null&&e!==void 0?e:"#000000",f=h?u.strokeColor:(n=p?.strokeColor)!==null&&n!==void 0?n:"#000000",m=h?u.opacity:(o=p?.opacity)!==null&&o!==void 0?o:1,v=h?u.strokeWidth:(i=p?.strokeWidth)!==null&&i!==void 0?i:2,y=h?{id:u.strokeStyle,dash:u.strokeDashArray}:{id:(r=p?.strokeStyle)!==null&&r!==void 0?r:at.SOLID,dash:p?.strokeDashArray},b=U(D(g),2),w=b[0],x=b[1],k=U(D(f),2),M=k[0],P=k[1],I=U(D(m),2),A=I[0],O=I[1],L=U(D(v),2),F=L[0],W=L[1],q=U(D(y),2),V=q[0],z=q[1];E((function(){return x(g)}),[g]),E((function(){return P(f)}),[f]),E((function(){return O(m)}),[m]),E((function(){return W(v)}),[v]),E((function(){return z(y)}),[y]);var T=qt(A,300),_=qt(F,300);E((function(){return j({opacity:T})}),[T]),E((function(){return j({strokeWidth:_})}),[_]);var H=function(B){x(B),j({color:B})},N=function(B){P(B),j({strokeColor:B})};function j(B){d&&(h?d.updateAnnotation(u.pageIndex,u.id,B):s&&d.setToolDefaults(s.id,B))}return l(tt,null,l("section",{class:"mb-6"},l("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Stroke color"),l("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},c.map((function(B){return l(_t,{key:B,color:B,active:B===M,onSelect:N})})),l(_t,{color:"transparent",active:M==="transparent",onSelect:N}))),l("section",{class:"mb-6"},l("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Opacity"),l(Kt,{value:A,min:.1,max:1,step:.05,onChange:O}),l("span",{class:"text-xs text-gray-500"},Math.round(100*A),"%")),l("section",{class:"mb-6"},l("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Stroke style"),l(ti,{value:V,onChange:function(B){z(B),j({strokeStyle:B.id,strokeDashArray:B.dash})}})),l("section",{class:"mb-6"},l("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Stroke width"),l(Kt,{value:F,min:1,max:10,step:1,onChange:W}),l("span",{class:"text-xs text-gray-500"},F)),l("section",{class:"mb-6"},l("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Fill color"),l("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},c.map((function(B){return l(_t,{key:B,color:B,active:B===w,onSelect:H})})),l(_t,{color:"transparent",active:w==="transparent",onSelect:H}))))},title:"Polygon"}),R.SQUARE,{component:vr,title:"Square"}),R.CIRCLE,{component:vr,title:"Circle"}),R.LINE,{component:yr,title:function(t){var e;return((e=t.activeTool)===null||e===void 0?void 0:e.id)==="lineArrow"?"Arrow":"Line"}}),R.POLYLINE,{component:yr,title:"Polyline"}),R.HIGHLIGHT,{component:sn,title:"Highlight"}),R.UNDERLINE,{component:sn,title:"Underline"}),R.STRIKEOUT,{component:sn,title:"Strikeout"}),R.SQUIGGLY,{component:sn,title:"Squiggly"}),Y(Y(pr,R.FREETEXT,{component:function(t){var e,n,o,i,r,a,s,c=t.selected,d=t.activeTool,u=t.colorPresets,p=Bt().provides;if(!p)return null;var h=c?.object,g=d?.defaults,f=!!h,m=f?h.fontFamily:(e=g?.fontFamily)!==null&&e!==void 0?e:kt.Helvetica,v=Sn(m).family,y=nn(m),b=on(m),w=f?h.fontColor:(n=g?.fontColor)!==null&&n!==void 0?n:"#000000",x=f?h.opacity:(o=g?.opacity)!==null&&o!==void 0?o:1,k=f?h.backgroundColor:(i=g?.backgroundColor)!==null&&i!==void 0?i:"#000000",M=f?h.fontSize:(r=g?.fontSize)!==null&&r!==void 0?r:12,P=f?h.textAlign:(a=g?.textAlign)!==null&&a!==void 0?a:Dt.Left,I=f?h.verticalAlign:(s=g?.verticalAlign)!==null&&s!==void 0?s:Wt.Top,A=U(D(v),2),O=A[0],L=A[1],F=U(D(M),2),W=F[0],q=F[1],V=U(D(y),2),z=V[0],T=V[1],_=U(D(b),2),H=_[0],N=_[1],j=U(D(P),2),B=j[0],ot=j[1],ct=U(D(I),2),mt=ct[0],pt=ct[1],zt=U(D(w),2),pe=zt[0],ae=zt[1],Ft=U(D(x),2),et=Ft[0],De=Ft[1],ii=U(D(k),2),_n=ii[0],ri=ii[1];function le(K){p&&(f?p.updateAnnotation(h.pageIndex,h.id,K):d&&p.setToolDefaults(d.id,K))}E((function(){L(v),T(y),N(b)}),[v,y,b]),E((function(){return ae(w)}),[w]),E((function(){return De(x)}),[x]),E((function(){return ri(k)}),[k]),E((function(){return q(M)}),[M]),E((function(){return ot(P)}),[P]),E((function(){return pt(I)}),[I]);var ai=qt(et,300),li=qt(_n,300);E((function(){return le({opacity:ai})}),[ai]),E((function(){return le({backgroundColor:li})}),[li]);var pc=function(K){ae(K),le({fontColor:K})},si=function(K){ri(K),le({backgroundColor:K})},Nn=function(K,On,Bn){le({fontFamily:ge(K,{bold:On,italic:Bn})})},Ln=function(K){ot(K),le({textAlign:K})},Dn=function(K){pt(K),le({verticalAlign:K})};return l(tt,null,l("section",{class:"mb-6"},l("label",{class:"mb-2 block text-sm font-medium text-gray-900"},"Font"),l("div",{class:"mb-3 flex gap-2"},l(mh,{value:O,onChange:function(K){var On=nn(ge(K,{bold:!0,italic:!1})),Bn=on(ge(K,{bold:!1,italic:!0})),ci=!!On&&z,di=!!Bn&&H;L(K),T(ci),N(di),Nn(K,ci,di)}}),l("div",{class:"w-36"},l(vh,{value:W,onChange:function(K){!Number.isFinite(K)||K<=0||(q(K),le({fontSize:K}))}}))),l("div",{class:"flex gap-2"},l("button",{type:"button",title:"Bold",disabled:!nn(ge(O,{bold:!0,italic:!1})),onClick:function(){if(nn(ge(O,{bold:!0,italic:!1}))){var K=!z;T(K),Nn(O,K,H)}},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm font-bold ".concat(z?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},l(nt,{icon:"bold",size:18})),l("button",{type:"button",title:"Italic",disabled:!on(ge(O,{bold:!1,italic:!0})),onClick:function(){if(on(ge(O,{bold:!1,italic:!0}))){var K=!H;N(K),Nn(O,z,K)}},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm italic ".concat(H?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},l(nt,{icon:"italic",size:18})))),l("section",{class:"mb-6"},l("label",{class:"mb-2 block text-sm font-medium text-gray-900"},"Text alignment"),l("div",{class:"flex gap-2"},l("button",{type:"button",title:"Align left",onClick:function(){return Ln(Dt.Left)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(B===Dt.Left?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},l(nt,{icon:"alignLeft",size:18})),l("button",{type:"button",title:"Align center",onClick:function(){return Ln(Dt.Center)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(B===Dt.Center?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},l(nt,{icon:"alignCenter",size:18})),l("button",{type:"button",title:"Align right",onClick:function(){return Ln(Dt.Right)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(B===Dt.Right?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},l(nt,{icon:"alignRight",size:18})))),l("section",{class:"mb-6"},l("label",{class:"mb-2 block text-sm font-medium text-gray-900"},"Vertical alignment"),l("div",{class:"flex gap-2"},l("button",{type:"button",title:"Align top",onClick:function(){return Dn(Wt.Top)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(mt===Wt.Top?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},l(nt,{icon:"alignTop",size:18})),l("button",{type:"button",title:"Align middle",onClick:function(){return Dn(Wt.Middle)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(mt===Wt.Middle?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},l(nt,{icon:"alignMiddle",size:18})),l("button",{type:"button",title:"Align bottom",onClick:function(){return Dn(Wt.Bottom)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(mt===Wt.Bottom?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},l(nt,{icon:"alignBottom",size:18})))),l("section",{class:"mb-6"},l("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Font colour"),l("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},u.map((function(K){return l(_t,{key:K,color:K,active:K===pe,onSelect:pc})})))),l("section",{class:"mb-6"},l("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Background colour"),l("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},u.map((function(K){return l(_t,{key:K,color:K,active:K===_n,onSelect:si})})),l(_t,{color:"transparent",active:_n==="transparent",onSelect:si}))),l("section",{class:"mb-6"},l("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Opacity"),l(Kt,{value:et,min:.1,max:1,step:.05,onChange:De}),l("span",{class:"text-xs text-gray-500"},Math.round(100*et),"%")))},title:"Free text"}),R.STAMP,{component:function(t){return l("div",{className:"text-sm text-gray-500"},"There are no styles for stamps.")},title:"Stamp"})),br=function(){return l("div",{class:"flex flex-col items-center gap-2 p-4 text-gray-500"},l(nt,{icon:"palette",className:"h-18 w-18 text-gray-500"}),l("div",{className:"max-w-[150px] text-center text-sm text-gray-500"},"Select an annotation to see styles"))};function bh(t){var e=t.selectedAnnotation,n=t.activeToolId,o=t.colorPresets,i=Bt().provides;if(!i)return null;var r=null,a=null;if(e)r=i.findToolForAnnotation(e.object),a=e.object.type;else if(n){var s,c,d;a=(c=(d=r=(s=i.getTool(n))!==null&&s!==void 0?s:null)===null||d===void 0?void 0:d.defaults.type)!==null&&c!==void 0?c:null}if(a===null)return S(br,{});var u=yh[a];if(!u)return S(br,{});var p=u.component,h=u.title,g={selected:e,activeTool:r,colorPresets:o},f=typeof h=="function"?h(g):h;return S("div",{class:"h-full overflow-y-auto p-4",children:[f&&S("h2",{class:"text-md mb-4 font-medium",children:[f," ",e?"styles":"defaults"]}),S(p,C({},g))]})}const Ds=class extends ft{constructor(t,e){super(t,e),this.refreshPages$=Nt(),this.withForms=!1,this.withAnnotations=!1,this.coreStore.onAction(Ke,(n=>{this.refreshPages$.emit(n.payload)}))}async initialize(t){this.withForms=t.withForms??!1,this.withAnnotations=t.withAnnotations??!1}buildCapability(){return{renderPage:this.renderPage.bind(this),renderPageRect:this.renderPageRect.bind(this)}}onRefreshPages(t){return this.refreshPages$.on(t)}renderPage({pageIndex:t,options:e}){const n=this.coreState.core;if(!n.document)throw new Error("document does not open");const o=n.document.pages.find((r=>r.index===t));if(!o)throw new Error("page does not exist");const i={...e??{},withForms:e?.withForms??this.withForms,withAnnotations:e?.withAnnotations??this.withAnnotations};return this.engine.renderPage(n.document,o,i)}renderPageRect({pageIndex:t,rect:e,options:n}){const o=this.coreState.core;if(!o.document)throw new Error("document does not open");const i=o.document.pages.find((a=>a.index===t));if(!i)throw new Error("page does not exist");const r={...n??{},withForms:n?.withForms??this.withForms,withAnnotations:n?.withAnnotations??this.withAnnotations};return this.engine.renderPageRect(o.document,i,e,r)}};Ds.id="render";let Mo=Ds;const wr="render",wh={manifest:{id:wr,name:"Render Plugin",version:"1.0.0",provides:["render"],requires:[],optional:[],defaultConfig:{enabled:!0}},create:t=>new Mo(wr,t),reducer:()=>{},initialState:{}};function xh({pageIndex:t,scale:e,scaleFactor:n,dpr:o,style:i,...r}){const{provides:a}=bt(Mo.id),{plugin:s}=$t(Mo.id),c=e??n??1,[d,u]=D(null),p=Z(null),[h,g]=D(0);return E((()=>{if(s)return s.onRefreshPages((f=>{f.includes(t)&&g((m=>m+1))}))}),[s]),E((()=>{if(a){const f=a.renderPage({pageIndex:t,options:{scaleFactor:c,dpr:o||window.devicePixelRatio}});return f.wait((m=>{const v=URL.createObjectURL(m);u(v),p.current=v}),ht),()=>{p.current?(URL.revokeObjectURL(p.current),p.current=null):f.abort({code:lt.Cancelled,message:"canceled render task"})}}}),[t,c,o,a,h]),S(tt,{children:d&&S("img",{src:d,onLoad:()=>{p.current&&(URL.revokeObjectURL(p.current),p.current=null)},...r,style:{width:"100%",height:"100%",...i||{}}})})}const xn="rotate",kh={id:xn,name:"Rotate Plugin",version:"1.0.0",provides:["rotate"],requires:["loader"],optional:["spread"],defaultConfig:{enabled:!0}},Os=class extends ft{constructor(t,e,n){super(t,e),this.rotate$=J(),this.resetReady();const o=n.defaultRotation??this.coreState.core.rotation;this.setRotation(o),this.markReady()}async initialize(t){}setRotation(t){if(!this.coreState.core.pages)throw new Error("Pages not loaded");this.rotate$.emit(t),this.dispatchCoreAction((e=>({type:Qe,payload:e}))(t))}rotateForward(){const t=(this.coreState.core.rotation+1)%4;this.setRotation(t)}rotateBackward(){const t=(this.coreState.core.rotation+3)%4;this.setRotation(t)}buildCapability(){return{onRotateChange:this.rotate$.on,setRotation:t=>this.setRotation(t),getRotation:()=>this.coreState.core.rotation,rotateForward:()=>this.rotateForward(),rotateBackward:()=>this.rotateBackward()}}getMatrixAsString(t={w:0,h:0}){return(function(e,n,o){const[i,r,a,s,c,d]=(function(u,p,h){let g=1,f=0,m=0,v=1,y=0,b=0;switch(u){case 1:g=0,f=1,m=-1,v=0,y=h;break;case 2:g=-1,f=0,m=0,v=-1,y=p,b=h;break;case 3:g=0,f=-1,m=1,v=0,b=p}return[g,f,m,v,y,b]})(e,n,o);return`matrix(${i},${r},${a},${s},${c},${d})`})(this.coreState.core.rotation,t.w,t.h)}async destroy(){this.rotate$.clear(),super.destroy()}};Os.id="rotate";let Bs=Os;const Ch={manifest:kh,create:(t,e)=>new Bs(xn,t,e),reducer:()=>{},initialState:{}};function Sh({children:t,pageSize:e,style:n,...o}){const{plugin:i}=$t(Bs.id);return S("div",{...o,style:{position:"absolute",transformOrigin:"0 0",transform:i?.getMatrixAsString({w:e.width,h:e.height})||"matrix(1, 0, 0, 1, 0, 0)",...n},children:t})}const Hs="tiling",Mh={id:Hs,name:"Tiling Plugin",version:"1.0.0",provides:["tiling"],requires:["render","scroll","viewport"],optional:[],defaultConfig:{enabled:!0,tileSize:768,overlapPx:2.5,extraRings:0}},js="UPDATE_VISIBLE_TILES",$s="MARK_TILE_STATUS",Qn=t=>({type:js,payload:t}),xr=(t,e,n)=>({type:$s,payload:{pageIndex:t,tileId:e,status:n}});function kr({tileSize:t=768,overlapPx:e=2.5,extraRings:n=0,scale:o,rotation:i,page:r,metric:a}){const s=r.size.width*o,c=r.size.height*o,d=t-e,u=(function(M,P,I,A){return ea(Lo(M,P,(4-I)%4),1/A)})(No(r.size,i,o),{origin:{x:a.scaled.pageX,y:a.scaled.pageY},size:{width:a.scaled.visibleWidth,height:a.scaled.visibleHeight}},i,1),p=u.origin.x,h=u.origin.y,g=p+u.size.width,f=h+u.size.height,m=Math.floor((s-1)/d),v=Math.floor((c-1)/d),y=Math.max(0,Math.floor(p/d)-n),b=Math.min(m,Math.floor((g-1)/d)+n),w=Math.max(0,Math.floor(h/d)-n),x=Math.min(v,Math.floor((f-1)/d)+n),k=[];for(let M=y;M<=b;M++){const P=M*d,I=Math.min(t,s-P),A=P/o,O=I/o;for(let L=w;L<=x;L++){const F=L*d,W=Math.min(t,c-F),q=F/o,V=W/o;k.push({id:`p${r.index}-${o}-x${P}-y${F}-w${I}-h${W}`,col:M,row:L,pageRect:{origin:{x:A,y:q},size:{width:O,height:V}},screenRect:{origin:{x:P,y:F},size:{width:I,height:W}},status:"queued",srcScale:o,isFallback:!1})}}return k}const Fs=class extends ft{constructor(t,e,n){super(t,e),this.tileRendering$=J(),this.config=n,this.renderCapability=this.registry.getPlugin("render").provides(),this.scrollCapability=this.registry.getPlugin("scroll").provides(),this.viewportCapability=this.registry.getPlugin("viewport").provides(),this.scrollCapability.onScroll((o=>this.calculateVisibleTiles(o)),{mode:"throttle",wait:50,throttleMode:"trailing"}),this.coreStore.onAction(Ke,(o=>this.recalculateTiles(o.payload)))}async recalculateTiles(t){var e;const n=this.scrollCapability.getMetrics(this.viewportCapability.getMetrics()),o={},i=Date.now();for(const r of t){const a=n.pageVisibilityMetrics.find((c=>c.pageNumber===r+1));if(!a)continue;const s=(e=this.coreState.core.document)==null?void 0:e.pages[r];s&&(o[r]=kr({page:s,metric:a,scale:this.coreState.core.scale,rotation:this.coreState.core.rotation,tileSize:this.config.tileSize,overlapPx:this.config.overlapPx,extraRings:this.config.extraRings}).map((c=>({...c,id:`${c.id}-r${i}`}))))}Object.keys(o).length>0&&this.dispatch(Qn(o))}async initialize(){}onCoreStoreUpdated(t,e){t.core.scale!==e.core.scale&&this.calculateVisibleTiles(this.scrollCapability.getMetrics(this.viewportCapability.getMetrics()))}calculateVisibleTiles(t){var e;if(!this.config.enabled)return void this.dispatch(Qn([]));const n=this.coreState.core.scale,o=this.coreState.core.rotation,i={};for(const r of t.pageVisibilityMetrics){const a=r.pageNumber-1,s=(e=this.coreState.core.document)==null?void 0:e.pages[a];if(!s)continue;const c=kr({page:s,metric:r,scale:n,rotation:o,tileSize:this.config.tileSize,overlapPx:this.config.overlapPx,extraRings:this.config.extraRings});i[a]=c}this.dispatch(Qn(i))}onStoreUpdated(t,e){this.tileRendering$.emit(e.visibleTiles)}buildCapability(){return{renderTile:this.renderTile.bind(this),onTileRendering:this.tileRendering$.on}}renderTile(t){if(!this.renderCapability)throw new Error("Render capability not available.");this.dispatch(xr(t.pageIndex,t.tile.id,"rendering"));const e=this.renderCapability.renderPageRect({pageIndex:t.pageIndex,rect:t.tile.pageRect,options:{scaleFactor:t.tile.srcScale,dpr:t.dpr}});return e.wait((()=>{this.dispatch(xr(t.pageIndex,t.tile.id,"ready"))}),ht),e}};Fs.id="tiling";let Us=Fs;const Ph={manifest:Mh,create:(t,e)=>new Us(Hs,t,e),reducer:(t,e)=>((n,o)=>{var i,r;switch(o.type){case js:{const a=o.payload,s={...n.visibleTiles};for(const c in a){const d=Number(c),u=a[d],p=s[d]??[],h=(i=p.find((f=>!f.isFallback)))==null?void 0:i.srcScale,g=u[0].srcScale;if(h!==void 0&&h!==g){const f=p.filter((v=>!v.isFallback&&v.status==="ready")).map((v=>({...v,isFallback:!0}))),m=f.length>0?[]:p.filter((v=>v.isFallback));s[d]=[...m,...f,...u]}else{const f=new Set(u.map((y=>y.id))),m=[],v=new Set;for(const y of p)(y.isFallback||f.has(y.id))&&(m.push(y),v.add(y.id));for(const y of u)v.has(y.id)||m.push(y);s[d]=m}}return{...n,visibleTiles:s}}case $s:{const{pageIndex:a,tileId:s,status:c}=o.payload,d=((r=n.visibleTiles[a])==null?void 0:r.map((g=>g.id===s?{...g,status:c}:g)))??[],u=d.filter((g=>!g.isFallback)),p=u.every((g=>g.status==="ready")),h=p?u:d;return{...n,visibleTiles:{...n.visibleTiles,[a]:h}}}default:return n}})(t,e),initialState:{visibleTiles:{}}},Ws=()=>bt(Us.id);function Ih({pageIndex:t,tile:e,dpr:n,scale:o}){const{provides:i}=Ws(),[r,a]=D(),s=Z(null),c=o/e.srcScale;return E((()=>{if(e.status==="ready"&&s.current||!i)return;const d=i.renderTile({pageIndex:t,tile:e,dpr:n});return d.wait((u=>{const p=URL.createObjectURL(u);s.current=p,a(p)}),ht),()=>{s.current?(URL.revokeObjectURL(s.current),s.current=null):d.abort({code:lt.Cancelled,message:"canceled render task"})}}),[t,e.id]),r?S("img",{src:r,onLoad:()=>{s.current&&(URL.revokeObjectURL(s.current),s.current=null)},style:{position:"absolute",left:e.screenRect.origin.x*c,top:e.screenRect.origin.y*c,width:e.screenRect.size.width*c,height:e.screenRect.size.height*c,display:"block"}}):null}function Th({pageIndex:t,scale:e,style:n,...o}){const{provides:i}=Ws(),[r,a]=D([]);return E((()=>{if(i)return i.onTileRendering((s=>a(s[t])))}),[i]),S("div",{style:{...n},...o,children:r?.map((s=>S(Ih,{pageIndex:t,tile:s,dpr:window.devicePixelRatio,scale:e},s.id)))})}function Cr(t){var e=t.size,n=e===void 0?"md":e,o=t.className,i=o===void 0?"":o,r=t.text,a=r===void 0?"Loading...":r,s={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return l("div",{className:"flex flex-col items-center justify-center gap-3 ".concat(i)},l("div",{className:"relative"},l("div",{className:"".concat(s[n]," animate-spin rounded-full border-4 border-gray-200")}),l("div",{className:"".concat(s[n]," absolute left-0 top-0 animate-spin rounded-full border-4 border-transparent border-r-blue-500 border-t-blue-500")})),a&&l("p",{className:"".concat({sm:"text-sm",md:"text-base",lg:"text-lg"}[n]," animate-pulse font-medium text-gray-600")},a))}const ei="fullscreen",Ah={id:ei,name:"Fullscreen Plugin",version:"1.0.0",provides:["fullscreen"],requires:[],optional:[],defaultConfig:{enabled:!0}},qs="SET_FULLSCREEN",Gs=class extends ft{constructor(t,e){super(t,e),this.onStateChange$=J(),this.fullscreenRequest$=Nt()}async initialize(t){}buildCapability(){return{isFullscreen:()=>this.state.isFullscreen,enableFullscreen:()=>this.enableFullscreen(),exitFullscreen:()=>this.exitFullscreen(),toggleFullscreen:()=>this.toggleFullscreen(),onRequest:this.fullscreenRequest$.on,onStateChange:this.onStateChange$.on}}toggleFullscreen(){this.state.isFullscreen?this.exitFullscreen():this.enableFullscreen()}enableFullscreen(){this.fullscreenRequest$.emit("enter")}exitFullscreen(){this.fullscreenRequest$.emit("exit")}onStoreUpdated(t,e){this.onStateChange$.emit(e)}setFullscreenState(t){this.dispatch({type:qs,payload:t})}async destroy(){this.fullscreenRequest$.clear(),super.destroy()}};Gs.id="fullscreen";let Jn=Gs;const zh=Le({manifest:Ah,create:t=>new Jn(ei,t),reducer:(t,e)=>e.type===qs?{...t,isFullscreen:e.payload}:t,initialState:{isFullscreen:!1}}).addWrapper((function({children:t,...e}){const{provides:n}=bt(Jn.id),{plugin:o}=$t(Jn.id),i=Z(null);return E((()=>{if(n)return n.onRequest((async r=>{if(r==="enter"){const a=i.current;a&&!document.fullscreenElement&&await a.requestFullscreen()}else document.fullscreenElement&&await document.exitFullscreen()}))}),[n]),E((()=>{if(!o)return;const r=()=>o.setFullscreenState(!!document.fullscreenElement);return document.addEventListener("fullscreenchange",r),()=>document.removeEventListener("fullscreenchange",r)}),[o]),S("div",{...e,style:{position:"relative",width:"100%",height:"100%",...e.style},ref:i,children:t})})).build(),Zs=class extends ft{constructor(t,e,n){super(t,e),this.downloadRequest$=Nt(),this.config=n}async initialize(t){}buildCapability(){return{saveAsCopy:this.saveAsCopy.bind(this),download:this.download.bind(this)}}onRequest(t){return this.downloadRequest$.on(t)}download(){this.downloadRequest$.emit("download")}saveAsCopyAndGetBufferAndName(){const t=new Pt,e=this.coreState.core.document;return e?(this.saveAsCopy().wait((n=>{t.resolve({buffer:n,name:e.name??this.config.defaultFileName})}),t.fail),t):dt.reject({code:lt.DocNotOpen,message:"Document not found"})}saveAsCopy(){const t=this.coreState.core.document;return t?this.engine.saveAsCopy(t):dt.reject({code:lt.DocNotOpen,message:"Document not found"})}};Zs.id="export";let to=Zs;const Po="export",Rh=Le({manifest:{id:Po,name:"Export Plugin",version:"1.0.0",provides:["export"],requires:[],optional:[],defaultConfig:{enabled:!0,defaultFileName:"document.pdf"}},create:(t,e)=>new to(Po,t,e),reducer:()=>{},initialState:{}}).addUtility((function(t){const{provides:e}=bt(to.id),{plugin:n}=$t(to.id),o=Z(null);return E((()=>{if(e&&n)return n.onRequest((i=>{if(i==="download"){const r=o.current;if(!r)return;n.saveAsCopyAndGetBufferAndName().wait((({buffer:a,name:s})=>{const c=URL.createObjectURL(new Blob([a]));r.href=c,r.download=t.fileName??s,r.click(),URL.revokeObjectURL(c)}),ht)}}))}),[e,n]),S("a",{style:{display:"none"},ref:o})})).build(),Vs=class extends ft{constructor(t,e,n){var o,i;super(t,e),this.panMode$=J(),this.config=n,this.interactionManager=(o=e.getPlugin(Qo.id))==null?void 0:o.provides(),this.viewport=(i=e.getPlugin(Pn.id))==null?void 0:i.provides(),this.interactionManager&&(this.interactionManager.registerMode({id:"panMode",scope:"global",exclusive:!1,cursor:"grab",wantsRawTouch:!1}),this.unsubscribePanModeChange=this.interactionManager.onStateChange((r=>{r.activeMode==="panMode"?this.panMode$.emit(!0):this.panMode$.emit(!1)})),this.registerPanHandlers()),n.defaultMode==="always"&&this.makePanDefault(!0)}async initialize(t){}async destroy(){var t,e;(t=this.unregisterHandlers)==null||t.call(this),(e=this.unsubscribePanModeChange)==null||e.call(this),await super.destroy()}registerPanHandlers(){let t=null;const e={onMouseDown:(n,o)=>{const i=this.viewport.getMetrics();t={startX:o.clientX,startY:o.clientY,startLeft:i.scrollLeft,startTop:i.scrollTop},this.interactionManager.setCursor("panMode","grabbing",10)},onMouseMove:(n,o)=>{if(!t)return;const i=o.clientX-t.startX,r=o.clientY-t.startY;this.viewport.scrollTo({x:t.startLeft-i,y:t.startTop-r})},onMouseUp:()=>{t&&(t=null,this.interactionManager.removeCursor("panMode"))},onMouseLeave:()=>{t&&(t=null,this.interactionManager.removeCursor("panMode"))},onMouseCancel:()=>{t&&(t=null,this.interactionManager.removeCursor("panMode"))}};this.unregisterHandlers=this.interactionManager.registerHandlers({modeId:"panMode",handlers:e})}makePanDefault(t=!0){this.interactionManager&&(this.interactionManager.setDefaultMode("panMode"),t&&this.interactionManager.activateDefaultMode())}buildCapability(){return{onPanModeChange:this.panMode$.on,makePanDefault:(t=!0)=>this.makePanDefault(t),enablePan:()=>{var t;return(t=this.interactionManager)==null?void 0:t.activate("panMode")},disablePan:()=>{var t;return(t=this.interactionManager)==null?void 0:t.activateDefaultMode()},togglePan:()=>{var t,e,n;((t=this.interactionManager)==null?void 0:t.getActiveMode())==="panMode"?(e=this.interactionManager)==null||e.activateDefaultMode():(n=this.interactionManager)==null||n.activate("panMode")}}}};Vs.id="pan";let eo=Vs;const Eh=Le({manifest:{id:"pan",name:"Pan Plugin",version:"1.0.0",provides:["pan"],requires:["interaction-manager","viewport"],optional:[],defaultConfig:{enabled:!0,defaultMode:"mobile"}},create:(t,e)=>new eo("pan",t,e),reducer:()=>{},initialState:{}}).addUtility((()=>{const{provides:t}=bt(eo.id),{plugin:e}=$t(eo.id);return E((()=>{var n;if(!t||!e)return;const o=((n=e.config)==null?void 0:n.defaultMode)??"never",i=typeof window<"u"&&("ontouchstart"in window||navigator.maxTouchPoints>0);o==="mobile"&&i&&t.makePanDefault()}),[t,e]),null})).build(),ni="capture",_h={id:ni,name:"Capture Plugin",version:"1.0.0",provides:["capture"],requires:["render"],optional:["interaction-manager"],defaultConfig:{enabled:!0,scale:1,imageType:"image/png",withAnnotations:!1}},Ys=class extends ft{constructor(t,e,n){var o;super(t,e),this.captureArea$=Nt(),this.marqueeCaptureActive$=J(),this.config=n,this.renderCapability=this.registry.getPlugin("render").provides(),this.interactionManagerCapability=(o=this.registry.getPlugin("interaction-manager"))==null?void 0:o.provides(),this.interactionManagerCapability&&(this.interactionManagerCapability.registerMode({id:"marqueeCapture",scope:"page",exclusive:!0,cursor:"crosshair"}),this.interactionManagerCapability.onModeChange((i=>{i.activeMode==="marqueeCapture"?this.marqueeCaptureActive$.emit(!0):this.marqueeCaptureActive$.emit(!1)})))}async initialize(t){}buildCapability(){return{onCaptureArea:this.captureArea$.on,onMarqueeCaptureActiveChange:this.marqueeCaptureActive$.on,captureArea:this.captureArea.bind(this),enableMarqueeCapture:this.enableMarqueeCapture.bind(this),disableMarqueeCapture:this.disableMarqueeCapture.bind(this),toggleMarqueeCapture:this.toggleMarqueeCapture.bind(this),isMarqueeCaptureActive:()=>{var t;return((t=this.interactionManagerCapability)==null?void 0:t.getActiveMode())==="marqueeCapture"},registerMarqueeOnPage:t=>this.registerMarqueeOnPage(t)}}registerMarqueeOnPage(t){if(!this.interactionManagerCapability)return this.logger.warn("CapturePlugin","MissingDependency","Interaction manager plugin not loaded, marquee capture disabled"),()=>{};const e=this.coreState.core.document;if(!e)return this.logger.warn("CapturePlugin","DocumentNotFound","Document not found"),()=>{};const n=e.pages[t.pageIndex];if(!n)return this.logger.warn("CapturePlugin","PageNotFound",`Page ${t.pageIndex} not found`),()=>{};const o=(function(i){const{pageSize:r,scale:a,minDragPx:s=5,onPreview:c,onCommit:d}=i;let u=null,p=null;return{onPointerDown:(h,g)=>{var f;u=h,p={origin:{x:h.x,y:h.y},size:{width:0,height:0}},c?.(p),(f=g.setPointerCapture)==null||f.call(g)},onPointerMove:h=>{if(!u)return;const g=it(h.x,0,r.width),f=it(h.y,0,r.height);p={origin:{x:Math.min(u.x,g),y:Math.min(u.y,f)},size:{width:Math.abs(g-u.x),height:Math.abs(f-u.y)}},c?.(p)},onPointerUp:(h,g)=>{var f;p&&Math.max(p.size.width,p.size.height)*a>s&&d?.(p),u=null,p=null,c?.(null),(f=g.releasePointerCapture)==null||f.call(g)},onPointerCancel:(h,g)=>{var f;u=null,p=null,c?.(null),(f=g.releasePointerCapture)==null||f.call(g)}}})({pageSize:n.size,scale:t.scale,onPreview:t.callback.onPreview,onCommit:i=>{var r,a;this.captureArea(t.pageIndex,i),(a=(r=t.callback).onCommit)==null||a.call(r,i)}});return this.interactionManagerCapability.registerHandlers({modeId:"marqueeCapture",handlers:o,pageIndex:t.pageIndex})}captureArea(t,e){this.disableMarqueeCapture(),this.renderCapability.renderPageRect({pageIndex:t,rect:e,options:{imageType:this.config.imageType,scaleFactor:this.config.scale,withAnnotations:this.config.withAnnotations||!1}}).wait((n=>{this.captureArea$.emit({pageIndex:t,rect:e,blob:n,imageType:this.config.imageType||"image/png",scale:this.config.scale||1,withAnnotations:this.config.withAnnotations||!1})}),ht)}enableMarqueeCapture(){var t;(t=this.interactionManagerCapability)==null||t.activate("marqueeCapture")}disableMarqueeCapture(){var t;(t=this.interactionManagerCapability)==null||t.activateDefaultMode()}toggleMarqueeCapture(){var t,e,n;((t=this.interactionManagerCapability)==null?void 0:t.getActiveMode())==="marqueeCapture"?(e=this.interactionManagerCapability)==null||e.activateDefaultMode():(n=this.interactionManagerCapability)==null||n.activate("marqueeCapture")}};Ys.id="capture";let Xs=Ys;const Nh={manifest:_h,create:(t,e)=>new Xs(ni,t,e),reducer:()=>{},initialState:{}},Ks=()=>bt(Xs.id),Lh=({pageIndex:t,scale:e,className:n,stroke:o="rgba(33,150,243,0.8)",fill:i="rgba(33,150,243,0.15)"})=>{const{provides:r}=Ks(),[a,s]=D(null);return E((()=>{if(r)return r.registerMarqueeOnPage({pageIndex:t,scale:e,callback:{onPreview:s}})}),[r,t,e]),a?S("div",{style:{position:"absolute",pointerEvents:"none",left:a.origin.x*e,top:a.origin.y*e,width:a.size.width*e,height:a.size.height*e,border:`1px solid ${o}`,background:i,boxSizing:"border-box"},className:n}):null},Pe="history",Dh={id:Pe,name:"History Plugin",version:"1.0.0",provides:["history"],requires:[],optional:[],defaultConfig:{enabled:!0}},Qs="HISTORY/SET_STATE",Js=class extends ft{constructor(t,e){super(t,e),this.topicHistories=new Map,this.globalTimeline=[],this.globalIndex=-1,this.historyChange$=Nt()}async initialize(t){}getHistoryState(){const t={};return Array.from(this.topicHistories.entries()).forEach((([e,n])=>{t[e]={canUndo:n.currentIndex>-1,canRedo:n.currentIndex<n.commands.length-1}})),{global:{canUndo:this.globalIndex>-1,canRedo:this.globalIndex<this.globalTimeline.length-1},topics:t}}emitHistoryChange(t){var e;this.dispatch((e=this.getHistoryState(),{type:Qs,payload:e})),this.historyChange$.emit(t)}buildCapability(){return{getHistoryState:()=>this.state,onHistoryChange:this.historyChange$.on,register:(t,e)=>{this.topicHistories.has(e)||this.topicHistories.set(e,{commands:[],currentIndex:-1});const n=this.topicHistories.get(e);n.commands.splice(n.currentIndex+1),n.commands.push(t),n.currentIndex++;const o={command:t,topic:e};this.globalTimeline.splice(this.globalIndex+1),this.globalTimeline.push(o),this.globalIndex++,t.execute(),this.emitHistoryChange(e)},undo:t=>{let e;if(t){const n=this.topicHistories.get(t);n&&n.currentIndex>-1&&(n.commands[n.currentIndex].undo(),n.currentIndex--,e=t)}else if(this.globalIndex>-1){const n=this.globalTimeline[this.globalIndex];n.command.undo(),this.topicHistories.get(n.topic).currentIndex--,this.globalIndex--,e=n.topic}e&&this.emitHistoryChange(e)},redo:t=>{let e;if(t){const n=this.topicHistories.get(t);n&&n.currentIndex<n.commands.length-1&&(n.currentIndex++,n.commands[n.currentIndex].execute(),e=t)}else if(this.globalIndex<this.globalTimeline.length-1){this.globalIndex++;const n=this.globalTimeline[this.globalIndex];n.command.execute(),this.topicHistories.get(n.topic).currentIndex++,e=n.topic}e&&this.emitHistoryChange(e)},canUndo:t=>{if(t){const e=this.topicHistories.get(t);return!!e&&e.currentIndex>-1}return this.globalIndex>-1},canRedo:t=>{if(t){const e=this.topicHistories.get(t);return!!e&&e.currentIndex<e.commands.length-1}return this.globalIndex<this.globalTimeline.length-1}}}};Js.id="history";let Oh=Js;const Sr={global:{canUndo:!1,canRedo:!1},topics:{}},Bh={manifest:Dh,create:t=>new Oh(Pe,t),reducer:(t=Sr,e)=>e.type===Qs?{...t,...e.payload}:t,initialState:Sr};var St=(t=>(t.MarqueeRedact="marqueeRedact",t.RedactSelection="redactSelection",t))(St||{});const tc="START_REDACTION",ec="END_REDACTION",nc="ADD_PENDING",oc="REMOVE_PENDING",ic="CLEAR_PENDING",rc="SELECT_PENDING",ac="DESELECT_PENDING",cn=t=>({type:nc,payload:t}),Mr=(t,e)=>({type:oc,payload:{page:t,id:e}}),Pr=()=>({type:ic}),Ir=t=>({type:tc,payload:t}),lc=class extends ft{constructor(t,e,n){var o,i,r,a,s;super(t,e),this.redactionSelection$=J(),this.pending$=J(),this.selected$=J(),this.state$=J(),this.events$=J(),this.config=n,this.selectionCapability=(o=this.registry.getPlugin("selection"))==null?void 0:o.provides(),this.interactionManagerCapability=(i=this.registry.getPlugin("interaction-manager"))==null?void 0:i.provides(),this.interactionManagerCapability&&this.interactionManagerCapability.registerMode({id:St.MarqueeRedact,scope:"page",exclusive:!0,cursor:"crosshair"}),this.interactionManagerCapability&&this.selectionCapability&&(this.interactionManagerCapability.registerMode({id:St.RedactSelection,scope:"page",exclusive:!1}),this.selectionCapability.enableForMode(St.RedactSelection)),this.unsubscribeModeChange=(r=this.interactionManagerCapability)==null?void 0:r.onModeChange((c=>{c.activeMode===St.RedactSelection?this.dispatch(Ir(St.RedactSelection)):c.activeMode===St.MarqueeRedact?this.dispatch(Ir(St.MarqueeRedact)):this.dispatch({type:ec})})),this.unsubscribeSelectionChange=(a=this.selectionCapability)==null?void 0:a.onSelectionChange((()=>{if(!this.selectionCapability||!this.state.isRedacting)return;const c=this.selectionCapability.getFormattedSelection();this.redactionSelection$.emit(c)})),this.unsubscribeEndSelection=(s=this.selectionCapability)==null?void 0:s.onEndSelection((()=>{if(!this.selectionCapability||!this.state.isRedacting)return;const c=this.selectionCapability.getFormattedSelection().map((d=>({id:yt(),kind:"text",page:d.pageIndex,rect:d.rect,rects:d.segmentRects})));this.dispatch(cn(c)),this.redactionSelection$.emit([]),this.selectionCapability.clear(),this.pending$.emit(this.state.pending),c.length&&this.selectPending(c[c.length-1].page,c[c.length-1].id)}))}async initialize(t){}buildCapability(){return{queueCurrentSelectionAsPending:()=>this.queueCurrentSelectionAsPending(),enableMarqueeRedact:()=>this.enableMarqueeRedact(),toggleMarqueeRedact:()=>this.toggleMarqueeRedact(),isMarqueeRedactActive:()=>{var t;return((t=this.interactionManagerCapability)==null?void 0:t.getActiveMode())===St.MarqueeRedact},enableRedactSelection:()=>this.enableRedactSelection(),toggleRedactSelection:()=>this.toggleRedactSelection(),isRedactSelectionActive:()=>{var t;return((t=this.interactionManagerCapability)==null?void 0:t.getActiveMode())===St.RedactSelection},addPending:t=>{this.dispatch(cn(t)),this.pending$.emit(this.state.pending),this.events$.emit({type:"add",items:t})},removePending:(t,e)=>{this.dispatch(Mr(t,e)),this.pending$.emit(this.state.pending),this.events$.emit({type:"remove",page:t,id:e})},clearPending:()=>{this.dispatch(Pr()),this.pending$.emit(this.state.pending),this.events$.emit({type:"clear"})},commitAllPending:()=>this.commitAllPending(),commitPending:(t,e)=>this.commitPendingOne(t,e),endRedaction:()=>this.endRedaction(),startRedaction:()=>this.startRedaction(),selectPending:(t,e)=>this.selectPending(t,e),deselectPending:()=>this.deselectPending(),onSelectedChange:this.selected$.on,onRedactionEvent:this.events$.on,onStateChange:this.state$.on,onPendingChange:this.pending$.on}}onRedactionSelectionChange(t){return this.redactionSelection$.on(t)}selectPending(t,e){var n;this.dispatch(((o,i)=>({type:rc,payload:{page:o,id:i}}))(t,e)),(n=this.selectionCapability)==null||n.clear(),this.selected$.emit(this.state.selected)}deselectPending(){this.dispatch({type:ac}),this.selected$.emit(this.state.selected)}enableRedactSelection(){var t;(t=this.interactionManagerCapability)==null||t.activate(St.RedactSelection)}toggleRedactSelection(){var t,e,n;((t=this.interactionManagerCapability)==null?void 0:t.getActiveMode())===St.RedactSelection?(e=this.interactionManagerCapability)==null||e.activateDefaultMode():(n=this.interactionManagerCapability)==null||n.activate(St.RedactSelection)}enableMarqueeRedact(){var t;(t=this.interactionManagerCapability)==null||t.activate(St.MarqueeRedact)}toggleMarqueeRedact(){var t,e,n;((t=this.interactionManagerCapability)==null?void 0:t.getActiveMode())===St.MarqueeRedact?(e=this.interactionManagerCapability)==null||e.activateDefaultMode():(n=this.interactionManagerCapability)==null||n.activate(St.MarqueeRedact)}startRedaction(){var t;(t=this.interactionManagerCapability)==null||t.activate(St.RedactSelection)}endRedaction(){var t;(t=this.interactionManagerCapability)==null||t.activateDefaultMode()}registerMarqueeOnPage(t){if(!this.interactionManagerCapability)return this.logger.warn("RedactionPlugin","MissingDependency","Interaction manager plugin not loaded, marquee redaction disabled"),()=>{};const e=this.coreState.core.document;if(!e)return this.logger.warn("RedactionPlugin","DocumentNotFound","Document not found"),()=>{};const n=e.pages[t.pageIndex];if(!n)return this.logger.warn("RedactionPlugin","PageNotFound",`Page ${t.pageIndex} not found`),()=>{};const o=(function(a){const{pageSize:s,scale:c,minDragPx:d=5,onPreview:u,onCommit:p}=a;let h=null,g=null;return{onPointerDown:(f,m)=>{var v;h=f,g={origin:{x:f.x,y:f.y},size:{width:0,height:0}},u?.(g),(v=m.setPointerCapture)==null||v.call(m)},onPointerMove:f=>{if(!h)return;const m=it(f.x,0,s.width),v=it(f.y,0,s.height);g={origin:{x:Math.min(h.x,m),y:Math.min(h.y,v)},size:{width:Math.abs(m-h.x),height:Math.abs(v-h.y)}},u?.(g)},onPointerUp:(f,m)=>{var v;g&&Math.max(g.size.width,g.size.height)*c>d&&p?.(g),h=null,g=null,u?.(null),(v=m.releasePointerCapture)==null||v.call(m)},onPointerCancel:(f,m)=>{var v;h=null,g=null,u?.(null),(v=m.releasePointerCapture)==null||v.call(m)}}})({pageSize:n.size,scale:t.scale,onPreview:t.callback.onPreview,onCommit:a=>{var s,c;const d={id:yt(),kind:"area",page:t.pageIndex,rect:a};this.dispatch(cn([d])),this.pending$.emit(this.state.pending),(c=(s=t.callback).onCommit)==null||c.call(s,a),this.enableRedactSelection(),this.selectPending(t.pageIndex,d.id)}}),i=this.interactionManagerCapability.registerAlways({handlers:{onPointerDown:(a,s)=>{s.target===s.currentTarget&&this.deselectPending()}},scope:{type:"page",pageIndex:t.pageIndex}}),r=this.interactionManagerCapability.registerHandlers({modeId:St.MarqueeRedact,handlers:o,pageIndex:t.pageIndex});return()=>{i(),r()}}queueCurrentSelectionAsPending(){var t;if(!this.selectionCapability)return dt.reject({code:lt.NotFound,message:"[RedactionPlugin] selection plugin required"});if(!this.coreState.core.document)return dt.reject({code:lt.NotFound,message:"Document not found"});const e=this.selectionCapability.getFormattedSelection();if(!e.length)return dt.resolve(!0);const n=yt(),o=e.map((r=>({id:n,kind:"text",page:r.pageIndex,rect:r.rect,rects:r.segmentRects})));this.enableRedactSelection(),this.dispatch(cn(o)),this.pending$.emit(this.state.pending);const i=o[o.length-1];return this.selectPending(i.page,i.id),this.redactionSelection$.emit([]),(t=this.selectionCapability)==null||t.clear(),dt.resolve(!0)}commitPendingOne(t,e){const n=this.coreState.core.document;if(!n)return dt.reject({code:lt.NotFound,message:"Document not found"});const o=(this.state.pending[t]??[]).find((s=>s.id===e));if(!o)return dt.resolve(!0);const i=o.kind==="text"?o.rects:[o.rect],r=n.pages[t];if(!r)return dt.reject({code:lt.NotFound,message:"Page not found"});const a=new Pt;return this.engine.redactTextInRects(n,r,i,{drawBlackBoxes:this.config.drawBlackBoxes}).wait((()=>{this.dispatch(Mr(t,e)),this.pending$.emit(this.state.pending),this.dispatchCoreAction(zi([t])),this.events$.emit({type:"commit",success:!0}),a.resolve(!0)}),(s=>{this.events$.emit({type:"commit",success:!1,error:s.reason}),a.reject({code:lt.Unknown,message:"Failed to commit redactions"})})),a}commitAllPending(){const t=this.coreState.core.document;if(!t)return dt.reject({code:lt.NotFound,message:"Document not found"});const e=new Map;for(const[r,a]of Object.entries(this.state.pending)){const s=Number(r),c=e.get(s)??[];for(const d of a)d.kind==="text"?c.push(...d.rects):c.push(d.rect);e.set(s,c)}const n=Array.from(e.entries()).filter((([r,a])=>a.length>0)).map((([r])=>r)),o=[];for(const[r,a]of e){const s=t.pages[r];s&&a.length&&o.push(this.engine.redactTextInRects(t,s,a,{drawBlackBoxes:this.config.drawBlackBoxes}))}const i=new Pt;return Pt.all(o).wait((()=>{this.dispatch(Pr()),this.dispatchCoreAction(zi(n)),this.pending$.emit(this.state.pending),this.events$.emit({type:"commit",success:!0}),i.resolve(!0)}),(r=>{this.events$.emit({type:"commit",success:!1,error:r.reason}),i.reject({code:lt.Unknown,message:"Failed to commit redactions"})})),i}onStoreUpdated(t,e){this.pending$.emit(e.pending),this.selected$.emit(e.selected),this.state$.emit(e)}async destroy(){var t,e,n;this.redactionSelection$.clear(),this.pending$.clear(),this.state$.clear(),this.events$.clear(),(t=this.unsubscribeSelectionChange)==null||t.call(this),(e=this.unsubscribeEndSelection)==null||e.call(this),(n=this.unsubscribeModeChange)==null||n.call(this),await super.destroy()}};lc.id="redaction";let oi=lc;const ne="redaction",Tr=t=>Object.values(t).reduce(((e,n)=>e+n.length),0),Ar={isRedacting:!1,activeType:null,pending:{},pendingCount:0,selected:null},Hh={manifest:{id:ne,name:"Redaction Plugin",version:"1.0.0",provides:["redaction"],requires:[],optional:["interaction-manager","selection"],defaultConfig:{enabled:!0,drawBlackBoxes:!0}},create:(t,e)=>new oi(ne,t,e),reducer:(t=Ar,e)=>{switch(e.type){case nc:{const n={...t.pending};for(const o of e.payload)n[o.page]=(n[o.page]??[]).concat(o);return{...t,pending:n,pendingCount:Tr(n)}}case oc:{const{page:n,id:o}=e.payload,i=(t.pending[n]??[]).filter((s=>s.id!==o)),r={...t.pending,[n]:i},a=t.selected&&!(t.selected.page===n&&t.selected.id===o);return{...t,pending:r,pendingCount:Tr(r),selected:a?t.selected:null}}case ic:return{...t,pending:{},pendingCount:0,selected:null};case rc:return{...t,selected:{page:e.payload.page,id:e.payload.id}};case ac:return{...t,selected:null};case tc:return{...t,isRedacting:!0,activeType:e.payload};case ec:return{...t,pending:{},pendingCount:0,selected:null,isRedacting:!1,activeType:null};case"SET_ACTIVE_TYPE":return{...t,activeType:e.payload};default:return t}},initialState:Ar},sc=()=>$t(oi.id),cc=()=>bt(oi.id),jh=({pageIndex:t,scale:e,className:n,stroke:o="red",fill:i="transparent"})=>{const{plugin:r}=sc(),[a,s]=D(null);return E((()=>{if(r)return r.registerMarqueeOnPage({pageIndex:t,scale:e,callback:{onPreview:s}})}),[r,t]),a?S("div",{style:{position:"absolute",pointerEvents:"none",left:a.origin.x*e,top:a.origin.y*e,width:a.size.width*e,height:a.size.height*e,border:`1px solid ${o}`,background:i,boxSizing:"border-box"},className:n}):null};function dc({color:t="#FFFF00",opacity:e=1,border:n="1px solid red",rects:o,rect:i,scale:r,onClick:a,style:s,...c}){return S(tt,{children:o.map(((d,u)=>S("div",{onPointerDown:a,onTouchStart:a,style:{position:"absolute",border:n,left:(i?d.origin.x-i.origin.x:d.origin.x)*r,top:(i?d.origin.y-i.origin.y:d.origin.y)*r,width:d.size.width*r,height:d.size.height*r,background:t,opacity:e,pointerEvents:a?"auto":"none",cursor:a?"pointer":"default",zIndex:a?1:void 0,...s},...c},u)))})}function $h({pageIndex:t,scale:e}){const{plugin:n}=sc(),[o,i]=D([]),[r,a]=D(null);return E((()=>{if(n)return n.onRedactionSelectionChange((s=>{const c=s.find((d=>d.pageIndex===t));i(c?.segmentRects??[]),a(c?.rect??null)}))}),[n,t]),r?S("div",{style:{mixBlendMode:"normal",pointerEvents:"none",position:"absolute",inset:0},children:S(dc,{color:"transparent",opacity:1,rects:o,scale:e,border:"1px solid red"})}):null}function Fh({pageIndex:t,scale:e,bboxStroke:n="rgba(0,0,0,0.8)",rotation:o=Ne.Degree0,selectionMenu:i}){const{provides:r}=cc(),[a,s]=D([]),[c,d]=D(null);E((()=>{if(!r)return;const p=r.onPendingChange((g=>s(g[t]??[]))),h=r.onSelectedChange((g=>{d(g&&g.page===t?g.id:null)}));return()=>{p?.(),h?.()}}),[r,t]);const u=Ot(((p,h)=>{p.stopPropagation(),r&&r.selectPending(t,h)}),[r,t]);return a.length?S("div",{style:{position:"absolute",inset:0,pointerEvents:"none"},children:a.map((p=>{if(p.kind==="area"){const g=p.rect;return S(tt,{children:[S("div",{style:{position:"absolute",left:g.origin.x*e,top:g.origin.y*e,width:g.size.width*e,height:g.size.height*e,background:"transparent",outline:c===p.id?`1px solid ${n}`:"none",outlineOffset:"2px",border:"1px solid red",pointerEvents:"auto",cursor:"pointer"},onPointerDown:f=>u(f,p.id),onTouchStart:f=>u(f,p.id)}),S(So,{rect:{origin:{x:g.origin.x*e,y:g.origin.y*e},size:{width:g.size.width*e,height:g.size.height*e}},rotation:o,children:({rect:f,menuWrapperProps:m})=>i&&i({item:p,selected:c===p.id,pageIndex:t,menuWrapperProps:m,rect:f})})]},p.id)}const h=p.rect;return S(tt,{children:[S("div",{style:{position:"absolute",left:h.origin.x*e,top:h.origin.y*e,width:h.size.width*e,height:h.size.height*e,background:"transparent",outline:c===p.id?`1px solid ${n}`:"none",outlineOffset:"2px",pointerEvents:"auto",cursor:c===p.id?"pointer":"default"},children:S(dc,{rect:h,rects:p.rects,color:"transparent",border:"1px solid red",scale:e,onClick:g=>u(g,p.id)})}),S(So,{rect:{origin:{x:h.origin.x*e,y:h.origin.y*e},size:{width:h.size.width*e,height:h.size.height*e}},rotation:o,children:({rect:g,menuWrapperProps:f})=>i&&i({item:p,selected:c===p.id,pageIndex:t,menuWrapperProps:f,rect:g})})]},p.id)}))}):null}const Uh=({pageIndex:t,scale:e,rotation:n=Ne.Degree0,selectionMenu:o})=>S(tt,{children:[S(Fh,{pageIndex:t,scale:e,rotation:n,selectionMenu:o}),S(jh,{pageIndex:t,scale:e}),S($h,{pageIndex:t,scale:e})]});function Wh(){var t=Ks().provides,e=U(D(!1),2),n=e[0],o=e[1],i=U(D(null),2),r=i[0],a=i[1],s=U(D(null),2),c=s[0],d=s[1],u=U(D(null),2),p=u[0],h=u[1],g=Z(null),f=Z(null),m=function(){g.current&&(URL.revokeObjectURL(g.current),g.current=null),p&&(URL.revokeObjectURL(p),h(null)),o(!1),a(null),d(null)};return E((function(){if(t)return t.onCaptureArea((function(v){var y=v.pageIndex,b=v.rect,w=v.blob;a({pageIndex:y,rect:b,blob:w});var x=URL.createObjectURL(w);g.current=x,d(x),o(!0)}))}),[t]),l(tt,null,l(zl,{open:n,onClose:m,title:"Capture PDF Area"},l("div",{className:"space-y-6"},l("div",{className:"flex justify-center"},c&&l("img",{src:c,onLoad:function(){g.current&&(URL.revokeObjectURL(g.current),g.current=null)},alt:"Captured PDF area",style:{maxWidth:"100%",maxHeight:"400px",border:"1px solid #e5e7eb",borderRadius:"4px",display:"block"}})),l("div",{className:"flex justify-end space-x-3 border-t border-gray-200 pt-4"},l(wt,{onClick:m,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"},"Cancel"),l(wt,{onClick:function(){if(r&&f.current){var v=URL.createObjectURL(r.blob);h(v),f.current.href=v,f.current.download="pdf-capture-page-".concat(r.pageIndex+1,".png"),f.current.click(),m()}},disabled:!r,className:"rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm text-white hover:!bg-blue-700 disabled:cursor-not-allowed disabled:opacity-50"},"Download")))),l("a",{ref:f,style:{display:"none"},href:"",download:""}))}var zr,qh=function(){var t=(function(){const{provides:a}=Ye(),[s,c]=D(Cs);return E((()=>{if(a)return a.onStateChange((d=>{c(d)}))}),[a]),{provides:a,state:s}})().provides,e=U(D({show:!1,mode:null,isAnimating:!1}),2),n=e[0],o=e[1];if(E((function(){if(t)return t.onModeChange((function(a){var s=a.activeMode;if(s==="marqueeZoom"||s==="marqueeCapture"){o({show:!0,mode:s,isAnimating:!0});var c=setTimeout((function(){o((function(d){return C(C({},d),{},{show:!1})}))}),3e3);return function(){return clearTimeout(c)}}o({show:!1,mode:null,isAnimating:!1})}))}),[t]),!n.show&&!n.isAnimating)return null;var i=n.mode==="marqueeZoom"?"Drag to select area to zoom":"Drag to select area to capture",r=n.mode==="marqueeZoom"?"rgba(33,150,243,0.8)":"rgba(76,175,80,0.8)";return l("div",{className:"hint-overlay ".concat(n.show?"hint-show":"hint-hide"),onAnimationEnd:function(){n.show||o((function(a){return C(C({},a),{},{isAnimating:!1,mode:null})}))},style:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"20px"}},l("div",{className:"hint-text",style:{background:"rgba(0, 0, 0, 0.8)",color:"white",padding:"12px 20px",borderRadius:"8px",fontSize:"14px",fontWeight:"500",textAlign:"center",maxWidth:"250px"}},i),l("div",{className:"drag-demo",style:{position:"relative",width:"150px",height:"100px"}},l("div",{style:{position:"absolute",top:"20px",left:"20px",width:"110px",height:"60px",border:"2px dashed ".concat(r),borderRadius:"4px",opacity:.6}}),l("div",{className:"animated-rect",style:{position:"absolute",top:"20px",left:"20px",border:"2px solid ".concat(r),backgroundColor:"".concat(r.replace("0.8","0.15")),borderRadius:"4px"}}),l("div",{className:"cursor-demo",style:{position:"absolute",width:"20px",height:"20px"}},l("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l("path",{d:"M3.5 2.5L16.5 10L10 11.5L7.5 16.5L3.5 2.5Z",fill:"rgba(0,0,0,0.3)",transform:"translate(1,1)"}),l("path",{d:"M3 2L16 10L10 11.5L7.5 16L3 2Z",fill:"white",stroke:"black",strokeWidth:"1"}),l("path",{d:"M4 3.5L13.5 9.5L9.5 10.5L7.5 14L4 3.5Z",fill:"rgba(255,255,255,0.8)"})))),l("style",{jsx:!0},`
        .hint-overlay {
          animation-duration: 0.3s;
          animation-fill-mode: both;
        }

        .hint-show {
          animation-name: hintFadeIn;
        }

        .hint-hide {
          animation-name: hintFadeOut;
        }

        @keyframes hintFadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes hintFadeOut {
          from {
            opacity: 1;
            transform: translateY(0);
          }
          to {
            opacity: 0;
            transform: translateY(-10px);
          }
        }

        .animated-rect {
          animation: rectGrow 2s ease-in-out infinite;
        }

        @keyframes rectGrow {
          0% {
            width: 0;
            height: 0;
          }
          50% {
            width: 110px;
            height: 60px;
          }
          100% {
            width: 110px;
            height: 60px;
            opacity: 0.7;
          }
        }

        .cursor-demo {
          animation: cursorMove 2s ease-in-out infinite;
        }

        @keyframes cursorMove {
          0% {
            top: 20px;
            left: 20px;
          }
          50% {
            top: 50px;
            left: 80px;
          }
          100% {
            top: 80px;
            left: 130px;
          }
        }

        .hint-text {
          animation: textPulse 0.6s ease-in-out;
        }

        @keyframes textPulse {
          0% {
            transform: scale(0.9);
          }
          50% {
            transform: scale(1.05);
          }
          100% {
            transform: scale(1);
          }
        }
      `))},Gh=["trackedAnnotation"],Zh=function(t){var e=t.trackedAnnotation,n=ue(t,Gh),o=Bt().provides,i=Yt().provides;return l("div",C(C({},n),{},{className:"flex flex-row gap-1 rounded-md border border-[#cfd4da] bg-[#f8f9fa] p-1"}),l(wt,{onClick:function(){o?.deleteAnnotation(e.object.pageIndex,e.object.id)}},l(nt,{icon:"trash",className:"h-5 w-5"})),l(wt,{onClick:function(){i?.togglePanel({id:"rightPanel",visibleChild:"comment",open:!0})}},l(nt,{icon:"comment",className:"h-5 w-5"})),l(wt,{onClick:function(){i?.togglePanel({id:"leftPanel",visibleChild:"leftPanelAnnotationStyle",open:!0})}},l(nt,{icon:"palette",className:"h-5 w-5"})))},Vh=function(t){var e=t.placeholder,n=t.onSubmit,o=t.inputRef,i=t.isFocused,r=U(D(""),2),a=r[0],s=r[1];return l("form",{className:"mt-4 flex items-end space-x-2 border-t border-gray-100 pt-4",onClick:function(c){return c.stopPropagation()},onSubmit:function(c){c?.preventDefault(),a.trim()&&(n(a),s(""))}},l("input",{ref:o,type:"text",placeholder:e,value:a,onInput:function(c){return s(c.currentTarget.value)},className:"w-full rounded-lg border px-3 py-2 text-sm placeholder-gray-500 transition-colors focus:border-transparent focus:outline-none focus:ring-2 ".concat(i?"border-blue-300 focus:ring-blue-500":"border-gray-300 focus:ring-blue-500")}),l("button",{type:"submit",disabled:!a.trim(),className:"rounded-lg bg-blue-500 p-2 text-white transition-colors hover:bg-blue-600 disabled:cursor-not-allowed disabled:bg-gray-300"},l("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"}))))},Yh=function(t){if(!t)return"bg-red-500";var e=["bg-red-500","bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-teal-500"];return e[t.length>0?t.charCodeAt(0)%e.length:0]},Rr=function(t){var e=t.name,n=t.className,o=n===void 0?"":n;return l("div",{className:"flex h-8 w-8 items-center justify-center rounded-full text-sm font-medium text-white ".concat(Yh(e)," ").concat(o)},(function(i){return i?i.split(" ").map((function(r){return r[0]})).join("").toUpperCase().slice(0,2):"G"})(e))},uc=function(t){var e,n,o=t.onEdit,i=t.onDelete,r=t.onClose,a=Z(null);return E((function(){var s=function(c){e.current&&!e.current.contains(c.target)&&n()};return document.addEventListener("click",s),function(){document.removeEventListener("click",s)}}),[e=a,n=r]),l("div",{ref:a,className:"absolute right-0 top-6 z-10 w-32 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5"},l("div",{className:"py-1"},l("button",{onClick:function(s){s.preventDefault(),s.stopPropagation(),o(),r()},className:"block w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100"},"Edit"),l("button",{onClick:function(s){s.preventDefault(),s.stopPropagation(),i(),r()},className:"block w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-gray-100"},"Delete")))},hc=function(t){var e=t.initialText,n=t.onSave,o=t.onCancel,i=t.autoFocus,r=i!==void 0&&i,a=U(D(e),2),s=a[0],c=a[1],d=Z(null);return E((function(){r&&d.current&&(d.current.focus(),d.current.setSelectionRange(s.length,s.length))}),[r,s.length]),l("div",{className:"flex-1 space-y-2"},l("textarea",{ref:d,value:s,onInput:function(u){return c(u.currentTarget.value)},className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",rows:3}),l("div",{className:"flex space-x-2"},l("button",{onClick:function(u){u.stopPropagation(),n(s)},className:"rounded-md bg-blue-500 px-3 py-1 text-sm text-white hover:bg-blue-600"},"Save"),l("button",{onClick:function(u){u.stopPropagation(),o()},className:"rounded-md bg-gray-300 px-3 py-1 text-sm text-gray-700 hover:bg-gray-400"},"Cancel")))},Xh=function(t){var e=t.annotation,n=t.onSave,o=t.onDelete,i=t.isReply,r=i!==void 0&&i,a=U(D(!1),2),s=a[0],c=a[1],d=U(D(!1),2),u=d[0],p=d[1],h=e.author||"Guest";return u?l("div",{className:"flex w-full items-start space-x-3",onClick:function(g){return g.stopPropagation()}},r&&l(Rr,{name:h,className:"h-8 w-8"}),l(hc,{initialText:e.contents||"",onSave:function(g){n(g),p(!1)},onCancel:function(){p(!1)},autoFocus:!0})):l("div",{className:"flex items-start space-x-3"},r&&l(Rr,{name:h,className:"h-8 w-8"}),l("div",{className:"min-w-0 flex-1"},r&&l("div",{className:"flex items-center justify-between"},l("div",{className:"leading-none"},l("h5",{className:"text-sm font-medium text-gray-900"},h),l("span",{className:"text-xs text-gray-400"},Al(e.modified||e.created))),l("div",{className:"relative"},l("button",{onClick:function(g){g.stopPropagation(),c(!0)},className:"rounded-md p-1 text-gray-400 hover:bg-gray-100"},l("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20"},l("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"}))),s&&l(uc,{onEdit:function(){return p(!0)},onDelete:o,onClose:function(){return c(!1)}}))),l("p",{className:"mt-2 text-sm text-gray-800"},e.contents)))},Kh=(Y(Y(Y(Y(Y(Y(Y(Y(Y(Y(zr={},R.HIGHLIGHT,{label:"Highlight",icon:"highlight",iconProps:function(t){return{primaryColor:t.color||"#ffff00"}}}),R.CIRCLE,{label:"Circle",icon:"circle",iconProps:function(t){return{primaryColor:t.strokeColor||"#000000",secondaryColor:t.color}}}),R.SQUARE,{label:"Square",icon:"square",iconProps:function(t){return{primaryColor:t.strokeColor||"#000000",secondaryColor:t.color}}}),R.LINE,{label:"Line",icon:"line",iconProps:function(t){return{primaryColor:t.strokeColor||"#000000"}}}),R.UNDERLINE,{label:"Underline",icon:"underline",iconProps:function(t){return{primaryColor:t.color||"#000000"}}}),R.SQUIGGLY,{label:"Squiggly",icon:"squiggly",iconProps:function(t){return{primaryColor:t.color||"#000000"}}}),R.STRIKEOUT,{label:"Strikethrough",icon:"strikethrough",iconProps:function(t){return{primaryColor:t.color||"#000000"}}}),R.INK,{label:"Ink",icon:"pencilMarker",iconProps:function(t){return{primaryColor:t.color||"#000000"}}}),R.FREETEXT,{label:"Text",icon:"text",iconProps:function(t){return{primaryColor:t.fontColor||"#000000"}}}),R.POLYGON,{label:"Polygon",icon:"polygon",iconProps:function(t){return{primaryColor:t.strokeColor||"#000000",secondaryColor:t.color}}}),Y(Y(zr,R.POLYLINE,{label:"Polyline",icon:"zigzag",iconProps:function(t){return{primaryColor:t.strokeColor||"#000000"}}}),R.STAMP,{label:"Stamp",icon:"deviceFloppy",iconProps:function(){return{primaryColor:"#dc2626"}}})),Qh=function(t){var e=t.text,n=t.maxWords,o=n===void 0?16:n,i=t.className,r=i===void 0?"":i,a=U(D(!1),2),s=a[0],c=a[1],d=e.split(" ");return d.length>o?l("div",{className:r},s?e:d.slice(0,o).join(" ")+"..."," ",l("button",{onClick:function(u){u.stopPropagation(),c(!s)},className:"text-sm font-medium text-blue-500 hover:text-blue-600 focus:outline-none"},s?"less":"more")):l("div",{className:r},e)},Jh=function(t){var e=t.annotation,n=t.config,o=t.className,i=o===void 0?"":o,r=n.iconProps(e.object);return l("div",{className:"flex items-center justify-center rounded-full bg-gray-100 ".concat(i),title:n.label},l(nt,C({icon:n.icon},r)))},tp=function(t){var e,n=t.entry,o=t.isSelected,i=t.onSelect,r=t.onUpdate,a=t.onDelete,s=t.onReply,c=n.annotation,d=n.replies,u=U(D(!1),2),p=u[0],h=u[1],g=U(D(!1),2),f=g[0],m=g[1],v=(function(M){return cs(M)?Kh[M.object.type]:null})(c),y=!!c.object.contents,b=d.length>0,w=!y&&!b,x=Z(null),k=c.object.author||"Guest";return E((function(){var M;o&&((M=x.current)===null||M===void 0||M.focus())}),[o,n]),v?l("div",{onClick:i,className:"cursor-pointer rounded-lg border bg-white shadow-sm transition-all hover:shadow-md ".concat(o?"border-blue-500 ring-2 ring-blue-200":"border-gray-200")},l("div",{className:"p-4"},l("div",{className:"flex items-start space-x-3"},l(Jh,{annotation:c,config:v,className:"h-8 w-8"}),l("div",{className:"min-w-0 flex-1"},l("div",{className:"flex items-center justify-between"},l("div",{className:"leading-none"},l("h4",{className:"text-sm font-medium text-gray-900"},k),l("span",{className:"text-xs text-gray-400"},Al(c.object.modified||c.object.created))),l("div",{className:"relative"},l("button",{onClick:function(M){M.stopPropagation(),h(!0)},className:"rounded-md p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600"},l("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20"},l("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"}))),p&&l(uc,{onEdit:function(){return m(!0)},onDelete:function(){return a(c)},onClose:function(){return h(!1)}}))),((e=c.object.custom)===null||e===void 0?void 0:e.text)&&l(Qh,{text:c.object.custom.text,maxWords:14,className:"mt-2 text-sm text-gray-500"}),l("div",{className:"mt-2"},f?l(hc,{initialText:c.object.contents||"",onSave:function(M){r(c.object.id,M),m(!1)},onCancel:function(){m(!1)},autoFocus:!0}):y?l("p",{className:"text-sm text-gray-800"},c.object.contents):null))),b&&l("div",{className:"mt-4 space-y-4 border-t border-gray-100 pt-4"},d.map((function(M){return l(Xh,{key:M.object.id,annotation:M.object,onSave:function(P){return r(M.object.id,P)},onDelete:function(){return a(M)},isReply:!0})}))),!f&&l(Vh,{inputRef:x,isFocused:o,placeholder:w?"Add comment...":"Add reply...",onSubmit:function(M){w?r(c.object.id,M):s(c.object.id,M)}}))):null},ep=function(){return l("div",{class:"flex flex-col items-center gap-2 p-4 text-gray-500"},l(nt,{icon:"comment",className:"h-18 w-18 text-gray-500"}),l("div",{className:"max-w-[150px] text-center text-sm text-gray-500"},"Add annotations to be able to comment on them."))},np=function(t){var e=t.sidebarAnnotations,n=t.selectedAnnotation,o=Bt().provides,i=ke().provides,r=Z({}),a=Z(null);E((function(){if(n&&a.current){var h=r.current[n.object.id];h?.scrollIntoView({behavior:"smooth",block:"center"})}}),[n]);var s=function(h,g){var f=p(h);f&&o?.updateAnnotation(f.object.pageIndex,h,{contents:g,modified:new Date})},c=function(h){o?.deleteAnnotation(h.object.pageIndex,h.object.id)},d=function(h,g){var f=p(h);f&&o?.createAnnotation(f.object.pageIndex,{id:yt(),rect:{origin:{x:f.object.rect.origin.x,y:f.object.rect.origin.y},size:{width:24,height:24}},pageIndex:f.object.pageIndex,created:new Date,modified:new Date,type:R.TEXT,contents:g,inReplyToId:f.object.id,flags:["noRotate","noZoom","print"],icon:Do.Comment})},u=Object.keys(e).map(Number).sort((function(h,g){return h-g})),p=function(h){var g,f=Se(u);try{for(f.s();!(g=f.n()).done;){var m,v=g.value,y=Se(e[v]);try{for(y.s();!(m=y.n()).done;){var b=m.value;if(b.annotation.object.id===h)return b.annotation;var w=b.replies.find((function(x){return x.object.id===h}));if(w)return w}}catch(x){y.e(x)}finally{y.f()}}}catch(x){f.e(x)}finally{f.f()}};return u.length===0?l(ep,null):l("div",{ref:a,className:"h-full overflow-auto"},l("div",{className:"space-y-6 p-3"},u.map((function(h){return l("div",{key:h,className:"space-y-3"},l("div",{className:"sticky top-0 z-10 bg-white px-1"},l("div",{className:"border-b border-gray-200 py-2"},l("h3",{className:"text-md font-semibold text-gray-800"},"Page ",h+1),l("p",{className:"text-sm text-gray-500"},e[h].length," comment",e[h].length!==1?"s":""))),l("div",{className:"space-y-3 px-1"},e[h].map((function(g){return l("div",{key:g.annotation.object.id,ref:function(f){return r.current[g.annotation.object.id]=f}},l(tp,{entry:g,isSelected:n?.object.id===g.annotation.object.id,onSelect:function(){return f=g.annotation,o?.selectAnnotation(f.object.pageIndex,f.object.id),void(i==null||i.scrollToPage({pageNumber:f.object.pageIndex+1,pageCoordinates:{x:f.object.rect.origin.x,y:f.object.rect.origin.y},center:!0,behavior:"smooth"}));var f},onUpdate:s,onDelete:c,onReply:d}))}))))}))))},op=["item","pageIndex"],ip=function(t){var e=t.item,n=t.pageIndex,o=ue(t,op),i=cc().provides;return l("div",C(C({},o),{},{className:"flex cursor-default flex-row gap-1 rounded-md border border-[#cfd4da] bg-[#f8f9fa] p-1"}),l(re,{position:"bottom",content:"Delete Redaction",trigger:"hover",delay:500},l(wt,{onClick:function(){i?.removePending(n,e.id)}},l(nt,{icon:"trash",className:"h-5 w-5"}))),l(re,{position:"bottom",content:"Commit Redaction",trigger:"hover",delay:500},l(wt,{onClick:function(){i?.commitPending(n,e.id)}},l(nt,{icon:"check",className:"h-5 w-5"}))))},fe={viewport:{viewportGap:10},scroll:{strategy:Mt.Vertical},zoom:{defaultZoomLevel:Tt.FitPage},spread:{defaultSpreadMode:Ht.None},rotate:{defaultRotation:Ne.Degree0},tiling:{tileSize:768,overlapPx:2.5,extraRings:0},thumbnail:{width:150,gap:10,buffer:3,labelHeight:30}},$={menuCtr:{id:"menuCtr",icon:"menu",label:"Menu",type:"menu",children:["openFile","download","enterFS","screenshot","print"],active:function(t){return t.plugins.ui.commandMenu.commandMenu.activeCommand==="menuCtr"}},download:{id:"download",icon:"download",label:"Download",type:"action",action:function(t){var e,n=(e=t.getPlugin(Po))===null||e===void 0?void 0:e.provides();n&&n.download()}},openFile:{id:"openFile",icon:"fileImport",label:"Open PDF",type:"action",action:function(t){var e,n=(e=t.getPlugin(fo))===null||e===void 0?void 0:e.provides();n&&n.openFileDialog()}},enterFS:{id:"enterFS",icon:function(t){return t.plugins.fullscreen.isFullscreen?"fullscreenExit":"fullscreen"},label:function(t){return t.plugins.fullscreen.isFullscreen?"Exit full screen":"Enter full screen"},type:"action",action:function(t){var e,n=(e=t.getPlugin(ei))===null||e===void 0?void 0:e.provides();n&&(n.isFullscreen()?n.exitFullscreen():n.enableFullscreen())}},screenshot:{id:"screenshot",icon:"screenshot",label:"Screenshot",type:"action",action:function(t){var e,n=(e=t.getPlugin(ni))===null||e===void 0?void 0:e.provides();n&&(n.isMarqueeCaptureActive()?n.disableMarqueeCapture():n.enableMarqueeCapture())},active:function(t){return t.plugins[Xt].activeMode==="marqueeCapture"}},save:{id:"save",icon:"save",label:"Save",type:"action",action:function(){console.log("save")}},print:{id:"print",icon:"print",label:"Print",type:"action",action:function(t,e){var n,o=(n=t.getPlugin(It))===null||n===void 0?void 0:n.provides();o&&o.updateComponentState({componentType:"floating",componentId:"printModal",patch:{open:!0}})}},settings:{id:"settings",icon:"settings",label:"Settings",dividerBefore:!0,type:"action",action:function(){console.log("settings")}},viewCtr:{id:"viewCtr",icon:"viewSettings",label:"View controls",type:"menu",children:["pageOrientation","scrollLayout","pageLayout","enterFS"],active:function(t){return t.plugins.ui.commandMenu.commandMenu.activeCommand==="viewCtr"}},pageOrientation:{id:"pageOrientation",label:"Page orientation",type:"group",children:["rotateClockwise","rotateCounterClockwise"]},rotateClockwise:{id:"rotateClockwise",label:"Rotate clockwise",icon:"rotateClockwise",type:"action",action:function(t){var e,n=(e=t.getPlugin(xn))===null||e===void 0?void 0:e.provides();n&&n.rotateForward()}},rotateCounterClockwise:{id:"rotateCounterClockwise",label:"Rotate counter clockwise",icon:"rotateCounterClockwise",type:"action",action:function(t){var e,n=(e=t.getPlugin(xn))===null||e===void 0?void 0:e.provides();n&&n.rotateBackward()}},scrollLayout:{id:"scrollLayout",label:"Scroll layout",type:"group",children:["vertical","horizontal"]},vertical:{id:"vertical",label:"Vertical",icon:"vertical",type:"action",active:function(t){return t.plugins.scroll.strategy===Mt.Vertical},action:function(t){var e,n=(e=t.getPlugin(Me))===null||e===void 0?void 0:e.provides();n&&n.setScrollStrategy(Mt.Vertical)}},horizontal:{id:"horizontal",label:"Horizontal",icon:"horizontal",type:"action",active:function(t){return t.plugins.scroll.strategy===Mt.Horizontal},action:function(t){var e,n=(e=t.getPlugin(Me))===null||e===void 0?void 0:e.provides();n&&n.setScrollStrategy(Mt.Horizontal)}},pageLayout:{id:"pageLayout",label:"Page layout",type:"group",children:["singlePage","doublePage","coverFacingPage"]},singlePage:{id:"singlePage",label:"Single page",icon:"singlePage",type:"action",disabled:function(t){return t.plugins.scroll.strategy===Mt.Horizontal},active:function(t){return t.plugins.spread.spreadMode===Ht.None},action:function(t){var e,n=(e=t.getPlugin(Ie))===null||e===void 0?void 0:e.provides();n&&n.setSpreadMode(Ht.None)}},doublePage:{id:"doublePage",label:"Double page",icon:"book",type:"action",disabled:function(t){return t.plugins.scroll.strategy===Mt.Horizontal},active:function(t){return t.plugins.spread.spreadMode===Ht.Odd},action:function(t){var e,n=(e=t.getPlugin(Ie))===null||e===void 0?void 0:e.provides();n&&n.setSpreadMode(Ht.Odd)}},coverFacingPage:{id:"coverFacingPage",label:"Cover facing page",icon:"book2",type:"action",disabled:function(t){return t.plugins.scroll.strategy===Mt.Horizontal},active:function(t){return t.plugins.spread.spreadMode===Ht.Even},action:function(t){var e,n=(e=t.getPlugin(Ie))===null||e===void 0?void 0:e.provides();n&&n.setSpreadMode(Ht.Even)}},leftAction:{id:"leftAction",label:"Left action",type:"menu",icon:"dots",children:["viewCtr","zoom","panMode","pointerMode"],active:function(t){return t.plugins.ui.commandMenu.commandMenu.activeCommand==="leftAction"||t.plugins.ui.commandMenu.commandMenu.activeCommand==="zoom"||t.plugins.ui.commandMenu.commandMenu.activeCommand==="changeZoomLevel"||t.plugins.ui.commandMenu.commandMenu.activeCommand==="viewCtr"}},zoom:{id:"zoom",icon:"zoomIn",label:"Zoom Controls",type:"menu",children:["changeZoomLevel","zoomIn","zoomOut","fitToWidth","fitToPage","zoomInArea"],active:function(t){return t.plugins.ui.commandMenu.commandMenu.activeCommand==="zoom"}},zoomInArea:{id:"zoomInArea",label:"Zoom in area",icon:"zoomInArea",type:"action",dividerBefore:!0,action:function(t){var e,n=(e=t.getPlugin(Rt))===null||e===void 0?void 0:e.provides();n&&(n.isMarqueeZoomActive()?n.disableMarqueeZoom():n.enableMarqueeZoom())},active:function(t){return t.plugins[Xt].activeMode==="marqueeZoom"}},changeZoomLevel:{id:"changeZoomLevel",label:function(t){return"Zoom level (".concat((100*t.plugins.zoom.currentZoomLevel).toFixed(0),"%)")},type:"menu",children:["zoom25","zoom50","zoom100","zoom125","zoom150","zoom200","zoom400","zoom800","zoom1600"],active:function(t){return t.plugins.ui.commandMenu.commandMenu.activeCommand==="changeZoomLevel"}},zoom25:{id:"zoom25",label:"25%",type:"action",active:function(t){return t.plugins.zoom.currentZoomLevel===.25},action:function(t){var e,n=(e=t.getPlugin(Rt))===null||e===void 0?void 0:e.provides();n&&n.requestZoom(.25)}},zoom50:{id:"zoom50",label:"50%",type:"action",active:function(t){return t.plugins.zoom.currentZoomLevel===.5},action:function(t){var e,n=(e=t.getPlugin(Rt))===null||e===void 0?void 0:e.provides();n&&n.requestZoom(.5)}},zoom100:{id:"zoom100",label:"100%",type:"action",active:function(t){return t.plugins.zoom.currentZoomLevel===1},action:function(t){var e,n=(e=t.getPlugin(Rt))===null||e===void 0?void 0:e.provides();n&&n.requestZoom(1)}},zoom125:{id:"zoom125",label:"125%",type:"action",active:function(t){return t.plugins.zoom.currentZoomLevel===1.25},action:function(t){var e,n=(e=t.getPlugin(Rt))===null||e===void 0?void 0:e.provides();n&&n.requestZoom(1.25)}},zoom150:{id:"zoom150",label:"150%",type:"action",active:function(t){return t.plugins.zoom.currentZoomLevel===1.5},action:function(t){var e,n=(e=t.getPlugin(Rt))===null||e===void 0?void 0:e.provides();n&&n.requestZoom(1.5)}},zoom200:{id:"zoom200",label:"200%",type:"action",active:function(t){return t.plugins.zoom.currentZoomLevel===2},action:function(t){var e,n=(e=t.getPlugin(Rt))===null||e===void 0?void 0:e.provides();n&&n.requestZoom(2)}},zoom400:{id:"zoom400",label:"400%",type:"action",active:function(t){return t.plugins.zoom.currentZoomLevel===4},action:function(t){var e,n=(e=t.getPlugin(Rt))===null||e===void 0?void 0:e.provides();n&&n.requestZoom(4)}},zoom800:{id:"zoom800",label:"800%",type:"action",active:function(t){return t.plugins.zoom.currentZoomLevel===8},action:function(t){var e,n=(e=t.getPlugin(Rt))===null||e===void 0?void 0:e.provides();n&&n.requestZoom(8)}},zoom1600:{id:"zoom1600",label:"1600%",type:"action",active:function(t){return t.plugins.zoom.currentZoomLevel===16},action:function(t){var e,n=(e=t.getPlugin(Rt))===null||e===void 0?void 0:e.provides();n&&n.requestZoom(16)}},zoomIn:{id:"zoomIn",label:"Zoom in",icon:"zoomIn",type:"action",action:function(t){var e,n=(e=t.getPlugin(Rt))===null||e===void 0?void 0:e.provides();n&&n.zoomIn()}},zoomOut:{id:"zoomOut",label:"Zoom out",icon:"zoomOut",type:"action",action:function(t){var e,n=(e=t.getPlugin(Rt))===null||e===void 0?void 0:e.provides();n&&n.zoomOut()}},search:{id:"search",label:"Search",icon:"search",type:"action",action:function(t){var e,n=(e=t.getPlugin(It))===null||e===void 0?void 0:e.provides();n&&n.togglePanel({id:"rightPanel",visibleChild:"search"})},active:function(t){return t.plugins.ui.panel.rightPanel.open===!0&&t.plugins.ui.panel.rightPanel.visibleChild==="search"}},comment:{id:"comment",label:"Comment",icon:"comment",type:"action",action:function(t){var e,n=(e=t.getPlugin(It))===null||e===void 0?void 0:e.provides();n&&n.togglePanel({id:"rightPanel",visibleChild:"comment"})},active:function(t){return t.plugins.ui.panel.rightPanel.open===!0&&t.plugins.ui.panel.rightPanel.visibleChild==="comment"}},fitToWidth:{id:"fitToWidth",label:"Fit to width",icon:"fitToWidth",type:"action",active:function(t){return t.plugins.zoom.zoomLevel===Tt.FitWidth},action:function(t){var e,n=(e=t.getPlugin(Rt))===null||e===void 0?void 0:e.provides();n&&n.requestZoom(Tt.FitWidth)}},fitToPage:{id:"fitToPage",label:"Fit to page",icon:"fitToPage",type:"action",active:function(t){return t.plugins.zoom.zoomLevel===Tt.FitPage},action:function(t){var e,n=(e=t.getPlugin(Rt))===null||e===void 0?void 0:e.provides();n&&n.requestZoom(Tt.FitPage)}},sidebar:{id:"sidebar",label:"Sidebar",icon:"sidebar",type:"action",action:function(t,e){var n,o=(n=t.getPlugin(It))===null||n===void 0?void 0:n.provides();o&&o.togglePanel({id:"leftPanel",visibleChild:"leftPanelMain",open:e.plugins.ui.panel.leftPanel.open!==!0||e.plugins.ui.panel.leftPanel.visibleChild!=="leftPanelMain"})},active:function(t){return t.plugins.ui.panel.leftPanel.open===!0&&t.plugins.ui.panel.leftPanel.visibleChild==="leftPanelMain"}},sidebarMenu:{id:"sidebarMenu",label:"Sidebar Menu",type:"menu",children:["thumbnails","outline"]},thumbnails:{id:"thumbnails",label:"Thumbnails",icon:"squares",type:"action",action:function(t){var e,n=(e=t.getPlugin(It))===null||e===void 0?void 0:e.provides();n&&(n.togglePanel({id:"leftPanel",visibleChild:"leftPanelMain",open:!0}),n.updateComponentState({componentType:"custom",componentId:"leftPanelMain",patch:{visibleChild:"thumbnails"}}))},active:function(t){return t.plugins.ui.custom.leftPanelMain.visibleChild==="thumbnails"}},outline:{id:"outline",label:"Outline",icon:"listTree",type:"action",action:function(t){var e,n=(e=t.getPlugin(It))===null||e===void 0?void 0:e.provides();n&&(n.togglePanel({id:"leftPanel",visibleChild:"leftPanelMain",open:!0}),n.updateComponentState({componentType:"custom",componentId:"leftPanelMain",patch:{visibleChild:"outline"}}))},active:function(t){return t.plugins.ui.custom.leftPanelMain.visibleChild==="outline"}},attachments:{id:"attachments",label:"Attachments",icon:"paperclip",type:"action",action:function(t){var e,n=(e=t.getPlugin(It))===null||e===void 0?void 0:e.provides();n&&(n.togglePanel({id:"leftPanel",visibleChild:"leftPanelMain",open:!0}),n.updateComponentState({componentType:"custom",componentId:"leftPanelMain",patch:{visibleChild:"attachments"}}))},active:function(t){return t.plugins.ui.custom.leftPanelMain.visibleChild==="attachments"}},view:{id:"view",label:"View",type:"action",action:function(t){var e,n,o=(e=t.getPlugin(It))===null||e===void 0?void 0:e.provides(),i=(n=t.getPlugin(rt))===null||n===void 0?void 0:n.provides();o&&(o.setHeaderVisible({id:"toolsHeader",visible:!1}),i?.setActiveTool(null))},active:function(t){return t.plugins.ui.header.toolsHeader.visible===!1}},annotate:{id:"annotate",label:"Annotate",type:"action",action:function(t){var e,n=(e=t.getPlugin(It))===null||e===void 0?void 0:e.provides();n&&n.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"annotationTools"})},active:function(t){return t.plugins.ui.header.toolsHeader.visible===!0&&t.plugins.ui.header.toolsHeader.visibleChild==="annotationTools"}},shapes:{id:"shapes",label:"Shapes",type:"action",action:function(t){var e,n=(e=t.getPlugin(It))===null||e===void 0?void 0:e.provides();n&&n.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"shapeTools"})},active:function(t){return t.plugins.ui.header.toolsHeader.visible===!0&&t.plugins.ui.header.toolsHeader.visibleChild==="shapeTools"}},redaction:{id:"redaction",label:"Redaction",type:"action",action:function(t){var e,n=(e=t.getPlugin(It))===null||e===void 0?void 0:e.provides();n&&n.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"redactionTools"})},active:function(t){return t.plugins.ui.header.toolsHeader.visible===!0&&t.plugins.ui.header.toolsHeader.visibleChild==="redactionTools"}},fillAndSign:{id:"fillAndSign",label:"Fill and Sign",type:"action",action:function(t){var e,n=(e=t.getPlugin(It))===null||e===void 0?void 0:e.provides();n&&n.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"fillAndSignTools"})},active:function(t){return t.plugins.ui.header.toolsHeader.visible===!0&&t.plugins.ui.header.toolsHeader.visibleChild==="fillAndSignTools"}},form:{id:"form",label:"Form",type:"action",action:function(t){var e,n=(e=t.getPlugin(It))===null||e===void 0?void 0:e.provides();n&&n.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"formTools"})},active:function(t){return t.plugins.ui.header.toolsHeader.visible===!0&&t.plugins.ui.header.toolsHeader.visibleChild==="formTools"}},tabOverflow:{id:"tabOverflow",label:"More",icon:"dots",type:"menu",children:["view","annotate","shapes","redaction"],active:function(t){return t.plugins.ui.commandMenu.commandMenu.activeCommand==="tabOverflow"}},annotationToolOverflow:{id:"annotationToolOverflow",label:"More",icon:"dots",type:"menu",children:["highlight","underline","strikethrough","squiggly","freehand","freeText","photo"],active:function(t){return t.plugins.ui.commandMenu.commandMenu.activeCommand==="annotationToolOverflow"}},shapeToolOverflow:{id:"shapeToolOverflow",label:"More",icon:"dots",type:"menu",children:["circle","square","polygon","polyline","line","lineArrow"],active:function(t){return t.plugins.ui.commandMenu.commandMenu.activeCommand==="shapeToolOverflow"}},nextPage:{id:"nextPage",label:"Next page",icon:"chevronRight",shortcut:"ArrowRight",shortcutLabel:"Arrow Right",type:"action",action:function(t){var e,n=(e=t.getPlugin(Me))===null||e===void 0?void 0:e.provides();n&&n.scrollToNextPage()}},previousPage:{id:"previousPage",label:"Previous page",icon:"chevronLeft",type:"action",shortcut:"ArrowLeft",shortcutLabel:"Arrow Left",action:function(t){var e,n=(e=t.getPlugin(Me))===null||e===void 0?void 0:e.provides();n&&n.scrollToPreviousPage()}},copy:{id:"copy",label:"Copy",icon:"copy",type:"action",shortcut:"Meta+C",shortcutLabel:"Cmd+C",action:function(t){var e,n=(e=t.getPlugin(oe))===null||e===void 0?void 0:e.provides();n&&(n.copyToClipboard(),n.clear())}},underline:{id:"underline",label:"Underline",type:"action",icon:"underline",iconProps:function(t){var e;return{primaryColor:(e=xt(t.plugins.annotation,"underline"))===null||e===void 0?void 0:e.color}},action:function(t,e){var n,o=(n=t.getPlugin(rt))===null||n===void 0?void 0:n.provides();o&&(e.plugins.annotation.activeToolId==="underline"?o.setActiveTool(null):o.setActiveTool("underline"))},active:function(t){return t.plugins.annotation.activeToolId==="underline"}},squiggly:{id:"squiggly",label:"Squiggly",type:"action",icon:"squiggly",iconProps:function(t){var e;return{primaryColor:(e=xt(t.plugins.annotation,"squiggly"))===null||e===void 0?void 0:e.color}},action:function(t,e){var n,o=(n=t.getPlugin(rt))===null||n===void 0?void 0:n.provides();o&&(e.plugins.annotation.activeToolId==="squiggly"?o.setActiveTool(null):o.setActiveTool("squiggly"))},active:function(t){return t.plugins.annotation.activeToolId==="squiggly"}},strikethrough:{id:"strikethrough",label:"Strikethrough",type:"action",icon:"strikethrough",iconProps:function(t){var e;return{primaryColor:(e=xt(t.plugins.annotation,"strikeout"))===null||e===void 0?void 0:e.color}},action:function(t,e){var n,o=(n=t.getPlugin(rt))===null||n===void 0?void 0:n.provides();o&&(e.plugins.annotation.activeToolId==="strikeout"?o.setActiveTool(null):o.setActiveTool("strikeout"))},active:function(t){return t.plugins.annotation.activeToolId==="strikeout"}},highlight:{id:"highlight",label:"Highlight",type:"action",icon:"highlight",iconProps:function(t){var e;return{primaryColor:(e=xt(t.plugins.annotation,"highlight"))===null||e===void 0?void 0:e.color}},action:function(t,e){var n,o=(n=t.getPlugin(rt))===null||n===void 0?void 0:n.provides();o&&(e.plugins.annotation.activeToolId==="highlight"?o.setActiveTool(null):o.setActiveTool("highlight"))},active:function(t){return t.plugins.annotation.activeToolId==="highlight"}},freehand:{id:"freehand",label:"Freehand",type:"action",icon:"pencilMarker",iconProps:function(t){var e;return{primaryColor:(e=xt(t.plugins.annotation,"ink"))===null||e===void 0?void 0:e.color}},action:function(t,e){var n,o=(n=t.getPlugin(rt))===null||n===void 0?void 0:n.provides();o&&(e.plugins.annotation.activeToolId==="ink"?o.setActiveTool(null):(o.deselectAnnotation(),o.setActiveTool("ink")))},active:function(t){return t.plugins.annotation.activeToolId==="ink"}},circle:{id:"circle",label:"Circle",type:"action",icon:"circle",iconProps:function(t){var e,n;return{primaryColor:(e=xt(t.plugins.annotation,"circle"))===null||e===void 0?void 0:e.strokeColor,secondaryColor:(n=xt(t.plugins.annotation,"circle"))===null||n===void 0?void 0:n.color}},action:function(t,e){var n,o=(n=t.getPlugin(rt))===null||n===void 0?void 0:n.provides();o&&(e.plugins.annotation.activeToolId==="circle"?o.setActiveTool(null):o.setActiveTool("circle"))},active:function(t){return t.plugins.annotation.activeToolId==="circle"}},square:{id:"square",label:"Square",type:"action",icon:"square",iconProps:function(t){var e,n;return{primaryColor:(e=xt(t.plugins.annotation,"square"))===null||e===void 0?void 0:e.strokeColor,secondaryColor:(n=xt(t.plugins.annotation,"square"))===null||n===void 0?void 0:n.color}},action:function(t,e){var n,o=(n=t.getPlugin(rt))===null||n===void 0?void 0:n.provides();o&&(e.plugins.annotation.activeToolId==="square"?o.setActiveTool(null):o.setActiveTool("square"))},active:function(t){return t.plugins.annotation.activeToolId==="square"}},line:{id:"line",label:"Line",type:"action",icon:"line",iconProps:function(t){var e;return{primaryColor:(e=xt(t.plugins.annotation,"line"))===null||e===void 0?void 0:e.strokeColor}},action:function(t,e){var n,o=(n=t.getPlugin(rt))===null||n===void 0?void 0:n.provides();o&&(e.plugins.annotation.activeToolId==="line"?o.setActiveTool(null):o.setActiveTool("line"))},active:function(t){return t.plugins.annotation.activeToolId==="line"}},lineArrow:{id:"lineArrow",label:"Line Arrow",type:"action",icon:"lineArrow",iconProps:function(t){var e;return{primaryColor:(e=xt(t.plugins.annotation,"line"))===null||e===void 0?void 0:e.strokeColor}},action:function(t,e){var n,o=(n=t.getPlugin(rt))===null||n===void 0?void 0:n.provides();o&&(e.plugins.annotation.activeToolId==="lineArrow"?o.setActiveTool(null):o.setActiveTool("lineArrow"))},active:function(t){return t.plugins.annotation.activeToolId==="lineArrow"}},polyline:{id:"polyline",label:"Polyline",type:"action",icon:"zigzag",iconProps:function(t){var e;return{primaryColor:(e=xt(t.plugins.annotation,"polyline"))===null||e===void 0?void 0:e.strokeColor}},action:function(t,e){var n,o=(n=t.getPlugin(rt))===null||n===void 0?void 0:n.provides();o&&(e.plugins.annotation.activeToolId==="polyline"?o.setActiveTool(null):o.setActiveTool("polyline"))},active:function(t){return t.plugins.annotation.activeToolId==="polyline"}},polygon:{id:"polygon",label:"Polygon",type:"action",icon:"polygon",iconProps:function(t){var e,n;return{primaryColor:(e=xt(t.plugins.annotation,"polygon"))===null||e===void 0?void 0:e.strokeColor,secondaryColor:(n=xt(t.plugins.annotation,"polygon"))===null||n===void 0?void 0:n.color}},action:function(t,e){var n,o=(n=t.getPlugin(rt))===null||n===void 0?void 0:n.provides();o&&(e.plugins.annotation.activeToolId==="polygon"?o.setActiveTool(null):o.setActiveTool("polygon"))},active:function(t){return t.plugins.annotation.activeToolId==="polygon"}},freeText:{id:"freeText",label:"Free Text",type:"action",icon:"text",iconProps:function(t){var e;return{primaryColor:(e=xt(t.plugins.annotation,"freeText"))===null||e===void 0?void 0:e.fontColor}},action:function(t,e){var n,o=(n=t.getPlugin(rt))===null||n===void 0?void 0:n.provides();o&&(e.plugins.annotation.activeToolId==="freeText"?o.setActiveTool(null):o.setActiveTool("freeText"))},active:function(t){return t.plugins.annotation.activeToolId==="freeText"}},photo:{id:"photo",label:"Photo",type:"action",icon:"photo",action:function(t,e){var n,o=(n=t.getPlugin(rt))===null||n===void 0?void 0:n.provides();o&&(e.plugins.annotation.activeToolId==="stamp"?o.setActiveTool(null):o.setActiveTool("stamp"))},active:function(t){return t.plugins.annotation.activeToolId==="stamp"}},squigglySelection:{id:"squigglySelection",label:"Squiggly Selection",type:"action",icon:"squiggly",iconProps:function(t){var e;return{primaryColor:(e=xt(t.plugins.annotation,"squiggly"))===null||e===void 0?void 0:e.color}},action:function(t){var e,n,o=(e=t.getPlugin(rt))===null||e===void 0?void 0:e.provides(),i=(n=t.getPlugin(oe))===null||n===void 0?void 0:n.provides();if(i&&o){var r=o.getTool("squiggly");if(r&&qu(r)){var a,s=r.defaults,c=i.getFormattedSelection(),d=i.getSelectedText(),u=Se(c);try{var p=function(){var h=a.value;d.wait((function(g){var f=yt();o.createAnnotation(h.pageIndex,{id:f,created:new Date,flags:["print"],type:R.SQUIGGLY,blendMode:X.Normal,color:s.color,opacity:s.opacity,pageIndex:h.pageIndex,rect:h.rect,segmentRects:h.segmentRects,custom:{text:g.join(`
`)}}),o.selectAnnotation(h.pageIndex,f)}),ht)};for(u.s();!(a=u.n()).done;)p()}catch(h){u.e(h)}finally{u.f()}i.clear()}}}},underlineSelection:{id:"underlineSelection",label:"Underline Selection",type:"action",icon:"underline",iconProps:function(t){var e;return{primaryColor:(e=xt(t.plugins.annotation,"underline"))===null||e===void 0?void 0:e.color}},action:function(t){var e,n,o=(e=t.getPlugin(rt))===null||e===void 0?void 0:e.provides(),i=(n=t.getPlugin(oe))===null||n===void 0?void 0:n.provides();if(i&&o){var r=o.getTool("underline");if(r&&Gu(r)){var a,s=r.defaults,c=i.getFormattedSelection(),d=i.getSelectedText(),u=Se(c);try{var p=function(){var h=a.value;d.wait((function(g){var f=yt();o.createAnnotation(h.pageIndex,{id:f,created:new Date,flags:["print"],type:R.UNDERLINE,blendMode:X.Normal,color:s.color,opacity:s.opacity,pageIndex:h.pageIndex,rect:h.rect,segmentRects:h.segmentRects,custom:{text:g.join(`
`)}}),o.selectAnnotation(h.pageIndex,f)}),ht)};for(u.s();!(a=u.n()).done;)p()}catch(h){u.e(h)}finally{u.f()}i.clear()}}}},strikethroughSelection:{id:"strikethroughSelection",label:"Strikethrough Selection",type:"action",icon:"strikethrough",iconProps:function(t){var e;return{primaryColor:(e=xt(t.plugins.annotation,"strikeout"))===null||e===void 0?void 0:e.color}},action:function(t){var e,n,o=(e=t.getPlugin(rt))===null||e===void 0?void 0:e.provides(),i=(n=t.getPlugin(oe))===null||n===void 0?void 0:n.provides();if(i&&o){var r=o.getTool("strikeout");if(r&&Zu(r)){var a,s=r.defaults,c=i.getFormattedSelection(),d=i.getSelectedText(),u=Se(c);try{var p=function(){var h=a.value;d.wait((function(g){var f=yt();o.createAnnotation(h.pageIndex,{id:f,created:new Date,flags:["print"],type:R.STRIKEOUT,blendMode:X.Normal,color:s.color,opacity:s.opacity,pageIndex:h.pageIndex,rect:h.rect,segmentRects:h.segmentRects,custom:{text:g.join(`
`)}}),o.selectAnnotation(h.pageIndex,f)}),ht)};for(u.s();!(a=u.n()).done;)p()}catch(h){u.e(h)}finally{u.f()}i.clear()}}}},highlightSelection:{id:"highlightSelection",label:"Highlight Selection",type:"action",icon:"highlight",iconProps:function(t){var e;return{primaryColor:(e=xt(t.plugins.annotation,"highlight"))===null||e===void 0?void 0:e.color}},action:function(t){var e,n,o=(e=t.getPlugin(rt))===null||e===void 0?void 0:e.provides(),i=(n=t.getPlugin(oe))===null||n===void 0?void 0:n.provides();if(i&&o){var r=o.getTool("highlight");if(r&&Wu(r)){var a,s=r.defaults,c=i.getFormattedSelection(),d=i.getSelectedText(),u=Se(c);try{var p=function(){var h=a.value;d.wait((function(g){var f=yt();o.createAnnotation(h.pageIndex,{id:f,created:new Date,flags:["print"],type:R.HIGHLIGHT,blendMode:X.Multiply,color:s.color,opacity:s.opacity,pageIndex:h.pageIndex,rect:h.rect,segmentRects:h.segmentRects,custom:{text:g.join(`
`)}}),o.selectAnnotation(h.pageIndex,f)}),ht)};for(u.s();!(a=u.n()).done;)p()}catch(h){u.e(h)}finally{u.f()}i.clear()}}}},saveRedaction:{id:"saveRedaction",label:"Save redaction",type:"action",icon:"check",action:function(t){var e,n=(e=t.getPlugin(ne))===null||e===void 0?void 0:e.provides();n&&n.commitAllPending()},disabled:function(t){return!(e=>Object.values(e.pending).some((n=>(n?.length??0)>0)))(t.plugins[ne])}},exitRedaction:{id:"exitRedaction",label:"Exit redaction",type:"action",icon:"x",action:function(t){var e,n=(e=t.getPlugin(ne))===null||e===void 0?void 0:e.provides();n&&n.endRedaction()},disabled:function(t){return!t.plugins[ne].isRedacting}},redactSelection:{id:"redactSelection",label:"Redact Selection",type:"action",icon:"redact",action:function(t){var e,n,o=(e=t.getPlugin(ne))===null||e===void 0?void 0:e.provides(),i=(n=t.getPlugin(It))===null||n===void 0?void 0:n.provides();o&&i&&(o.queueCurrentSelectionAsPending(),i.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"redactionTools"}))}},redact:{id:"redact",label:"Redact Selection",type:"action",icon:"redact",action:function(t){var e,n=(e=t.getPlugin(ne))===null||e===void 0?void 0:e.provides();n&&(n.isRedactSelectionActive()?n.endRedaction():n.enableRedactSelection())},active:function(t){return t.plugins[Xt].activeMode==="redactSelection"}},redactArea:{id:"redactArea",label:"Redact Area",type:"action",icon:"redactArea",action:function(t){var e,n=(e=t.getPlugin(ne))===null||e===void 0?void 0:e.provides();n&&(n.isMarqueeRedactActive()?n.endRedaction():n.enableMarqueeRedact())},active:function(t){return t.plugins[Xt].activeMode==="marqueeRedact"}},styleAnnotation:{id:"styleAnnotation",label:"Style",type:"action",icon:"palette",action:function(t,e){var n,o=(n=t.getPlugin(It))===null||n===void 0?void 0:n.provides();o&&o.togglePanel({id:"leftPanel",visibleChild:"leftPanelAnnotationStyle",open:e.plugins.ui.panel.leftPanel.open!==!0||e.plugins.ui.panel.leftPanel.visibleChild!=="leftPanelAnnotationStyle"})},active:function(t){return t.plugins.ui.panel.leftPanel.open===!0&&t.plugins.ui.panel.leftPanel.visibleChild==="leftPanelAnnotationStyle"}},deleteAnnotation:{id:"deleteAnnotation",label:"Delete",type:"action",icon:"trash",action:function(t){var e,n=(e=t.getPlugin(rt))===null||e===void 0?void 0:e.provides();if(n){var o=n.getSelectedAnnotation();o&&n.deleteAnnotation(o.object.pageIndex,o.object.id)}}},panMode:{id:"panMode",label:"Pan",type:"action",dividerBefore:!0,icon:"hand",action:function(t){var e,n=(e=t.getPlugin(Xt))===null||e===void 0?void 0:e.provides();n&&(n.getActiveMode()==="panMode"?n.activateDefaultMode():n.activate("panMode"))},active:function(t){return t.plugins[Xt].activeMode==="panMode"}},pointerMode:{id:"pointerMode",label:"Pointer",type:"action",icon:"pointer",action:function(t){var e,n=(e=t.getPlugin(Xt))===null||e===void 0?void 0:e.provides();n&&(n.getActiveMode()==="pointerMode"?n.activateDefaultMode():n.activate("pointerMode"))},active:function(t){return t.plugins[Xt].activeMode==="pointerMode"}},undo:{id:"undo",label:"Undo",type:"action",icon:"arrowBackUp",action:function(t){var e,n=(e=t.getPlugin(Pe))===null||e===void 0?void 0:e.provides();n&&n.undo()},disabled:function(t){return!t.plugins[Pe].global.canUndo}},redo:{id:"redo",label:"Redo",type:"action",icon:"arrowForwardUp",action:function(t){var e,n=(e=t.getPlugin(Pe))===null||e===void 0?void 0:e.provides();n&&n.redo()},disabled:function(t){return!t.plugins[Pe].global.canRedo}},commitAnnotations:{id:"commitAnnotations",label:"Commit",type:"action",icon:"deviceFloppy",action:function(t){var e,n=(e=t.getPlugin(rt))===null||e===void 0?void 0:e.provides();n&&n.commit()}}},rp={menuButton:{type:"iconButton",id:"menuButton",props:{commandId:"menuCtr",active:!1,label:"Menu"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.menuCtr,t)})}},deleteAnnotationButton:{type:"iconButton",id:"deleteAnnotationButton",props:{commandId:"deleteAnnotation",active:!1,label:"Delete"}},styleButton:{type:"iconButton",id:"styleButton",props:{commandId:"styleAnnotation",active:!1,label:"Style"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.styleAnnotation,t)})}},undoButton:{type:"iconButton",id:"undoButton",props:{commandId:"undo",disabled:!1,label:"Undo"},mapStateToProps:function(t,e){return C(C({},e),{},{disabled:rn($.undo,t)})}},redoButton:{type:"iconButton",id:"redoButton",props:{commandId:"redo",disabled:!1,label:"Redo"},mapStateToProps:function(t,e){return C(C({},e),{},{disabled:rn($.redo,t)})}},commitAnnotationsButton:{type:"iconButton",id:"commitAnnotationsButton",props:{commandId:"commitAnnotations",active:!1,label:"Commit"}},copyButton:{type:"iconButton",id:"copyButton",props:{commandId:"copy",active:!1,label:"Copy"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.copy,t)})}},panModeButton:{type:"iconButton",id:"panModeButton",props:{commandId:"panMode",active:!1,label:"Pan"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.panMode,t)})}},pointerModeButton:{type:"iconButton",id:"pointerModeButton",props:{commandId:"pointerMode",active:!1,label:"Pointer"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.pointerMode,t)})}},circleButton:{type:"iconButton",id:"circleButton",props:{commandId:"circle",active:!1,label:"Circle"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.circle,t),iconProps:Ct($.circle,t)})}},freeTextButton:{type:"iconButton",id:"freeTextButton",props:{commandId:"freeText",active:!1,label:"Free Text"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.freeText,t),iconProps:Ct($.freeText,t)})}},squareButton:{type:"iconButton",id:"squareButton",props:{commandId:"square",active:!1,label:"Square"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.square,t),iconProps:Ct($.square,t)})}},polygonButton:{type:"iconButton",id:"polygonButton",props:{commandId:"polygon",active:!1,label:"Polygon"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.polygon,t),iconProps:Ct($.polygon,t)})}},lineButton:{type:"iconButton",id:"lineButton",props:{commandId:"line",active:!1,label:"Line"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.line,t),iconProps:Ct($.line,t)})}},lineArrowButton:{type:"iconButton",id:"lineArrowButton",props:{commandId:"lineArrow",active:!1,label:"Line Arrow"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.lineArrow,t),iconProps:Ct($.lineArrow,t)})}},polylineButton:{type:"iconButton",id:"polylineButton",props:{commandId:"polyline",active:!1,label:"Polyline"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.polyline,t),iconProps:Ct($.polyline,t)})}},underlineButton:{type:"iconButton",id:"underlineButton",props:{commandId:"underline",active:!1,label:"Underline",color:"#e44234"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.underline,t),iconProps:Ct($.underline,t)})}},squigglyButton:{type:"iconButton",id:"squigglyButton",props:{commandId:"squiggly",active:!1,label:"Squiggly",color:"#e44234"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.squiggly,t),iconProps:Ct($.squiggly,t)})}},strikethroughButton:{type:"iconButton",id:"strikethroughButton",props:{commandId:"strikethrough",active:!1,label:"Strikethrough",color:"#e44234"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.strikethrough,t),iconProps:Ct($.strikethrough,t)})}},highlightButton:{type:"iconButton",id:"highlightButton",props:{commandId:"highlight",active:!1,label:"Highlight",color:"#ffcd45"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.highlight,t),iconProps:Ct($.highlight,t)})}},freehandButton:{type:"iconButton",id:"freehandButton",props:{commandId:"freehand",active:!1,label:"Freehand",color:"#e44234"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.freehand,t),iconProps:Ct($.freehand,t)})}},photoButton:{type:"iconButton",id:"photoButton",props:{commandId:"photo",active:!1,label:"Photo",color:"#000000"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.photo,t),iconProps:Ct($.photo,t)})}},highlightSelectionButton:{type:"iconButton",id:"highlightSelectionButton",props:{commandId:"highlightSelection",color:"#ffcd45"},mapStateToProps:function(t,e){return C(C({},e),{},{iconProps:Ct($.highlightSelection,t)})}},underlineSelectionButton:{type:"iconButton",id:"underlineSelectionButton",props:{commandId:"underlineSelection",color:"#e44234"},mapStateToProps:function(t,e){return C(C({},e),{},{iconProps:Ct($.underlineSelection,t)})}},strikethroughSelectionButton:{type:"iconButton",id:"strikethroughSelectionButton",props:{commandId:"strikethroughSelection",color:"#e44234"},mapStateToProps:function(t,e){return C(C({},e),{},{iconProps:Ct($.strikethroughSelection,t)})}},squigglySelectionButton:{type:"iconButton",id:"squigglySelectionButton",props:{commandId:"squigglySelection",color:"#e44234"},mapStateToProps:function(t,e){return C(C({},e),{},{iconProps:Ct($.squigglySelection,t)})}},redactionButton:{type:"iconButton",id:"redactionButton",props:{commandId:"redact"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.redact,t)})}},redactionAreaButton:{type:"iconButton",id:"redactionAreaButton",props:{commandId:"redactArea"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.redactArea,t)})}},redactSelectionButton:{type:"iconButton",id:"redactSelectionButton",props:{commandId:"redactSelection"},mapStateToProps:function(t,e){return C(C({},e),{},{iconProps:Ct($.redactSelection,t)})}},viewCtrButton:{type:"iconButton",id:"viewCtrButton",props:{commandId:"viewCtr",active:!1,label:"View settings"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.viewCtr,t)})}},saveRedactionButton:{type:"iconButton",id:"saveRedactionButton",props:{commandId:"saveRedaction",label:"Save redaction"},mapStateToProps:function(t,e){return C(C({},e),{},{disabled:rn($.saveRedaction,t)})}},exitRedactionButton:{type:"iconButton",id:"exitRedactionButton",props:{commandId:"exitRedaction",label:"Exit redaction"},mapStateToProps:function(t,e){return C(C({},e),{},{disabled:rn($.exitRedaction,t)})}},commentButton:{type:"iconButton",id:"commentButton",props:{active:!1,commandId:"comment",label:"Comment"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.comment,t)})}},searchButton:{type:"iconButton",id:"searchButton",props:{active:!1,commandId:"search",label:"Search"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.search,t)})}},filePickerButton:{type:"iconButton",id:"filePickerButton",props:{label:"Open File",img:"data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgd2lkdGg9IjI0IiAgaGVpZ2h0PSIyNCIgIHZpZXdCb3g9IjAgMCAyNCAyNCIgIGZpbGw9Im5vbmUiICBzdHJva2U9IiMzNDNhNDAiICBzdHJva2Utd2lkdGg9IjIiICBzdHJva2UtbGluZWNhcD0icm91bmQiICBzdHJva2UtbGluZWpvaW49InJvdW5kIiAgY2xhc3M9Imljb24gaWNvbi10YWJsZXIgaWNvbi10YWJsZXItb3V0bGluZSBpY29uLXRhYmxlci1maWxlLWltcG9ydCI+PHBhdGggc3Ryb2tlPSJub25lIiBkPSJNIDAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0xNCAzdjRhMSAxIDAgMCAwIDEgMWg0IiAvPjxwYXRoIGQ9Ik01IDEzdi04YTIgMiAwIDAgMSAyIC0yaDdsNSA1djExYTIgMiAwIDAgMSAtMiAyaC01LjVtLTkuNSAtMmg3bS0zIC0zbDMgM2wtMyAzIiAvPjwvc3ZnPg=="}},downloadButton:{type:"iconButton",id:"downloadButton",props:{label:"Download",img:"data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgd2lkdGg9IjI0IiAgaGVpZ2h0PSIyNCIgIHZpZXdCb3g9IjAgMCAyNCAyNCIgIGZpbGw9Im5vbmUiICBzdHJva2U9IiMzNDNhNDAiICBzdHJva2Utd2lkdGg9IjIiICBzdHJva2UtbGluZWNhcD0icm91bmQiICBzdHJva2UtbGluZWpvaW49InJvdW5kIiAgY2xhc3M9Imljb24gaWNvbi10YWJsZXIgaWNvbnMtdGFibGVyLW91dGxpbmUgaWNvbi10YWJsZXItZG93bmxvYWQiPjxwYXRoIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik00IDE3djJhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMiAtMnYtMiIgLz48cGF0aCBkPSJNNyAxMWw1IDVsNSAtNSIgLz48cGF0aCBkPSJNMTIgNGwwIDEyIiAvPjwvc3ZnPg=="}},zoomButton:{type:"iconButton",id:"zoomButton",props:{commandId:"zoom",label:"Zoom",img:"data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgd2lkdGg9IjI0IiAgaGVpZ2h0PSIyNCIgIHZpZXdCb3g9IjAgMCAyNCAyNCIgIGZpbGw9Im5vbmUiICBzdHJva2U9IiMzNDNhNDAiICBzdHJva2Utd2lkdGg9IjIiICBzdHJva2UtbGluZWNhcD0icm91bmQiICBzdHJva2UtbGluZWpvaW49InJvdW5kIiAgY2xhc3M9Imljb24gaWNvbi10YWJsZXIgaWNvbnMtdGFibGVyLW91dGxpbmUgaWNvbi10YWJsZXItY2lyY2xlLXBsdXMiPjxwYXRoIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0zIDEyYTkgOSAwIDEgMCAxOCAwYTkgOSAwIDAgMCAtMTggMCIgLz48cGF0aCBkPSJNOSAxMmg2IiAvPjxwYXRoIGQ9Ik0xMiA5djYiIC8+PC9zdmc+"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.zoom,t)||Q($.changeZoomLevel,t)})}},sidebarButton:{type:"iconButton",id:"sidebarButton",props:{commandId:"sidebar",label:"Sidebar",active:!1},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.sidebar,t)})}},divider1:{type:"divider",id:"divider1"},expandLeftActionsButton:{type:"iconButton",id:"expandLeftActionsButton",props:{commandId:"leftAction",label:"Left Panel Actions"},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.leftAction,t)})}},headerStart:{id:"headerStart",type:"groupedItems",slots:[{componentId:"menuButton",priority:0},{componentId:"divider1",priority:1,className:"flex"},{componentId:"sidebarButton",priority:2},{componentId:"expandLeftActionsButton",priority:3,className:"@min-[400px]:hidden"},{componentId:"viewCtrButton",priority:4,className:"hidden @min-[400px]:block"},{componentId:"divider1",priority:6,className:"hidden @min-[400px]:flex"},{componentId:"zoomButton",priority:7,className:"hidden @min-[400px]:block @min-[600px]:hidden"},{componentId:"zoom",priority:8,className:"hidden @min-[600px]:block"},{componentId:"divider1",priority:9,className:"hidden @min-[600px]:flex"},{componentId:"panModeButton",priority:10,className:"hidden @min-[600px]:block"},{componentId:"pointerModeButton",priority:11,className:"hidden @min-[600px]:block"}],props:{gap:10}},viewTab:{type:"tabButton",id:"viewTab",props:{label:"View",commandId:"view",active:!1},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.view,t)})}},annotateTab:{type:"tabButton",id:"annotateTab",props:{label:"Annotate",commandId:"annotate",active:!1},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.annotate,t)})}},shapesTab:{type:"tabButton",id:"shapesTab",props:{label:"Shapes",commandId:"shapes",active:!1},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.shapes,t)})}},redactionTab:{type:"tabButton",id:"redactionTab",props:{label:"Redact",commandId:"redaction",active:!1},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.redaction,t)})}},fillAndSignTab:{type:"tabButton",id:"fillAndSignTab",props:{label:"Fill and Sign",commandId:"fillAndSign",active:!1},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.fillAndSign,t)})}},formTab:{type:"tabButton",id:"formTab",props:{label:"Form",commandId:"form",active:!1},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.form,t)})}},tabOverflowButton:{type:"iconButton",id:"tabOverflowButton",props:{label:"More",commandId:"tabOverflow",active:!1},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.tabOverflow,t)})}},annotationToolOverflowButton:{type:"iconButton",id:"annotationToolOverflowButton",props:{label:"More",commandId:"annotationToolOverflow",active:!1},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.annotationToolOverflow,t)})}},shapeToolOverflowButton:{type:"iconButton",id:"shapeToolOverflowButton",props:{label:"More",commandId:"shapeToolOverflow",active:!1},mapStateToProps:function(t,e){return C(C({},e),{},{active:Q($.shapeToolOverflow,t)})}},selectButton:{type:"selectButton",id:"selectButton",props:{menuCommandId:"tabOverflow",commandIds:["view","annotate","shapes","redaction"],activeCommandId:"view",active:!1},mapStateToProps:function(t,e){var n;return C(C({},e),{},{activeCommandId:(n=e.commandIds.find((function(o){return Q($[o],t)})))!==null&&n!==void 0?n:e.commandIds[0],active:Q($.tabOverflow,t)})}},headerCenter:{id:"headerCenter",type:"groupedItems",slots:[{componentId:"selectButton",priority:0,className:"block @min-[500px]:hidden"},{componentId:"viewTab",priority:1,className:"hidden @min-[500px]:block"},{componentId:"annotateTab",priority:2,className:"hidden @min-[800px]:block"},{componentId:"shapesTab",priority:3,className:"hidden @min-[800px]:block"},{componentId:"redactionTab",priority:4,className:"hidden @min-[800px]:block"},{componentId:"tabOverflowButton",priority:5,className:"hidden @min-[500px]:block @min-[800px]:hidden"}],props:{gap:10}},headerEnd:{id:"headerEnd",type:"groupedItems",slots:[{componentId:"searchButton",priority:1},{componentId:"commentButton",priority:2}],props:{gap:10}},pageControls:{id:"pageControls",type:"custom",render:"pageControls",initialState:{currentPage:1,pageCount:1},props:function(t){return{currentPage:t.currentPage,pageCount:t.pageCount,nextPageCommandId:"nextPage",previousPageCommandId:"previousPage"}},mapStateToProps:function(t,e){var n,o;return C(C({},e),{},{currentPage:t.plugins.scroll.currentPage,pageCount:(n=(o=t.core.document)===null||o===void 0?void 0:o.pageCount)!==null&&n!==void 0?n:1})}},pageControlsContainer:{id:"pageControlsContainer",type:"floating",props:{scrollerPosition:"outside"},render:"pageControlsContainer",slots:[{componentId:"pageControls",priority:0}]},textSelectionMenuButtons:{id:"textSelectionMenuButtons",type:"groupedItems",slots:[{componentId:"copyButton",priority:0},{componentId:"highlightSelectionButton",priority:1},{componentId:"underlineSelectionButton",priority:2},{componentId:"strikethroughSelectionButton",priority:3},{componentId:"squigglySelectionButton",priority:4},{componentId:"redactSelectionButton",priority:5}],props:{gap:10}},printModal:{id:"printModal",type:"floating",render:"printModal",initialState:{open:!1},props:function(t){return{open:t.open,scrollerPosition:"outside"}},mapStateToProps:function(t,e){return C(C({},e),{},{open:t.plugins.ui.floating.printModal.open})}},textSelectionMenu:{id:"textSelectionMenu",type:"floating",render:"textSelectionMenu",props:{open:!1,scrollerPosition:"inside"},mapStateToProps:function(t,e){return C(C({},e),{},{isScolling:t.plugins.viewport.isScrolling,scale:t.core.scale,rotation:t.core.rotation,spread:t.plugins[Ie].spreadMode,open:t.plugins[oe].active&&!t.plugins[oe].selecting})},slots:[{componentId:"textSelectionMenuButtons",priority:0}],getChildContext:{direction:"horizontal"}},topHeader:{type:"header",id:"topHeader",slots:[{componentId:"headerStart",priority:0},{componentId:"headerCenter",priority:1},{componentId:"headerEnd",priority:2}],getChildContext:function(t){return{direction:t.placement==="top"||t.placement==="bottom"?"horizontal":"vertical"}},props:{placement:"top",style:{backgroundColor:"#ffffff",gap:"10px"}}},shapeTools:{id:"shapeTools",type:"groupedItems",slots:[{componentId:"circleButton",priority:6},{componentId:"squareButton",priority:7},{componentId:"polygonButton",priority:8},{componentId:"polylineButton",priority:9},{componentId:"lineButton",priority:10,className:"hidden @min-[500px]:block"},{componentId:"lineArrowButton",priority:11,className:"hidden @min-[500px]:block"},{componentId:"shapeToolOverflowButton",priority:12,className:"block @min-[500px]:hidden"},{componentId:"divider1",priority:12},{componentId:"styleButton",priority:13},{componentId:"divider1",priority:14},{componentId:"undoButton",priority:15},{componentId:"redoButton",priority:16}],props:{gap:10}},redactionTools:{id:"redactionTools",type:"groupedItems",slots:[{componentId:"redactionButton",priority:1},{componentId:"redactionAreaButton",priority:2},{componentId:"divider1",priority:3},{componentId:"saveRedactionButton",priority:4},{componentId:"exitRedactionButton",priority:5}],props:{gap:10}},annotationTools:{id:"annotationTools",type:"groupedItems",slots:[{componentId:"highlightButton",priority:1},{componentId:"underlineButton",priority:2},{componentId:"strikethroughButton",priority:3},{componentId:"squigglyButton",priority:4},{componentId:"freehandButton",priority:5,className:"hidden @min-[500px]:block"},{componentId:"freeTextButton",priority:6,className:"hidden @min-[500px]:block"},{componentId:"photoButton",priority:7,className:"hidden @min-[500px]:block"},{componentId:"annotationToolOverflowButton",priority:8,className:"block @min-[500px]:hidden"},{componentId:"divider1",priority:9},{componentId:"styleButton",priority:10},{componentId:"divider1",priority:11},{componentId:"undoButton",priority:12},{componentId:"redoButton",priority:13}],props:{gap:10}},toolsHeader:{type:"header",id:"toolsHeader",initialState:{visible:!1,visibleChild:null},props:function(t){return{placement:"top",visible:t.visible,visibleChild:t.visibleChild,style:{backgroundColor:"#f1f3f5",justifyContent:"center"}}},mapStateToProps:function(t,e){return C(C({},e),{},{visible:t.plugins.ui.header.toolsHeader.visible,visibleChild:t.plugins.ui.header.toolsHeader.visibleChild})},slots:[{componentId:"annotationTools",priority:0},{componentId:"shapeTools",priority:1},{componentId:"redactionTools",priority:2}],getChildContext:function(t){return{direction:t.placement==="top"||t.placement==="bottom"?"horizontal":"vertical"}}},leftPanelAnnotationStyle:{id:"leftPanelAnnotationStyle",type:"custom",render:"leftPanelAnnotationStyle",mapStateToProps:function(t,e){return C(C({},e),{},{selectedAnnotation:ko(t.plugins[rt]),activeToolId:t.plugins[rt].activeToolId,colorPresets:t.plugins[rt].colorPresets,tools:t.plugins[rt].tools})}},leftPanelMain:{id:"leftPanelMain",type:"custom",render:"leftPanelMain",initialState:{visibleChild:"thumbnails"},props:function(t){return{visibleChild:t.visibleChild,tabsCommandId:"sidebarMenu"}},mapStateToProps:function(t,e){return C(C({},e),{},{visibleChild:t.plugins.ui.custom.leftPanelMain.visibleChild})},slots:[{componentId:"thumbnails",priority:0},{componentId:"outline",priority:1},{componentId:"attachments",priority:2}]},leftPanel:{id:"leftPanel",type:"panel",initialState:{open:!1,visibleChild:"leftPanelMain"},props:function(t){return{open:t.open,visibleChild:t.visibleChild,location:"left"}},mapStateToProps:function(t,e){return C(C({},e),{},{open:t.plugins.ui.panel.leftPanel.open,visibleChild:t.plugins.ui.panel.leftPanel.visibleChild})},slots:[{componentId:"leftPanelMain",priority:0},{componentId:"leftPanelAnnotationStyle",priority:1}]},thumbnails:{id:"thumbnails",type:"custom",render:"thumbnails",mapStateToProps:function(t,e){return C(C({},e),{},{currentPage:t.plugins.scroll.currentPage})}},outline:{id:"outline",type:"custom",render:"outline",props:{document:null},mapStateToProps:function(t,e){return C(C({},e),{},{document:t.core.document})}},attachments:{id:"attachments",type:"custom",render:"attachments",props:{document:null},mapStateToProps:function(t,e){return C(C({},e),{},{document:t.core.document})}},search:{id:"search",type:"custom",render:"search",mapStateToProps:function(t,e){return C(C({},e),{},{flags:t.plugins.search.flags,results:t.plugins.search.results,total:t.plugins.search.total,activeResultIndex:t.plugins.search.activeResultIndex,active:t.plugins.search.active,query:t.plugins.search.query,loading:t.plugins.search.loading})}},comment:{id:"comment",type:"custom",render:"comment",mapStateToProps:function(t,e){return C(C({},e),{},{sidebarAnnotations:Tu(t.plugins[rt]),selectedAnnotation:ko(t.plugins[rt])})}},commandMenu:{id:"commandMenu",type:"commandMenu",initialState:{open:!1,activeCommand:null,triggerElement:void 0,position:void 0,flatten:!1},props:function(t){return{open:t.open,activeCommand:t.activeCommand,triggerElement:t.triggerElement,position:t.position,flatten:t.flatten}},mapStateToProps:function(t,e){return C(C({},e),{},{open:t.plugins.ui.commandMenu.commandMenu.open,activeCommand:t.plugins.ui.commandMenu.commandMenu.activeCommand,triggerElement:t.plugins.ui.commandMenu.commandMenu.triggerElement,position:t.plugins.ui.commandMenu.commandMenu.position,flatten:t.plugins.ui.commandMenu.commandMenu.flatten})}},zoom:{id:"zoom",type:"custom",render:"zoom",initialState:{zoomLevel:1},props:function(t){return{zoomLevel:t.zoomLevel,commandZoomIn:$.zoomIn.id,commandZoomOut:$.zoomOut.id,commandZoomMenu:$.zoom.id,zoomMenuActive:!1}},mapStateToProps:function(t,e){return C(C({},e),{},{zoomLevel:t.plugins.zoom.currentZoomLevel,zoomMenuActive:Q($.zoom,t)||Q($.changeZoomLevel,t)})}},rightPanel:{id:"rightPanel",type:"panel",initialState:{open:!1,visibleChild:null},props:function(t){return{open:t.open,visibleChild:t.visibleChild,location:"right"}},mapStateToProps:function(t,e){return C(C({},e),{},{open:t.plugins.ui.panel.rightPanel.open,visibleChild:t.plugins.ui.panel.rightPanel.visibleChild})},slots:[{componentId:"search",priority:0},{componentId:"comment",priority:1}]}},ap={enabled:!0,components:rp,menuItems:$},Er=new aa([new ia,new ra]);function lp(t){var e,n=t.config,o=(function(s){const{wasmUrl:c=rd,worker:d=!0,logger:u}=s??{},[p,h]=D(null),[g,f]=D(!0),[m,v]=D(null),y=Z(null);return E((()=>{let b=!1;return(async()=>{try{const{createPdfiumEngine:w}=d?await no(()=>import("./worker-engine-956808f1-C96IfFCm.js"),__vite__mapDeps([0,1,2,3])):await no(()=>import("./direct-engine-7d4cd2b1-DcCgsJO7.js"),__vite__mapDeps([4,1,2,3])),x=await w(c,u);y.current=x,x.initialize().wait((()=>{h(x),f(!1)}),(k=>{v(new Error(k.reason.message)),f(!1)}))}catch(w){b||(v(w),f(!1))}})(),()=>{var w,x;b=!0,(x=(w=y.current)==null?void 0:w.closeAllDocuments)==null||x.call(w).wait((()=>{var k,M;(M=(k=y.current)==null?void 0:k.destroy)==null||M.call(k),y.current=null}),ht)}}),[c,d,u]),{engine:p,isLoading:g,error:m}})(C(C({},n.wasmUrl&&{wasmUrl:n.wasmUrl}),{},{worker:n.worker,logger:n.log?Er:void 0})),i=o.engine,r=o.isLoading,a=(function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{viewport:C(C({},fe.viewport),s.viewport),scroll:C(C({},fe.scroll),s.scroll),zoom:C(C({},fe.zoom),s.zoom),spread:C(C({},fe.spread),s.spread),rotate:C(C({},fe.rotate),s.rotate),tiling:C(C({},fe.tiling),s.tiling),thumbnail:C(C({},fe.thumbnail),s.thumbnail)}})(n.plugins);return l(tt,null,l("style",null,bc),!i||r?l("div",{className:"flex h-full w-full items-center justify-center"},l(Cr,{size:"lg",text:"Initializing PDF engine..."})):l(id,{logger:n.log?Er:void 0,engine:i,onInitialized:(e=(function(s){return function(){var c=this,d=arguments;return new Promise((function(u,p){var h=s.apply(c,d);function g(m){ui(h,u,p,g,f,"next",m)}function f(m){ui(h,u,p,g,f,"throw",m)}g(void 0)}))}})(io().mark((function s(c){var d,u;return io().wrap((function(p){for(;;)switch(p.prev=p.next){case 0:(u=(d=c.getPlugin("ui"))===null||d===void 0?void 0:d.provides())&&(u.registerComponentRenderer("groupedItems",du),u.registerComponentRenderer("iconButton",lu),u.registerComponentRenderer("tabButton",su),u.registerComponentRenderer("header",uu),u.registerComponentRenderer("divider",cu),u.registerComponentRenderer("panel",pu),u.registerComponentRenderer("search",fu),u.registerComponentRenderer("zoom",mu),u.registerComponentRenderer("pageControlsContainer",yu),u.registerComponentRenderer("pageControls",bu),u.registerComponentRenderer("commandMenu",wu),u.registerComponentRenderer("comment",np),u.registerComponentRenderer("thumbnails",xu),u.registerComponentRenderer("outline",ku),u.registerComponentRenderer("attachments",Cu),u.registerComponentRenderer("selectButton",Su),u.registerComponentRenderer("textSelectionMenu",vu),u.registerComponentRenderer("leftPanelMain",hu),u.registerComponentRenderer("printModal",Mu),u.registerComponentRenderer("leftPanelAnnotationStyle",bh));case 2:case"end":return p.stop()}}),s)}))),function(s){return e.apply(this,arguments)}),plugins:[gt(kd,ap),gt(wd,{loadingOptions:{type:"url",pdfFile:{id:"pdf",name:"embedpdf-ebook.pdf",url:n.src}}}),gt(ld,a.viewport),gt(hd,a.scroll),gt(Ld,a.zoom),gt(md,a.spread),gt(wh),gt(Ch,a.rotate),gt($d),gt(Jd),gt(Ph,a.tiling),gt(Wd,a.thumbnail),gt(Vu),gt(eu),gt(zh),gt(ou),gt(Rh),gt(Yu),gt(Eh),gt(Nh,{scale:2,imageType:"image/png"}),gt(Bh),gt(Hh,{drawBlackBoxes:!0}),gt(iu)]},(function(s){var c=s.pluginsReady;return l(Cd,null,(function(d){var u=d.headers,p=d.panels,h=d.floating,g=d.commandMenu;return l(tt,null,l("div",{className:"@container relative flex h-full w-full select-none flex-col"},u.top.length>0&&l("div",null,u.top),l("div",{className:"flex flex-1 flex-row overflow-hidden"},l("div",{className:"flex flex-col"},u.left),l("div",{className:"flex flex-1 flex-col overflow-hidden md:flex-row"},p.left.length>0&&l(tt,null,p.left),l("div",{className:"relative flex w-full flex-1 overflow-hidden"},l(Ku,null,l(cd,{style:{width:"100%",height:"100%",flexGrow:1,backgroundColor:"#f1f3f5",overflow:"auto"}},!c&&l("div",{className:"flex h-full w-full items-center justify-center"},l(Cr,{size:"lg",text:"Loading PDF document..."})),c&&l(Od,null,l(pd,{renderPage:function(f){var m=f.pageIndex,v=f.scale,y=f.rotation,b=f.width,w=f.height,x=f.document;return l(Sh,{key:x?.id,pageSize:{width:b,height:w},style:{backgroundColor:"#fff"}},l(Qu,{rotation:y,scale:v,pageWidth:b,pageHeight:w,pageIndex:m},l(xh,{pageIndex:m,className:"pointer-events-none"}),l(Th,{pageIndex:m,scale:v,className:"pointer-events-none"}),l(Fd,{pageIndex:m,scale:v,className:"pointer-events-none"}),l(qh,null),l(hh,{pageIndex:m,scale:v,pageWidth:b,pageHeight:w,rotation:y,selectionMenu:function(k){var M=k.selected,P=k.rect,I=k.annotation,A=k.menuWrapperProps;return l("div",C(C({},A),{},{style:C(C({},A.style),{},{display:"flex",justifyContent:"center"})}),M?l(Zh,{trackedAnnotation:I,style:{pointerEvents:"auto",position:"absolute",top:P.size.height+10}}):null)}}),l(Bd,{pageIndex:m,scale:v}),l(Lh,{pageIndex:m,scale:v}),l(Uh,{pageIndex:m,scale:v,rotation:y,selectionMenu:function(k){var M=k.item,P=k.selected,I=k.rect,A=k.menuWrapperProps;return l("div",C(C({},A),{},{style:C(C({},A.style),{},{display:"flex",justifyContent:"center"})}),P?l(ip,{item:M,pageIndex:m,style:{pointerEvents:"auto",position:"absolute",top:I.size.height+10}}):null)}}),l(Qd,{pageIndex:m,scale:v})))},overlayElements:h.insideScroller})),h.outsideScroller))),p.right.length>0&&l(tt,null,p.right)),l("div",{className:"flex flex-col"},u.right)),u.bottom.length>0&&l("div",null,u.bottom),g),l(Wh,null))}))})))}var sp=(function(){function t(){var e;return Nr(this,t),(e=_r(this,t)).root=e.attachShadow({mode:"open"}),e}return Dr(t,ro(HTMLElement)),Lr(t,[{key:"connectedCallback",value:function(){this._config||(this._config={src:this.getAttribute("src")||"/demo.pdf",worker:this.getAttribute("worker")!=="false"}),this.renderViewer()}},{key:"config",get:function(){return this._config},set:function(e){this._config=e,this.isConnected&&this.renderViewer()}},{key:"renderViewer",value:function(){this._config&&(function(e,n,o){var i,r,a,s;n==document&&(n=document.documentElement),st.__&&st.__(e,n),r=(i=!1)?null:n.__k,a=[],s=[],Ro(n,e=n.__k=l(tt,null,[e]),r||Ue,Ue,n.namespaceURI,r?null:n.firstChild?kn.call(n.childNodes):null,a,r?r.__e:n.firstChild,i,s),Vr(a,e,s)})(l(lp,{config:this._config}),this.root)}}])})(),cp=["type","target"];customElements.define("embedpdf-container",sp);var dp={init:function(t){if(t.type==="container")return(function(e){e.type,e.target;var n=ue(e,cp),o=document.createElement("embedpdf-container");return o.config=n,e.target.appendChild(o),o})(t)}};const Pp=Object.freeze(Object.defineProperty({__proto__:null,default:dp},Symbol.toStringTag,{value:"Module"}));export{vp as A,kp as B,Lc as C,wp as D,Hc as E,Cp as H,fp as J,Mc as K,bp as L,at as M,dt as N,xp as O,Oc as P,Be as R,Dc as S,pp as U,gp as W,lt as _,Pt as a,R as b,Mp as c,yt as d,oa as e,mp as f,Ne as g,Rc as h,hp as i,Sp as j,G as k,Ti as l,ho as m,Pp as n,kt as p,ht as u,Ec as v,Nc as w,Do as x,_c as y,yp as z};
