import{d as U,a0 as j,ac as w,r as A,i as C,R as S,o as c,c as x,k as l,w as i,l as e,m as B,j as b,a as V,a7 as z,a8 as D,a6 as F,G as y,ad as G,x as O,af as Q,b3 as $,s as q}from"./index-0c1fde36.js";import{p as E,m as H}from"./index-a5958021.js";import{a as I,i as P}from"./index-4bc05a7f.js";import{s as J}from"./index-0898812d.js";import{E as K}from"./Exchange-50a0cd13.js";import{_ as M,a as W}from"./Grid-1acaa06e.js";import{N as X}from"./Alert-a9fb131b.js";import"./index-e6f9cbd8.js";import"./index-5fa9e804.js";import"./get-slot-1efb97e5.js";const Y={style:{"list-item-type":"none"}},Z=V("div",{"my-3":"","op-70":""}," The end IPv4/6 address is lower than the start IPv4/6 address. This is not valid and no result could be calculated. In the most cases the solution to solve this problem is to change start and end address. ",-1),ee={"my-3":"","op-70":""},ue=U({__name:"ip-range-to-cidr",setup(te){const{t}=j(),s=w({name:"start",storageName:"ip-range-to-cidr:startAddress",defaultValue:"192.168.1.1"}),o=w({name:"end",storageName:"ip-range-to-cidr:endAddress",defaultValue:"192.168.6.255"}),u=A(!1),v=A(!1),N=C(()=>{try{if(v.value=I(o.value)!==I(s.value),u.value=!1,v.value)return[];const a=E(s.value).start,n=E(o.value).end;if(u.value=a>n,u.value)return[];const m=I(s.value)?6:4,p=n-a+1n,_=new BigInt64Array(Number(p));let h=a;for(let r=0;r<p;r++)_[r]=h++;return H(Array.from(_,r=>J({number:r,version:m})))}catch{return[]}}),g=S({source:s,rules:[{message:t("tools.ip-range-to-cidr.texts.message-invalid-ipv4-6-address"),validator:a=>P(a)}]}),f=S({source:o,rules:[{message:t("tools.ip-range-to-cidr.texts.message-invalid-ipv4-6-address"),validator:a=>P(a)}]}),R=C(()=>f.isValid&&g.isValid&&N.value.length>0);function T(){const a=s.value;s.value=o.value,o.value=a}return(a,n)=>{const m=O,p=M,_=W,h=Q,r=$,L=q,k=X;return c(),x("div",null,[l(_,{cols:"4","x-gap":"12","mb-6":"","w-full":""},{default:i(()=>[l(p,{span:"2"},{default:i(()=>[l(m,{value:e(s),"onUpdate:value":n[0]||(n[0]=d=>B(s)?s.value=d:null),label:e(t)("tools.ip-range-to-cidr.texts.label-start-address"),placeholder:e(t)("tools.ip-range-to-cidr.texts.placeholder-start-ipv4-6-address"),validation:e(g),clearable:""},null,8,["value","label","placeholder","validation"])]),_:1}),l(p,{span:"2"},{default:i(()=>[l(m,{value:e(o),"onUpdate:value":n[1]||(n[1]=d=>B(o)?o.value=d:null),label:e(t)("tools.ip-range-to-cidr.texts.label-end-address"),placeholder:e(t)("tools.ip-range-to-cidr.texts.placeholder-end-ipv4-6-address"),validation:e(f),clearable:""},null,8,["value","label","placeholder","validation"])]),_:1})]),_:1}),e(R)?(c(),b(h,{key:0,title:e(t)("tools.ip-range-to-cidr.texts.title-cidr"),"data-test-id":"result"},{default:i(()=>[V("ul",Y,[(c(!0),x(z,null,D(e(N),d=>(c(),x("li",{key:d},y(d),1))),128))])]),_:1},8,["title"])):e(g).isValid&&e(f).isValid&&e(u)?(c(),b(k,{key:1,title:e(t)("tools.ip-range-to-cidr.texts.title-invalid-combination-of-start-and-end-ipv4-6-address"),type:"error"},{default:i(()=>[Z,l(L,{onClick:T},{default:i(()=>[l(r,{"mr-2":"",component:e(K),depth:"3",size:"22"},null,8,["component"]),F(y(e(t)("tools.ip-range-to-cidr.texts.tag-switch-start-and-end-ipv4-6-address")),1)]),_:1})]),_:1},8,["title"])):e(v)?(c(),b(k,{key:2,title:e(t)("tools.ip-range-to-cidr.texts.title-invalid-combination-of-ip-version-4-6"),type:"error"},{default:i(()=>[V("div",ee,y(e(t)("tools.ip-range-to-cidr.texts.tag-start-ip-and-end-ip-must-be-of-same-version-ipv4-or-ipv6")),1)]),_:1},8,["title"])):G("",!0)])}}});export{ue as default};
