import{d as N,a0 as O,ac as C,r as V,i as M,o as y,j as w,w as d,k as s,l as e,m as j,a6 as G,G as U,ad as q,c as H,a7 as E,a as S,ae as X,ah as A,ai as F,af as Q}from"./index-0c1fde36.js";import{_ as R}from"./TextareaCopyable-59231e95.js";import{_ as z}from"./Divider-5fc425b0.js";import{_ as J}from"./Select-9917c364.js";import{_ as K}from"./FormItem-1b9a5952.js";import{_ as L}from"./Switch-a0f825a4.js";import{_ as W}from"./Form-a433c14f.js";import{_ as Y}from"./Card-7ba5ce79.js";import"./base64-ae7cf34b.js";import"./index-a6f01dde.js";import"./downloadBase64-508288e2.js";import"./index-6fddb70d.js";import"./index-cfd4d427.js";import"./Copy-ef9ec73c.js";import"./Scrollbar-54724e22.js";import"./Tag-e75b8dae.js";import"./FocusDetector-089b8822.js";import"./VirtualList-8140ffff.js";import"./Empty-ca426d71.js";import"./index-cbfaa337.js";import"./context-00991937.js";const Z={"mb-3":""},ye=N({__name:"database-connection-string-builder",setup(ee){const{t}=O(),g=C({name:"type",storageName:"conn-string-builder:t",defaultValue:"postgres"}),T=[{label:t("tools.database-connection-string-builder.texts.label-mysql"),value:"mysql"},{label:t("tools.database-connection-string-builder.texts.label-postgresql"),value:"postgres"},{label:t("tools.database-connection-string-builder.texts.label-sql-server"),value:"sqlserver"},{label:t("tools.database-connection-string-builder.texts.label-sqlite"),value:"sqlite"},{label:t("tools.database-connection-string-builder.texts.label-mongodb"),value:"mongodb"}],D=[{label:t("tools.database-connection-string-builder.texts.label-uri-scheme"),value:"uri"},{label:t("tools.database-connection-string-builder.texts.label-keyword-value-pairs"),value:"kvp"}],P={mysql:[{label:t("tools.database-connection-string-builder.texts.label-username-password"),value:"basic"}],postgres:[{label:t("tools.database-connection-string-builder.texts.label-username-password"),value:"basic"},{label:t("tools.database-connection-string-builder.texts.label-peer"),value:"peer"},{label:t("tools.database-connection-string-builder.texts.label-gssapi-sspi"),value:"gssapi"}],sqlserver:[{label:t("tools.database-connection-string-builder.texts.label-username-password"),value:"basic"},{label:t("tools.database-connection-string-builder.texts.label-windows-integrated"),value:"windows"}],sqlite:[],mongodb:[{label:t("tools.database-connection-string-builder.texts.label-username-password-scram"),value:"basic"},{label:t("tools.database-connection-string-builder.texts.label-x-509-certificate"),value:"x509"}]},l=V({host:"",port:void 0,username:"",password:"",database:"",filePath:"",ssl:!1,timeout:void 0,extra:"",authType:"basic",format:"uri"}),k={mysql:3306,postgres:5432,sqlserver:1433,mongodb:27017};function I(n,a){return a&&a>0?a:k[n]||void 0}const B=M(()=>{const{host:n,port:a,username:c,password:m,database:r,filePath:b,ssl:_,timeout:v,extra:x,authType:f,format:u}=l.value,i=I(g.value,a),h=_?u==="uri"?"ssl=true":"Encrypt=true;":"",o=v?u==="uri"?`connectTimeout=${v}`:`Connection Timeout=${v};`:"",p=u==="uri"?[h,o,x].filter(Boolean).join("&"):[h,o,x].filter(Boolean).join(""),$=u==="uri"&&p?`?${p}`:"";switch(g.value){case"mysql":return u==="uri"?`mysql://${c}:${m}@${n}:${i}/${r}${$}`:`Server=${n};Port=${i};Database=${r};User Id=${c};Password=${m};${p}`;case"postgres":return f==="peer"?u==="uri"?`postgresql://${n}/${r}${$}`:`Host=${n};Database=${r};Integrated Security=true;${p}`:f==="gssapi"?u==="uri"?`postgresql://${n}:${i}/${r}?auth=gssapi${$}`:`Host=${n};Port=${i};Database=${r};Integrated Security=SSPI;${p}`:u==="uri"?`postgresql://${c}:${m}@${n}:${i}/${r}${$}`:`Host=${n};Port=${i};Database=${r};User Id=${c};Password=${m};${p}`;case"sqlserver":return f==="windows"?u==="uri"?`mssql://${n}:${i};database=${r};trusted_connection=true${$}`:`Server=${n},${i};Database=${r};Trusted_Connection=True;${p}`:u==="uri"?`mssql://${c}:${m}@${n}:${i}/${r}${$}`:`Server=${n},${i};Database=${r};User Id=${c};Password=${m};${p}`;case"sqlite":return u==="uri"?`sqlite://${b}${$}`:`Data Source=${b};${p}`;case"mongodb":return f==="x509"?u==="uri"?`mongodb://@${n}:${i}/${r}?authMechanism=MONGODB-X509${$}`:`Server=${n}:${i};Database=${r};AuthMechanism=MONGODB-X509;${p}`:u==="uri"?`mongodb://${c}:${m}@${n}:${i}/${r}${$}`:`Server=${n}:${i};Database=${r};User Id=${c};Password=${m};${p}`;default:return""}});return(n,a)=>{const c=X,m=z,r=J,b=K,_=A,v=F,x=L,f=W,u=R,i=Q,h=Y;return y(),w(h,{title:e(t)("tools.database-connection-string-builder.texts.title-database-connection-string-generator"),style:{"max-width":"750px",margin:"auto"}},{default:d(()=>[s(c,{value:e(g),"onUpdate:value":a[0]||(a[0]=o=>j(g)?g.value=o:null),options:T,placeholder:e(t)("tools.database-connection-string-builder.texts.placeholder-select-a-database"),label:e(t)("tools.database-connection-string-builder.texts.label-database-type"),"label-position":"left","mb-2":""},null,8,["value","placeholder","label"]),s(c,{value:e(l).format,"onUpdate:value":a[1]||(a[1]=o=>e(l).format=o),options:D,placeholder:e(t)("tools.database-connection-string-builder.texts.placeholder-select-format"),label:e(t)("tools.database-connection-string-builder.texts.label-connection-string-format"),"label-position":"left","mb-2":""},null,8,["value","placeholder","label"]),s(m,null,{default:d(()=>[G(U(e(t)("tools.database-connection-string-builder.texts.tag-options")),1)]),_:1}),s(f,{model:e(l),"label-placement":"left","label-width":"140"},{default:d(()=>[P[e(g)]?.length?(y(),w(b,{key:0,label:e(t)("tools.database-connection-string-builder.texts.label-authentication-type")},{default:d(()=>[s(r,{value:e(l).authType,"onUpdate:value":a[2]||(a[2]=o=>e(l).authType=o),options:P[e(g)],placeholder:e(t)("tools.database-connection-string-builder.texts.placeholder-select-authentication")},null,8,["value","options","placeholder"])]),_:1},8,["label"])):q("",!0),e(g)!=="sqlite"&&e(l).authType!=="peer"&&e(l).authType!=="windows"&&e(l).authType!=="x509"?(y(),H(E,{key:1},[s(b,{label:e(t)("tools.database-connection-string-builder.texts.label-host")},{default:d(()=>[s(_,{value:e(l).host,"onUpdate:value":a[3]||(a[3]=o=>e(l).host=o),placeholder:e(t)("tools.database-connection-string-builder.texts.placeholder-e-g-localhost")},null,8,["value","placeholder"])]),_:1},8,["label"]),s(b,{label:e(t)("tools.database-connection-string-builder.texts.label-port")},{default:d(()=>[s(v,{value:e(l).port,"onUpdate:value":a[4]||(a[4]=o=>e(l).port=o),min:1,max:65535},null,8,["value"])]),_:1},8,["label"]),s(b,{label:e(t)("tools.database-connection-string-builder.texts.label-username")},{default:d(()=>[s(_,{value:e(l).username,"onUpdate:value":a[5]||(a[5]=o=>e(l).username=o)},null,8,["value"])]),_:1},8,["label"]),s(b,{label:e(t)("tools.database-connection-string-builder.texts.label-password")},{default:d(()=>[s(_,{value:e(l).password,"onUpdate:value":a[6]||(a[6]=o=>e(l).password=o),type:"password"},null,8,["value"])]),_:1},8,["label"])],64)):q("",!0),s(b,{label:e(t)("tools.database-connection-string-builder.texts.label-database")},{default:d(()=>[s(_,{value:e(l).database,"onUpdate:value":a[7]||(a[7]=o=>e(l).database=o),placeholder:e(t)("tools.database-connection-string-builder.texts.placeholder-e-g-mydb")},null,8,["value","placeholder"])]),_:1},8,["label"]),e(g)==="sqlite"?(y(),w(b,{key:2,label:e(t)("tools.database-connection-string-builder.texts.label-file-path")},{default:d(()=>[s(_,{value:e(l).filePath,"onUpdate:value":a[8]||(a[8]=o=>e(l).filePath=o),placeholder:e(t)("tools.database-connection-string-builder.texts.placeholder-path-to-sqlite-db")},null,8,["value","placeholder"])]),_:1},8,["label"])):q("",!0),S("details",Z,[S("summary",null,U(e(t)("tools.database-connection-string-builder.texts.tag-advanced-options")),1),s(b,{label:e(t)("tools.database-connection-string-builder.texts.label-ssl-enabled")},{default:d(()=>[s(x,{value:e(l).ssl,"onUpdate:value":a[9]||(a[9]=o=>e(l).ssl=o)},null,8,["value"])]),_:1},8,["label"]),s(b,{label:e(t)("tools.database-connection-string-builder.texts.label-timeout-s")},{default:d(()=>[s(v,{value:e(l).timeout,"onUpdate:value":a[10]||(a[10]=o=>e(l).timeout=o),min:0},null,8,["value"])]),_:1},8,["label"]),s(b,{label:e(t)("tools.database-connection-string-builder.texts.label-extra-params")},{default:d(()=>[s(_,{value:e(l).extra,"onUpdate:value":a[11]||(a[11]=o=>e(l).extra=o),placeholder:e(t)("tools.database-connection-string-builder.texts.placeholder-e-g-charset-utf8-applicationname-myapp")},null,8,["value","placeholder"])]),_:1},8,["label"])])]),_:1},8,["model"]),s(i,{title:e(t)("tools.database-connection-string-builder.texts.title-generate-connection-string")},{default:d(()=>[s(u,{value:e(B)},null,8,["value"])]),_:1},8,["title"])]),_:1},8,["title"])}}});export{ye as default};
