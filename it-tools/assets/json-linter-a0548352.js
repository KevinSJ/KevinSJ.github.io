import{p as D,b as Z,d as ee,a0 as te,r as H,al as $,i as K,ac as ne,o as I,c as T,k as x,w as E,a as G,l as c,m as B,j as W,ad as Y,a7 as re,a8 as se,G as q,a6 as ie,a_ as ae,x as le,ai as oe,af as ue}from"./index-0c1fde36.js";import{_ as ce}from"./TextareaCopyable-59231e95.js";import{_ as he}from"./c-monaco-editor.vue_vue_type_script_setup_true_lang-735b1924.js";import{u as pe,j as fe}from"./useJsonSchemaValidation-dc2bfda0.js";import{_ as me}from"./Switch-a0f825a4.js";import{_ as ye}from"./FormItem-1b9a5952.js";import{_ as _e}from"./Space-7fc52151.js";import{_ as de}from"./Select-9917c364.js";import{N as ge}from"./Alert-a9fb131b.js";import"./base64-ae7cf34b.js";import"./index-a6f01dde.js";import"./downloadBase64-508288e2.js";import"./index-6fddb70d.js";import"./index-cfd4d427.js";import"./Copy-ef9ec73c.js";import"./Scrollbar-54724e22.js";import"./editor.main-9e6d3164.js";import"./index-24bd6b84.js";import"./context-00991937.js";import"./get-slot-1efb97e5.js";import"./Tag-e75b8dae.js";import"./FocusDetector-089b8822.js";import"./VirtualList-8140ffff.js";import"./Empty-ca426d71.js";import"./index-cbfaa337.js";var X={exports:{}};(function(M){var _=function(){var j=!0,P=!1,d={},R=function(){var g,t,p={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},n,r=function(u){throw{name:"SyntaxError",message:u,at:g,text:n}},e=function(u){return u&&u!==t&&r("Expected '"+u+"' instead of '"+t+"'"),t=n.charAt(g),g+=1,t},a=function(){var u,h="";for(t==="-"&&(h="-",e("-"));t>="0"&&t<="9";)h+=t,e();if(t===".")for(h+=".";e()&&t>="0"&&t<="9";)h+=t;if(t==="e"||t==="E")for(h+=t,e(),(t==="-"||t==="+")&&(h+=t,e());t>="0"&&t<="9";)h+=t,e();if(u=+h,!isFinite(u))r("Bad number");else return u},l=function(){var u,h,y="",b;if(t==='"')for(;e();){if(t==='"')return e(),y;if(t==="\\")if(e(),t==="u"){for(b=0,h=0;h<4&&(u=parseInt(e(),16),!!isFinite(u));h+=1)b=b*16+u;y+=String.fromCharCode(b)}else if(typeof p[t]=="string")y+=p[t];else break;else y+=t}r("Bad string")},s=function(){for(;t&&t<=" ";)e()},v=function(){switch(t){case"t":return e("t"),e("r"),e("u"),e("e"),!0;case"f":return e("f"),e("a"),e("l"),e("s"),e("e"),!1;case"n":return e("n"),e("u"),e("l"),e("l"),null}r("Unexpected '"+t+"'")},o,L=function(){var u=[];if(t==="["){if(e("["),s(),t==="]")return e("]"),u;for(;t;){if(u.push(o()),s(),t==="]")return e("]"),u;e(","),s()}}r("Bad array")},S=function(){var u,h={};if(t==="{"){if(e("{"),s(),t==="}")return e("}"),h;for(;t;){if(u=l(),s(),e(":"),Object.hasOwnProperty.call(h,u)&&r("Duplicate key '"+u+"'"),h[u]=o(),s(),t==="}")return e("}"),h;e(","),s()}}r("Bad object")};return o=function(){switch(s(),t){case"{":return S();case"[":return L();case'"':return l();case"-":return a();default:return t>="0"&&t<="9"?a():v()}},function(u,h){var y;return n=u,g=0,t=" ",y=o(),s(),t&&r("Syntax error"),typeof h=="function"?function b(J,i){var k,m,f=J[i];if(f&&typeof f=="object")for(k in f)Object.prototype.hasOwnProperty.call(f,k)&&(m=b(f,k),m!==void 0?f[k]=m:delete f[k]);return h.call(J,i,f)}({"":y},""):y}}(),N=function(){var g={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(n,r,e,a,l,s,v){var o=s.length-1;switch(l){case 1:this.$=n.replace(/\\(\\|")/g,"$1").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(n);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=s[o-1];case 13:this.$={};break;case 14:this.$=s[o-1];break;case 15:this.$=[s[o-2],s[o]];break;case 16:this.$={},this.$[s[o][0]]=s[o][1];break;case 17:this.$=s[o-2],s[o-2][s[o][0]]=s[o][1];break;case 18:this.$=[];break;case 19:this.$=s[o-1];break;case 20:this.$=[s[o]];break;case 21:this.$=s[o-2],s[o-2].push(s[o]);break}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(n,r){throw new Error(n)},parse:function(n){var r=this,e=[0],a=[null],l=[],s=this.table,v="",o=0,L=0,S=0,u=2,h=1;this.lexer.setInput(n),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var y=this.lexer.yylloc;l.push(y),typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function b(w){e.length=e.length-2*w,a.length=a.length-w,l.length=l.length-w}function J(){var w;return w=r.lexer.lex()||1,typeof w!="number"&&(w=r.symbols_[w]||w),w}for(var i,k,m,f,z,U={},C,O,Q,V;;){if(m=e[e.length-1],this.defaultActions[m]?f=this.defaultActions[m]:(i==null&&(i=J()),f=s[m]&&s[m][i]),typeof f>"u"||!f.length||!f[0]){if(!S){V=[];for(C in s[m])this.terminals_[C]&&C>2&&V.push("'"+this.terminals_[C]+"'");var F="";this.lexer.showPosition?F="Parse error on line "+(o+1)+`:
`+this.lexer.showPosition()+`
Expecting `+V.join(", ")+", got '"+this.terminals_[i]+"'":F="Parse error on line "+(o+1)+": Unexpected "+(i==1?"end of input":"'"+(this.terminals_[i]||i)+"'"),this.parseError(F,{text:this.lexer.match,token:this.terminals_[i]||i,line:this.lexer.yylineno,loc:y,expected:V})}if(S==3){if(i==h)throw new Error(F||"Parsing halted.");L=this.lexer.yyleng,v=this.lexer.yytext,o=this.lexer.yylineno,y=this.lexer.yylloc,i=J()}for(;!(u.toString()in s[m]);){if(m==0)throw new Error(F||"Parsing halted.");b(1),m=e[e.length-1]}k=i,i=u,m=e[e.length-1],f=s[m]&&s[m][u],S=3}if(f[0]instanceof Array&&f.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+i);switch(f[0]){case 1:e.push(i),a.push(this.lexer.yytext),l.push(this.lexer.yylloc),e.push(f[1]),i=null,k?(i=k,k=null):(L=this.lexer.yyleng,v=this.lexer.yytext,o=this.lexer.yylineno,y=this.lexer.yylloc,S>0&&S--);break;case 2:if(O=this.productions_[f[1]][1],U.$=a[a.length-O],U._$={first_line:l[l.length-(O||1)].first_line,last_line:l[l.length-1].last_line,first_column:l[l.length-(O||1)].first_column,last_column:l[l.length-1].last_column},z=this.performAction.call(U,v,L,o,this.yy,f[1],a,l),typeof z<"u")return z;O&&(e=e.slice(0,-1*O*2),a=a.slice(0,-1*O),l=l.slice(0,-1*O)),e.push(this.productions_[f[1]][0]),a.push(U.$),l.push(U._$),Q=s[e[e.length-2]][e[e.length-1]],e.push(Q);break;case 3:return!0}}return!0}},t=function(){var p={EOF:1,parseError:function(r,e){if(this.yy.parseError)this.yy.parseError(r,e);else throw new Error(r)},setInput:function(n){return this._input=n,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var n=this._input[0];this.yytext+=n,this.yyleng++,this.match+=n,this.matched+=n;var r=n.match(/\n/);return r&&this.yylineno++,this._input=this._input.slice(1),n},unput:function(n){return this._input=n+this._input,this},more:function(){return this._more=!0,this},less:function(n){this._input=this.match.slice(n)+this._input},pastInput:function(){var n=this.matched.substr(0,this.matched.length-this.match.length);return(n.length>20?"...":"")+n.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var n=this.match;return n.length<20&&(n+=this._input.substr(0,20-n.length)),(n.substr(0,20)+(n.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var n=this.pastInput(),r=new Array(n.length+1).join("-");return n+this.upcomingInput()+`
`+r+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var n,r,e,a,l;this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),v=0;v<s.length&&(e=this._input.match(this.rules[s[v]]),!(e&&(!r||e[0].length>r[0].length)&&(r=e,a=v,!this.options.flex)));v++);if(r)return l=r[0].match(/\n.*/g),l&&(this.yylineno+=l.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:l?l[l.length-1].length-1:this.yylloc.last_column+r[0].length},this.yytext+=r[0],this.match+=r[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(r[0].length),this.matched+=r[0],n=this.performAction.call(this,this.yy,this,s[a],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n||void 0;if(this._input==="")return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var r=this.next();return typeof r<"u"?r:this.lex()},begin:function(r){this.conditionStack.push(r)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(r){this.begin(r)}};return p.options={},p.performAction=function(r,e,a,l){switch(a){case 0:break;case 1:return 6;case 2:return e.yytext=e.yytext.substr(1,e.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},p.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],p.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}},p}();return g.lexer=t,g}(),A=N.parse;return N.parse=function(g){var t=A.call(N,g),p=typeof R>"u"?j("./doug-json-parse"):R;try{p(g)}catch(a){if(/Duplicate key|Bad string|Unexpected/.test(a.message)){var n=g.substring(0,a.at).split(`
`),r=n.length,e=n[r-1].length-1;throw this.parseError(a.message,{line:r,col:e,message:a.message.replace(/./,function(l){return l.toLowerCase()})}),SyntaxError(a.message+" on line "+r)}}return t},typeof d<"u"&&(d.parser=N,d.parse=function(){return N.parse.apply(N,arguments)},d.main=function(t){if(!t[1])throw new Error("Usage: "+t[0]+" FILE");if(typeof D<"u")var p=j("fs").readFileSync(j("path").join(D.cwd(),t[1]),"utf8");else var n=j("file").path(j("file").cwd()),p=n.join(t[1]).read({charset:"utf-8"});return d.parser.parse(p)},j.main===P&&d.main(typeof D<"u"?D.argv.slice(1):j("system").args)),d}();M.exports&&(M.exports=_)})(X);var ve=X.exports;const xe=Z(ve),be={relative:"","w-full":""},ke={key:1,"mb-2":"","mt-2":""},we={key:2},je={key:3},Ke=ee({__name:"json-linter",setup(M){const{t:_}=te(),j=H(),P=$("json-linter:schema-data",""),d=H(`{ 
    a: True; 
    b=5 
  }`),R=K(()=>{try{return xe.parse(d.value),null}catch(e){return e.toString()}}),N={automaticLayout:!0,formatOnType:!0,formatOnPaste:!0},A=ne({name:"schema",storageName:"json-linter:schema",defaultValue:""}),{schemas:g,errors:t}=pe({json:d,schemaUrl:A,schemaData:P}),p=$("json-linter:indent-size",3),n=$("json-linter:repair",!0),r=K(()=>{try{let e=d.value;return n.value&&(e=fe(e)),JSON.stringify(JSON.parseBigNum(e),null,p.value)}catch(e){return e.toString()}});return(e,a)=>{const l=he,s=ae,v=me,o=ye,L=_e,S=de,u=le,h=ge,y=oe,b=ce,J=ue;return I(),T("div",null,[x(s,{label:c(_)("tools.json-linter.texts.label-paste-your-json-file-content"),"mb-2":""},{default:E(()=>[G("div",be,[x(l,{value:c(d),"onUpdate:value":a[0]||(a[0]=i=>B(d)?d.value=i:null),theme:"vs-dark",language:"yaml",height:"250px",options:N},null,8,["value"])])]),_:1},8,["label"]),x(L,{justify:"center","mb-2":""},{default:E(()=>[x(o,{label:c(_)("tools.json-linter.texts.label-auto-repair-json"),"label-placement":"left"},{default:E(()=>[x(v,{value:c(n),"onUpdate:value":a[1]||(a[1]=i=>B(n)?n.value=i:null)},null,8,["value"])]),_:1},8,["label"])]),_:1}),x(o,{label:c(_)("tools.json-linter.texts.label-json-schema"),"label-placement":"left","label-width":"130px","label-align":"right"},{default:E(()=>[x(S,{value:c(A),"onUpdate:value":a[2]||(a[2]=i=>B(A)?A.value=i:null),options:[{label:c(_)("tools.json-linter.texts.label-no-validation"),value:""},{label:c(_)("tools.json-linter.texts.label-custom"),value:"custom"},...c(g).map(i=>({label:`${i.name} / ${i.description}`,value:i.url}))],filterable:"","mb-4":""},null,8,["value","options"])]),_:1},8,["label"]),c(A)==="custom"?(I(),W(u,{key:0,ref_key:"jsonSchemaInputElement",ref:j,value:c(P),"onUpdate:value":a[3]||(a[3]=i=>B(P)?P.value=i:null),placeholder:c(_)("tools.json-linter.texts.placeholder-paste-your-json-schema-here"),rows:"20",multiline:"",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",monospace:""},null,8,["value","placeholder"])):Y("",!0),c(t).length>0?(I(),T("div",ke,[x(h,{title:c(_)("tools.json-linter.texts.title-schema-validation-errors"),type:"error"},{default:E(()=>[(I(!0),T(re,null,se(c(t),i=>(I(),T("ul",{key:i},[G("li",null,q(i),1)]))),128))]),_:1},8,["title"])])):Y("",!0),c(R)?(I(),T("div",we,[x(h,{title:c(_)("tools.json-linter.texts.title-the-following-errors-occured"),type:"error","mt-5":""},{default:E(()=>[G("pre",null,"        "+q(c(R))+`
        `,1)]),_:1},8,["title"])])):(I(),T("div",je,[x(h,{type:"success","mt-5":""},{default:E(()=>[ie(q(c(_)("tools.json-linter.texts.tag-validation-successful")),1)]),_:1})])),!c(R)||c(n)?(I(),W(J,{key:4,title:c(n)?c(_)("tools.json-linter.texts.title-repaired-version"):c(_)("tools.json-linter.texts.title-formatted-version"),"mt-5":""},{default:E(()=>[x(o,{label:c(_)("tools.json-linter.texts.label-indent-size-0-compact"),"label-placement":"left"},{default:E(()=>[x(y,{value:c(p),"onUpdate:value":a[4]||(a[4]=i=>B(p)?p.value=i:null),min:"0",max:"10",style:{width:"100px"}},null,8,["value"])]),_:1},8,["label"]),x(b,{value:c(r),language:"json","download-file-name":"output.json"},null,8,["value"])]),_:1},8,["title"])):Y("",!0)])}}});export{Ke as default};
