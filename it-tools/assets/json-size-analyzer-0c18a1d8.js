import{Q as p,b as ht,d as dt,a0 as mt,r as z,i as yt,aX as D,R as bt,o as R,c as vt,k as g,w as T,l,m as $,j as St,ad as zt,x as $t,ak as jt,af as wt,ah as xt}from"./index-0c1fde36.js";import{p as Ot}from"./index-332b7a1e.js";import{_ as Tt}from"./Tree-627e7a10.js";import{_ as Bt}from"./FormItem-1b9a5952.js";import"./constants-dc8a8387.js";import"./Checkbox-ba7202eb.js";import"./Empty-ca426d71.js";import"./VirtualList-8140ffff.js";import"./context-00991937.js";var Ct="Expected a function",Q="__lodash_hash_undefined__",W=1/0,Nt="[object Function]",Pt="[object GeneratorFunction]",Et="[object Symbol]",It=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ft=/^\w*$/,At=/^\./,Mt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dt=/[\\^$.*+?()[\]{}|]/g,Rt=/\\(\\)?/g,Gt=/^\[object .+?Constructor\]$/,Ut=typeof p=="object"&&p&&p.Object===Object&&p,kt=typeof self=="object"&&self&&self.Object===Object&&self,C=Ut||kt||Function("return this")();function Lt(t,e){return t?.[e]}function Ht(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var Jt=Array.prototype,Vt=Function.prototype,tt=Object.prototype,B=C["__core-js_shared__"],G=function(){var t=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),et=Vt.toString,N=tt.hasOwnProperty,nt=tt.toString,Yt=RegExp("^"+et.call(N).replace(Dt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=C.Symbol,Kt=Jt.splice,Xt=rt(C,"Map"),S=rt(Object,"create"),k=U?U.prototype:void 0,L=k?k.toString:void 0;function h(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Zt(){this.__data__=S?S(null):{}}function qt(t){return this.has(t)&&delete this.__data__[t]}function Qt(t){var e=this.__data__;if(S){var n=e[t];return n===Q?void 0:n}return N.call(e,t)?e[t]:void 0}function Wt(t){var e=this.__data__;return S?e[t]!==void 0:N.call(e,t)}function te(t,e){var n=this.__data__;return n[t]=S&&e===void 0?Q:e,this}h.prototype.clear=Zt;h.prototype.delete=qt;h.prototype.get=Qt;h.prototype.has=Wt;h.prototype.set=te;function b(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ee(){this.__data__=[]}function ne(t){var e=this.__data__,n=w(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Kt.call(e,n,1),!0}function re(t){var e=this.__data__,n=w(e,t);return n<0?void 0:e[n][1]}function ae(t){return w(this.__data__,t)>-1}function ie(t,e){var n=this.__data__,r=w(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}b.prototype.clear=ee;b.prototype.delete=ne;b.prototype.get=re;b.prototype.has=ae;b.prototype.set=ie;function d(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function oe(){this.__data__={hash:new h,map:new(Xt||b),string:new h}}function se(t){return x(this,t).delete(t)}function ce(t){return x(this,t).get(t)}function le(t){return x(this,t).has(t)}function ue(t,e){return x(this,t).set(t,e),this}d.prototype.clear=oe;d.prototype.delete=se;d.prototype.get=ce;d.prototype.has=le;d.prototype.set=ue;function w(t,e){for(var n=t.length;n--;)if(Se(t[n][0],e))return n;return-1}function fe(t,e){e=he(e,t)?[e]:ge(e);for(var n=0,r=e.length;t!=null&&n<r;)t=t[be(e[n++])];return n&&n==r?t:void 0}function pe(t){if(!it(t)||me(t))return!1;var e=ze(t)||Ht(t)?Yt:Gt;return e.test(ve(t))}function _e(t){if(typeof t=="string")return t;if(E(t))return L?L.call(t):"";var e=t+"";return e=="0"&&1/t==-W?"-0":e}function ge(t){return at(t)?t:ye(t)}function x(t,e){var n=t.__data__;return de(e)?n[typeof e=="string"?"string":"hash"]:n.map}function rt(t,e){var n=Lt(t,e);return pe(n)?n:void 0}function he(t,e){if(at(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||E(t)?!0:Ft.test(t)||!It.test(t)||e!=null&&t in Object(e)}function de(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function me(t){return!!G&&G in t}var ye=P(function(t){t=je(t);var e=[];return At.test(t)&&e.push(""),t.replace(Mt,function(n,r,a,i){e.push(a?i.replace(Rt,"$1"):r||n)}),e});function be(t){if(typeof t=="string"||E(t))return t;var e=t+"";return e=="0"&&1/t==-W?"-0":e}function ve(t){if(t!=null){try{return et.call(t)}catch{}try{return t+""}catch{}}return""}function P(t,e){if(typeof t!="function"||e&&typeof e!="function")throw new TypeError(Ct);var n=function(){var r=arguments,a=e?e.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=t.apply(this,r);return n.cache=i.set(a,o),o};return n.cache=new(P.Cache||d),n}P.Cache=d;function Se(t,e){return t===e||t!==t&&e!==e}var at=Array.isArray;function ze(t){var e=it(t)?nt.call(t):"";return e==Nt||e==Pt}function it(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function $e(t){return!!t&&typeof t=="object"}function E(t){return typeof t=="symbol"||$e(t)&&nt.call(t)==Et}function je(t){return t==null?"":_e(t)}function we(t,e,n){var r=t==null?void 0:fe(t,e);return r===void 0?n:r}var xe=we;const Oe={meta:"__meta__",value:"value",rawSize:"raw",gzipSize:"gzip",size:"size",numberChilds:"number_of_childs",percentage:"parent_relative_percentage",biggestChild:"biggest_node_child"};var O={meta:Oe},Te=function(t){return~-encodeURI(t).split(/%..|./).length};const Be=Ot,H=Te;function Ce(t){const e=JSON.stringify(t);return ot(e)}function ot(t){return{raw:H(t),gzip:H(Be.gzip(t,{to:"string"}))}}function Ne(t,e){return t/e*100}var I={getJSONSize:Ce,getStringSize:ot,calcPerc:Ne};const Pe=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],Ee=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],Ie=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],Fe=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],J=(t,e,n)=>{let r=t;return typeof e=="string"||Array.isArray(e)?r=t.toLocaleString(e,n):(e===!0||n!==void 0)&&(r=t.toLocaleString(void 0,n)),r};var Ae=(t,e)=>{if(!Number.isFinite(t))throw new TypeError(`Expected a finite number, got ${typeof t}: ${t}`);e=Object.assign({bits:!1,binary:!1},e);const n=e.bits?e.binary?Fe:Ie:e.binary?Ee:Pe;if(e.signed&&t===0)return` 0 ${n[0]}`;const r=t<0,a=r?"-":e.signed?"+":"";r&&(t=-t);let i;if(e.minimumFractionDigits!==void 0&&(i={minimumFractionDigits:e.minimumFractionDigits}),e.maximumFractionDigits!==void 0&&(i=Object.assign({maximumFractionDigits:e.maximumFractionDigits},i)),t<1){const c=J(t,e.locale,i);return a+c+" "+n[0]}const o=Math.min(Math.floor(e.binary?Math.log(t)/Math.log(1024):Math.log10(t)/3),n.length-1);t/=Math.pow(e.binary?1024:1e3,o),i||(t=t.toPrecision(3));const u=J(Number(t),e.locale,i),s=n[o];return a+u+" "+s},Me="Expected a function",De=9007199254740991,Re="[object Arguments]",Ge="[object Function]",Ue="[object GeneratorFunction]",ke=typeof p=="object"&&p&&p.Object===Object&&p,Le=typeof self=="object"&&self&&self.Object===Object&&self,He=ke||Le||Function("return this")();function Je(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ve(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t}var F=Object.prototype,Ye=F.hasOwnProperty,st=F.toString,V=He.Symbol,Ke=F.propertyIsEnumerable,Y=V?V.isConcatSpreadable:void 0,K=Math.max;function ct(t,e,n,r,a){var i=-1,o=t.length;for(n||(n=qe),a||(a=[]);++i<o;){var u=t[i];e>0&&n(u)?e>1?ct(u,e-1,n,r,a):Ve(a,u):r||(a[a.length]=u)}return a}function Xe(t,e){return e=K(e===void 0?t.length-1:e,0),function(){for(var n=arguments,r=-1,a=K(n.length-e,0),i=Array(a);++r<a;)i[r]=n[e+r];r=-1;for(var o=Array(e+1);++r<e;)o[r]=n[r];return o[e]=i,Je(t,this,o)}}function Ze(t){return Xe(function(e){e=ct(e,1);var n=e.length,r=n;for(t&&e.reverse();r--;)if(typeof e[r]!="function")throw new TypeError(Me);return function(){for(var a=0,i=n?e[a].apply(this,arguments):arguments[0];++a<n;)i=e[a].call(this,i);return i}})}function qe(t){return We(t)||Qe(t)||!!(Y&&t&&t[Y])}function Qe(t){return en(t)&&Ye.call(t,"callee")&&(!Ke.call(t,"callee")||st.call(t)==Re)}var We=Array.isArray;function tn(t){return t!=null&&rn(t.length)&&!nn(t)}function en(t){return on(t)&&tn(t)}function nn(t){var e=an(t)?st.call(t):"";return e==Ge||e==Ue}function rn(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=De}function an(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function on(t){return!!t&&typeof t=="object"}var sn=Ze(!0),cn=sn;const ln=Ae,un=cn,fn=t=>e=>e.toPrecision(t),pn=t=>`${t}%`,_n=un([pn,fn(5)]);var A={formatPercentage:_n,formatBytes:ln};const{meta:j}=O,{getJSONSize:gn}=I,{formatBytes:X}=A;function hn({json:t}){const{raw:e,gzip:n}=gn(t);return{[j.meta]:{[j.size]:{[j.rawSize]:X(e),[j.gzipSize]:X(n)}}}}var dn=hn;function mn(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}var yn=mn;const{meta:v}=O,{getStringSize:bn}=I,{formatBytes:Z}=A,vn=t=>{const e=bn(String(t));return{[v.meta]:{[v.size]:{[v.value]:e.raw,[v.rawSize]:Z(e.raw),[v.gzipSize]:Z(e.gzip)}},value:t}};var Sn=vn;const zn=yn,{meta:y}=O,$n=Sn,jn=(t,{data:e,json:n,depth:r,totalSize:a,maxDepth:i})=>{let o={key:"",size:0};return{result:n.reduce((s,[c,m])=>(zn(m)?s[c]=t({json:m,depth:r+1,totalSize:a,maxDepth:i}):s[c]=$n(m),s[c][y.meta][y.size][y.value]>o.size&&(o={key:c,size:s[c][y.meta][y.size][y.value]}),s),e),biggestKey:o}};var wn=jn;const{meta:f}=O,{getJSONSize:xn,calcPerc:On}=I,{formatPercentage:Tn,formatBytes:q}=A,Bn=wn;function lt({json:t,depth:e=0,totalSize:n,maxDepth:r=1}){const a=xn(t),i={[f.meta]:{[f.size]:{[f.value]:a.raw,[f.rawSize]:q(a.raw),[f.gzipSize]:q(a.gzip)},[f.numberChilds]:Object.keys(t).length}};if(r<e)return i;const o=Object.entries(t);n=n||a;const{result:u,biggestKey:s}=Bn(lt,{data:i,json:o,depth:e,totalSize:n,maxDepth:r});return u[f.meta][f.percentage]=Tn(On(a.raw,n.raw)),s.key!==""&&(u[f.meta][f.biggestChild]=s.key),u}var Cn=lt;const Nn=xe,Pn=dn,En=Cn;function In({json:t,target:e,maxDepth:n,verbose:r=!1}){const a=e?Nn(t,e):t;return r?En({json:a,maxDepth:n}):Pn({json:a})}var Fn=In;const An=ht(Fn);function ut(t,e){const n=Object.entries(t).filter(([i,o])=>i!=="__meta__"&&typeof o=="object").map(([i,o])=>({key:Number.isNaN(Number.parseInt(i,10))?`.${i}`:`.[${i}]`,value:o})),r=t.__meta__.biggest_node_child?` ; biggest child node: '${t.__meta__.biggest_node_child}'`:"",a=t.__meta__.parent_relative_percentage?` ; ${t.__meta__.parent_relative_percentage} of parent`:"";return{key:e,label:t.__meta__?`${e}: ${t.__meta__.size?.raw}(${t.__meta__.size?.gzip} gzip)${a}${r}`:e,children:n.map(i=>ut(i.value,e+i.key))}}function Mn(t,e=100,n=""){const r=An({json:t,verbose:!0,maxDepth:e,target:n});return ut(r,"$")}const Yn=dt({__name:"json-size-analyzer",setup(t){const{t:e}=mt(),n=z('{"a": 1, "b": [1,2,3]}'),r=z(100),a=z(""),i=yt(()=>{const s=D.parse(n.value);return s?[Mn(s,r.value-1,a.value)]:null}),o=z(""),u=bt({source:n,rules:[{validator:s=>D.parse(s),message:e("tools.json-size-analyzer.texts.message-provided-json-is-not-valid")}]});return(s,c)=>{const m=$t,ft=jt,pt=Bt,M=wt,_t=xt,gt=Tt;return R(),vt("div",null,[g(M,{title:l(e)("tools.json-size-analyzer.texts.title-input"),"mb-2":""},{default:T(()=>[g(m,{value:l(n),"onUpdate:value":c[0]||(c[0]=_=>$(n)?n.value=_:null),label:l(e)("tools.json-size-analyzer.texts.label-json"),multiline:"",placeholder:l(e)("tools.json-size-analyzer.texts.placeholder-put-your-json-data-here"),rows:"5",validation:l(u),"mb-2":""},null,8,["value","label","placeholder","validation"]),g(pt,{label:l(e)("tools.json-size-analyzer.texts.label-max-depth"),"label-placement":"left"},{default:T(()=>[g(ft,{value:l(r),"onUpdate:value":c[1]||(c[1]=_=>$(r)?r.value=_:null),min:0,"w-full":""},null,8,["value"])]),_:1},8,["label"]),g(m,{value:l(a),"onUpdate:value":c[2]||(c[2]=_=>$(a)?a.value=_:null),label:l(e)("tools.json-size-analyzer.texts.label-target-node"),placeholder:l(e)("tools.json-size-analyzer.texts.placeholder-where-to-start-the-analyze-ie-a-0-b-c"),"mb-2":""},null,8,["value","label","placeholder"])]),_:1},8,["title"]),l(i)?(R(),St(M,{key:0,title:l(e)("tools.json-size-analyzer.texts.title-analysis")},{default:T(()=>[g(_t,{value:l(o),"onUpdate:value":c[3]||(c[3]=_=>$(o)?o.value=_:null),placeholder:l(e)("tools.json-size-analyzer.texts.placeholder-search-in-result")},null,8,["value","placeholder"]),g(gt,{"show-irrelevant-nodes":!1,pattern:l(o),"default-expand-all":!0,data:l(i),"block-line":""},null,8,["pattern","data"])]),_:1},8,["title"])):zt("",!0)])}}});export{Yn as default};
