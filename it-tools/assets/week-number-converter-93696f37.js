import{I as F,d as Y,a0 as N,am as U,i as f,r as x,o as B,c as V,k as l,w as s,l as e,m as $,a as D,af as C,ak as E}from"./index-0c1fde36.js";import{_ as T}from"./InputCopyable.vue_vue_type_script_setup_true_lang-294ac243.js";import{w as A}from"./defaults-4d6daddf.js";import{g as L}from"./defaultOptions-f1a3e221.js";import{g as P,a as Q,s as R}from"./TimePicker-2440af2b.js";import{g as O,a as j}from"./index-2f7cbd79.js";import{_ as q}from"./DatePicker-d3ea0c9f.js";import{_ as z}from"./FormItem-1b9a5952.js";import{_ as G}from"./Divider-5fc425b0.js";import"./differenceInCalendarDays-31c28b0a.js";import"./addMonths-31c9456f.js";import"./FocusDetector-089b8822.js";import"./index-cbfaa337.js";import"./VirtualList-8140ffff.js";import"./Forward-04db534f.js";import"./context-00991937.js";function W(m,t){const a=L(),o=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,b=P(F(m,t?.in));if(isNaN(b))return NaN;const i=Q(R(m,t));let v=o-i;v<=0&&(v+=7);const w=b-v;return Math.ceil(w/7)+1}function H(m,t=new Date().getFullYear()){const a=new Date(t,0,4);return a.setDate(a.getDate()-(a.getDay()||7)+1+7*(m-1)),a}function J(m,t=new Date().getMonth()+1,a=new Date().getFullYear()){const o=new Date(a,t-1,4),b=o.getDay()||7;return o.setDate(o.getDate()-b+1),o.setDate(o.getDate()+7*(m-1)),o}const K={flex:"","items-baseline":"","gap-2":""},X={flex:"","items-baseline":"","gap-2":""},ve=Y({__name:"week-number-converter",setup(m){const{t}=N(),a=new Date;function o(d){return d.toISOString().substring(0,10)}const b=U({tool:"week-num-conv",name:"date",defaultValue:o(a)}),i=f({get(){return A(()=>new Date(b.value).getTime(),a.getTime())},set(d){b.value=o(new Date(d))}}),v=f(()=>W(i.value)),w=f(()=>O(i.value)),h=f(()=>j(i.value)),u=x({week:W(a),month:a.getMonth()+1,year:a.getFullYear()}),I=f(()=>J(u.value.week,u.value.month,u.value.year)),p=x({week:O(a),year:a.getFullYear()}),M=f(()=>H(p.value.week,p.value.year));return(d,n)=>{const S=q,c=z,g=G,k=T,y=C,_=E;return B(),V("div",null,[l(y,{title:e(t)("tools.week-number-converter.texts.title-date-to-week-numbers"),"mb-2":""},{default:s(()=>[l(c,{label:e(t)("tools.week-number-converter.texts.label-date"),"label-placement":"left"},{default:s(()=>[l(S,{value:e(i),"onUpdate:value":n[0]||(n[0]=r=>$(i)?i.value=r:null),type:"date"},null,8,["value"])]),_:1},8,["label"]),l(g),l(k,{readonly:"",label:e(t)("tools.week-number-converter.texts.label-local-week-in-year"),"label-position":"left","label-width":"130px",value:e(w),"mb-1":""},null,8,["label","value"]),l(k,{readonly:"",label:e(t)("tools.week-number-converter.texts.label-iso-week-in-year"),"label-position":"left","label-width":"130px",value:e(h),"mb-1":""},null,8,["label","value"]),l(k,{readonly:"",label:e(t)("tools.week-number-converter.texts.label-week-in-month"),"label-position":"left","label-width":"130px",value:e(v),"mb-1":""},null,8,["label","value"])]),_:1},8,["title"]),l(y,{title:e(t)("tools.week-number-converter.texts.title-iso-week-number-to-date"),"mb-2":""},{default:s(()=>[D("div",K,[l(c,{label:e(t)("tools.week-number-converter.texts.label-iso-week-number"),"label-placement":"left","flex-1":""},{default:s(()=>[l(_,{value:e(p).week,"onUpdate:value":n[1]||(n[1]=r=>e(p).week=r),min:1,max:53},null,8,["value"])]),_:1},8,["label"]),l(c,{label:e(t)("tools.week-number-converter.texts.label-year"),"label-placement":"left","flex-1":""},{default:s(()=>[l(_,{value:e(p).year,"onUpdate:value":n[2]||(n[2]=r=>e(p).year=r)},null,8,["value"])]),_:1},8,["label"])]),l(g),l(k,{readonly:"",label:e(t)("tools.week-number-converter.texts.label-first-monday"),"label-position":"left",value:e(M)},null,8,["label","value"])]),_:1},8,["title"]),l(y,{title:e(t)("tools.week-number-converter.texts.title-week-number-in-month-to-date"),"mb-2":""},{default:s(()=>[D("div",X,[l(c,{label:e(t)("tools.week-number-converter.texts.label-week-in-month"),"label-placement":"left","flex-1":""},{default:s(()=>[l(_,{value:e(u).week,"onUpdate:value":n[3]||(n[3]=r=>e(u).week=r),min:1,max:5},null,8,["value"])]),_:1},8,["label"]),l(c,{label:e(t)("tools.week-number-converter.texts.label-month"),"label-placement":"left","flex-1":""},{default:s(()=>[l(_,{value:e(u).month,"onUpdate:value":n[4]||(n[4]=r=>e(u).month=r),min:1,max:12},null,8,["value"])]),_:1},8,["label"]),l(c,{label:e(t)("tools.week-number-converter.texts.label-year"),"label-placement":"left","flex-1":""},{default:s(()=>[l(_,{value:e(u).year,"onUpdate:value":n[5]||(n[5]=r=>e(u).year=r)},null,8,["value"])]),_:1},8,["label"])]),l(g),l(k,{readonly:"",label:e(t)("tools.week-number-converter.texts.label-first-monday"),"label-position":"left",value:e(I)},null,8,["label","value"])]),_:1},8,["title"])])}}});export{ve as default};
