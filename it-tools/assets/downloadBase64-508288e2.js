import{m as p}from"./index-6fddb70d.js";import{_ as f,g as m}from"./index-0c1fde36.js";const u={JVBERi0:"application/pdf",R0lGODdh:"image/gif",R0lGODlh:"image/gif",iVBORw0KGgo:"image/png","/9j/":"image/jpg"};function g({base64String:e}){const[,n]=e.match(/data:(.*?);base64/i)??[];if(n)return{mimeType:n};const t=f.find(u,(i,o)=>e.startsWith(o));return t?{mimeType:t}:{mimeType:void 0}}function w({mimeType:e,defaultExtension:n="txt"}){return e?p.extension(e)??n:n}function d({sourceValue:e,filename:n,extension:t,fileMimeType:i}){if(e==="")throw new Error("Base64 string is empty");const o=t??"txt",{mimeType:s}=g({base64String:e});let c=e;s||(c=`data:${i??p.extension(o)};base64,${e}`);const l=t??w({mimeType:s,defaultExtension:o});let r=n??`file.${l}`;t&&!r.endsWith(`.${t}`)&&(r=`${r}.${l}`);const a=document.createElement("a");a.href=c,a.download=r,a.click()}function B({source:e,filename:n,extension:t}){return{download(){d({sourceValue:m(e),filename:m(n),extension:m(t)})}}}function F(e){if(e==="")throw new Error("Base64 string is empty");const n=document.createElement("img");n.src=e;const t=document.createElement("div");t.appendChild(n);const i=document.getElementById("previewContainer");if(i)i.innerHTML="",i.appendChild(t);else throw new Error("Preview container element not found");return n}function E({source:e,filename:n,extension:t}){return{download(){d({sourceValue:e.value,filename:n?.value,extension:t?.value})}}}export{E as a,g,F as p,B as u};
