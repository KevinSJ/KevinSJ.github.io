import{b as li,d as sn,ac as Bt,r as si,a0 as nn,R as rn,i as ii,O as hn,gF as on,a5 as fn,o as zt,c as Ht,k as lt,w as _t,l as k,m as Lt,a6 as pt,G as F,a as Z,j as ni,a7 as Ze,a8 as Ke,x as an,a$ as un,af as ln,ag as cn}from"./index-0c1fde36.js";import{c as _n}from"./_commonjs-dynamic-modules-302442b1.js";import{_ as pn}from"./Checkbox-ba7202eb.js";import{_ as dn}from"./Space-7fc52151.js";import{_ as gn}from"./Divider-5fc425b0.js";import{_ as mn}from"./Table-4b7ecda9.js";import"./get-slot-1efb97e5.js";var ys={exports:{}},ci={},Pe={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7},It={};const G=Pe,xs=()=>[{type:G.RANGE,from:48,to:57}],_i=()=>[{type:G.CHAR,value:95},{type:G.RANGE,from:97,to:122},{type:G.RANGE,from:65,to:90}].concat(xs()),pi=()=>[{type:G.CHAR,value:9},{type:G.CHAR,value:10},{type:G.CHAR,value:11},{type:G.CHAR,value:12},{type:G.CHAR,value:13},{type:G.CHAR,value:32},{type:G.CHAR,value:160},{type:G.CHAR,value:5760},{type:G.RANGE,from:8192,to:8202},{type:G.CHAR,value:8232},{type:G.CHAR,value:8233},{type:G.CHAR,value:8239},{type:G.CHAR,value:8287},{type:G.CHAR,value:12288},{type:G.CHAR,value:65279}],yn=()=>[{type:G.CHAR,value:10},{type:G.CHAR,value:13},{type:G.CHAR,value:8232},{type:G.CHAR,value:8233}];It.words=()=>({type:G.SET,set:_i(),not:!1});It.notWords=()=>({type:G.SET,set:_i(),not:!0});It.ints=()=>({type:G.SET,set:xs(),not:!1});It.notInts=()=>({type:G.SET,set:xs(),not:!0});It.whitespace=()=>({type:G.SET,set:pi(),not:!1});It.notWhitespace=()=>({type:G.SET,set:pi(),not:!0});It.anyChar=()=>({type:G.SET,set:yn(),not:!0});(function(s){const t=Pe,e=It,i="@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?",n={0:0,t:9,n:10,v:11,f:12,r:13};s.strToChars=function(r){var o=/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g;return r=r.replace(o,function(a,c,_,u,m,O,q,C){if(_)return a;var R=c?8:u?parseInt(u,16):m?parseInt(m,16):O?parseInt(O,8):q?i.indexOf(q):n[C],j=String.fromCharCode(R);return/[[\]{}^$.|?*+()]/.test(j)&&(j="\\"+j),j}),r},s.tokenizeClass=(r,o)=>{for(var a=[],c=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?([^])/g,_,u;(_=c.exec(r))!=null;)if(_[1])a.push(e.words());else if(_[2])a.push(e.ints());else if(_[3])a.push(e.whitespace());else if(_[4])a.push(e.notWords());else if(_[5])a.push(e.notInts());else if(_[6])a.push(e.notWhitespace());else if(_[7])a.push({type:t.RANGE,from:(_[8]||_[9]).charCodeAt(0),to:_[10].charCodeAt(0)});else if(u=_[12])a.push({type:t.CHAR,value:u.charCodeAt(0)});else return[a,c.lastIndex];s.error(o,"Unterminated character class")},s.error=(r,o)=>{throw new SyntaxError("Invalid regular expression: /"+r+"/: "+o)}})(ci);var we={};const Be=Pe;we.wordBoundary=()=>({type:Be.POSITION,value:"b"});we.nonWordBoundary=()=>({type:Be.POSITION,value:"B"});we.begin=()=>({type:Be.POSITION,value:"^"});we.end=()=>({type:Be.POSITION,value:"$"});const Kt=ci,At=Pe,Ut=It,$e=we;ys.exports=s=>{var t=0,e,i,n={type:At.ROOT,stack:[]},r=n,o=n.stack,a=[],c=W=>{Kt.error(s,`Nothing to repeat at column ${W-1}`)},_=Kt.strToChars(s);for(e=_.length;t<e;)switch(i=_[t++],i){case"\\":switch(i=_[t++],i){case"b":o.push($e.wordBoundary());break;case"B":o.push($e.nonWordBoundary());break;case"w":o.push(Ut.words());break;case"W":o.push(Ut.notWords());break;case"d":o.push(Ut.ints());break;case"D":o.push(Ut.notInts());break;case"s":o.push(Ut.whitespace());break;case"S":o.push(Ut.notWhitespace());break;default:/\d/.test(i)?o.push({type:At.REFERENCE,value:parseInt(i,10)}):o.push({type:At.CHAR,value:i.charCodeAt(0)})}break;case"^":o.push($e.begin());break;case"$":o.push($e.end());break;case"[":var u;_[t]==="^"?(u=!0,t++):u=!1;var m=Kt.tokenizeClass(_.slice(t),s);t+=m[1],o.push({type:At.SET,set:m[0],not:u});break;case".":o.push(Ut.anyChar());break;case"(":var O={type:At.GROUP,stack:[],remember:!0};i=_[t],i==="?"&&(i=_[t+1],t+=2,i==="="?O.followedBy=!0:i==="!"?O.notFollowedBy=!0:i!==":"&&Kt.error(s,`Invalid group, character '${i}' after '?' at column ${t-1}`),O.remember=!1),o.push(O),a.push(r),r=O,o=O.stack;break;case")":a.length===0&&Kt.error(s,`Unmatched ) at column ${t-1}`),r=a.pop(),o=r.options?r.options[r.options.length-1]:r.stack;break;case"|":r.options||(r.options=[r.stack],delete r.stack);var q=[];r.options.push(q),o=q;break;case"{":var C=/^(\d+)(,(\d+)?)?\}/.exec(_.slice(t)),R,j;C!==null?(o.length===0&&c(t),R=parseInt(C[1],10),j=C[2]?C[3]?parseInt(C[3],10):1/0:R,t+=C[0].length,o.push({type:At.REPETITION,min:R,max:j,value:o.pop()})):o.push({type:At.CHAR,value:123});break;case"?":o.length===0&&c(t),o.push({type:At.REPETITION,min:0,max:1,value:o.pop()});break;case"+":o.length===0&&c(t),o.push({type:At.REPETITION,min:1,max:1/0,value:o.pop()});break;case"*":o.length===0&&c(t),o.push({type:At.REPETITION,min:0,max:1/0,value:o.pop()});break;default:o.push({type:At.CHAR,value:i.charCodeAt(0)})}return a.length!==0&&Kt.error(s,"Unterminated group"),n};ys.exports.types=At;var xn=ys.exports;class Et{constructor(t,e){this.low=t,this.high=e,this.length=1+e-t}overlaps(t){return!(this.high<t.low||this.low>t.high)}touches(t){return!(this.high+1<t.low||this.low-1>t.high)}add(t){return new Et(Math.min(this.low,t.low),Math.max(this.high,t.high))}subtract(t){return t.low<=this.low&&t.high>=this.high?[]:t.low>this.low&&t.high<this.high?[new Et(this.low,t.low-1),new Et(t.high+1,this.high)]:t.low<=this.low?[new Et(t.high+1,this.high)]:[new Et(this.low,t.low-1)]}toString(){return this.low==this.high?this.low.toString():this.low+"-"+this.high}}let wn=class pe{constructor(t,e){this.ranges=[],this.length=0,t!=null&&this.add(t,e)}_update_length(){this.length=this.ranges.reduce((t,e)=>t+e.length,0)}add(t,e){var i=n=>{for(var r=0;r<this.ranges.length&&!n.touches(this.ranges[r]);)r++;for(var o=this.ranges.slice(0,r);r<this.ranges.length&&n.touches(this.ranges[r]);)n=n.add(this.ranges[r]),r++;o.push(n),this.ranges=o.concat(this.ranges.slice(r)),this._update_length()};return t instanceof pe?t.ranges.forEach(i):(e==null&&(e=t),i(new Et(t,e))),this}subtract(t,e){var i=n=>{for(var r=0;r<this.ranges.length&&!n.overlaps(this.ranges[r]);)r++;for(var o=this.ranges.slice(0,r);r<this.ranges.length&&n.overlaps(this.ranges[r]);)o=o.concat(this.ranges[r].subtract(n)),r++;this.ranges=o.concat(this.ranges.slice(r)),this._update_length()};return t instanceof pe?t.ranges.forEach(i):(e==null&&(e=t),i(new Et(t,e))),this}intersect(t,e){var i=[],n=r=>{for(var o=0;o<this.ranges.length&&!r.overlaps(this.ranges[o]);)o++;for(;o<this.ranges.length&&r.overlaps(this.ranges[o]);){var a=Math.max(this.ranges[o].low,r.low),c=Math.min(this.ranges[o].high,r.high);i.push(new Et(a,c)),o++}};return t instanceof pe?t.ranges.forEach(n):(e==null&&(e=t),n(new Et(t,e))),this.ranges=i,this._update_length(),this}index(t){for(var e=0;e<this.ranges.length&&this.ranges[e].length<=t;)t-=this.ranges[e].length,e++;return this.ranges[e].low+t}toString(){return"[ "+this.ranges.join(", ")+" ]"}clone(){return new pe(this)}numbers(){return this.ranges.reduce((t,e)=>{for(var i=e.low;i<=e.high;)t.push(i),i++;return t},[])}subranges(){return this.ranges.map(t=>({low:t.low,high:t.high,length:1+t.high-t.low}))}};var bn=wn;const je=xn,le=bn,Yt=je.types;var vn=class de{constructor(t,e){if(this._setDefaults(t),t instanceof RegExp)this.ignoreCase=t.ignoreCase,this.multiline=t.multiline,t=t.source;else if(typeof t=="string")this.ignoreCase=e&&e.indexOf("i")!==-1,this.multiline=e&&e.indexOf("m")!==-1;else throw new Error("Expected a regexp or string");this.tokens=je(t)}_setDefaults(t){this.max=t.max!=null?t.max:de.prototype.max!=null?de.prototype.max:100,this.defaultRange=t.defaultRange?t.defaultRange:this.defaultRange.clone(),t.randInt&&(this.randInt=t.randInt)}gen(){return this._gen(this.tokens,[])}_gen(t,e){var i,n,r,o,a;switch(t.type){case Yt.ROOT:case Yt.GROUP:if(t.followedBy||t.notFollowedBy)return"";for(t.remember&&t.groupNumber===void 0&&(t.groupNumber=e.push(null)-1),i=t.options?this._randSelect(t.options):t.stack,n="",o=0,a=i.length;o<a;o++)n+=this._gen(i[o],e);return t.remember&&(e[t.groupNumber]=n),n;case Yt.POSITION:return"";case Yt.SET:var c=this._expand(t);return c.length?String.fromCharCode(this._randSelect(c)):"";case Yt.REPETITION:for(r=this.randInt(t.min,t.max===1/0?t.min+this.max:t.max),n="",o=0;o<r;o++)n+=this._gen(t.value,e);return n;case Yt.REFERENCE:return e[t.value-1]||"";case Yt.CHAR:var _=this.ignoreCase&&this._randBool()?this._toOtherCase(t.value):t.value;return String.fromCharCode(_)}}_toOtherCase(t){return t+(97<=t&&t<=122?-32:65<=t&&t<=90?32:0)}_randBool(){return!this.randInt(0,1)}_randSelect(t){return t instanceof le?t.index(this.randInt(0,t.length-1)):t[this.randInt(0,t.length-1)]}_expand(t){if(t.type===je.types.CHAR)return new le(t.value);if(t.type===je.types.RANGE)return new le(t.from,t.to);{let e=new le;for(let i=0;i<t.set.length;i++){let n=this._expand(t.set[i]);if(e.add(n),this.ignoreCase)for(let r=0;r<n.length;r++){let o=n.index(r),a=this._toOtherCase(o);o!==a&&e.add(a)}}return t.not?this.defaultRange.clone().subtract(e):this.defaultRange.clone().intersect(e)}}randInt(t,e){return t+Math.floor(Math.random()*(1+e-t))}get defaultRange(){return this._range=this._range||new le(32,126)}set defaultRange(t){this._range=t}static randexp(t,e){var i;return typeof t=="string"&&(t=new RegExp(t,e)),t._randexp===void 0?(i=new de(t,e),t._randexp=i):(i=t._randexp,i._setDefaults(t)),i.gen()}static sugar(){RegExp.prototype.gen=function(){return de.randexp(this)}}};const Sn=li(vn);var di={};(function(s){(function(){function t(f,x,l){this.text=f,this.offset=x,this.elements=l}t.prototype.forEach=function(f,x){for(var l=this.elements,y=0,p=l.length;y<p;y++)f.call(x,l[y],y,l)},typeof Symbol<"u"&&Symbol.iterator&&(t.prototype[Symbol.iterator]=function(){return this.elements[Symbol.iterator]()});var e=function(f,x,l){t.apply(this,arguments),this.regexp=l[1],this.flags=l[3]};U(e,t);var i=function(f,x,l){t.apply(this,arguments),this.regexp=l[0],this.flags=l[1]};U(i,t);var n=function(f,x,l){t.apply(this,arguments),this.match=l[0],this.alternates=l[1]};U(n,t);var r=function(f,x,l){t.apply(this,arguments),this.match=l[1]};U(r,t);var o=function(f,x,l){t.apply(this,arguments),this.parts=l[1]};U(o,t);var a=function(f,x,l){t.apply(this,arguments),this.content=l[0],this.repeat=l[1]};U(a,t);var c=function(f,x,l){t.apply(this,arguments),this.spec=l[0],this.greedy=l[1]};U(c,t);var _=function(f,x,l){t.apply(this,arguments),this.min=l[1],this.max=l[3]};U(_,t);var u=function(f,x,l){t.apply(this,arguments),this.min=l[1]};U(u,t);var m=function(f,x,l){t.apply(this,arguments),this.exact=l[1]};U(m,t);var O=function(f,x,l){t.apply(this,arguments),this.capture=l[1],this.regexp=l[2]};U(O,t);var q=function(f,x,l){t.apply(this,arguments),this.invert=l[1],this.parts=l[2]};U(q,t);var C=function(f,x,l){t.apply(this,arguments),this.first=l[0],this.charset_range_terminal=l[2],this.last=l[2]};U(C,t);var R=function(f,x,l){t.apply(this,arguments),this.esc=l[1]};U(R,t);var j=function(f,x,l){t.apply(this,arguments),this.code=l[0],this.arg=l[1]};U(j,t);var W=function(f,x,l){t.apply(this,arguments),this.esc=l[1]};U(W,t);var it=function(f,x,l){t.apply(this,arguments),this.code=l[0],this.arg=l[1]};U(it,t);var at=function(f,x,l){t.apply(this,arguments),this.literal=l[1]};U(at,t);var wt=function(f,x,l){t.apply(this,arguments),this.literal=l[0]};U(wt,t);var ut=function(f,x,l){t.apply(this,arguments),this.literal=l[1]};U(ut,t);var St=function(f,x,l){t.apply(this,arguments),this.literal=l[1]};U(St,t);var kt=function(f,x,l){t.apply(this,arguments),this.literal=l[0]};U(kt,t);var Mt=function(f,x,l){t.apply(this,arguments),this.literal=l[1]};U(Mt,t);var Q=function(f,x,l){t.apply(this,arguments),this.code=l[0],this.arg=l[1]};U(Q,t);var gt=function(f,x,l){t.apply(this,arguments),this.code=l[0],this.arg=l[1]};U(gt,t);var Ds=function(f,x,l){t.apply(this,arguments),this.code=l[0],this.arg=l[1]};U(Ds,t);var Ls=function(f,x,l){t.apply(this,arguments),this.code=l[0],this.arg=l[1]};U(Ls,t);var Js=function(f,x,l){t.apply(this,arguments),this.code=l[0],this.arg=l[1]};U(Js,t);var qs=function(f,x,l){t.apply(this,arguments),this.esc=l[1]};U(qs,t);var Fs=function(f,x,l){t.apply(this,arguments),this.code=l[0],this.arg=l[1]};U(Fs,t);var h={},Ps={_read_root(){var f=h,x=this._offset;this._cache._root=this._cache._root||{};var l=this._cache._root[x];if(l)return this._offset=l[1],l[0];var y=this._offset,p=this._offset,d=new Array(4),b=h,S=null,g=this._offset+1;if(g<=this._inputSize&&(S=this._input.substring(this._offset,g)),S==="/"?(b=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(b=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::root",'"/"'])),b!==h){d[0]=b;var w=h;if(w=this._read_regexp(),w!==h){d[1]=w;var v=h,T=null,N=this._offset+1;if(N<=this._inputSize&&(T=this._input.substring(this._offset,N)),T==="/"?(v=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(v=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::root",'"/"'])),v!==h){d[2]=v;for(var M=h,z=this._offset,A=[],L=null;;){var P=null,I=this._offset+1;if(I<=this._inputSize&&(P=this._input.substring(this._offset,I)),P!==null&&/^[yigmu]/.test(P)?(L=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(L=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::root","[yigmu]"])),L!==h)A.push(L);else break}A.length>=0?(M=new t(this._input.substring(z,this._offset),z,A),this._offset=this._offset):M=h,M!==h?d[3]=M:(d=null,this._offset=p)}else d=null,this._offset=p}else d=null,this._offset=p}else d=null,this._offset=p;if(d===null?f=h:(f=new e(this._input.substring(p,this._offset),p,d),this._offset=this._offset),f===h){this._offset=y;var rt=this._offset,et=new Array(2),ht=h;if(ht=this._read_regexp(),ht!==h){et[0]=ht;var st=h,nt=this._offset,ot=null,Ct=this._offset+0;Ct<=this._inputSize&&(ot=this._input.substring(this._offset,Ct)),ot===""?(st=new t(this._input.substring(this._offset,this._offset+0),this._offset,[]),this._offset=this._offset+0):(st=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::root",'""'])),st===h&&(st=new t(this._input.substring(nt,nt),nt,[]),this._offset=nt),st!==h?et[1]=st:(et=null,this._offset=rt)}else et=null,this._offset=rt;et===null?f=h:(f=new i(this._input.substring(rt,this._offset),rt,et),this._offset=this._offset),f===h&&(this._offset=y)}return f!==h&&Object.assign(f,this._types.Root),this._cache._root[x]=[f,this._offset],f},_read_regexp(){var f=h,x=this._offset;this._cache._regexp=this._cache._regexp||{};var l=this._cache._regexp[x];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(2),d=h;if(d=this._read_match(),d!==h){p[0]=d;for(var b=h,S=this._offset,g=[],w=null;;){var v=this._offset,T=new Array(2),N=h,M=null,z=this._offset+1;if(z<=this._inputSize&&(M=this._input.substring(this._offset,z)),M==="|"?(N=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(N=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::regexp",'"|"'])),N!==h){T[0]=N;var A=h;A=this._read_match(),A!==h?T[1]=A:(T=null,this._offset=v)}else T=null,this._offset=v;if(T===null?w=h:(w=new r(this._input.substring(v,this._offset),v,T),this._offset=this._offset),w!==h)g.push(w);else break}g.length>=0?(b=new t(this._input.substring(S,this._offset),S,g),this._offset=this._offset):b=h,b!==h?p[1]=b:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?f=h:(f=new n(this._input.substring(y,this._offset),y,p),this._offset=this._offset),f!==h&&Object.assign(f,this._types.Regexp),this._cache._regexp[x]=[f,this._offset],f},_read_match(){var f=h,x=this._offset;this._cache._match=this._cache._match||{};var l=this._cache._match[x];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(2),d=h,b=this._offset;if(d=this._read_repeat(),this._offset=b,d===h?(d=new t(this._input.substring(this._offset,this._offset),this._offset,[]),this._offset=this._offset):d=h,d!==h){p[0]=d;for(var S=h,g=this._offset,w=[],v=null;v=this._read_match_fragment(),v!==h;)w.push(v);w.length>=0?(S=new t(this._input.substring(g,this._offset),g,w),this._offset=this._offset):S=h,S!==h?p[1]=S:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?f=h:(f=new o(this._input.substring(y,this._offset),y,p),this._offset=this._offset),f!==h&&Object.assign(f,this._types.Match),this._cache._match[x]=[f,this._offset],f},_read_match_fragment(){var f=h,x=this._offset;this._cache._match_fragment=this._cache._match_fragment||{};var l=this._cache._match_fragment[x];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(2),d=h,b=this._offset;if(d=this._read_anchor(),d===h&&(this._offset=b,d=this._read_subexp(),d===h&&(this._offset=b,d=this._read_charset(),d===h&&(this._offset=b,d=this._read_terminal(),d===h&&(this._offset=b)))),d!==h){p[0]=d;var S=h,g=this._offset;S=this._read_repeat(),S===h&&(S=new t(this._input.substring(g,g),g,[]),this._offset=g),S!==h?p[1]=S:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?f=h:(f=new a(this._input.substring(y,this._offset),y,p),this._offset=this._offset),f!==h&&Object.assign(f,this._types.MatchFragment),this._cache._match_fragment[x]=[f,this._offset],f},_read_repeat(){var f=h,x=this._offset;this._cache._repeat=this._cache._repeat||{};var l=this._cache._repeat[x];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(2),d=h,b=this._offset;if(d=this._read_repeat_any(),d===h&&(this._offset=b,d=this._read_repeat_required(),d===h&&(this._offset=b,d=this._read_repeat_optional(),d===h&&(this._offset=b,d=this._read_repeat_spec(),d===h&&(this._offset=b)))),d!==h){p[0]=d;var S=h,g=this._offset,w=null,v=this._offset+1;v<=this._inputSize&&(w=this._input.substring(this._offset,v)),w==="?"?(S=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(S=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat",'"?"'])),S===h&&(S=new t(this._input.substring(g,g),g,[]),this._offset=g),S!==h?p[1]=S:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?f=h:(f=new c(this._input.substring(y,this._offset),y,p),this._offset=this._offset),f!==h&&Object.assign(f,this._types.Repeat),this._cache._repeat[x]=[f,this._offset],f},_read_repeat_any(){var f=h,x=this._offset;this._cache._repeat_any=this._cache._repeat_any||{};var l=this._cache._repeat_any[x];if(l)return this._offset=l[1],l[0];var y=null,p=this._offset+1;return p<=this._inputSize&&(y=this._input.substring(this._offset,p)),y==="*"?(f=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(f=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_any",'"*"'])),f!==h&&Object.assign(f,this._types.RepeatAny),this._cache._repeat_any[x]=[f,this._offset],f},_read_repeat_required(){var f=h,x=this._offset;this._cache._repeat_required=this._cache._repeat_required||{};var l=this._cache._repeat_required[x];if(l)return this._offset=l[1],l[0];var y=null,p=this._offset+1;return p<=this._inputSize&&(y=this._input.substring(this._offset,p)),y==="+"?(f=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(f=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_required",'"+"'])),f!==h&&Object.assign(f,this._types.RepeatRequired),this._cache._repeat_required[x]=[f,this._offset],f},_read_repeat_optional(){var f=h,x=this._offset;this._cache._repeat_optional=this._cache._repeat_optional||{};var l=this._cache._repeat_optional[x];if(l)return this._offset=l[1],l[0];var y=null,p=this._offset+1;return p<=this._inputSize&&(y=this._input.substring(this._offset,p)),y==="?"?(f=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(f=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_optional",'"?"'])),f!==h&&Object.assign(f,this._types.RepeatOptional),this._cache._repeat_optional[x]=[f,this._offset],f},_read_repeat_spec(){var f=h,x=this._offset;this._cache._repeat_spec=this._cache._repeat_spec||{};var l=this._cache._repeat_spec[x];if(l)return this._offset=l[1],l[0];var y=this._offset,p=this._offset,d=new Array(5),b=h,S=null,g=this._offset+1;if(g<=this._inputSize&&(S=this._input.substring(this._offset,g)),S==="{"?(b=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(b=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec",'"{"'])),b!==h){d[0]=b;for(var w=h,v=this._offset,T=[],N=null;;){var M=null,z=this._offset+1;if(z<=this._inputSize&&(M=this._input.substring(this._offset,z)),M!==null&&/^[0-9]/.test(M)?(N=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(N=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec","[0-9]"])),N!==h)T.push(N);else break}if(T.length>=1?(w=new t(this._input.substring(v,this._offset),v,T),this._offset=this._offset):w=h,w!==h){d[1]=w;var A=h,L=null,P=this._offset+1;if(P<=this._inputSize&&(L=this._input.substring(this._offset,P)),L===","?(A=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(A=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec",'","'])),A!==h){d[2]=A;for(var I=h,rt=this._offset,et=[],ht=null;;){var st=null,nt=this._offset+1;if(nt<=this._inputSize&&(st=this._input.substring(this._offset,nt)),st!==null&&/^[0-9]/.test(st)?(ht=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(ht=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec","[0-9]"])),ht!==h)et.push(ht);else break}if(et.length>=1?(I=new t(this._input.substring(rt,this._offset),rt,et),this._offset=this._offset):I=h,I!==h){d[3]=I;var ot=h,Ct=null,jt=this._offset+1;jt<=this._inputSize&&(Ct=this._input.substring(this._offset,jt)),Ct==="}"?(ot=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(ot=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec",'"}"'])),ot!==h?d[4]=ot:(d=null,this._offset=p)}else d=null,this._offset=p}else d=null,this._offset=p}else d=null,this._offset=p}else d=null,this._offset=p;if(d===null?f=h:(f=new _(this._input.substring(p,this._offset),p,d),this._offset=this._offset),f===h){this._offset=y;var ct=this._offset,Tt=new Array(3),Pt=h,Hs=null,Us=this._offset+1;if(Us<=this._inputSize&&(Hs=this._input.substring(this._offset,Us)),Hs==="{"?(Pt=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(Pt=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec",'"{"'])),Pt!==h){Tt[0]=Pt;for(var Ne=h,Ys=this._offset,Ve=[],Ee=null;;){var We=null,Gs=this._offset+1;if(Gs<=this._inputSize&&(We=this._input.substring(this._offset,Gs)),We!==null&&/^[0-9]/.test(We)?(Ee=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(Ee=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec","[0-9]"])),Ee!==h)Ve.push(Ee);else break}if(Ve.length>=1?(Ne=new t(this._input.substring(Ys,this._offset),Ys,Ve),this._offset=this._offset):Ne=h,Ne!==h){Tt[1]=Ne;var Oe=h,Vs=null,Ws=this._offset+2;Ws<=this._inputSize&&(Vs=this._input.substring(this._offset,Ws)),Vs===",}"?(Oe=new t(this._input.substring(this._offset,this._offset+2),this._offset,[]),this._offset=this._offset+2):(Oe=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec",'",}"'])),Oe!==h?Tt[2]=Oe:(Tt=null,this._offset=ct)}else Tt=null,this._offset=ct}else Tt=null,this._offset=ct;if(Tt===null?f=h:(f=new u(this._input.substring(ct,this._offset),ct,Tt),this._offset=this._offset),f===h){this._offset=y;var ue=this._offset,Dt=new Array(3),ke=h,Xs=null,Qs=this._offset+1;if(Qs<=this._inputSize&&(Xs=this._input.substring(this._offset,Qs)),Xs==="{"?(ke=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(ke=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec",'"{"'])),ke!==h){Dt[0]=ke;for(var Me=h,Zs=this._offset,Xe=[],ze=null;;){var Qe=null,Ks=this._offset+1;if(Ks<=this._inputSize&&(Qe=this._input.substring(this._offset,Ks)),Qe!==null&&/^[0-9]/.test(Qe)?(ze=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(ze=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec","[0-9]"])),ze!==h)Xe.push(ze);else break}if(Xe.length>=1?(Me=new t(this._input.substring(Zs,this._offset),Zs,Xe),this._offset=this._offset):Me=h,Me!==h){Dt[1]=Me;var Ie=h,ti=null,ei=this._offset+1;ei<=this._inputSize&&(ti=this._input.substring(this._offset,ei)),ti==="}"?(Ie=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(Ie=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec",'"}"'])),Ie!==h?Dt[2]=Ie:(Dt=null,this._offset=ue)}else Dt=null,this._offset=ue}else Dt=null,this._offset=ue;Dt===null?f=h:(f=new m(this._input.substring(ue,this._offset),ue,Dt),this._offset=this._offset),f===h&&(this._offset=y)}}return f!==h&&Object.assign(f,this._types.RepeatSpec),this._cache._repeat_spec[x]=[f,this._offset],f},_read_anchor(){var f=h,x=this._offset;this._cache._anchor=this._cache._anchor||{};var l=this._cache._anchor[x];if(l)return this._offset=l[1],l[0];var y=this._offset,p=null,d=this._offset+1;if(d<=this._inputSize&&(p=this._input.substring(this._offset,d)),p==="^"?(f=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(f=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::anchor",'"^"'])),f===h){this._offset=y;var b=null,S=this._offset+1;S<=this._inputSize&&(b=this._input.substring(this._offset,S)),b==="$"?(f=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(f=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::anchor",'"$"'])),f===h&&(this._offset=y)}return f!==h&&Object.assign(f,this._types.Anchor),this._cache._anchor[x]=[f,this._offset],f},_read_subexp(){var f=h,x=this._offset;this._cache._subexp=this._cache._subexp||{};var l=this._cache._subexp[x];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(4),d=h,b=null,S=this._offset+1;if(S<=this._inputSize&&(b=this._input.substring(this._offset,S)),b==="("?(d=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(d=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::subexp",'"("'])),d!==h){p[0]=d;var g=h,w=this._offset,v=this._offset,T=null,N=this._offset+2;if(N<=this._inputSize&&(T=this._input.substring(this._offset,N)),T==="?:"?(g=new t(this._input.substring(this._offset,this._offset+2),this._offset,[]),this._offset=this._offset+2):(g=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::subexp",'"?:"'])),g===h){this._offset=v;var M=null,z=this._offset+2;if(z<=this._inputSize&&(M=this._input.substring(this._offset,z)),M==="?="?(g=new t(this._input.substring(this._offset,this._offset+2),this._offset,[]),this._offset=this._offset+2):(g=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::subexp",'"?="'])),g===h){this._offset=v;var A=null,L=this._offset+2;L<=this._inputSize&&(A=this._input.substring(this._offset,L)),A==="?!"?(g=new t(this._input.substring(this._offset,this._offset+2),this._offset,[]),this._offset=this._offset+2):(g=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::subexp",'"?!"'])),g===h&&(this._offset=v)}}if(g===h&&(g=new t(this._input.substring(w,w),w,[]),this._offset=w),g!==h){p[1]=g;var P=h;if(P=this._read_regexp(),P!==h){p[2]=P;var I=h,rt=null,et=this._offset+1;et<=this._inputSize&&(rt=this._input.substring(this._offset,et)),rt===")"?(I=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(I=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::subexp",'")"'])),I!==h?p[3]=I:(p=null,this._offset=y)}else p=null,this._offset=y}else p=null,this._offset=y}else p=null,this._offset=y;return p===null?f=h:(f=new O(this._input.substring(y,this._offset),y,p),this._offset=this._offset),f!==h&&Object.assign(f,this._types.Subexp),this._cache._subexp[x]=[f,this._offset],f},_read_charset(){var f=h,x=this._offset;this._cache._charset=this._cache._charset||{};var l=this._cache._charset[x];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(4),d=h,b=null,S=this._offset+1;if(S<=this._inputSize&&(b=this._input.substring(this._offset,S)),b==="["?(d=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(d=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset",'"["'])),d!==h){p[0]=d;var g=h,w=this._offset,v=null,T=this._offset+1;if(T<=this._inputSize&&(v=this._input.substring(this._offset,T)),v==="^"?(g=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(g=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset",'"^"'])),g===h&&(g=new t(this._input.substring(w,w),w,[]),this._offset=w),g!==h){p[1]=g;for(var N=h,M=this._offset,z=[],A=null;;){var L=this._offset;if(A=this._read_charset_range(),A===h&&(this._offset=L,A=this._read_charset_terminal(),A===h&&(this._offset=L)),A!==h)z.push(A);else break}if(z.length>=0?(N=new t(this._input.substring(M,this._offset),M,z),this._offset=this._offset):N=h,N!==h){p[2]=N;var P=h,I=null,rt=this._offset+1;rt<=this._inputSize&&(I=this._input.substring(this._offset,rt)),I==="]"?(P=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(P=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset",'"]"'])),P!==h?p[3]=P:(p=null,this._offset=y)}else p=null,this._offset=y}else p=null,this._offset=y}else p=null,this._offset=y;return p===null?f=h:(f=new q(this._input.substring(y,this._offset),y,p),this._offset=this._offset),f!==h&&Object.assign(f,this._types.Charset),this._cache._charset[x]=[f,this._offset],f},_read_charset_range(){var f=h,x=this._offset;this._cache._charset_range=this._cache._charset_range||{};var l=this._cache._charset_range[x];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(3),d=h;if(d=this._read_charset_range_terminal(),d!==h){p[0]=d;var b=h,S=null,g=this._offset+1;if(g<=this._inputSize&&(S=this._input.substring(this._offset,g)),S==="-"?(b=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(b=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_range",'"-"'])),b!==h){p[1]=b;var w=h;w=this._read_charset_range_terminal(),w!==h?p[2]=w:(p=null,this._offset=y)}else p=null,this._offset=y}else p=null,this._offset=y;return p===null?f=h:(f=new C(this._input.substring(y,this._offset),y,p),this._offset=this._offset),f!==h&&Object.assign(f,this._types.CharsetRange),this._cache._charset_range[x]=[f,this._offset],f},_read_charset_range_terminal(){var f=h,x=this._offset;this._cache._charset_range_terminal=this._cache._charset_range_terminal||{};var l=this._cache._charset_range_terminal[x];if(l)return this._offset=l[1],l[0];var y=this._offset;return f=this._read_charset_range_escape(),f!==h&&Object.assign(f,this._types.CharsetEscape),f===h&&(this._offset=y,f=this._read_charset_literal(),f!==h&&Object.assign(f,this._types.Literal),f===h&&(this._offset=y)),this._cache._charset_range_terminal[x]=[f,this._offset],f},_read_charset_terminal(){var f=h,x=this._offset;this._cache._charset_terminal=this._cache._charset_terminal||{};var l=this._cache._charset_terminal[x];if(l)return this._offset=l[1],l[0];var y=this._offset;return f=this._read_charset_escape(),f!==h&&Object.assign(f,this._types.CharsetEscape),f===h&&(this._offset=y,f=this._read_charset_literal(),f!==h&&Object.assign(f,this._types.Literal),f===h&&(this._offset=y)),this._cache._charset_terminal[x]=[f,this._offset],f},_read_charset_escape(){var f=h,x=this._offset;this._cache._charset_escape=this._cache._charset_escape||{};var l=this._cache._charset_escape[x];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(2),d=h,b=null,S=this._offset+1;if(S<=this._inputSize&&(b=this._input.substring(this._offset,S)),b==="\\"?(d=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(d=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_escape",'"\\\\"'])),d!==h){p[0]=d;var g=h,w=this._offset,v=this._offset,T=new Array(2),N=h,M=null,z=this._offset+1;if(z<=this._inputSize&&(M=this._input.substring(this._offset,z)),M!==null&&/^[bdDfnrsStvwW]/.test(M)?(N=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(N=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_escape","[bdDfnrsStvwW]"])),N!==h){T[0]=N;var A=h,L=this._offset,P=null,I=this._offset+0;I<=this._inputSize&&(P=this._input.substring(this._offset,I)),P===""?(A=new t(this._input.substring(this._offset,this._offset+0),this._offset,[]),this._offset=this._offset+0):(A=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_escape",'""'])),A===h&&(A=new t(this._input.substring(L,L),L,[]),this._offset=L),A!==h?T[1]=A:(T=null,this._offset=v)}else T=null,this._offset=v;T===null?g=h:(g=new j(this._input.substring(v,this._offset),v,T),this._offset=this._offset),g===h&&(this._offset=w,g=this._read_control_escape(),g===h&&(this._offset=w,g=this._read_octal_escape(),g===h&&(this._offset=w,g=this._read_hex_escape(),g===h&&(this._offset=w,g=this._read_unicode_escape(),g===h&&(this._offset=w,g=this._read_null_escape(),g===h&&(this._offset=w)))))),g!==h?p[1]=g:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?f=h:(f=new R(this._input.substring(y,this._offset),y,p),this._offset=this._offset),this._cache._charset_escape[x]=[f,this._offset],f},_read_charset_range_escape(){var f=h,x=this._offset;this._cache._charset_range_escape=this._cache._charset_range_escape||{};var l=this._cache._charset_range_escape[x];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(2),d=h,b=null,S=this._offset+1;if(S<=this._inputSize&&(b=this._input.substring(this._offset,S)),b==="\\"?(d=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(d=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_range_escape",'"\\\\"'])),d!==h){p[0]=d;var g=h,w=this._offset,v=this._offset,T=new Array(2),N=h,M=null,z=this._offset+1;if(z<=this._inputSize&&(M=this._input.substring(this._offset,z)),M!==null&&/^[bfnrtv]/.test(M)?(N=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(N=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_range_escape","[bfnrtv]"])),N!==h){T[0]=N;var A=h,L=this._offset,P=null,I=this._offset+0;I<=this._inputSize&&(P=this._input.substring(this._offset,I)),P===""?(A=new t(this._input.substring(this._offset,this._offset+0),this._offset,[]),this._offset=this._offset+0):(A=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_range_escape",'""'])),A===h&&(A=new t(this._input.substring(L,L),L,[]),this._offset=L),A!==h?T[1]=A:(T=null,this._offset=v)}else T=null,this._offset=v;T===null?g=h:(g=new it(this._input.substring(v,this._offset),v,T),this._offset=this._offset),g===h&&(this._offset=w,g=this._read_control_escape(),g===h&&(this._offset=w,g=this._read_octal_escape(),g===h&&(this._offset=w,g=this._read_hex_escape(),g===h&&(this._offset=w,g=this._read_unicode_escape(),g===h&&(this._offset=w,g=this._read_null_escape(),g===h&&(this._offset=w)))))),g!==h?p[1]=g:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?f=h:(f=new W(this._input.substring(y,this._offset),y,p),this._offset=this._offset),this._cache._charset_range_escape[x]=[f,this._offset],f},_read_charset_literal(){var f=h,x=this._offset;this._cache._charset_literal=this._cache._charset_literal||{};var l=this._cache._charset_literal[x];if(l)return this._offset=l[1],l[0];var y=this._offset,p=this._offset,d=new Array(2),b=h,S=this._offset,g=null,w=this._offset+0;if(w<=this._inputSize&&(g=this._input.substring(this._offset,w)),g===""?(b=new t(this._input.substring(this._offset,this._offset+0),this._offset,[]),this._offset=this._offset+0):(b=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_literal",'""'])),b===h&&(b=new t(this._input.substring(S,S),S,[]),this._offset=S),b!==h){d[0]=b;var v=h,T=null,N=this._offset+1;N<=this._inputSize&&(T=this._input.substring(this._offset,N)),T!==null&&/^[^\\\]]/.test(T)?(v=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(v=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_literal","[^\\\\\\]]"])),v!==h?d[1]=v:(d=null,this._offset=p)}else d=null,this._offset=p;if(d===null?f=h:(f=new at(this._input.substring(p,this._offset),p,d),this._offset=this._offset),f===h){this._offset=y;var M=this._offset,z=new Array(2),A=h,L=null,P=this._offset+1;if(P<=this._inputSize&&(L=this._input.substring(this._offset,P)),L==="\\"?(A=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(A=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_literal",'"\\\\"'])),A!==h){z[0]=A;var I=h,rt=this._offset,et=null,ht=this._offset+1;ht<=this._inputSize&&(et=this._input.substring(this._offset,ht)),et==="c"?(I=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(I=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_literal",'"c"'])),this._offset=rt,I!==h?(I=new t(this._input.substring(this._offset,this._offset),this._offset,[]),this._offset=this._offset):I=h,I!==h?z[1]=I:(z=null,this._offset=M)}else z=null,this._offset=M;if(z===null?f=h:(f=new wt(this._input.substring(M,this._offset),M,z),this._offset=this._offset),f===h){this._offset=y;var st=this._offset,nt=new Array(2),ot=h,Ct=null,jt=this._offset+1;if(jt<=this._inputSize&&(Ct=this._input.substring(this._offset,jt)),Ct==="\\"?(ot=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(ot=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_literal",'"\\\\"'])),ot!==h){nt[0]=ot;var ct=h,Tt=null,Pt=this._offset+1;Pt<=this._inputSize&&(Tt=this._input.substring(this._offset,Pt)),Tt!==null&&/^[^bdDfnrsStvwW]/.test(Tt)?(ct=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(ct=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_literal","[^bdDfnrsStvwW]"])),ct!==h?nt[1]=ct:(nt=null,this._offset=st)}else nt=null,this._offset=st;nt===null?f=h:(f=new ut(this._input.substring(st,this._offset),st,nt),this._offset=this._offset),f===h&&(this._offset=y)}}return this._cache._charset_literal[x]=[f,this._offset],f},_read_terminal(){var f=h,x=this._offset;this._cache._terminal=this._cache._terminal||{};var l=this._cache._terminal[x];if(l)return this._offset=l[1],l[0];var y=this._offset,p=null,d=this._offset+1;return d<=this._inputSize&&(p=this._input.substring(this._offset,d)),p==="."?(f=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(f=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::terminal",'"."'])),f!==h&&Object.assign(f,this._types.AnyCharacter),f===h&&(this._offset=y,f=this._read_escape(),f!==h&&Object.assign(f,this._types.Escape),f===h&&(this._offset=y,f=this._read_literal(),f!==h&&Object.assign(f,this._types.Literal),f===h&&(this._offset=y))),this._cache._terminal[x]=[f,this._offset],f},_read_literal(){var f=h,x=this._offset;this._cache._literal=this._cache._literal||{};var l=this._cache._literal[x];if(l)return this._offset=l[1],l[0];var y=this._offset,p=this._offset,d=new Array(2),b=h,S=this._offset,g=null,w=this._offset+0;if(w<=this._inputSize&&(g=this._input.substring(this._offset,w)),g===""?(b=new t(this._input.substring(this._offset,this._offset+0),this._offset,[]),this._offset=this._offset+0):(b=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::literal",'""'])),b===h&&(b=new t(this._input.substring(S,S),S,[]),this._offset=S),b!==h){d[0]=b;var v=h,T=null,N=this._offset+1;N<=this._inputSize&&(T=this._input.substring(this._offset,N)),T!==null&&/^[^|\\/.\[\(\)?+*$^]/.test(T)?(v=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(v=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::literal","[^|\\\\/.\\[\\(\\)?+*$^]"])),v!==h?d[1]=v:(d=null,this._offset=p)}else d=null,this._offset=p;if(d===null?f=h:(f=new St(this._input.substring(p,this._offset),p,d),this._offset=this._offset),f===h){this._offset=y;var M=this._offset,z=new Array(2),A=h,L=null,P=this._offset+1;if(P<=this._inputSize&&(L=this._input.substring(this._offset,P)),L==="\\"?(A=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(A=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::literal",'"\\\\"'])),A!==h){z[0]=A;var I=h,rt=this._offset,et=null,ht=this._offset+1;ht<=this._inputSize&&(et=this._input.substring(this._offset,ht)),et==="c"?(I=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(I=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::literal",'"c"'])),this._offset=rt,I!==h?(I=new t(this._input.substring(this._offset,this._offset),this._offset,[]),this._offset=this._offset):I=h,I!==h?z[1]=I:(z=null,this._offset=M)}else z=null,this._offset=M;if(z===null?f=h:(f=new kt(this._input.substring(M,this._offset),M,z),this._offset=this._offset),f===h){this._offset=y;var st=this._offset,nt=new Array(2),ot=h,Ct=null,jt=this._offset+1;if(jt<=this._inputSize&&(Ct=this._input.substring(this._offset,jt)),Ct==="\\"?(ot=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(ot=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::literal",'"\\\\"'])),ot!==h){nt[0]=ot;var ct=h;this._offset<this._inputSize?(ct=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(ct=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::literal","<any char>"])),ct!==h?nt[1]=ct:(nt=null,this._offset=st)}else nt=null,this._offset=st;nt===null?f=h:(f=new Mt(this._input.substring(st,this._offset),st,nt),this._offset=this._offset),f===h&&(this._offset=y)}}return this._cache._literal[x]=[f,this._offset],f},_read_control_escape(){var f=h,x=this._offset;this._cache._control_escape=this._cache._control_escape||{};var l=this._cache._control_escape[x];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(2),d=h,b=null,S=this._offset+1;if(S<=this._inputSize&&(b=this._input.substring(this._offset,S)),b==="c"?(d=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(d=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::control_escape",'"c"'])),d!==h){p[0]=d;var g=h,w=null,v=this._offset+1;v<=this._inputSize&&(w=this._input.substring(this._offset,v)),w!==null&&/^[a-zA-Z]/.test(w)?(g=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(g=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::control_escape","[a-zA-Z]"])),g!==h?p[1]=g:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?f=h:(f=new Q(this._input.substring(y,this._offset),y,p),this._offset=this._offset),this._cache._control_escape[x]=[f,this._offset],f},_read_octal_escape(){var f=h,x=this._offset;this._cache._octal_escape=this._cache._octal_escape||{};var l=this._cache._octal_escape[x];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(2),d=h,b=null,S=this._offset+1;if(S<=this._inputSize&&(b=this._input.substring(this._offset,S)),b==="0"?(d=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(d=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::octal_escape",'"0"'])),d!==h){p[0]=d;for(var g=h,w=this._offset,v=[],T=null;;){var N=null,M=this._offset+1;if(M<=this._inputSize&&(N=this._input.substring(this._offset,M)),N!==null&&/^[0-7]/.test(N)?(T=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(T=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::octal_escape","[0-7]"])),T!==h)v.push(T);else break}v.length>=1?(g=new t(this._input.substring(w,this._offset),w,v),this._offset=this._offset):g=h,g!==h?p[1]=g:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?f=h:(f=new gt(this._input.substring(y,this._offset),y,p),this._offset=this._offset),this._cache._octal_escape[x]=[f,this._offset],f},_read_hex_escape(){var f=h,x=this._offset;this._cache._hex_escape=this._cache._hex_escape||{};var l=this._cache._hex_escape[x];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(2),d=h,b=null,S=this._offset+1;if(S<=this._inputSize&&(b=this._input.substring(this._offset,S)),b==="x"?(d=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(d=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::hex_escape",'"x"'])),d!==h){p[0]=d;var g=h,w=this._offset,v=new Array(2),T=h,N=null,M=this._offset+1;if(M<=this._inputSize&&(N=this._input.substring(this._offset,M)),N!==null&&/^[0-9a-fA-F]/.test(N)?(T=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(T=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::hex_escape","[0-9a-fA-F]"])),T!==h){v[0]=T;var z=h,A=null,L=this._offset+1;L<=this._inputSize&&(A=this._input.substring(this._offset,L)),A!==null&&/^[0-9a-fA-F]/.test(A)?(z=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(z=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::hex_escape","[0-9a-fA-F]"])),z!==h?v[1]=z:(v=null,this._offset=w)}else v=null,this._offset=w;v===null?g=h:(g=new t(this._input.substring(w,this._offset),w,v),this._offset=this._offset),g!==h?p[1]=g:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?f=h:(f=new Ds(this._input.substring(y,this._offset),y,p),this._offset=this._offset),this._cache._hex_escape[x]=[f,this._offset],f},_read_unicode_escape(){var f=h,x=this._offset;this._cache._unicode_escape=this._cache._unicode_escape||{};var l=this._cache._unicode_escape[x];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(2),d=h,b=null,S=this._offset+1;if(S<=this._inputSize&&(b=this._input.substring(this._offset,S)),b==="u"?(d=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(d=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::unicode_escape",'"u"'])),d!==h){p[0]=d;var g=h,w=this._offset,v=new Array(4),T=h,N=null,M=this._offset+1;if(M<=this._inputSize&&(N=this._input.substring(this._offset,M)),N!==null&&/^[0-9a-fA-F]/.test(N)?(T=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(T=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::unicode_escape","[0-9a-fA-F]"])),T!==h){v[0]=T;var z=h,A=null,L=this._offset+1;if(L<=this._inputSize&&(A=this._input.substring(this._offset,L)),A!==null&&/^[0-9a-fA-F]/.test(A)?(z=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(z=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::unicode_escape","[0-9a-fA-F]"])),z!==h){v[1]=z;var P=h,I=null,rt=this._offset+1;if(rt<=this._inputSize&&(I=this._input.substring(this._offset,rt)),I!==null&&/^[0-9a-fA-F]/.test(I)?(P=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(P=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::unicode_escape","[0-9a-fA-F]"])),P!==h){v[2]=P;var et=h,ht=null,st=this._offset+1;st<=this._inputSize&&(ht=this._input.substring(this._offset,st)),ht!==null&&/^[0-9a-fA-F]/.test(ht)?(et=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(et=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::unicode_escape","[0-9a-fA-F]"])),et!==h?v[3]=et:(v=null,this._offset=w)}else v=null,this._offset=w}else v=null,this._offset=w}else v=null,this._offset=w;v===null?g=h:(g=new t(this._input.substring(w,this._offset),w,v),this._offset=this._offset),g!==h?p[1]=g:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?f=h:(f=new Ls(this._input.substring(y,this._offset),y,p),this._offset=this._offset),this._cache._unicode_escape[x]=[f,this._offset],f},_read_null_escape(){var f=h,x=this._offset;this._cache._null_escape=this._cache._null_escape||{};var l=this._cache._null_escape[x];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(2),d=h,b=null,S=this._offset+1;if(S<=this._inputSize&&(b=this._input.substring(this._offset,S)),b==="0"?(d=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(d=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::null_escape",'"0"'])),d!==h){p[0]=d;var g=h,w=this._offset,v=null,T=this._offset+0;T<=this._inputSize&&(v=this._input.substring(this._offset,T)),v===""?(g=new t(this._input.substring(this._offset,this._offset+0),this._offset,[]),this._offset=this._offset+0):(g=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::null_escape",'""'])),g===h&&(g=new t(this._input.substring(w,w),w,[]),this._offset=w),g!==h?p[1]=g:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?f=h:(f=new Js(this._input.substring(y,this._offset),y,p),this._offset=this._offset),this._cache._null_escape[x]=[f,this._offset],f},_read_escape(){var f=h,x=this._offset;this._cache._escape=this._cache._escape||{};var l=this._cache._escape[x];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(2),d=h,b=null,S=this._offset+1;if(S<=this._inputSize&&(b=this._input.substring(this._offset,S)),b==="\\"?(d=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(d=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::escape",'"\\\\"'])),d!==h){p[0]=d;var g=h,w=this._offset,v=this._offset,T=new Array(2),N=h,M=null,z=this._offset+1;if(z<=this._inputSize&&(M=this._input.substring(this._offset,z)),M!==null&&/^[bBdDfnrsStvwW1-9]/.test(M)?(N=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(N=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::escape","[bBdDfnrsStvwW1-9]"])),N!==h){T[0]=N;var A=h,L=this._offset,P=null,I=this._offset+0;I<=this._inputSize&&(P=this._input.substring(this._offset,I)),P===""?(A=new t(this._input.substring(this._offset,this._offset+0),this._offset,[]),this._offset=this._offset+0):(A=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::escape",'""'])),A===h&&(A=new t(this._input.substring(L,L),L,[]),this._offset=L),A!==h?T[1]=A:(T=null,this._offset=v)}else T=null,this._offset=v;T===null?g=h:(g=new Fs(this._input.substring(v,this._offset),v,T),this._offset=this._offset),g===h&&(this._offset=w,g=this._read_control_escape(),g===h&&(this._offset=w,g=this._read_octal_escape(),g===h&&(this._offset=w,g=this._read_hex_escape(),g===h&&(this._offset=w,g=this._read_unicode_escape(),g===h&&(this._offset=w,g=this._read_null_escape(),g===h&&(this._offset=w)))))),g!==h?p[1]=g:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?f=h:(f=new qs(this._input.substring(y,this._offset),y,p),this._offset=this._offset),this._cache._escape[x]=[f,this._offset],f}},Ce=function(f,x,l){this._input=f,this._inputSize=f.length,this._actions=x,this._types=l,this._offset=0,this._cache={},this._failure=0,this._expected=[]};Ce.prototype.parse=function(){var f=this._read_root();if(f!==h&&this._offset===this._inputSize)return f;throw this._expected.length===0&&(this._failure=this._offset,this._expected.push(["JavaScriptRegexp","<EOF>"])),this.constructor.lastError={offset:this._offset,expected:this._expected},new SyntaxError(tn(this._input,this._failure,this._expected))},Object.assign(Ce.prototype,Ps);function Ki(f,x){x=x||{};var l=new Ce(f,x.actions,x.types);return l.parse()}function tn(f,x,l){for(var y=f.split(/\n/g),p=0,d=0;d<=x;)d+=y[p].length+1,p+=1;for(var b=y[p-1],S="Line "+p+`: expected one of:

`,g=0;g<l.length;g++)S+="    - "+l[g][1]+" from "+l[g][0]+`
`;for(var w=p.toString();w.length<6;)w=" "+w;for(S+=`
`+w+" | "+b+`
`,d-=b.length+10;d<x;)S+=" ",d+=1;return S+"^"}function U(f,x){function l(){}l.prototype=x.prototype,f.prototype=new l,f.prototype.constructor=f}var Bs={Grammar:Ps,Parser:Ce,parse:Ki};if(typeof _n=="function")Object.assign(s,Bs);else{var en=typeof this>"u"?window:this;en.JavaScriptRegexp=Bs}})()})(di);const Tn=li(di),hs={},gi=[];function D(s,t){if(Array.isArray(s)){for(const e of s)D(e,t);return}if(typeof s=="object"){for(const e in s)D(e,s[e]);return}mi(Object.getOwnPropertyNames(t)),hs[s]=Object.assign(hs[s]||{},t)}function mt(s){return hs[s]||{}}function An(){return[...new Set(gi)]}function mi(s){gi.push(...s)}function ws(s,t){let e;const i=s.length,n=[];for(e=0;e<i;e++)n.push(t(s[e]));return n}function Rn(s,t){let e;const i=s.length,n=[];for(e=0;e<i;e++)t(s[e])&&n.push(s[e]);return n}function ts(s){return s%360*Math.PI/180}function Cn(s){return s.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})}function yi(s){return s.charAt(0).toUpperCase()+s.slice(1)}function oe(s,t,e,i){return(t==null||e==null)&&(i=i||s.bbox(),t==null?t=i.width/i.height*e:e==null&&(e=i.height/i.width*t)),{width:t,height:e}}function os(s,t){const e=s.origin;let i=s.ox!=null?s.ox:s.originX!=null?s.originX:"center",n=s.oy!=null?s.oy:s.originY!=null?s.originY:"center";e!=null&&([i,n]=Array.isArray(e)?e:typeof e=="object"?[e.x,e.y]:[e,e]);const r=typeof i=="string",o=typeof n=="string";if(r||o){const{height:a,width:c,x:_,y:u}=t.bbox();r&&(i=i.includes("left")?_:i.includes("right")?_+c:_+c/2),o&&(n=n.includes("top")?u:n.includes("bottom")?u+a:u+a/2)}return[i,n]}const Nn=new Set(["desc","metadata","title"]),fs=s=>Nn.has(s.nodeName),xi=(s,t,e={})=>{const i={...t};for(const n in i)i[n].valueOf()===e[n]&&delete i[n];Object.keys(i).length?s.node.setAttribute("data-svgjs",JSON.stringify(i)):(s.node.removeAttribute("data-svgjs"),s.node.removeAttribute("svgjs:data"))},bs="http://www.w3.org/2000/svg",En="http://www.w3.org/1999/xhtml",es="http://www.w3.org/2000/xmlns/",be="http://www.w3.org/1999/xlink",B={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function On(){return B.window}class vs{}const Xt={},Ss="___SYMBOL___ROOT___";function re(s,t=bs){return B.document.createElementNS(t,s)}function dt(s,t=!1){if(s instanceof vs)return s;if(typeof s=="object")return ss(s);if(s==null)return new Xt[Ss];if(typeof s=="string"&&s.charAt(0)!=="<")return ss(B.document.querySelector(s));const e=t?B.document.createElement("div"):re("svg");return e.innerHTML=s,s=ss(e.firstChild),e.removeChild(e.firstChild),s}function tt(s,t){return t&&(t instanceof B.window.Node||t.ownerDocument&&t instanceof t.ownerDocument.defaultView.Node)?t:re(s)}function Rt(s){if(!s)return null;if(s.instance instanceof vs)return s.instance;if(s.nodeName==="#document-fragment")return new Xt.Fragment(s);let t=yi(s.nodeName||"Dom");return t==="LinearGradient"||t==="RadialGradient"?t="Gradient":Xt[t]||(t="Dom"),new Xt[t](s)}let ss=Rt;function H(s,t=s.name,e=!1){return Xt[t]=s,e&&(Xt[Ss]=s),mi(Object.getOwnPropertyNames(s.prototype)),s}function kn(s){return Xt[s]}let Mn=1e3;function wi(s){return"Svgjs"+yi(s)+Mn++}function bi(s){for(let t=s.children.length-1;t>=0;t--)bi(s.children[t]);return s.id&&(s.id=wi(s.nodeName)),s}function J(s,t){let e,i;for(s=Array.isArray(s)?s:[s],i=s.length-1;i>=0;i--)for(e in t)s[i].prototype[e]=t[e]}function K(s){return function(...t){const e=t[t.length-1];return e&&e.constructor===Object&&!(e instanceof Array)?s.apply(this,t.slice(0,-1)).attr(e):s.apply(this,t)}}function zn(){return this.parent().children()}function In(){return this.parent().index(this)}function $n(){return this.siblings()[this.position()+1]}function jn(){return this.siblings()[this.position()-1]}function Dn(){const s=this.position();return this.parent().add(this.remove(),s+1),this}function Ln(){const s=this.position();return this.parent().add(this.remove(),s?s-1:0),this}function Jn(){return this.parent().add(this.remove()),this}function qn(){return this.parent().add(this.remove(),0),this}function Fn(s){s=dt(s),s.remove();const t=this.position();return this.parent().add(s,t),this}function Pn(s){s=dt(s),s.remove();const t=this.position();return this.parent().add(s,t+1),this}function Bn(s){return s=dt(s),s.before(this),this}function Hn(s){return s=dt(s),s.after(this),this}D("Dom",{siblings:zn,position:In,next:$n,prev:jn,forward:Dn,backward:Ln,front:Jn,back:qn,before:Fn,after:Pn,insertBefore:Bn,insertAfter:Hn});const vi=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,Un=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Yn=/rgb\((\d+),(\d+),(\d+)\)/,Gn=/(#[a-z_][a-z0-9\-_]*)/i,Vn=/\)\s*,?\s*/,Wn=/\s/g,ri=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,hi=/^rgb\(/,oi=/^(\s+)?$/,fi=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xn=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,$t=/[\s,]+/,Ts=/[MLHVCSQTAZ]/i;function Qn(){const s=this.attr("class");return s==null?[]:s.trim().split($t)}function Zn(s){return this.classes().indexOf(s)!==-1}function Kn(s){if(!this.hasClass(s)){const t=this.classes();t.push(s),this.attr("class",t.join(" "))}return this}function tr(s){return this.hasClass(s)&&this.attr("class",this.classes().filter(function(t){return t!==s}).join(" ")),this}function er(s){return this.hasClass(s)?this.removeClass(s):this.addClass(s)}D("Dom",{classes:Qn,hasClass:Zn,addClass:Kn,removeClass:tr,toggleClass:er});function sr(s,t){const e={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(i){return!!i.length}).forEach(function(i){const n=i.split(/\s*:\s*/);e[n[0]]=n[1]}),e;if(arguments.length<2){if(Array.isArray(s)){for(const i of s){const n=i;e[i]=this.node.style.getPropertyValue(n)}return e}if(typeof s=="string")return this.node.style.getPropertyValue(s);if(typeof s=="object")for(const i in s)this.node.style.setProperty(i,s[i]==null||oi.test(s[i])?"":s[i])}return arguments.length===2&&this.node.style.setProperty(s,t==null||oi.test(t)?"":t),this}function ir(){return this.css("display","")}function nr(){return this.css("display","none")}function rr(){return this.css("display")!=="none"}D("Dom",{css:sr,show:ir,hide:nr,visible:rr});function hr(s,t,e){if(s==null)return this.data(ws(Rn(this.node.attributes,i=>i.nodeName.indexOf("data-")===0),i=>i.nodeName.slice(5)));if(s instanceof Array){const i={};for(const n of s)i[n]=this.data(n);return i}else if(typeof s=="object")for(t in s)this.data(t,s[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+s))}catch{return this.attr("data-"+s)}else this.attr("data-"+s,t===null?null:e===!0||typeof t=="string"||typeof t=="number"?t:JSON.stringify(t));return this}D("Dom",{data:hr});function or(s,t){if(typeof arguments[0]=="object")for(const e in s)this.remember(e,s[e]);else{if(arguments.length===1)return this.memory()[s];this.memory()[s]=t}return this}function fr(){if(arguments.length===0)this._memory={};else for(let s=arguments.length-1;s>=0;s--)delete this.memory()[arguments[s]];return this}function ar(){return this._memory=this._memory||{}}D("Dom",{remember:or,forget:fr,memory:ar});function ur(s){return s.length===4?["#",s.substring(1,2),s.substring(1,2),s.substring(2,3),s.substring(2,3),s.substring(3,4),s.substring(3,4)].join(""):s}function lr(s){const t=Math.round(s),i=Math.max(0,Math.min(255,t)).toString(16);return i.length===1?"0"+i:i}function te(s,t){for(let e=t.length;e--;)if(s[t[e]]==null)return!1;return!0}function cr(s,t){const e=te(s,"rgb")?{_a:s.r,_b:s.g,_c:s.b,_d:0,space:"rgb"}:te(s,"xyz")?{_a:s.x,_b:s.y,_c:s.z,_d:0,space:"xyz"}:te(s,"hsl")?{_a:s.h,_b:s.s,_c:s.l,_d:0,space:"hsl"}:te(s,"lab")?{_a:s.l,_b:s.a,_c:s.b,_d:0,space:"lab"}:te(s,"lch")?{_a:s.l,_b:s.c,_c:s.h,_d:0,space:"lch"}:te(s,"cmyk")?{_a:s.c,_b:s.m,_c:s.y,_d:s.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return e.space=t||e.space,e}function _r(s){return s==="lab"||s==="xyz"||s==="lch"}function is(s,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?s+(t-s)*6*e:e<1/2?t:e<2/3?s+(t-s)*(2/3-e)*6:s}class V{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof V||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&typeof t.r=="number"&&typeof t.g=="number"&&typeof t.b=="number"}static random(t="vibrant",e){const{random:i,round:n,sin:r,PI:o}=Math;if(t==="vibrant"){const a=24*i()+57,c=(83-45)*i()+45,_=360*i();return new V(a,c,_,"lch")}else if(t==="sine"){e=e??i();const a=n(80*r(2*o*e/.5+.01)+150),c=n(50*r(2*o*e/.5+4.6)+200),_=n(100*r(2*o*e/.5+2.3)+150);return new V(a,c,_)}else if(t==="pastel"){const a=8*i()+86,c=(26-9)*i()+9,_=360*i();return new V(a,c,_,"lch")}else if(t==="dark"){const a=10+10*i(),c=(125-75)*i()+86,_=360*i();return new V(a,c,_,"lch")}else if(t==="rgb"){const a=255*i(),c=255*i(),_=255*i();return new V(a,c,_)}else if(t==="lab"){const a=100*i(),c=256*i()-128,_=256*i()-128;return new V(a,c,_,"lab")}else if(t==="grey"){const a=255*i();return new V(a,a,a)}else throw new Error("Unsupported random color mode")}static test(t){return typeof t=="string"&&(ri.test(t)||hi.test(t))}cmyk(){const{_a:t,_b:e,_c:i}=this.rgb(),[n,r,o]=[t,e,i].map(O=>O/255),a=Math.min(1-n,1-r,1-o);if(a===1)return new V(0,0,0,1,"cmyk");const c=(1-n-a)/(1-a),_=(1-r-a)/(1-a),u=(1-o-a)/(1-a);return new V(c,_,u,a,"cmyk")}hsl(){const{_a:t,_b:e,_c:i}=this.rgb(),[n,r,o]=[t,e,i].map(R=>R/255),a=Math.max(n,r,o),c=Math.min(n,r,o),_=(a+c)/2,u=a===c,m=a-c,O=u?0:_>.5?m/(2-a-c):m/(a+c),q=u?0:a===n?((r-o)/m+(r<o?6:0))/6:a===r?((o-n)/m+2)/6:a===o?((n-r)/m+4)/6:0;return new V(360*q,100*O,100*_,"hsl")}init(t=0,e=0,i=0,n=0,r="rgb"){if(t=t||0,this.space)for(const m in this.space)delete this[this.space[m]];if(typeof t=="number")r=typeof n=="string"?n:r,n=typeof n=="string"?0:n,Object.assign(this,{_a:t,_b:e,_c:i,_d:n,space:r});else if(t instanceof Array)this.space=e||(typeof t[3]=="string"?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){const m=cr(t,e);Object.assign(this,m)}else if(typeof t=="string")if(hi.test(t)){const m=t.replace(Wn,""),[O,q,C]=Yn.exec(m).slice(1,4).map(R=>parseInt(R));Object.assign(this,{_a:O,_b:q,_c:C,_d:0,space:"rgb"})}else if(ri.test(t)){const m=R=>parseInt(R,16),[,O,q,C]=Un.exec(ur(t)).map(m);Object.assign(this,{_a:O,_b:q,_c:C,_d:0,space:"rgb"})}else throw Error("Unsupported string format, can't construct Color");const{_a:o,_b:a,_c:c,_d:_}=this,u=this.space==="rgb"?{r:o,g:a,b:c}:this.space==="xyz"?{x:o,y:a,z:c}:this.space==="hsl"?{h:o,s:a,l:c}:this.space==="lab"?{l:o,a,b:c}:this.space==="lch"?{l:o,c:a,h:c}:this.space==="cmyk"?{c:o,m:a,y:c,k:_}:{};Object.assign(this,u)}lab(){const{x:t,y:e,z:i}=this.xyz(),n=116*e-16,r=500*(t-e),o=200*(e-i);return new V(n,r,o,"lab")}lch(){const{l:t,a:e,b:i}=this.lab(),n=Math.sqrt(e**2+i**2);let r=180*Math.atan2(i,e)/Math.PI;return r<0&&(r*=-1,r=360-r),new V(t,n,r,"lch")}rgb(){if(this.space==="rgb")return this;if(_r(this.space)){let{x:t,y:e,z:i}=this;if(this.space==="lab"||this.space==="lch"){let{l:q,a:C,b:R}=this;if(this.space==="lch"){const{c:St,h:kt}=this,Mt=Math.PI/180;C=St*Math.cos(Mt*kt),R=St*Math.sin(Mt*kt)}const j=(q+16)/116,W=C/500+j,it=j-R/200,at=16/116,wt=.008856,ut=7.787;t=.95047*(W**3>wt?W**3:(W-at)/ut),e=1*(j**3>wt?j**3:(j-at)/ut),i=1.08883*(it**3>wt?it**3:(it-at)/ut)}const n=t*3.2406+e*-1.5372+i*-.4986,r=t*-.9689+e*1.8758+i*.0415,o=t*.0557+e*-.204+i*1.057,a=Math.pow,c=.0031308,_=n>c?1.055*a(n,1/2.4)-.055:12.92*n,u=r>c?1.055*a(r,1/2.4)-.055:12.92*r,m=o>c?1.055*a(o,1/2.4)-.055:12.92*o;return new V(255*_,255*u,255*m)}else if(this.space==="hsl"){let{h:t,s:e,l:i}=this;if(t/=360,e/=100,i/=100,e===0)return i*=255,new V(i,i,i);const n=i<.5?i*(1+e):i+e-i*e,r=2*i-n,o=255*is(r,n,t+1/3),a=255*is(r,n,t),c=255*is(r,n,t-1/3);return new V(o,a,c)}else if(this.space==="cmyk"){const{c:t,m:e,y:i,k:n}=this,r=255*(1-Math.min(1,t*(1-n)+n)),o=255*(1-Math.min(1,e*(1-n)+n)),a=255*(1-Math.min(1,i*(1-n)+n));return new V(r,o,a)}else return this}toArray(){const{_a:t,_b:e,_c:i,_d:n,space:r}=this;return[t,e,i,n,r]}toHex(){const[t,e,i]=this._clamped().map(lr);return`#${t}${e}${i}`}toRgb(){const[t,e,i]=this._clamped();return`rgb(${t},${e},${i})`}toString(){return this.toHex()}xyz(){const{_a:t,_b:e,_c:i}=this.rgb(),[n,r,o]=[t,e,i].map(W=>W/255),a=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,c=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,_=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,u=(a*.4124+c*.3576+_*.1805)/.95047,m=(a*.2126+c*.7152+_*.0722)/1,O=(a*.0193+c*.1192+_*.9505)/1.08883,q=u>.008856?Math.pow(u,1/3):7.787*u+16/116,C=m>.008856?Math.pow(m,1/3):7.787*m+16/116,R=O>.008856?Math.pow(O,1/3):7.787*O+16/116;return new V(q,C,R,"xyz")}_clamped(){const{_a:t,_b:e,_c:i}=this.rgb(),{max:n,min:r,round:o}=Math,a=c=>n(0,r(o(c),255));return[t,e,i].map(a)}}class X{constructor(...t){this.init(...t)}clone(){return new X(this)}init(t,e){const i={x:0,y:0},n=Array.isArray(t)?{x:t[0],y:t[1]}:typeof t=="object"?{x:t.x,y:t.y}:{x:t,y:e};return this.x=n.x==null?i.x:n.x,this.y=n.y==null?i.y:n.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){E.isMatrixLike(t)||(t=new E(t));const{x:e,y:i}=this;return this.x=t.a*e+t.c*i+t.e,this.y=t.b*e+t.d*i+t.f,this}}function pr(s,t){return new X(s,t).transformO(this.screenCTM().inverseO())}function ee(s,t,e){return Math.abs(t-s)<(e||1e-6)}class E{constructor(...t){this.init(...t)}static formatTransforms(t){const e=t.flip==="both"||t.flip===!0,i=t.flip&&(e||t.flip==="x")?-1:1,n=t.flip&&(e||t.flip==="y")?-1:1,r=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,o=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,a=t.scale&&t.scale.length?t.scale[0]*i:isFinite(t.scale)?t.scale*i:isFinite(t.scaleX)?t.scaleX*i:i,c=t.scale&&t.scale.length?t.scale[1]*n:isFinite(t.scale)?t.scale*n:isFinite(t.scaleY)?t.scaleY*n:n,_=t.shear||0,u=t.rotate||t.theta||0,m=new X(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),O=m.x,q=m.y,C=new X(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),R=C.x,j=C.y,W=new X(t.translate||t.tx||t.translateX,t.ty||t.translateY),it=W.x,at=W.y,wt=new X(t.relative||t.rx||t.relativeX,t.ry||t.relativeY),ut=wt.x,St=wt.y;return{scaleX:a,scaleY:c,skewX:r,skewY:o,shear:_,theta:u,rx:ut,ry:St,tx:it,ty:at,ox:O,oy:q,px:R,py:j}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return t.a!=null||t.b!=null||t.c!=null||t.d!=null||t.e!=null||t.f!=null}static matrixMultiply(t,e,i){const n=t.a*e.a+t.c*e.b,r=t.b*e.a+t.d*e.b,o=t.a*e.c+t.c*e.d,a=t.b*e.c+t.d*e.d,c=t.e+t.a*e.e+t.c*e.f,_=t.f+t.b*e.e+t.d*e.f;return i.a=n,i.b=r,i.c=o,i.d=a,i.e=c,i.f=_,i}around(t,e,i){return this.clone().aroundO(t,e,i)}aroundO(t,e,i){const n=t||0,r=e||0;return this.translateO(-n,-r).lmultiplyO(i).translateO(n,r)}clone(){return new E(this)}decompose(t=0,e=0){const i=this.a,n=this.b,r=this.c,o=this.d,a=this.e,c=this.f,_=i*o-n*r,u=_>0?1:-1,m=u*Math.sqrt(i*i+n*n),O=Math.atan2(u*n,u*i),q=180/Math.PI*O,C=Math.cos(O),R=Math.sin(O),j=(i*r+n*o)/_,W=r*m/(j*i-n)||o*m/(j*n+i),it=a-t+t*C*m+e*(j*C*m-R*W),at=c-e+t*R*m+e*(j*R*m+C*W);return{scaleX:m,scaleY:W,shear:j,rotate:q,translateX:it,translateY:at,originX:t,originY:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;const e=new E(t);return ee(this.a,e.a)&&ee(this.b,e.b)&&ee(this.c,e.c)&&ee(this.d,e.d)&&ee(this.e,e.e)&&ee(this.f,e.f)}flip(t,e){return this.clone().flipO(t,e)}flipO(t,e){return t==="x"?this.scaleO(-1,1,e,0):t==="y"?this.scaleO(1,-1,0,e):this.scaleO(-1,-1,t,e||t)}init(t){const e=E.fromArray([1,0,0,1,0,0]);return t=t instanceof Ot?t.matrixify():typeof t=="string"?E.fromArray(t.split($t).map(parseFloat)):Array.isArray(t)?E.fromArray(t):typeof t=="object"&&E.isMatrixLike(t)?t:typeof t=="object"?new E().transform(t):arguments.length===6?E.fromArray([].slice.call(arguments)):e,this.a=t.a!=null?t.a:e.a,this.b=t.b!=null?t.b:e.b,this.c=t.c!=null?t.c:e.c,this.d=t.d!=null?t.d:e.d,this.e=t.e!=null?t.e:e.e,this.f=t.f!=null?t.f:e.f,this}inverse(){return this.clone().inverseO()}inverseO(){const t=this.a,e=this.b,i=this.c,n=this.d,r=this.e,o=this.f,a=t*n-e*i;if(!a)throw new Error("Cannot invert "+this);const c=n/a,_=-e/a,u=-i/a,m=t/a,O=-(c*r+u*o),q=-(_*r+m*o);return this.a=c,this.b=_,this.c=u,this.d=m,this.e=O,this.f=q,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){const e=this,i=t instanceof E?t:new E(t);return E.matrixMultiply(i,e,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){const e=this,i=t instanceof E?t:new E(t);return E.matrixMultiply(e,i,this)}rotate(t,e,i){return this.clone().rotateO(t,e,i)}rotateO(t,e=0,i=0){t=ts(t);const n=Math.cos(t),r=Math.sin(t),{a:o,b:a,c,d:_,e:u,f:m}=this;return this.a=o*n-a*r,this.b=a*n+o*r,this.c=c*n-_*r,this.d=_*n+c*r,this.e=u*n-m*r+i*r-e*n+e,this.f=m*n+u*r-e*r-i*n+i,this}scale(){return this.clone().scaleO(...arguments)}scaleO(t,e=t,i=0,n=0){arguments.length===3&&(n=i,i=e,e=t);const{a:r,b:o,c:a,d:c,e:_,f:u}=this;return this.a=r*t,this.b=o*e,this.c=a*t,this.d=c*e,this.e=_*t-i*t+i,this.f=u*e-n*e+n,this}shear(t,e,i){return this.clone().shearO(t,e,i)}shearO(t,e=0,i=0){const{a:n,b:r,c:o,d:a,e:c,f:_}=this;return this.a=n+r*t,this.c=o+a*t,this.e=c+_*t-i*t,this}skew(){return this.clone().skewO(...arguments)}skewO(t,e=t,i=0,n=0){arguments.length===3&&(n=i,i=e,e=t),t=ts(t),e=ts(e);const r=Math.tan(t),o=Math.tan(e),{a,b:c,c:_,d:u,e:m,f:O}=this;return this.a=a+c*r,this.b=c+a*o,this.c=_+u*r,this.d=u+_*o,this.e=m+O*r-n*r,this.f=O+m*o-i*o,this}skewX(t,e,i){return this.skew(t,0,e,i)}skewY(t,e,i){return this.skew(0,t,e,i)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(E.isMatrixLike(t))return new E(t).multiplyO(this);const e=E.formatTransforms(t),i=this,{x:n,y:r}=new X(e.ox,e.oy).transform(i),o=new E().translateO(e.rx,e.ry).lmultiplyO(i).translateO(-n,-r).scaleO(e.scaleX,e.scaleY).skewO(e.skewX,e.skewY).shearO(e.shear).rotateO(e.theta).translateO(n,r);if(isFinite(e.px)||isFinite(e.py)){const a=new X(n,r).transform(o),c=isFinite(e.px)?e.px-a.x:0,_=isFinite(e.py)?e.py-a.y:0;o.translateO(c,_)}return o.translateO(e.tx,e.ty),o}translate(t,e){return this.clone().translateO(t,e)}translateO(t,e){return this.e+=t||0,this.f+=e||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function dr(){return new E(this.node.getCTM())}function gr(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const s=this.rect(1,1),t=s.node.getScreenCTM();return s.remove(),new E(t)}return new E(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new E}}H(E,"Matrix");function Jt(){if(!Jt.nodes){const s=dt().size(2,0);s.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),s.attr("focusable","false"),s.attr("aria-hidden","true");const t=s.path().node;Jt.nodes={svg:s,path:t}}if(!Jt.nodes.svg.node.parentNode){const s=B.document.body||B.document.documentElement;Jt.nodes.svg.addTo(s)}return Jt.nodes}function Si(s){return!s.width&&!s.height&&!s.x&&!s.y}function mr(s){return s===B.document||(B.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===B.document}).call(B.document.documentElement,s)}class ft{constructor(...t){this.init(...t)}addOffset(){return this.x+=B.window.pageXOffset,this.y+=B.window.pageYOffset,new ft(this)}init(t){const e=[0,0,0,0];return t=typeof t=="string"?t.split($t).map(parseFloat):Array.isArray(t)?t:typeof t=="object"?[t.left!=null?t.left:t.x,t.top!=null?t.top:t.y,t.width,t.height]:arguments.length===4?[].slice.call(arguments):e,this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return Si(this)}merge(t){const e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x+t.width)-e,r=Math.max(this.y+this.height,t.y+t.height)-i;return new ft(e,i,n,r)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof E||(t=new E(t));let e=1/0,i=-1/0,n=1/0,r=-1/0;return[new X(this.x,this.y),new X(this.x2,this.y),new X(this.x,this.y2),new X(this.x2,this.y2)].forEach(function(a){a=a.transform(t),e=Math.min(e,a.x),i=Math.max(i,a.x),n=Math.min(n,a.y),r=Math.max(r,a.y)}),new ft(e,n,i-e,r-n)}}function Ti(s,t,e){let i;try{if(i=t(s.node),Si(i)&&!mr(s.node))throw new Error("Element not in the dom")}catch{i=e(s)}return i}function yr(){const e=Ti(this,n=>n.getBBox(),n=>{try{const r=n.clone().addTo(Jt().svg).show(),o=r.node.getBBox();return r.remove(),o}catch(r){throw new Error(`Getting bbox of element "${n.node.nodeName}" is not possible: ${r.toString()}`)}});return new ft(e)}function xr(s){const i=Ti(this,r=>r.getBoundingClientRect(),r=>{throw new Error(`Getting rbox of element "${r.node.nodeName}" is not possible`)}),n=new ft(i);return s?n.transform(s.screenCTM().inverseO()):n.addOffset()}function wr(s,t){const e=this.bbox();return s>e.x&&t>e.y&&s<e.x+e.width&&t<e.y+e.height}D({viewbox:{viewbox(s,t,e,i){return s==null?new ft(this.attr("viewBox")):this.attr("viewBox",new ft(s,t,e,i))},zoom(s,t){let{width:e,height:i}=this.attr(["width","height"]);if((!e&&!i||typeof e=="string"||typeof i=="string")&&(e=this.node.clientWidth,i=this.node.clientHeight),!e||!i)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const n=this.viewbox(),r=e/n.width,o=i/n.height,a=Math.min(r,o);if(s==null)return a;let c=a/s;c===1/0&&(c=Number.MAX_SAFE_INTEGER/100),t=t||new X(e/2/r+n.x,i/2/o+n.y);const _=new ft(n).transform(new E({scale:c,origin:t}));return this.viewbox(_)}}});H(ft,"Box");class Qt extends Array{constructor(t=[],...e){if(super(t,...e),typeof t=="number")return this;this.length=0,this.push(...t)}}J([Qt],{each(s,...t){return typeof s=="function"?this.map((e,i,n)=>s.call(e,e,i,n)):this.map(e=>e[s](...t))},toArray(){return Array.prototype.concat.apply([],this)}});const br=["toArray","constructor","each"];Qt.extend=function(s){s=s.reduce((t,e)=>(br.includes(e)||e[0]==="_"||(e in Array.prototype&&(t["$"+e]=Array.prototype[e]),t[e]=function(...i){return this.each(e,...i)}),t),{}),J([Qt],s)};function fe(s,t){return new Qt(ws((t||B.document).querySelectorAll(s),function(e){return Rt(e)}))}function vr(s){return fe(s,this.node)}function Sr(s){return Rt(this.node.querySelector(s))}let Tr=0;const Ai={};function Ri(s){let t=s.getEventHolder();return t===B.window&&(t=Ai),t.events||(t.events={}),t.events}function As(s){return s.getEventTarget()}function Ar(s){let t=s.getEventHolder();t===B.window&&(t=Ai),t.events&&(t.events={})}function as(s,t,e,i,n){const r=e.bind(i||s),o=dt(s),a=Ri(o),c=As(o);t=Array.isArray(t)?t:t.split($t),e._svgjsListenerId||(e._svgjsListenerId=++Tr),t.forEach(function(_){const u=_.split(".")[0],m=_.split(".")[1]||"*";a[u]=a[u]||{},a[u][m]=a[u][m]||{},a[u][m][e._svgjsListenerId]=r,c.addEventListener(u,r,n||!1)})}function ie(s,t,e,i){const n=dt(s),r=Ri(n),o=As(n);typeof e=="function"&&(e=e._svgjsListenerId,!e)||(t=Array.isArray(t)?t:(t||"").split($t),t.forEach(function(a){const c=a&&a.split(".")[0],_=a&&a.split(".")[1];let u,m;if(e)r[c]&&r[c][_||"*"]&&(o.removeEventListener(c,r[c][_||"*"][e],i||!1),delete r[c][_||"*"][e]);else if(c&&_){if(r[c]&&r[c][_]){for(m in r[c][_])ie(o,[c,_].join("."),m);delete r[c][_]}}else if(_)for(a in r)for(u in r[a])_===u&&ie(o,[a,_].join("."));else if(c){if(r[c]){for(u in r[c])ie(o,[c,u].join("."));delete r[c]}}else{for(a in r)ie(o,a);Ar(n)}}))}function Rr(s,t,e,i){const n=As(s);return t instanceof B.window.Event||(t=new B.window.CustomEvent(t,{detail:e,cancelable:!0,...i})),n.dispatchEvent(t),t}class ve extends vs{addEventListener(){}dispatch(t,e,i){return Rr(this,t,e,i)}dispatchEvent(t){const e=this.getEventHolder().events;if(!e)return!0;const i=e[t.type];for(const n in i)for(const r in i[n])i[n][r](t);return!t.defaultPrevented}fire(t,e,i){return this.dispatch(t,e,i),this}getEventHolder(){return this}getEventTarget(){return this}off(t,e,i){return ie(this,t,e,i),this}on(t,e,i,n){return as(this,t,e,i,n),this}removeEventListener(){}}H(ve,"EventTarget");function ai(){}const ge={duration:400,ease:">",delay:0},Cr={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class he extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return typeof t=="number"?this:(this.length=0,this.push(...this.parse(t)),this)}parse(t=[]){return t instanceof Array?t:t.trim().split($t).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const t=[];return t.push(...this),t}}class ${constructor(...t){this.init(...t)}convert(t){return new $(this.value,t)}divide(t){return t=new $(t),new $(this/t,this.unit||t.unit)}init(t,e){return e=Array.isArray(t)?t[1]:e,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=e||"",typeof t=="number"?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:typeof t=="string"?(e=t.match(vi),e&&(this.value=parseFloat(e[1]),e[5]==="%"?this.value/=100:e[5]==="s"&&(this.value*=1e3),this.unit=e[5])):t instanceof $&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new $(t),new $(this-t,this.unit||t.unit)}plus(t){return t=new $(t),new $(this+t,this.unit||t.unit)}times(t){return t=new $(t),new $(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(this.value*1e8)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const Nr=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),Ci=[];function Er(s){Ci.push(s)}function Or(s,t,e){if(s==null){s={},t=this.node.attributes;for(const i of t)s[i.nodeName]=fi.test(i.nodeValue)?parseFloat(i.nodeValue):i.nodeValue;return s}else{if(s instanceof Array)return s.reduce((i,n)=>(i[n]=this.attr(n),i),{});if(typeof s=="object"&&s.constructor===Object)for(t in s)this.attr(t,s[t]);else if(t===null)this.node.removeAttribute(s);else{if(t==null)return t=this.node.getAttribute(s),t==null?Cr[s]:fi.test(t)?parseFloat(t):t;t=Ci.reduce((i,n)=>n(s,i,this),t),typeof t=="number"?t=new $(t):Nr.has(s)&&V.isColor(t)?t=new V(t):t.constructor===Array&&(t=new he(t)),s==="leading"?this.leading&&this.leading(t):typeof e=="string"?this.node.setAttributeNS(e,s,t.toString()):this.node.setAttribute(s,t.toString()),this.rebuild&&(s==="font-size"||s==="x")&&this.rebuild()}}return this}class qt extends ve{constructor(t,e){super(),this.node=t,this.type=t.nodeName,e&&t!==e&&this.attr(e)}add(t,e){return t=dt(t),t.removeNamespace&&this.node instanceof B.window.SVGElement&&t.removeNamespace(),e==null?this.node.appendChild(t.node):t.node!==this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this}addTo(t,e){return dt(t).put(this,e)}children(){return new Qt(ws(this.node.children,function(t){return Rt(t)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0,e=!0){this.writeDataToDom();let i=this.node.cloneNode(t);return e&&(i=bi(i)),new this.constructor(i)}each(t,e){const i=this.children();let n,r;for(n=0,r=i.length;n<r;n++)t.apply(i[n],[n,i]),e&&i[n].each(t,e);return this}element(t,e){return this.put(new qt(re(t),e))}first(){return Rt(this.node.firstChild)}get(t){return Rt(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,e){return this.xml(t,e,En)}id(t){return typeof t>"u"&&!this.node.id&&(this.node.id=wi(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return Rt(this.node.lastChild)}matches(t){const e=this.node,i=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return i&&i.call(e,t)}parent(t){let e=this;if(!e.node.parentNode)return null;if(e=Rt(e.node.parentNode),!t)return e;do if(typeof t=="string"?e.matches(t):e instanceof t)return e;while(e=Rt(e.node.parentNode));return e}put(t,e){return t=dt(t),this.add(t,e),t}putIn(t,e){return dt(t).add(this,e)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=dt(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,e=null){const i=10**t,n=this.attr(e);for(const r in n)typeof n[r]=="number"&&(n[r]=Math.round(n[r]*i)/i);return this.attr(n),this}svg(t,e){return this.xml(t,e,bs)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){const e=this.parent();if(!e)return this.addTo(t);const i=e.index(this);return e.put(t,i).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(t,e,i){if(typeof t=="boolean"&&(i=e,e=t,t=null),t==null||typeof t=="function"){e=e??!0,this.writeDataToDom();let a=this;if(t!=null){if(a=Rt(a.node.cloneNode(!0)),e){const c=t(a);if(a=c||a,c===!1)return""}a.each(function(){const c=t(this),_=c||this;c===!1?this.remove():c&&this!==_&&this.replace(_)},!0)}return e?a.node.outerHTML:a.node.innerHTML}e=e??!1;const n=re("wrapper",i),r=B.document.createDocumentFragment();n.innerHTML=t;for(let a=n.children.length;a--;)r.appendChild(n.firstElementChild);const o=this.parent();return e?this.replace(r)&&o:this.add(r)}}J(qt,{attr:Or,find:vr,findOne:Sr});H(qt,"Dom");class Ot extends qt{constructor(t,e){super(t,e),this.dom={},this.node.instance=this,(t.hasAttribute("data-svgjs")||t.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(t.getAttribute("data-svgjs"))??JSON.parse(t.getAttribute("svgjs:data"))??{})}center(t,e){return this.cx(t).cy(e)}cx(t){return t==null?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return t==null?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,e){return this.dx(t).dy(e)}dx(t=0){return this.x(new $(t).plus(this.x()))}dy(t=0){return this.y(new $(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,e){return this.x(t).y(e)}parents(t=this.root()){const e=typeof t=="string";e||(t=dt(t));const i=new Qt;let n=this;for(;(n=n.parent())&&n.node!==B.document&&n.nodeName!=="#document-fragment"&&(i.push(n),!(!e&&n.node===t.node||e&&n.matches(t)));)if(n.node===this.root().node)return null;return i}reference(t){if(t=this.attr(t),!t)return null;const e=(t+"").match(Gn);return e?dt(e[1]):null}root(){const t=this.parent(kn(Ss));return t&&t.root()}setData(t){return this.dom=t,this}size(t,e){const i=oe(this,t,e);return this.width(new $(i.width)).height(new $(i.height))}width(t){return this.attr("width",t)}writeDataToDom(){return xi(this,this.dom),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}}J(Ot,{bbox:yr,rbox:xr,inside:wr,point:pr,ctm:dr,screenCTM:gr});H(Ot,"Element");const ce={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(s,t){return t==="color"?s:s+"-"+t}};["fill","stroke"].forEach(function(s){const t={};let e;t[s]=function(i){if(typeof i>"u")return this.attr(s);if(typeof i=="string"||i instanceof V||V.isRgb(i)||i instanceof Ot)this.attr(s,i);else for(e=ce[s].length-1;e>=0;e--)i[ce[s][e]]!=null&&this.attr(ce.prefix(s,ce[s][e]),i[ce[s][e]]);return this},D(["Element","Runner"],t)});D(["Element","Runner"],{matrix:function(s,t,e,i,n,r){return s==null?new E(this):this.attr("transform",new E(s,t,e,i,n,r))},rotate:function(s,t,e){return this.transform({rotate:s,ox:t,oy:e},!0)},skew:function(s,t,e,i){return arguments.length===1||arguments.length===3?this.transform({skew:s,ox:t,oy:e},!0):this.transform({skew:[s,t],ox:e,oy:i},!0)},shear:function(s,t,e){return this.transform({shear:s,ox:t,oy:e},!0)},scale:function(s,t,e,i){return arguments.length===1||arguments.length===3?this.transform({scale:s,ox:t,oy:e},!0):this.transform({scale:[s,t],ox:e,oy:i},!0)},translate:function(s,t){return this.transform({translate:[s,t]},!0)},relative:function(s,t){return this.transform({relative:[s,t]},!0)},flip:function(s="both",t="center"){return"xybothtrue".indexOf(s)===-1&&(t=s,s="both"),this.transform({flip:s,origin:t},!0)},opacity:function(s){return this.attr("opacity",s)}});D("radius",{radius:function(s,t=s){return(this._element||this).type==="radialGradient"?this.attr("r",new $(s)):this.rx(s).ry(t)}});D("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(s){return new X(this.node.getPointAtLength(s))}});D(["Element","Runner"],{font:function(s,t){if(typeof s=="object"){for(t in s)this.font(t,s[t]);return this}return s==="leading"?this.leading(t):s==="anchor"?this.attr("text-anchor",t):s==="size"||s==="family"||s==="weight"||s==="stretch"||s==="variant"||s==="style"?this.attr("font-"+s,t):this.attr(s,t)}});const kr=["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(s,t){const e=function(i){return i===null?this.off(t):this.on(t,i),this};return s[t]=e,s},{});D("Element",kr);function Mr(){return this.attr("transform",null)}function zr(){return(this.attr("transform")||"").split(Vn).slice(0,-1).map(function(t){const e=t.trim().split("(");return[e[0],e[1].split($t).map(function(i){return parseFloat(i)})]}).reverse().reduce(function(t,e){return e[0]==="matrix"?t.lmultiply(E.fromArray(e[1])):t[e[0]].apply(t,e[1])},new E)}function Ir(s,t){if(this===s)return this;if(fs(this.node))return this.addTo(s,t);const e=this.screenCTM(),i=s.screenCTM().inverse();return this.addTo(s,t).untransform().transform(i.multiply(e)),this}function $r(s){return this.toParent(this.root(),s)}function jr(s,t){if(s==null||typeof s=="string"){const n=new E(this).decompose();return s==null?n:n[s]}E.isMatrixLike(s)||(s={...s,origin:os(s,this)});const e=t===!0?this:t||!1,i=new E(e).transform(s);return this.attr("transform",i)}D("Element",{untransform:Mr,matrixify:zr,toParent:Ir,toRoot:$r,transform:jr});class yt extends Ot{flatten(){return this.each(function(){if(this instanceof yt)return this.flatten().ungroup()}),this}ungroup(t=this.parent(),e=t.index(this)){return e=e===-1?t.children().length:e,this.each(function(i,n){return n[n.length-i-1].toParent(t,e)}),this.remove()}}H(yt,"Container");class Rs extends yt{constructor(t,e=t){super(tt("defs",t),e)}flatten(){return this}ungroup(){return this}}H(Rs,"Defs");class vt extends Ot{}H(vt,"Shape");function Cs(s){return this.attr("rx",s)}function Ns(s){return this.attr("ry",s)}function Ni(s){return s==null?this.cx()-this.rx():this.cx(s+this.rx())}function Ei(s){return s==null?this.cy()-this.ry():this.cy(s+this.ry())}function Oi(s){return this.attr("cx",s)}function ki(s){return this.attr("cy",s)}function Mi(s){return s==null?this.rx()*2:this.rx(new $(s).divide(2))}function zi(s){return s==null?this.ry()*2:this.ry(new $(s).divide(2))}const Dr=Object.freeze(Object.defineProperty({__proto__:null,cx:Oi,cy:ki,height:zi,rx:Cs,ry:Ns,width:Mi,x:Ni,y:Ei},Symbol.toStringTag,{value:"Module"}));class He extends vt{constructor(t,e=t){super(tt("ellipse",t),e)}size(t,e){const i=oe(this,t,e);return this.rx(new $(i.width).divide(2)).ry(new $(i.height).divide(2))}}J(He,Dr);D("Container",{ellipse:K(function(s=0,t=s){return this.put(new He).size(s,t).move(0,0)})});H(He,"Ellipse");class Ii extends qt{constructor(t=B.document.createDocumentFragment()){super(t)}xml(t,e,i){if(typeof t=="boolean"&&(i=e,e=t,t=null),t==null||typeof t=="function"){const n=new qt(re("wrapper",i));return n.add(this.node.cloneNode(!0)),n.xml(!1,i)}return super.xml(t,!1,i)}}H(Ii,"Fragment");function $i(s,t){return(this._element||this).type==="radialGradient"?this.attr({fx:new $(s),fy:new $(t)}):this.attr({x1:new $(s),y1:new $(t)})}function ji(s,t){return(this._element||this).type==="radialGradient"?this.attr({cx:new $(s),cy:new $(t)}):this.attr({x2:new $(s),y2:new $(t)})}const Lr=Object.freeze(Object.defineProperty({__proto__:null,from:$i,to:ji},Symbol.toStringTag,{value:"Module"}));class Se extends yt{constructor(t,e){super(tt(t+"Gradient",typeof t=="string"?null:t),e)}attr(t,e,i){return t==="transform"&&(t="gradientTransform"),super.attr(t,e,i)}bbox(){return new ft}targets(){return fe("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}J(Se,Lr);D({Container:{gradient(...s){return this.defs().gradient(...s)}},Defs:{gradient:K(function(s,t){return this.put(new Se(s)).update(t)})}});H(Se,"Gradient");class me extends yt{constructor(t,e=t){super(tt("pattern",t),e)}attr(t,e,i){return t==="transform"&&(t="patternTransform"),super.attr(t,e,i)}bbox(){return new ft}targets(){return fe("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}D({Container:{pattern(...s){return this.defs().pattern(...s)}},Defs:{pattern:K(function(s,t,e){return this.put(new me).update(e).attr({x:0,y:0,width:s,height:t,patternUnits:"userSpaceOnUse"})})}});H(me,"Pattern");class Ue extends vt{constructor(t,e=t){super(tt("image",t),e)}load(t,e){if(!t)return this;const i=new B.window.Image;return as(i,"load",function(n){const r=this.parent(me);this.width()===0&&this.height()===0&&this.size(i.width,i.height),r instanceof me&&r.width()===0&&r.height()===0&&r.size(this.width(),this.height()),typeof e=="function"&&e.call(this,n)},this),as(i,"load error",function(){ie(i)}),this.attr("href",i.src=t,be)}}Er(function(s,t,e){return(s==="fill"||s==="stroke")&&Xn.test(t)&&(t=e.root().defs().image(t)),t instanceof Ue&&(t=e.root().defs().pattern(0,0,i=>{i.add(t)})),t});D({Container:{image:K(function(s,t){return this.put(new Ue).size(0,0).load(s,t)})}});H(Ue,"Image");class Ft extends he{bbox(){let t=-1/0,e=-1/0,i=1/0,n=1/0;return this.forEach(function(r){t=Math.max(r[0],t),e=Math.max(r[1],e),i=Math.min(r[0],i),n=Math.min(r[1],n)}),new ft(i,n,t-i,e-n)}move(t,e){const i=this.bbox();if(t-=i.x,e-=i.y,!isNaN(t)&&!isNaN(e))for(let n=this.length-1;n>=0;n--)this[n]=[this[n][0]+t,this[n][1]+e];return this}parse(t=[0,0]){const e=[];t instanceof Array?t=Array.prototype.concat.apply([],t):t=t.trim().split($t).map(parseFloat),t.length%2!==0&&t.pop();for(let i=0,n=t.length;i<n;i=i+2)e.push([t[i],t[i+1]]);return e}size(t,e){let i;const n=this.bbox();for(i=this.length-1;i>=0;i--)n.width&&(this[i][0]=(this[i][0]-n.x)*t/n.width+n.x),n.height&&(this[i][1]=(this[i][1]-n.y)*e/n.height+n.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const t=[];for(let e=0,i=this.length;e<i;e++)t.push(this[e].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){E.isMatrixLike(t)||(t=new E(t));for(let e=this.length;e--;){const[i,n]=this[e];this[e][0]=t.a*i+t.c*n+t.e,this[e][1]=t.b*i+t.d*n+t.f}return this}}const Jr=Ft;function qr(s){return s==null?this.bbox().x:this.move(s,this.bbox().y)}function Fr(s){return s==null?this.bbox().y:this.move(this.bbox().x,s)}function Pr(s){const t=this.bbox();return s==null?t.width:this.size(s,t.height)}function Br(s){const t=this.bbox();return s==null?t.height:this.size(t.width,s)}const Es=Object.freeze(Object.defineProperty({__proto__:null,MorphArray:Jr,height:Br,width:Pr,x:qr,y:Fr},Symbol.toStringTag,{value:"Module"}));class ye extends vt{constructor(t,e=t){super(tt("line",t),e)}array(){return new Ft([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,e){return this.attr(this.array().move(t,e).toLine())}plot(t,e,i,n){return t==null?this.array():(typeof e<"u"?t={x1:t,y1:e,x2:i,y2:n}:t=new Ft(t).toLine(),this.attr(t))}size(t,e){const i=oe(this,t,e);return this.attr(this.array().size(i.width,i.height).toLine())}}J(ye,Es);D({Container:{line:K(function(...s){return ye.prototype.plot.apply(this.put(new ye),s[0]!=null?s:[0,0,0,0])})}});H(ye,"Line");class De extends yt{constructor(t,e=t){super(tt("marker",t),e)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,e){return this.attr("refX",t).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}}D({Container:{marker(...s){return this.defs().marker(...s)}},Defs:{marker:K(function(s,t,e){return this.put(new De).size(s,t).ref(s/2,t/2).viewbox(0,0,s,t).attr("orient","auto").update(e)})},marker:{marker(s,t,e,i){let n=["marker"];return s!=="all"&&n.push(s),n=n.join("-"),s=arguments[1]instanceof De?arguments[1]:this.defs().marker(t,e,i),this.attr(n,s)}}});H(De,"Marker");function ne(s,t){return function(e){return e==null?this[s]:(this[s]=e,t&&t.call(this),this)}}const Hr={"-":function(s){return s},"<>":function(s){return-Math.cos(s*Math.PI)/2+.5},">":function(s){return Math.sin(s*Math.PI/2)},"<":function(s){return-Math.cos(s*Math.PI/2)+1},bezier:function(s,t,e,i){return function(n){return n<0?s>0?t/s*n:e>0?i/e*n:0:n>1?e<1?(1-i)/(1-e)*n+(i-e)/(1-e):s<1?(1-t)/(1-s)*n+(t-s)/(1-s):1:3*n*(1-n)**2*t+3*n**2*(1-n)*i+n**3}},steps:function(s,t="end"){t=t.split("-").reverse()[0];let e=s;return t==="none"?--e:t==="both"&&++e,(i,n=!1)=>{let r=Math.floor(i*s);const o=i*r%1===0;return(t==="start"||t==="both")&&++r,n&&o&&--r,i>=0&&r<0&&(r=0),i<=1&&r>e&&(r=e),r/e}}};class Os{done(){return!1}}class us extends Os{constructor(t=ge.ease){super(),this.ease=Hr[t]||t}step(t,e,i){return typeof t!="number"?i<1?t:e:t+(e-t)*this.ease(i)}}class Le extends Os{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,e,i,n){return this.stepper(t,e,i,n)}}function ui(){const s=(this._duration||500)/1e3,t=this._overshoot||0,e=1e-10,i=Math.PI,n=Math.log(t/100+e),r=-n/Math.sqrt(i*i+n*n),o=3.9/(r*s);this.d=2*r*o,this.k=o*o}class Ur extends Le{constructor(t=500,e=0){super(),this.duration(t).overshoot(e)}step(t,e,i,n){if(typeof t=="string")return t;if(n.done=i===1/0,i===1/0)return e;if(i===0)return t;i>100&&(i=16),i/=1e3;const r=n.velocity||0,o=-this.d*r-this.k*(t-e),a=t+r*i+o*i*i/2;return n.velocity=r+o*i,n.done=Math.abs(e-a)+Math.abs(r)<.002,n.done?e:a}}J(Ur,{duration:ne("_duration",ui),overshoot:ne("_overshoot",ui)});class Yr extends Le{constructor(t=.1,e=.01,i=0,n=1e3){super(),this.p(t).i(e).d(i).windup(n)}step(t,e,i,n){if(typeof t=="string")return t;if(n.done=i===1/0,i===1/0)return e;if(i===0)return t;const r=e-t;let o=(n.integral||0)+r*i;const a=(r-(n.error||0))/i,c=this._windup;return c!==!1&&(o=Math.max(-c,Math.min(o,c))),n.error=r,n.integral=o,n.done=Math.abs(r)<.001,n.done?e:t+(this.P*r+this.I*o+this.D*a)}}J(Yr,{windup:ne("_windup"),p:ne("P"),i:ne("I"),d:ne("D")});const Gr={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},ls={M:function(s,t,e){return t.x=e.x=s[0],t.y=e.y=s[1],["M",t.x,t.y]},L:function(s,t){return t.x=s[0],t.y=s[1],["L",s[0],s[1]]},H:function(s,t){return t.x=s[0],["H",s[0]]},V:function(s,t){return t.y=s[0],["V",s[0]]},C:function(s,t){return t.x=s[4],t.y=s[5],["C",s[0],s[1],s[2],s[3],s[4],s[5]]},S:function(s,t){return t.x=s[2],t.y=s[3],["S",s[0],s[1],s[2],s[3]]},Q:function(s,t){return t.x=s[2],t.y=s[3],["Q",s[0],s[1],s[2],s[3]]},T:function(s,t){return t.x=s[0],t.y=s[1],["T",s[0],s[1]]},Z:function(s,t,e){return t.x=e.x,t.y=e.y,["Z"]},A:function(s,t){return t.x=s[5],t.y=s[6],["A",s[0],s[1],s[2],s[3],s[4],s[5],s[6]]}},ns="mlhvqtcsaz".split("");for(let s=0,t=ns.length;s<t;++s)ls[ns[s]]=function(e){return function(i,n,r){if(e==="H")i[0]=i[0]+n.x;else if(e==="V")i[0]=i[0]+n.y;else if(e==="A")i[5]=i[5]+n.x,i[6]=i[6]+n.y;else for(let o=0,a=i.length;o<a;++o)i[o]=i[o]+(o%2?n.y:n.x);return ls[e](i,n,r)}}(ns[s].toUpperCase());function Vr(s){const t=s.segment[0];return ls[t](s.segment.slice(1),s.p,s.p0)}function cs(s){return s.segment.length&&s.segment.length-1===Gr[s.segment[0].toUpperCase()]}function Wr(s,t){s.inNumber&&Gt(s,!1);const e=Ts.test(t);if(e)s.segment=[t];else{const i=s.lastCommand,n=i.toLowerCase(),r=i===n;s.segment=[n==="m"?r?"l":"L":i]}return s.inSegment=!0,s.lastCommand=s.segment[0],e}function Gt(s,t){if(!s.inNumber)throw new Error("Parser Error");s.number&&s.segment.push(parseFloat(s.number)),s.inNumber=t,s.number="",s.pointSeen=!1,s.hasExponent=!1,cs(s)&&_s(s)}function _s(s){s.inSegment=!1,s.absolute&&(s.segment=Vr(s)),s.segments.push(s.segment)}function Xr(s){if(!s.segment.length)return!1;const t=s.segment[0].toUpperCase()==="A",e=s.segment.length;return t&&(e===4||e===5)}function Qr(s){return s.lastToken.toUpperCase()==="E"}const Zr=new Set([" ",",","	",`
`,"\r","\f"]);function Kr(s,t=!0){let e=0,i="";const n={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:t,p0:new X,p:new X};for(;n.lastToken=i,i=s.charAt(e++);)if(!(!n.inSegment&&Wr(n,i))){if(i==="."){if(n.pointSeen||n.hasExponent){Gt(n,!1),--e;continue}n.inNumber=!0,n.pointSeen=!0,n.number+=i;continue}if(!isNaN(parseInt(i))){if(n.number==="0"||Xr(n)){n.inNumber=!0,n.number=i,Gt(n,!0);continue}n.inNumber=!0,n.number+=i;continue}if(Zr.has(i)){n.inNumber&&Gt(n,!1);continue}if(i==="-"||i==="+"){if(n.inNumber&&!Qr(n)){Gt(n,!1),--e;continue}n.number+=i,n.inNumber=!0;continue}if(i.toUpperCase()==="E"){n.number+=i,n.hasExponent=!0;continue}if(Ts.test(i)){if(n.inNumber)Gt(n,!1);else if(cs(n))_s(n);else throw new Error("parser Error");--e}}return n.inNumber&&Gt(n,!1),n.inSegment&&cs(n)&&_s(n),n.segments}function th(s){let t="";for(let e=0,i=s.length;e<i;e++)t+=s[e][0],s[e][1]!=null&&(t+=s[e][1],s[e][2]!=null&&(t+=" ",t+=s[e][2],s[e][3]!=null&&(t+=" ",t+=s[e][3],t+=" ",t+=s[e][4],s[e][5]!=null&&(t+=" ",t+=s[e][5],t+=" ",t+=s[e][6],s[e][7]!=null&&(t+=" ",t+=s[e][7])))));return t+" "}class Zt extends he{bbox(){return Jt().path.setAttribute("d",this.toString()),new ft(Jt.nodes.path.getBBox())}move(t,e){const i=this.bbox();if(t-=i.x,e-=i.y,!isNaN(t)&&!isNaN(e))for(let n,r=this.length-1;r>=0;r--)n=this[r][0],n==="M"||n==="L"||n==="T"?(this[r][1]+=t,this[r][2]+=e):n==="H"?this[r][1]+=t:n==="V"?this[r][1]+=e:n==="C"||n==="S"||n==="Q"?(this[r][1]+=t,this[r][2]+=e,this[r][3]+=t,this[r][4]+=e,n==="C"&&(this[r][5]+=t,this[r][6]+=e)):n==="A"&&(this[r][6]+=t,this[r][7]+=e);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),Kr(t)}size(t,e){const i=this.bbox();let n,r;for(i.width=i.width===0?1:i.width,i.height=i.height===0?1:i.height,n=this.length-1;n>=0;n--)r=this[n][0],r==="M"||r==="L"||r==="T"?(this[n][1]=(this[n][1]-i.x)*t/i.width+i.x,this[n][2]=(this[n][2]-i.y)*e/i.height+i.y):r==="H"?this[n][1]=(this[n][1]-i.x)*t/i.width+i.x:r==="V"?this[n][1]=(this[n][1]-i.y)*e/i.height+i.y:r==="C"||r==="S"||r==="Q"?(this[n][1]=(this[n][1]-i.x)*t/i.width+i.x,this[n][2]=(this[n][2]-i.y)*e/i.height+i.y,this[n][3]=(this[n][3]-i.x)*t/i.width+i.x,this[n][4]=(this[n][4]-i.y)*e/i.height+i.y,r==="C"&&(this[n][5]=(this[n][5]-i.x)*t/i.width+i.x,this[n][6]=(this[n][6]-i.y)*e/i.height+i.y)):r==="A"&&(this[n][1]=this[n][1]*t/i.width,this[n][2]=this[n][2]*e/i.height,this[n][6]=(this[n][6]-i.x)*t/i.width+i.x,this[n][7]=(this[n][7]-i.y)*e/i.height+i.y);return this}toString(){return th(this)}}const Di=s=>{const t=typeof s;return t==="number"?$:t==="string"?V.isColor(s)?V:$t.test(s)?Ts.test(s)?Zt:he:vi.test(s)?$:ps:ks.indexOf(s.constructor)>-1?s.constructor:Array.isArray(s)?he:t==="object"?xe:ps};class Vt{constructor(t){this._stepper=t||new us("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){return this._morphObj.morph(this._from,this._to,t,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,i){return e&&i},!0)}from(t){return t==null?this._from:(this._from=this._set(t),this)}stepper(t){return t==null?this._stepper:(this._stepper=t,this)}to(t){return t==null?this._to:(this._to=this._set(t),this)}type(t){return t==null?this._type:(this._type=t,this)}_set(t){this._type||this.type(Di(t));let e=new this._type(t);return this._type===V&&(e=this._to?e[this._to[4]]():this._from?e[this._from[4]]():e),this._type===xe&&(e=this._to?e.align(this._to):this._from?e.align(this._from):e),e=e.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(e.length)).map(Object).map(function(i){return i.done=!0,i}),e}}class ps{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}}class Te{constructor(...t){this.init(...t)}init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,Te.defaults,t),this}toArray(){const t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}Te.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const eh=(s,t)=>s[0]<t[0]?-1:s[0]>t[0]?1:0;class xe{constructor(...t){this.init(...t)}align(t){const e=this.values;for(let i=0,n=e.length;i<n;++i){if(e[i+1]===t[i+1]){if(e[i+1]===V&&t[i+7]!==e[i+7]){const a=t[i+7],c=new V(this.values.splice(i+3,5))[a]().toArray();this.values.splice(i+3,0,...c)}i+=e[i+2]+2;continue}if(!t[i+1])return this;const r=new t[i+1]().toArray(),o=e[i+2]+3;e.splice(i,o,t[i],t[i+1],t[i+2],...r),i+=e[i+2]+2}return this}init(t){if(this.values=[],Array.isArray(t)){this.values=t.slice();return}t=t||{};const e=[];for(const i in t){const n=Di(t[i]),r=new n(t[i]).toArray();e.push([i,n,r.length,...r])}return e.sort(eh),this.values=e.reduce((i,n)=>i.concat(n),[]),this}toArray(){return this.values}valueOf(){const t={},e=this.values;for(;e.length;){const i=e.shift(),n=e.shift(),r=e.shift(),o=e.splice(0,r);t[i]=new n(o)}return t}}const ks=[ps,Te,xe];function sh(s=[]){ks.push(...[].concat(s))}function ih(){J(ks,{to(s){return new Vt().type(this.constructor).from(this.toArray()).to(s)},fromArray(s){return this.init(s),this},toConsumable(){return this.toArray()},morph(s,t,e,i,n){const r=function(o,a){return i.step(o,t[a],e,n[a],n)};return this.fromArray(s.map(r))}})}class ae extends vt{constructor(t,e=t){super(tt("path",t),e)}array(){return this._array||(this._array=new Zt(this.attr("d")))}clear(){return delete this._array,this}height(t){return t==null?this.bbox().height:this.size(this.bbox().width,t)}move(t,e){return this.attr("d",this.array().move(t,e))}plot(t){return t==null?this.array():this.clear().attr("d",typeof t=="string"?t:this._array=new Zt(t))}size(t,e){const i=oe(this,t,e);return this.attr("d",this.array().size(i.width,i.height))}width(t){return t==null?this.bbox().width:this.size(t,this.bbox().height)}x(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)}y(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}}ae.prototype.MorphArray=Zt;D({Container:{path:K(function(s){return this.put(new ae).plot(s||new Zt)})}});H(ae,"Path");function nh(){return this._array||(this._array=new Ft(this.attr("points")))}function rh(){return delete this._array,this}function hh(s,t){return this.attr("points",this.array().move(s,t))}function oh(s){return s==null?this.array():this.clear().attr("points",typeof s=="string"?s:this._array=new Ft(s))}function fh(s,t){const e=oe(this,s,t);return this.attr("points",this.array().size(e.width,e.height))}const Li=Object.freeze(Object.defineProperty({__proto__:null,array:nh,clear:rh,move:hh,plot:oh,size:fh},Symbol.toStringTag,{value:"Module"}));class Ae extends vt{constructor(t,e=t){super(tt("polygon",t),e)}}D({Container:{polygon:K(function(s){return this.put(new Ae).plot(s||new Ft)})}});J(Ae,Es);J(Ae,Li);H(Ae,"Polygon");class Re extends vt{constructor(t,e=t){super(tt("polyline",t),e)}}D({Container:{polyline:K(function(s){return this.put(new Re).plot(s||new Ft)})}});J(Re,Es);J(Re,Li);H(Re,"Polyline");class Ye extends vt{constructor(t,e=t){super(tt("rect",t),e)}}J(Ye,{rx:Cs,ry:Ns});D({Container:{rect:K(function(s,t){return this.put(new Ye).size(s,t)})}});H(Ye,"Rect");class rs{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){const e=typeof t.next<"u"?t:{value:t,next:null,prev:null};return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._last=e,this._first=e),e}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){const t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}}const Y={nextDraw:null,frames:new rs,timeouts:new rs,immediates:new rs,timer:()=>B.window.performance||B.window.Date,transforms:[],frame(s){const t=Y.frames.push({run:s});return Y.nextDraw===null&&(Y.nextDraw=B.window.requestAnimationFrame(Y._draw)),t},timeout(s,t){t=t||0;const e=Y.timer().now()+t,i=Y.timeouts.push({run:s,time:e});return Y.nextDraw===null&&(Y.nextDraw=B.window.requestAnimationFrame(Y._draw)),i},immediate(s){const t=Y.immediates.push(s);return Y.nextDraw===null&&(Y.nextDraw=B.window.requestAnimationFrame(Y._draw)),t},cancelFrame(s){s!=null&&Y.frames.remove(s)},clearTimeout(s){s!=null&&Y.timeouts.remove(s)},cancelImmediate(s){s!=null&&Y.immediates.remove(s)},_draw(s){let t=null;const e=Y.timeouts.last();for(;(t=Y.timeouts.shift())&&(s>=t.time?t.run():Y.timeouts.push(t),t!==e););let i=null;const n=Y.frames.last();for(;i!==n&&(i=Y.frames.shift());)i.run(s);let r=null;for(;r=Y.immediates.shift();)r();Y.nextDraw=Y.timeouts.first()||Y.frames.first()?B.window.requestAnimationFrame(Y._draw):null}},ah=function(s){const t=s.start,e=s.runner.duration(),i=t+e;return{start:t,duration:e,end:i,runner:s.runner}},uh=function(){const s=B.window;return(s.performance||s.Date).now()};class Ji extends ve{constructor(t=uh){super(),this._timeSource=t,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const t=this.getLastRunnerInfo(),e=t?t.runner.duration():0;return(t?t.start:this._time)+e}getEndTimeOfTimeline(){const t=this._runners.map(e=>e.start+e.runner.duration());return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return t==null?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){const e=this.speed();if(t==null)return this.speed(-e);const i=Math.abs(e);return this.speed(t?-i:i)}schedule(t,e,i){if(t==null)return this._runners.map(ah);let n=0;const r=this.getEndTime();if(e=e||0,i==null||i==="last"||i==="after")n=r;else if(i==="absolute"||i==="start")n=e,e=0;else if(i==="now")n=this._time;else if(i==="relative"){const c=this.getRunnerInfoById(t.id);c&&(n=c.start+e,e=0)}else if(i==="with-last"){const c=this.getLastRunnerInfo();n=c?c.start:this._time}else throw new Error('Invalid value for the "when" parameter');t.unschedule(),t.timeline(this);const o=t.persist(),a={persist:o===null?this._persist:o,start:n+e,runner:t};return this._lastRunnerId=t.id,this._runners.push(a),this._runners.sort((c,_)=>c.start-_.start),this._runnerIds=this._runners.map(c=>c.runner.id),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return t==null?this._timeSource:(this._timeSource=t,this)}speed(t){return t==null?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return t==null?this._time:(this._time=t,this._continue(!0))}unschedule(t){const e=this._runnerIds.indexOf(t.id);return e<0?this:(this._runners.splice(e,1),this._runnerIds.splice(e,1),t.timeline(null),this)}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return Y.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():this._paused?this:(this._nextFrame=Y.frame(this._step),this)}_stepFn(t=!1){const e=this._timeSource();let i=e-this._lastSourceTime;t&&(i=0);const n=this._speed*i+(this._time-this._lastStepTime);this._lastSourceTime=e,t||(this._time+=n,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let o=this._runners.length;o--;){const a=this._runners[o],c=a.runner;this._time-a.start<=0&&c.reset()}let r=!1;for(let o=0,a=this._runners.length;o<a;o++){const c=this._runners[o],_=c.runner;let u=n;const m=this._time-c.start;if(m<=0){r=!0;continue}else m<u&&(u=m);if(!_.active())continue;_.step(u).done?c.persist!==!0&&_.duration()-_.time()+this._time+c.persist<this._time&&(_.unschedule(),--o,--a):r=!0}return r&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}D({Element:{timeline:function(s){return s==null?(this._timeline=this._timeline||new Ji,this._timeline):(this._timeline=s,this)}}});class bt extends ve{constructor(t){super(),this.id=bt.id++,t=t??ge.duration,t=typeof t=="function"?new Le(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof t=="number"&&t,this._isDeclarative=t instanceof Le,this._stepper=this._isDeclarative?t:new us,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new E,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=this._isDeclarative?!0:null}static sanitise(t,e,i){let n=1,r=!1,o=0;return t=t??ge.duration,e=e??ge.delay,i=i||"last",typeof t=="object"&&!(t instanceof Os)&&(e=t.delay??e,i=t.when??i,r=t.swing||r,n=t.times??n,o=t.wait??o,t=t.duration??ge.duration),{duration:t,delay:e,swing:r,times:n,wait:o,when:i}}active(t){return t==null?this.enabled:(this.enabled=t,this)}addTransform(t){return this.transforms.lmultiplyO(t),this}after(t){return this.on("finished",t)}animate(t,e,i){const n=bt.sanitise(t,e,i),r=new bt(n.duration);return this._timeline&&r.timeline(this._timeline),this._element&&r.element(this._element),r.loop(n).schedule(n.delay,n.when)}clearTransform(){return this.transforms=new E,this}clearTransformsFromQueue(){(!this.done||!this._timeline||!this._timeline._runnerIds.includes(this.id))&&(this._queue=this._queue.filter(t=>!t.isTransform))}delay(t){return this.animate(0,t)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(t){return this.queue(null,t)}ease(t){return this._stepper=new us(t),this}element(t){return t==null?this._element:(this._element=t,t._prepareRunner(),this)}finish(){return this.step(1/0)}loop(t,e,i){return typeof t=="object"&&(e=t.swing,i=t.wait,t=t.times),this._times=t||1/0,this._swing=e||!1,this._wait=i||0,this._times===!0&&(this._times=1/0),this}loops(t){const e=this._duration+this._wait;if(t==null){const o=Math.floor(this._time/e),c=(this._time-o*e)/this._duration;return Math.min(o+c,this._times)}const i=Math.floor(t),n=t%1,r=e*i+this._duration*n;return this.time(r)}persist(t){return t==null?this._persist:(this._persist=t,this)}position(t){const e=this._time,i=this._duration,n=this._wait,r=this._times,o=this._swing,a=this._reverse;let c;if(t==null){const O=function(C){const R=o*Math.floor(C%(2*(n+i))/(n+i)),j=R&&!a||!R&&a,W=Math.pow(-1,j)*(C%(n+i))/i+j;return Math.max(Math.min(W,1),0)},q=r*(n+i)-n;return c=e<=0?Math.round(O(1e-5)):e<q?O(e):Math.round(O(q-1e-5)),c}const _=Math.floor(this.loops()),u=o&&_%2===0;return c=_+(u&&!a||a&&u?t:1-t),this.loops(c)}progress(t){return t==null?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}queue(t,e,i,n){return this._queue.push({initialiser:t||ai,runner:e||ai,retarget:i,isTransform:n,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted?this:(this.time(0),this._reseted=!0,this)}reverse(t){return this._reverse=t??!this._reverse,this}schedule(t,e,i){if(t instanceof Ji||(i=e,e=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,e,i),this}step(t){if(!this.enabled)return this;t=t??16,this._time+=t;const e=this.position(),i=this._lastPosition!==e&&this._time>=0;this._lastPosition=e;const n=this.duration(),r=this._lastTime<=0&&this._time>0,o=this._lastTime<n&&this._time>=n;this._lastTime=this._time,r&&this.fire("start",this);const a=this._isDeclarative;this.done=!a&&!o&&this._time>=n,this._reseted=!1;let c=!1;return(i||a)&&(this._initialise(i),this.transforms=new E,c=this._run(a?t:e),this.fire("step",this)),this.done=this.done||c&&a,o&&this.fire("finished",this),this}time(t){if(t==null)return this._time;const e=t-this._time;return this.step(e),this}timeline(t){return typeof t>"u"?this._timeline:(this._timeline=t,this)}unschedule(){const t=this.timeline();return t&&t.unschedule(this),this}_initialise(t){if(!(!t&&!this._isDeclarative))for(let e=0,i=this._queue.length;e<i;++e){const n=this._queue[e],r=this._isDeclarative||!n.initialised&&t;t=!n.finished,r&&t&&(n.initialiser.call(this),n.initialised=!0)}}_rememberMorpher(t,e){if(this._history[t]={morpher:e,caller:this._queue[this._queue.length-1]},this._isDeclarative){const i=this.timeline();i&&i.play()}}_run(t){let e=!0;for(let i=0,n=this._queue.length;i<n;++i){const r=this._queue[i],o=r.runner.call(this,t);r.finished=r.finished||o===!0,e=e&&r.finished}return e}_tryRetarget(t,e,i){if(this._history[t]){if(!this._history[t].caller.initialised){const r=this._queue.indexOf(this._history[t].caller);return this._queue.splice(r,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,e,i):this._history[t].morpher.to(e),this._history[t].caller.finished=!1;const n=this.timeline();return n&&n.play(),!0}return!1}}bt.id=0;class Je{constructor(t=new E,e=-1,i=!0){this.transforms=t,this.id=e,this.done=i}clearTransformsFromQueue(){}}J([bt,Je],{mergeWith(s){return new Je(s.transforms.lmultiply(this.transforms),s.id)}});const qi=(s,t)=>s.lmultiplyO(t),Fi=s=>s.transforms;function lh(){const t=this._transformationRunners.runners.map(Fi).reduce(qi,new E);this.transform(t),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class ch{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;const e=t.id+1;return this.runners.push(t),this.ids.push(e),this}clearBefore(t){const e=this.ids.indexOf(t+1)||1;return this.ids.splice(0,e,0),this.runners.splice(0,e,new Je).forEach(i=>i.clearTransformsFromQueue()),this}edit(t,e){const i=this.ids.indexOf(t+1);return this.ids.splice(i,1,t+1),this.runners.splice(i,1,e),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let e=0;e<this.runners.length;++e){const i=this.runners[e];if(t&&i.done&&t.done&&(!i._timeline||!i._timeline._runnerIds.includes(i.id))&&(!t._timeline||!t._timeline._runnerIds.includes(t.id))){this.remove(i.id);const r=i.mergeWith(t);this.edit(t.id,r),t=r,--e}else t=i}return this}remove(t){const e=this.ids.indexOf(t+1);return this.ids.splice(e,1),this.runners.splice(e,1),this}}D({Element:{animate(s,t,e){const i=bt.sanitise(s,t,e),n=this.timeline();return new bt(i.duration).loop(i).element(this).timeline(n.play()).schedule(i.delay,i.when)},delay(s,t){return this.animate(0,s,t)},_clearTransformRunnersBefore(s){this._transformationRunners.clearBefore(s.id)},_currentTransform(s){return this._transformationRunners.runners.filter(t=>t.id<=s.id).map(Fi).reduce(qi,new E)},_addRunner(s){this._transformationRunners.add(s),Y.cancelImmediate(this._frameId),this._frameId=Y.immediate(lh.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new ch().add(new Je(new E(this))))}}});const _h=(s,t)=>s.filter(e=>!t.includes(e));J(bt,{attr(s,t){return this.styleAttr("attr",s,t)},css(s,t){return this.styleAttr("css",s,t)},styleAttr(s,t,e){if(typeof t=="string")return this.styleAttr(s,{[t]:e});let i=t;if(this._tryRetarget(s,i))return this;let n=new Vt(this._stepper).to(i),r=Object.keys(i);return this.queue(function(){n=n.from(this.element()[s](r))},function(o){return this.element()[s](n.at(o).valueOf()),n.done()},function(o){const a=Object.keys(o),c=_h(a,r);if(c.length){const u=this.element()[s](c),m=new xe(n.from()).valueOf();Object.assign(m,u),n.from(m)}const _=new xe(n.to()).valueOf();Object.assign(_,o),n.to(_),r=a,i=o}),this._rememberMorpher(s,n),this},zoom(s,t){if(this._tryRetarget("zoom",s,t))return this;let e=new Vt(this._stepper).to(new $(s));return this.queue(function(){e=e.from(this.element().zoom())},function(i){return this.element().zoom(e.at(i),t),e.done()},function(i,n){t=n,e.to(i)}),this._rememberMorpher("zoom",e),this},transform(s,t,e){if(t=s.relative||t,this._isDeclarative&&!t&&this._tryRetarget("transform",s))return this;const i=E.isMatrixLike(s);e=s.affine!=null?s.affine:e??!i;const n=new Vt(this._stepper).type(e?Te:E);let r,o,a,c,_;function u(){o=o||this.element(),r=r||os(s,o),_=new E(t?void 0:o),o._addRunner(this),t||o._clearTransformRunnersBefore(this)}function m(q){t||this.clearTransform();const{x:C,y:R}=new X(r).transform(o._currentTransform(this));let j=new E({...s,origin:[C,R]}),W=this._isDeclarative&&a?a:_;if(e){j=j.decompose(C,R),W=W.decompose(C,R);const at=j.rotate,wt=W.rotate,ut=[at-360,at,at+360],St=ut.map(Q=>Math.abs(Q-wt)),kt=Math.min(...St),Mt=St.indexOf(kt);j.rotate=ut[Mt]}t&&(i||(j.rotate=s.rotate||0),this._isDeclarative&&c&&(W.rotate=c)),n.from(W),n.to(j);const it=n.at(q);return c=it.rotate,a=new E(it),this.addTransform(a),o._addRunner(this),n.done()}function O(q){(q.origin||"center").toString()!==(s.origin||"center").toString()&&(r=os(q,o)),s={...q,origin:r}}return this.queue(u,m,O,!0),this._isDeclarative&&this._rememberMorpher("transform",n),this},x(s){return this._queueNumber("x",s)},y(s){return this._queueNumber("y",s)},ax(s){return this._queueNumber("ax",s)},ay(s){return this._queueNumber("ay",s)},dx(s=0){return this._queueNumberDelta("x",s)},dy(s=0){return this._queueNumberDelta("y",s)},dmove(s,t){return this.dx(s).dy(t)},_queueNumberDelta(s,t){if(t=new $(t),this._tryRetarget(s,t))return this;const e=new Vt(this._stepper).to(t);let i=null;return this.queue(function(){i=this.element()[s](),e.from(i),e.to(i+t)},function(n){return this.element()[s](e.at(n)),e.done()},function(n){e.to(i+new $(n))}),this._rememberMorpher(s,e),this},_queueObject(s,t){if(this._tryRetarget(s,t))return this;const e=new Vt(this._stepper).to(t);return this.queue(function(){e.from(this.element()[s]())},function(i){return this.element()[s](e.at(i)),e.done()}),this._rememberMorpher(s,e),this},_queueNumber(s,t){return this._queueObject(s,new $(t))},cx(s){return this._queueNumber("cx",s)},cy(s){return this._queueNumber("cy",s)},move(s,t){return this.x(s).y(t)},amove(s,t){return this.ax(s).ay(t)},center(s,t){return this.cx(s).cy(t)},size(s,t){let e;return(!s||!t)&&(e=this._element.bbox()),s||(s=e.width/e.height*t),t||(t=e.height/e.width*s),this.width(s).height(t)},width(s){return this._queueNumber("width",s)},height(s){return this._queueNumber("height",s)},plot(s,t,e,i){if(arguments.length===4)return this.plot([s,t,e,i]);if(this._tryRetarget("plot",s))return this;const n=new Vt(this._stepper).type(this._element.MorphArray).to(s);return this.queue(function(){n.from(this._element.array())},function(r){return this._element.plot(n.at(r)),n.done()}),this._rememberMorpher("plot",n),this},leading(s){return this._queueNumber("leading",s)},viewbox(s,t,e,i){return this._queueObject("viewbox",new ft(s,t,e,i))},update(s){return typeof s!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(s.opacity!=null&&this.attr("stop-opacity",s.opacity),s.color!=null&&this.attr("stop-color",s.color),s.offset!=null&&this.attr("offset",s.offset),this)}});J(bt,{rx:Cs,ry:Ns,from:$i,to:ji});H(bt,"Runner");class Ms extends yt{constructor(t,e=t){super(tt("svg",t),e),this.namespace()}defs(){return this.isRoot()?Rt(this.node.querySelector("defs"))||this.put(new Rs):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof B.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:bs,version:"1.1"}).attr("xmlns:xlink",be,es):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,es).attr("xmlns:svgjs",null,es)}root(){return this.isRoot()?this:super.root()}}D({Container:{nested:K(function(){return this.put(new Ms)})}});H(Ms,"Svg",!0);let zs=class extends yt{constructor(t,e=t){super(tt("symbol",t),e)}};D({Container:{symbol:K(function(){return this.put(new zs)})}});H(zs,"Symbol");function ph(s){return this._build===!1&&this.clear(),this.node.appendChild(B.document.createTextNode(s)),this}function dh(){return this.node.getComputedTextLength()}function gh(s,t=this.bbox()){return s==null?t.x:this.attr("x",this.attr("x")+s-t.x)}function mh(s,t=this.bbox()){return s==null?t.y:this.attr("y",this.attr("y")+s-t.y)}function yh(s,t,e=this.bbox()){return this.x(s,e).y(t,e)}function xh(s,t=this.bbox()){return s==null?t.cx:this.attr("x",this.attr("x")+s-t.cx)}function wh(s,t=this.bbox()){return s==null?t.cy:this.attr("y",this.attr("y")+s-t.cy)}function bh(s,t,e=this.bbox()){return this.cx(s,e).cy(t,e)}function vh(s){return this.attr("x",s)}function Sh(s){return this.attr("y",s)}function Th(s,t){return this.ax(s).ay(t)}function Ah(s){return this._build=!!s,this}const Pi=Object.freeze(Object.defineProperty({__proto__:null,amove:Th,ax:vh,ay:Sh,build:Ah,center:bh,cx:xh,cy:wh,length:dh,move:yh,plain:ph,x:gh,y:mh},Symbol.toStringTag,{value:"Module"}));class Nt extends vt{constructor(t,e=t){super(tt("text",t),e),this.dom.leading=this.dom.leading??new $(1.3),this._rebuild=!0,this._build=!1}leading(t){return t==null?this.dom.leading:(this.dom.leading=new $(t),this.rebuild())}rebuild(t){if(typeof t=="boolean"&&(this._rebuild=t),this._rebuild){const e=this;let i=0;const n=this.dom.leading;this.each(function(r){if(fs(this.node))return;const o=B.window.getComputedStyle(this.node).getPropertyValue("font-size"),a=n*new $(o);this.dom.newLined&&(this.attr("x",e.attr("x")),this.text()===`
`?i+=a:(this.attr("dy",r?a+i:0),i=0))}),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new $(t.leading||1.3),this}writeDataToDom(){return xi(this,this.dom,{leading:1.3}),this}text(t){if(t===void 0){const e=this.node.childNodes;let i=0;t="";for(let n=0,r=e.length;n<r;++n){if(e[n].nodeName==="textPath"||fs(e[n])){n===0&&(i=n+1);continue}n!==i&&e[n].nodeType!==3&&Rt(e[n]).dom.newLined===!0&&(t+=`
`),t+=e[n].textContent}return t}if(this.clear().build(!0),typeof t=="function")t.call(this,this);else{t=(t+"").split(`
`);for(let e=0,i=t.length;e<i;e++)this.newLine(t[e])}return this.build(!1).rebuild()}}J(Nt,Pi);D({Container:{text:K(function(s=""){return this.put(new Nt).text(s)}),plain:K(function(s=""){return this.put(new Nt).plain(s)})}});H(Nt,"Text");class Ge extends vt{constructor(t,e=t){super(tt("tspan",t),e),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;const t=this.parent();if(!(t instanceof Nt))return this;const e=t.index(this),i=B.window.getComputedStyle(this.node).getPropertyValue("font-size"),n=t.dom.leading*new $(i);return this.dy(e?n:0).attr("x",t.x())}text(t){return t==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof t=="function"?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}}J(Ge,Pi);D({Tspan:{tspan:K(function(s=""){const t=new Ge;return this._build||this.clear(),this.put(t).text(s)})},Text:{newLine:function(s=""){return this.tspan(s).newLine()}}});H(Ge,"Tspan");class Is extends vt{constructor(t,e=t){super(tt("circle",t),e)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new $(t).divide(2))}}J(Is,{x:Ni,y:Ei,cx:Oi,cy:ki,width:Mi,height:zi});D({Container:{circle:K(function(s=0){return this.put(new Is).size(s).move(0,0)})}});H(Is,"Circle");class ds extends yt{constructor(t,e=t){super(tt("clipPath",t),e)}remove(){return this.targets().forEach(function(t){t.unclip()}),super.remove()}targets(){return fe("svg [clip-path*="+this.id()+"]")}}D({Container:{clip:K(function(){return this.defs().put(new ds)})},Element:{clipper(){return this.reference("clip-path")},clipWith(s){const t=s instanceof ds?s:this.parent().clip().add(s);return this.attr("clip-path","url(#"+t.id()+")")},unclip(){return this.attr("clip-path",null)}}});H(ds,"ClipPath");class Bi extends Ot{constructor(t,e=t){super(tt("foreignObject",t),e)}}D({Container:{foreignObject:K(function(s,t){return this.put(new Bi).size(s,t)})}});H(Bi,"ForeignObject");function Rh(s,t){return this.children().forEach(e=>{let i;try{i=e.node instanceof On().SVGSVGElement?new ft(e.attr(["x","y","width","height"])):e.bbox()}catch{return}const n=new E(e),r=n.translate(s,t).transform(n.inverse()),o=new X(i.x,i.y).transform(r);e.move(o.x,o.y)}),this}function Ch(s){return this.dmove(s,0)}function Nh(s){return this.dmove(0,s)}function Eh(s,t=this.bbox()){return s==null?t.height:this.size(t.width,s,t)}function Oh(s=0,t=0,e=this.bbox()){const i=s-e.x,n=t-e.y;return this.dmove(i,n)}function kh(s,t,e=this.bbox()){const i=oe(this,s,t,e),n=i.width/e.width,r=i.height/e.height;return this.children().forEach(o=>{const a=new X(e).transform(new E(o).inverse());o.scale(n,r,a.x,a.y)}),this}function Mh(s,t=this.bbox()){return s==null?t.width:this.size(s,t.height,t)}function zh(s,t=this.bbox()){return s==null?t.x:this.move(s,t.y,t)}function Ih(s,t=this.bbox()){return s==null?t.y:this.move(t.x,s,t)}const Hi=Object.freeze(Object.defineProperty({__proto__:null,dmove:Rh,dx:Ch,dy:Nh,height:Eh,move:Oh,size:kh,width:Mh,x:zh,y:Ih},Symbol.toStringTag,{value:"Module"}));class $s extends yt{constructor(t,e=t){super(tt("g",t),e)}}J($s,Hi);D({Container:{group:K(function(){return this.put(new $s)})}});H($s,"G");class qe extends yt{constructor(t,e=t){super(tt("a",t),e)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,be)}}J(qe,Hi);D({Container:{link:K(function(s){return this.put(new qe).to(s)})},Element:{unlink(){const s=this.linker();if(!s)return this;const t=s.parent();if(!t)return this.remove();const e=t.index(s);return t.add(this,e),s.remove(),this},linkTo(s){let t=this.linker();return t||(t=new qe,this.wrap(t)),typeof s=="function"?s.call(t,t):t.to(s),this},linker(){const s=this.parent();return s&&s.node.nodeName.toLowerCase()==="a"?s:null}}});H(qe,"A");class gs extends yt{constructor(t,e=t){super(tt("mask",t),e)}remove(){return this.targets().forEach(function(t){t.unmask()}),super.remove()}targets(){return fe("svg [mask*="+this.id()+"]")}}D({Container:{mask:K(function(){return this.defs().put(new gs)})},Element:{masker(){return this.reference("mask")},maskWith(s){const t=s instanceof gs?s:this.parent().mask().add(s);return this.attr("mask","url(#"+t.id()+")")},unmask(){return this.attr("mask",null)}}});H(gs,"Mask");class Ui extends Ot{constructor(t,e=t){super(tt("stop",t),e)}update(t){return(typeof t=="number"||t instanceof $)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",new $(t.offset)),this}}D({Gradient:{stop:function(s,t,e){return this.put(new Ui).update(s,t,e)}}});H(Ui,"Stop");function $h(s,t){if(!s)return"";if(!t)return s;let e=s+"{";for(const i in t)e+=Cn(i)+":"+t[i]+";";return e+="}",e}class ms extends Ot{constructor(t,e=t){super(tt("style",t),e)}addText(t=""){return this.node.textContent+=t,this}font(t,e,i={}){return this.rule("@font-face",{fontFamily:t,src:e,...i})}rule(t,e){return this.addText($h(t,e))}}D("Dom",{style(s,t){return this.put(new ms).rule(s,t)},fontface(s,t,e){return this.put(new ms).font(s,t,e)}});H(ms,"Style");class js extends Nt{constructor(t,e=t){super(tt("textPath",t),e)}array(){const t=this.track();return t?t.array():null}plot(t){const e=this.track();let i=null;return e&&(i=e.plot(t)),t==null?i:this}track(){return this.reference("href")}}D({Container:{textPath:K(function(s,t){return s instanceof Nt||(s=this.text(s)),s.path(t)})},Text:{path:K(function(s,t=!0){const e=new js;s instanceof ae||(s=this.defs().path(s)),e.attr("href","#"+s,be);let i;if(t)for(;i=this.node.firstChild;)e.node.appendChild(i);return this.put(e)}),textPath(){return this.findOne("textPath")}},Path:{text:K(function(s){return s instanceof Nt||(s=new Nt().addTo(this.parent()).text(s)),s.path(this)}),targets(){return fe("svg textPath").filter(s=>(s.attr("href")||"").includes(this.id()))}}});js.prototype.MorphArray=Zt;H(js,"TextPath");class Yi extends vt{constructor(t,e=t){super(tt("use",t),e)}use(t,e){return this.attr("href",(e||"")+"#"+t,be)}}D({Container:{use:K(function(s,t){return this.put(new Yi).use(s,t)})}});H(Yi,"Use");const jh=dt;J([Ms,zs,Ue,me,De],mt("viewbox"));J([ye,Re,Ae,ae],mt("marker"));J(Nt,mt("Text"));J(ae,mt("Path"));J(Rs,mt("Defs"));J([Nt,Ge],mt("Tspan"));J([Ye,He,Se,bt],mt("radius"));J(ve,mt("EventTarget"));J(qt,mt("Dom"));J(Ot,mt("Element"));J(vt,mt("Shape"));J([yt,Ii],mt("Container"));J(Se,mt("Gradient"));J(bt,mt("Runner"));Qt.extend(An());sh([$,V,ft,E,he,Ft,Zt,X]);ih();const Dh=`
svg {
  background-color: #fff;
}

.root text,
.root tspan {
  font: 12px Arial;
}

.root path {
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #000;
}

.root circle {
  fill: #6b6659;
  stroke-width: 2px;
  stroke: #000;
}

.anchor text,
.any-character text {
  fill: #fff;
}

.anchor rect,
.any-character rect {
  fill: #6b6659;
}

.escape text,
.charset-escape text,
.literal text {
  fill: #000;
}

.escape rect,
.charset-escape rect {
  fill: #bada55;
}

.literal rect {
  fill: #dae9e5;
}

.charset .charset-box {
  fill: #cbcbba;
}

.subexp .subexp-label tspan,
.charset .charset-label tspan,
.match-fragment .repeat-label tspan {
  font-size: 10px;
}

.repeat-label {
  cursor: help;
}

.subexp .subexp-label tspan,
.charset .charset-label tspan {
  dominant-baseline: text-after-edge;
}

.subexp .subexp-box {
  stroke: #bfbfbf;
  stroke-dasharray: 6, 2;
  stroke-width: 2px;
  fill-opacity: 0;
}

.quote {
  fill: #8c8c8c;
}
`.trim();function Gi(s){const t=s.bbox(),e=s.matrix();return t.transform(e)}function Lh(s){return new Promise(t=>{setTimeout(t,s)})}function Jh(){return Lh(0)}function Wt(s){const t=s;return t.ax==null&&(t.ax=s.x),t.ax2==null&&(t.ax2=s.x2),t.ay==null&&(t.ay=s.cy),t}function Vi(s,t){const e=s.map(n=>({bbox:Wt(n.bbox()),node:n})),i=e.reduce((n,{bbox:r})=>Math.max(n,r.ay),0);e.reduce((n,{node:r,bbox:o})=>(r.translate(n,i-o.ay),n+t+o.width),0)}function Wi(s,t){const e=s.map(n=>({bbox:n.bbox(),node:n})),i=e.reduce((n,{bbox:r})=>Math.max(n,r.cx),0);e.reduce((n,{node:r,bbox:o})=>(r.translate(i-o.cx,n),n+t+o.height),0)}var _e=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{_(i.next(u))}catch(m){o(m)}}function c(u){try{_(i.throw(u))}catch(m){o(m)}}function _(u){u.done?r(u.value):n(u.value).then(a,c)}_((i=i.apply(s,t||[])).next())})};class xt{constructor(t,e){this.metadata=t,this.state=e instanceof xt?e.state:e}get type(){return this.metadata.type}get text(){return this.metadata.text}get offset(){return this.metadata.offset}get elements(){return this.metadata.elements}get anchor(){return{}}getAnchor(){return this.proxy?this.proxy.getAnchor():this.anchor}bbox(){const t=Gi(this.container),e=this.getAnchor();return Object.assign(Wt(t),e)}translate(t,e){return this.container.translate(t,e)}defer(t){return _e(this,void 0,void 0,function*(){if(yield Jh(),this.state.cancelRender)throw new Error("Render cancelled");return t})}render(t){return _e(this,void 0,void 0,function*(){return t&&(this.container=t,this.container.addClass(this.type)),this.proxy?this.proxy.render(this.container):(this.state.inc(),yield this.renderNode(),this.state.dec(),this)})}renderNode(){return _e(this,void 0,void 0,function*(){})}renderLabel(t,e={}){return _e(this,void 0,void 0,function*(){const i=this.container.group().addClass("label"),n=i.rect(),r=this.renderText(i,t);e.className&&i.addClass(e.className),yield this.defer();const o=r.bbox(),a=5;return r.translate(a,o.height/2+2*a),n.attr({width:o.width+2*a,height:o.height+2*a}),e.round&&n.attr({rx:e.round,ry:e.round}),i})}renderLabeledBox(t,e,i=0){return _e(this,void 0,void 0,function*(){const n=this.renderText(this.container,t),r=this.container.rect().attr({rx:3,ry:3});n.addClass(`${this.type}-label`).back(),r.addClass(`${this.type}-box`).back(),yield this.defer();const o=n.bbox(),a=e.bbox(),c=Math.max(a.width+i*2,o.width),_=a.height+i*2;n.translate(0,o.height),r.translate(0,o.height).attr({width:c,height:_}),e.translate(c/2-a.cx,o.height+i)})}renderText(t,e){const i=Array.isArray(e)?e:[e];return t.text(n=>{i.forEach(r=>n.tspan(r))})}}var qh=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{_(i.next(u))}catch(m){o(m)}}function c(u){try{_(i.throw(u))}catch(m){o(m)}}function _(u){u.done?r(u.value):n(u.value).then(a,c)}_((i=i.apply(s,t||[])).next())})};class Fh extends xt{constructor(){super(...arguments),this.label=this.text==="^"?"Start of line":"End of line"}renderNode(){return qh(this,void 0,void 0,function*(){yield this.renderLabel(this.label,{className:this.type,round:3})})}}var Ph=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{_(i.next(u))}catch(m){o(m)}}function c(u){try{_(i.throw(u))}catch(m){o(m)}}function _(u){u.done?r(u.value):n(u.value).then(a,c)}_((i=i.apply(s,t||[])).next())})};class Bh extends xt{constructor(){super(...arguments),this.label="any character"}renderNode(){return Ph(this,void 0,void 0,function*(){yield this.renderLabel(this.label,{round:3})})}}function Hh(s){let t=s.toString(16).toUpperCase();return t.length<2&&(t=`0${t}`),`(0x${t})`}const Xi={b:["word boundary",-1,!1],B:["non-word boundary",-1,!1],d:["digit",-1,!1],D:["non-digit",-1,!1],f:["form feed",12,!0],n:["line feed",10,!0],r:["carriage return",13,!0],s:["white space",-1,!1],S:["non-white space",-1,!1],t:["tab",9,!0],v:["vertical tab",11,!0],w:["word",-1,!1],W:["non-word",-1,!1],1:["Back reference (group = 1)",-1,!1],2:["Back reference (group = 2)",-1,!1],3:["Back reference (group = 3)",-1,!1],4:["Back reference (group = 4)",-1,!1],5:["Back reference (group = 5)",-1,!1],6:["Back reference (group = 6)",-1,!1],7:["Back reference (group = 7)",-1,!1],8:["Back reference (group = 8)",-1,!1],9:["Back reference (group = 9)",-1,!1],0(s){return s?[`octal: ${s}`,parseInt(s,8),!0]:["null",0,!0]},c(s){return[`ctrl-${s.toUpperCase()}`,s.toUpperCase().charCodeAt(0)-64,!0]},x(s){return[`0x${s.toUpperCase()}`,parseInt(s,16),!1]},u(s){return[`U+${s.toUpperCase()}`,parseInt(s,16),!1]}};function Uh(s,t,e){const i=s[t];return typeof i=="function"?i(e):i}var Yh=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{_(i.next(u))}catch(m){o(m)}}function c(u){try{_(i.throw(u))}catch(m){o(m)}}function _(u){u.done?r(u.value):n(u.value).then(a,c)}_((i=i.apply(s,t||[])).next())})};class Qi extends xt{constructor(t,e){super(t,e),this.mapping=Xi;const i=t.esc;this.code=i.code.text,this.arg=i.arg.text;const n=Uh(this.mapping,this.code,this.arg);this.label=n[0],this.ordinal=n[1],n[2]&&(this.label=`${this.label} ${Hh(this.ordinal)}`)}renderNode(){return Yh(this,void 0,void 0,function*(){yield this.renderLabel(this.label,{round:3})})}}class Gh extends Qi{constructor(){super(...arguments),this.mapping=Object.assign(Object.assign({},Xi),{b:["backspace",8,!0]})}}var Vh=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{_(i.next(u))}catch(m){o(m)}}function c(u){try{_(i.throw(u))}catch(m){o(m)}}function _(u){u.done?r(u.value):n(u.value).then(a,c)}_((i=i.apply(s,t||[])).next())})};class Fe extends xt{constructor(t,e){super(t,e);const i=t.literal;this.label=i.text,this.order=this.label.charCodeAt(0)}renderNode(){return Vh(this,void 0,void 0,function*(){const t=["",this.label,""],i=(yield this.renderLabel(t,{round:3})).find("tspan");i[0].addClass("quote"),i[2].addClass("quote")})}merge(t){this.label+=t.label}}var Wh=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{_(i.next(u))}catch(m){o(m)}}function c(u){try{_(i.throw(u))}catch(m){o(m)}}function _(u){u.done?r(u.value):n(u.value).then(a,c)}_((i=i.apply(s,t||[])).next())})};class Xh extends xt{constructor(t,e){if(super(t,e),this.first=new Fe(t.first,this),this.last=new Fe(t.last,this),this.first.order>this.last.order)throw new Error(`Range out of order in character class: ${this.text}`)}renderNode(){return Wh(this,void 0,void 0,function*(){const t=[this.first,this.container.text("-"),this.last];yield Promise.all([this.first.render(this.container.group()),this.last.render(this.container.group())]),Vi(t,5)})}}var Qh=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{_(i.next(u))}catch(m){o(m)}}function c(u){try{_(i.throw(u))}catch(m){o(m)}}function _(u){u.done?r(u.value):n(u.value).then(a,c)}_((i=i.apply(s,t||[])).next())})};class Zh extends xt{constructor(t,e){super(t,e);const i=t.parts,n=t.invert;this.label=n.text==="^"?"None of:":"One of:";const r=[],o=[];i.elements.forEach(a=>{const c=`${a.type}:${a.text}`;r.includes(c)||(r.push(c),o.push(a))}),this.parts=o.map(a=>this.createPartNode(a)),this.text.match(/\\c[^a-zA-Z]/)&&this.state.warnings.push(`The character set "${this.text}" contains the \\c escape followed by a character other than A-Z. This can lead to different behavior depending on browser. The representation here is the most common interpretation.`)}get anchor(){const t=this.container.matrix(),e=Gi(this.partContainer);return{ay:new X(0,e.cy).transform(t).y}}createPartNode(t){const e=t.type,i=e==="charset-range"?Xh:e==="charset-escape"?Gh:e==="literal"?Fe:null;if(i)return new i(t,this);throw new Error(`Unknown node type: "${e}"`)}renderNode(){return Qh(this,void 0,void 0,function*(){this.partContainer=this.container.group(),yield Promise.all(this.parts.map(t=>t.render(this.partContainer.group()))),Wi(this.parts,5),yield this.renderLabeledBox(this.label,this.partContainer,5)})}}function se(s){return s===1?"once":`${s} times`}class Kh extends xt{constructor(t,e){super(t,e);const i=t.spec,n=t.greedy,{min:r,max:o}=i?i.specific():{min:-1,max:-2};this.greedy=n==null||n.text==="",this.hasSkip=r===0,this.hasLoop=o===-1||o>1,this.min=r,this.max=o}getContentOffset(){return this.hasSkip?{x:15,y:10}:this.hasLoop?{x:10,y:0}:{x:0,y:0}}getLabel(){const t=this.min,e=this.max;if(t===e)return t===0?void 0:se(t-1);if(t<=1&&e>=2)return`at most ${se(e-1)}`;if(t>=2)return e===-1?`${t-1}+ times`:`${t-1}${se(e-1)}`}getTooltip(){const t=this.min,e=this.max;let i;return t===e?t===0?i=void 0:i=se(t):t<=1&&e>=2?i=`at most ${se(e)}`:t>=2&&(e===-1?i=`${t}+ times`:i=`${t}${se(e)}`),i&&`repeats ${i} in total`}skipPath(t){const e=[];if(this.hasSkip){const i=Math.max(0,t.ay-t.y-10),n=t.width-10;e.push(`M0,${t.ay}q10,0 10,-10v${-i}q0,-10 10,-10h${n}q10,0 10,10v${i}q0,10 10,10`),this.greedy||e.push(`M10,${t.ay-15}l5,5m-5,-5l-5,5`)}return e}loopPath(t){const e=[];if(this.hasLoop){const i=t.y2-t.ay-10;e.push(`M${t.x},${t.ay}q-10,0 -10,10v${i}q0,10 10,10h${t.width}q10,0 10,-10v${-i}q0,-10 -10,-10`),this.greedy&&e.push(`M${t.x2+10},${t.ay+15}l5,-5m-5,5l-5,-5`)}return e}}var to=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{_(i.next(u))}catch(m){o(m)}}function c(u){try{_(i.throw(u))}catch(m){o(m)}}function _(u){u.done?r(u.value):n(u.value).then(a,c)}_((i=i.apply(s,t||[])).next())})};const eo={"?:":"","?=":"positive lookahead","?!":"negative lookahead"};class so extends xt{constructor(t,e){super(t,e),this.capture=t.capture,this.regexp=new Zi(t.regexp,this),this.capture.text==="?:"&&(this.proxy=this.regexp)}get anchor(){const t=this.regexp.bbox(),e=this.container.matrix(),i=new X(t.ax,t.ay).transform(e),n=new X(t.ax2,t.ay).transform(e);return{ax:i.x,ax2:n.x,ay:i.y}}renderNode(){return to(this,void 0,void 0,function*(){const t=this.label();yield this.regexp.render(this.container.group()),yield this.renderLabeledBox(t,this.regexp,10)})}label(){const t=eo[this.capture.text];return t||(this.state.groupCounter+=1,`group #${this.state.groupCounter}`)}}var io=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{_(i.next(u))}catch(m){o(m)}}function c(u){try{_(i.throw(u))}catch(m){o(m)}}function _(u){u.done?r(u.value):n(u.value).then(a,c)}_((i=i.apply(s,t||[])).next())})};class no extends xt{constructor(t,e){super(t,e),this.content=this.createContentNode(),this.repeat=new Kh(t.repeat,this),!this.repeat.hasLoop&&!this.repeat.hasSkip?(this.canMerge=this.content.type==="literal",this.proxy=this.content):this.canMerge=!1}createContentNode(){const t=this.metadata.content,e=t.type,i=e==="anchor"?Fh:e==="subexp"?so:e==="charset"?Zh:e==="any-character"?Bh:e==="escape"?Qi:e==="literal"?Fe:null;if(i)return new i(t,this);throw new Error(`Unknow match fragment type: "${e}"`)}get anchor(){const t=this.content.bbox(),e=this.container.matrix(),i=new X(t.ax,t.ay).transform(e),n=new X(t.ax2,t.ay).transform(e);return{ax:i.x,ax2:n.x,ay:i.y}}renderNode(){return io(this,void 0,void 0,function*(){yield this.content.render(this.container.group());const{x:t,y:e}=this.repeat.getContentOffset();this.content.translate(t,e);const i=this.content.bbox(),n=[...this.repeat.skipPath(i),...this.repeat.loopPath(i)];this.container.path(n.join("")).back(),this.renderLoopLabel()})}renderLoopLabel(){const t=this.repeat.getLabel(),e=this.repeat.getTooltip();if(t){const i=this.container.text(t).addClass("repeat-label"),n=i.bbox(),r=this.bbox();if(e){const o=re("title");this.container.text(e).addTo(o),i.add(o)}i.translate(r.x2-n.width-(this.repeat.hasSkip?5:0),r.y2+n.height)}}}var ro=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{_(i.next(u))}catch(m){o(m)}}function c(u){try{_(i.throw(u))}catch(m){o(m)}}function _(u){u.done?r(u.value):n(u.value).then(a,c)}_((i=i.apply(s,t||[])).next())})};class ho extends xt{constructor(t,e){super(t,e);const i=this.metadata.parts;this.fragments=[];const n=this.fragments;i.elements.forEach(r=>{const o=n[n.length-1],a=new no(r,this);o&&o.canMerge&&a.canMerge?o.content.merge(a.content):n.push(a)}),n.length===1&&(this.proxy=n[0])}get anchor(){const t=Wt(this.start.bbox()),e=Wt(this.end.bbox()),i=this.container.matrix(),n=new X(t.ax,t.ay).transform(i),r=new X(e.ax2,e.ay).transform(i);return{ax:n.x,ax2:r.x,ay:n.y}}renderNode(){return ro(this,void 0,void 0,function*(){const t=this.fragments.map(e=>e.render(this.container.group()));return t.length===0&&t.push(this.container.group().path("M0,0h10")),Promise.all(t).then(e=>{this.start=e[0],this.end=e[e.length-1],Vi(e,10),this.container.path(this.connectorPaths(e).join("")).back()})})}connectorPaths(t){let e=Wt(t[0].bbox()),i;return t.slice(1).map(n=>{i=Wt(n.bbox());const r=`M${e.ax2},${e.ay}H${i.ax}`;return e=i,r})}}var oo=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{_(i.next(u))}catch(m){o(m)}}function c(u){try{_(i.throw(u))}catch(m){o(m)}}function _(u){u.done?r(u.value):n(u.value).then(a,c)}_((i=i.apply(s,t||[])).next())})};class Zi extends xt{constructor(t,e){super(t,e);const i=this.metadata.alternates;this.matches=[this.metadata.match].concat(i.elements.map(n=>n.match)).map(n=>new ho(n,this)),this.proxy=i.elements.length===0?this.matches[0]:null}renderNode(){return oo(this,void 0,void 0,function*(){const t=this.container.group().addClass(`${this.type}-matches`).translate(20,0),e=this.matches;yield Promise.all(e.map(o=>o.render(t.group()))),Wi(e,5);let i=this.bbox();const n=[];e.forEach(o=>n.push(...this.makeCurve(i,o))),n.push(...this.makeSide(i,e[0])),n.push(...this.makeSide(i,e[e.length-1])),this.container.path(n.join("")).back(),i=Wt(t.bbox());const r=e.map(o=>this.makeConnector(i,o));t.path(r.join("")).back()})}makeSide(t,e){const i=e.bbox();if(Math.abs(i.ay-t.cy)>=15){const r=i.ay>t.cy?10:-10,o=i.ay-r;return[`M0,${t.cy}q10,0 10,${r}V${o}`,`M${t.width+40},${t.cy}q-10,0 -10,${r}V${o}`]}}makeCurve(t,e){const i=e.bbox();if(Math.abs(i.ay-t.cy)>=15){const o=i.ay>t.cy?10:-10;return[`M10,${i.ay-o}q0,${o} 10,${o}`,`M${t.width+30},${i.ay-o}q0,${o} -10,${o}`]}const r=i.ay-t.cy;return[`M0,${t.cy}c10,0 10,${r} 20,${r}`,`M${t.width+40},${t.cy}c-10,0 -10,${r} -20,${r}`]}makeConnector(t,e){const i=e.bbox();return`M0,${i.ay}h${i.ax}M${i.ax2},${i.ay}H${t.width}`}}var fo=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{_(i.next(u))}catch(m){o(m)}}function c(u){try{_(i.throw(u))}catch(m){o(m)}}function _(u){u.done?r(u.value):n(u.value).then(a,c)}_((i=i.apply(s,t||[])).next())})};const ao={i:"Ignore Case",g:"Global",m:"Multiline",y:"Sticky",u:"Unicode"};class uo extends xt{constructor(t,e){super(t,e),this.regexp=new Zi(this.metadata.regexp,this)}get flags(){return this.metadata.flags}renderNode(){return fo(this,void 0,void 0,function*(){const t=[];this.flags.text.split("").forEach(o=>{t.includes(o)||t.push(o)});const e=t.sort().map(o=>ao[o]);let i;e.length>0&&(i=this.container.text(`Flags: ${e.join(", ")}`)),yield this.regexp.render(this.container.group()),i?this.regexp.translate(10,i.bbox().height):this.regexp.translate(10,0);const n=this.regexp.bbox(),r=10;this.container.path(`M${n.ax},${n.ay}H0M${n.ax2},${n.ay}H${n.x2+10}`),this.container.circle(10).center(0,n.ay),this.container.circle(10).center(n.x2+r,n.ay)})}}class lo{constructor(t={}){this.groupCounter=0,this.cancelRender=!1,this.warnings=[],this.renderCounter=0,this.maxCounter=0,this.options=t}update(t){if(t>this.renderCounter&&(this.maxCounter=t),this.renderCounter=t,this.maxCounter&&!this.cancelRender){const e=this.options.onChange;if(e){const i=100-Math.round(100*this.renderCounter/this.maxCounter);e({progress:i})}}}inc(){this.update(this.renderCounter+1)}dec(){this.update(this.renderCounter-1)}}const co={specific(){return{min:0,max:-1}}},_o={specific(){return{min:0,max:1}}},po={specific(){return{min:1,max:-1}}},go={specific(){const s=this.min?+this.min.text:this.exact?+this.exact.text:0,t=this.max?+this.max.text:this.exact?+this.exact.text:-1;if(s>t&&t!==-1)throw new Error(`Numbers out of order: ${this.text}`);return{min:s,max:t}}};function mo(){return{Root:{type:"root"},Regexp:{type:"regexp"},Match:{type:"match"},MatchFragment:{type:"match-fragment"},Repeat:{type:"repeat"},RepeatSpec:go,RepeatAny:co,RepeatOptional:_o,RepeatRequired:po,Anchor:{type:"anchor"},Subexp:{type:"subexp"},Charset:{type:"charset"},CharsetRange:{type:"charset-range"},CharsetEscape:{type:"charset-escape"},Escape:{type:"escape"},Literal:{type:"literal"},AnyCharacter:{type:"any-character"}}}var yo=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{_(i.next(u))}catch(m){o(m)}}function c(u){try{_(i.throw(u))}catch(m){o(m)}}function _(u){u.done?r(u.value):n(u.value).then(a,c)}_((i=i.apply(s,t||[])).next())})};function xo(s,t,e={}){return yo(this,void 0,void 0,function*(){const i=new lo(e),n=mo(),r=typeof s=="string"?s:s.toString(),o=Tn.parse(r,{types:n}),a=new uo(o,i),c=jh(t);c.defs().style().add(document.createTextNode(Dh)),yield a.render(c.group());const _=a.bbox();return a.translate(10-_.x,10-_.y),c.size(_.width+20,_.height+20),a})}function wo(s,t,e){let i=-1;const n=new RegExp(s,e),r=[];let o=n.exec(t);for(;o!==null&&!(n.lastIndex===i||o[0]==="");){const a=o.indices,c=[];Object.entries(o).forEach(([u,m])=>{if(u!=="0"&&u.match(/\d+/)){const O=a[Number(u)]||[-1,-1];c.push({name:u,value:m,start:O[0],end:O[1]})}});const _=[];Object.entries(o.groups||{}).forEach(([u,m])=>{const O=a.groups[u]||[-1,-1];_.push({name:u,value:m,start:O[0],end:O[1]})}),r.push({index:o.index,value:o[0],captures:c,groups:_}),i=n.lastIndex,o=n.exec(t)}return r}const bo=["title"],vo=["title"],So=["title"],To=["title"],Ao=["title"],Ro=["title"],Co={scope:"col"},No={scope:"col"},Eo={scope:"col"},Oo={scope:"col"},ko={style:{"white-space":"pre-wrap","word-break":"break-all"}},qo=sn({__name:"regex-tester",setup(s){const t=Bt({name:"regex",storageName:"regex-tester:regex",defaultValue:""}),e=si(""),i=Bt({storageName:"regex-tester:g",name:"global",defaultValue:!0}),n=Bt({storageName:"regex-tester:i",name:"igncase",defaultValue:!1}),r=Bt({storageName:"regex-tester:m",name:"multi",defaultValue:!1}),o=Bt({storageName:"regex-tester:da",name:"dotall",defaultValue:!0}),a=Bt({storageName:"regex-tester:u",name:"uni",defaultValue:!0}),c=Bt({storageName:"regex-tester:us",name:"unisets",defaultValue:!1}),_=si(),{t:u}=nn(),m=rn({source:t,rules:[{message:u("tools.regex-tester.texts.message-invalid-regex-0"),validator:C=>new RegExp(C),getErrorMessage:C=>""}]}),O=ii(()=>{let C="d";i.value&&(C+="g"),n.value&&(C+="i"),r.value&&(C+="m"),o.value&&(C+="s"),a.value?C+="u":c.value&&(C+="v");try{return wo(t.value,e.value,C)}catch{return[]}}),q=ii(()=>{try{return new Sn(new RegExp(t.value.replace(/\(\?\<[^\>]*\>/g,"(?:"))).gen()}catch{return""}});return hn(async()=>{const C=t.value,R=_.value?.shadow_root;if(R){for(;R.lastChild;)R.removeChild(R.lastChild);const j=document.createElementNS("http://www.w3.org/2000/svg","svg");try{await xo(C,j)}catch{}R.appendChild(j)}}),on(()=>{const C=_.value?.shadow_root;C&&C.parentElement?.removeChild(C)}),(C,R)=>{const j=an,W=un,it=pn,at=dn,wt=gn,ut=ln,St=mn,kt=cn,Mt=fn("shadow-root");return zt(),Ht("div",null,[lt(ut,{title:k(u)("tools.regex-tester.regex"),"mb-1":""},{default:_t(()=>[lt(j,{value:k(t),"onUpdate:value":R[0]||(R[0]=Q=>Lt(t)?t.value=Q:null),label:k(u)("tools.regex-tester.regex-input"),placeholder:k(u)("tools.regex-tester.regex-input-placeholder"),multiline:"",rows:"3",validation:k(m)},null,8,["value","label","placeholder","validation"]),lt(W,{target:"_blank",to:"/regex-memo","mb-1":"","mt-1":""},{default:_t(()=>[pt(F(k(u)("tools.regex-tester.link")),1)]),_:1}),lt(at,null,{default:_t(()=>[lt(it,{checked:k(i),"onUpdate:checked":R[1]||(R[1]=Q=>Lt(i)?i.value=Q:null)},{default:_t(()=>[Z("span",{title:k(u)("tools.regex-tester.global")},[pt(F(k(u)("tools.regex-tester.texts.tag-global-search")),1),Z("code",null,F(k(u)("tools.regex-tester.texts.tag-g")),1),pt(F(k(u)("tools.regex-tester.texts.tag-")),1)],8,bo)]),_:1},8,["checked"]),lt(it,{checked:k(n),"onUpdate:checked":R[2]||(R[2]=Q=>Lt(n)?n.value=Q:null)},{default:_t(()=>[Z("span",{title:k(u)("tools.regex-tester.ignoreCase")},[pt(F(k(u)("tools.regex-tester.texts.tag-case-insensitive-search")),1),Z("code",null,F(k(u)("tools.regex-tester.texts.tag-i")),1),pt(F(k(u)("tools.regex-tester.texts.tag-")),1)],8,vo)]),_:1},8,["checked"]),lt(it,{checked:k(r),"onUpdate:checked":R[3]||(R[3]=Q=>Lt(r)?r.value=Q:null)},{default:_t(()=>[Z("span",{title:k(u)("tools.regex-tester.multiline")},[pt(F(k(u)("tools.regex-tester.texts.tag-multiline")),1),Z("code",null,F(k(u)("tools.regex-tester.texts.tag-m")),1),pt(F(k(u)("tools.regex-tester.texts.tag-")),1)],8,So)]),_:1},8,["checked"]),lt(it,{checked:k(o),"onUpdate:checked":R[4]||(R[4]=Q=>Lt(o)?o.value=Q:null)},{default:_t(()=>[Z("span",{title:k(u)("tools.regex-tester.dotAll")},[pt(F(k(u)("tools.regex-tester.texts.tag-singleline")),1),Z("code",null,F(k(u)("tools.regex-tester.texts.tag-s")),1),pt(F(k(u)("tools.regex-tester.texts.tag-")),1)],8,To)]),_:1},8,["checked"]),lt(it,{checked:k(a),"onUpdate:checked":R[5]||(R[5]=Q=>Lt(a)?a.value=Q:null)},{default:_t(()=>[Z("span",{title:k(u)("tools.regex-tester.unicode")},[pt(F(k(u)("tools.regex-tester.texts.tag-unicode")),1),Z("code",null,F(k(u)("tools.regex-tester.texts.tag-u")),1),pt(F(k(u)("tools.regex-tester.texts.tag-")),1)],8,Ao)]),_:1},8,["checked"]),lt(it,{checked:k(c),"onUpdate:checked":R[6]||(R[6]=Q=>Lt(c)?c.value=Q:null)},{default:_t(()=>[Z("span",{title:k(u)("tools.regex-tester.unicodeSets")},[pt(F(k(u)("tools.regex-tester.texts.tag-unicode-sets")),1),Z("code",null,F(k(u)("tools.regex-tester.texts.tag-v")),1),pt(F(k(u)("tools.regex-tester.texts.tag-")),1)],8,Ro)]),_:1},8,["checked"])]),_:1}),lt(wt),lt(j,{value:k(e),"onUpdate:value":R[7]||(R[7]=Q=>Lt(e)?e.value=Q:null),label:k(u)("tools.regex-tester.text-input"),placeholder:k(u)("tools.regex-tester.text-input-placeholder"),multiline:"",rows:"5"},null,8,["value","label","placeholder"])]),_:1},8,["title"]),lt(ut,{title:k(u)("tools.regex-tester.matches"),"mb-1":"","mt-3":""},{default:_t(()=>[k(O)?.length>0?(zt(),ni(St,{key:0},{default:_t(()=>[Z("thead",null,[Z("tr",null,[Z("th",Co,F(k(u)("tools.regex-tester.text-index")),1),Z("th",No,F(k(u)("tools.regex-tester.value")),1),Z("th",Eo,F(k(u)("tools.regex-tester.captures")),1),Z("th",Oo,F(k(u)("tools.regex-tester.groups")),1)])]),Z("tbody",null,[(zt(!0),Ht(Ze,null,Ke(k(O),Q=>(zt(),Ht("tr",{key:Q.index},[Z("td",null,F(Q.index),1),Z("td",null,F(Q.value),1),Z("td",null,[Z("ul",null,[(zt(!0),Ht(Ze,null,Ke(Q.captures,gt=>(zt(),Ht("li",{key:gt.name},' "'+F(gt.name)+'" = '+F(gt.value)+" ["+F(gt.start)+" - "+F(gt.end)+"] ",1))),128))])]),Z("td",null,[Z("ul",null,[(zt(!0),Ht(Ze,null,Ke(Q.groups,gt=>(zt(),Ht("li",{key:gt.name},' "'+F(gt.name)+'" = '+F(gt.value)+" ["+F(gt.start)+" - "+F(gt.end)+"] ",1))),128))])])]))),128))])]),_:1})):(zt(),ni(kt,{key:1},{default:_t(()=>[pt(F(k(u)("tools.regex-tester.no-match")),1)]),_:1}))]),_:1},8,["title"]),lt(ut,{title:k(u)("tools.regex-tester.sample"),"mt-3":""},{default:_t(()=>[Z("pre",ko,F(k(q)),1)]),_:1},8,["title"]),lt(ut,{title:k(u)("tools.regex-tester.diagram"),style:{"overflow-x":"scroll"},"mt-3":""},{default:_t(()=>[lt(Mt,{ref_key:"visualizerSVG",ref:_},{default:_t(()=>[pt(F(k(u)("tools.regex-tester.texts.tag-xa0")),1)]),_:1},512)]),_:1},8,["title"])])}}});export{qo as default};
