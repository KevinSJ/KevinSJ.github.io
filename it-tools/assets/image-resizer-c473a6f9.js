import{d3 as G,d as ne,a0 as ue,r as v,i as S,D as P,o as h,j as K,w as $,a as s,k as m,l as i,c as y,G as n,a6 as M,ad as z,bc as re,cE as X,aW as ce,b3 as ve,aj as de,ai as pe,bo as ge,bp as me,bq as he}from"./index-0c1fde36.js";import{_ as _e}from"./Select-9917c364.js";import{_ as fe}from"./Card-7ba5ce79.js";import"./Tag-e75b8dae.js";import"./FocusDetector-089b8822.js";import"./VirtualList-8140ffff.js";import"./Empty-ca426d71.js";import"./index-cbfaa337.js";/**
 * @license @tabler/icons-vue v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xe=G("outline","lock-open-2","IconLockOpen2",[["path",{d:"M3 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M13 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var we=G("outline","lock","IconLock",[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ye=G("outline","reload","IconReload",[["path",{d:"M19.933 13.041a8 8 0 1 1 -9.925 -8.788c3.899 -1 7.935 1.007 9.425 4.747",key:"svg-0"}],["path",{d:"M20 4v5h-5",key:"svg-1"}]]);const ze=V=>(ge("data-v-c3ca4f25"),V=V(),me(),V),be={key:0,display:"flex",direction:"row",style:{"align-items":"center"}},ke={style:{margin:"0","margin-right":"10px"}},Ie={class:"compact-controls",style:{"margin-bottom":"20px","margin-top":"20px"}},Re={class:"dimensions-section"},Me={class:"input-group"},Ae={for:"widthInput"},Ce={class:"input-group"},$e={for:"heightInput"},Ue={key:0,class:"validation-warning"},Le={style:{color:"red","font-size":"12px",margin:"5px 0 0 0"}},Se={key:1,class:"validation-warning"},We={style:{color:"red","font-size":"12px",margin:"5px 0 0 0"}},Ve={class:"aspect-ratio-middle"},je={key:0,class:"current-ratio-display"},De=["title"],He={class:"aspect-ratio-section-compact"},Ne={class:"aspect-ratio-selector-compact"},Fe={key:0,class:"custom-ratio-inputs-compact"},Ee={class:"custom-ratio-group-compact"},Pe={key:1,class:"image-container",style:{"text-align":"center","margin-top":"20px"}},Oe={key:0,class:"image-wrapper"},Te=["src","alt"],Be={key:1,class:"preview-too-large"},qe={style:{color:"#666","font-style":"italic",margin:"20px 0"}},Xe=ze(()=>s("br",null,null,-1)),Ge={key:2},Je={class:"download-grid"},W=32767,Q=268435456,Ke=ne({__name:"image-resizer",setup(V){const{t:o}=ue(),j=v(null),Y=v(null),b=v(null),t=v(1920),l=v(1080),_=v(null),f=v(null),A=v(null),d=v(!1),x=v(null),C=v(!1),k=v("custom"),I=v(16),R=v(9),D=v("width"),Z=[{label:o("tools.image-resizer.texts.label-custom"),value:"custom"},{label:o("tools.image-resizer.texts.label-original"),value:"original"},{label:o("tools.image-resizer.texts.label-21-9-ultrawide"),value:"21:9"},{label:o("tools.image-resizer.texts.label-16-9-widescreen"),value:"16:9"},{label:o("tools.image-resizer.texts.label-4-3-standard"),value:"4:3"},{label:o("tools.image-resizer.texts.label-3-2-photography"),value:"3:2"},{label:o("tools.image-resizer.texts.label-1-1-square"),value:"1:1"},{label:o("tools.image-resizer.texts.label-3-4-portrait"),value:"3:4"},{label:o("tools.image-resizer.texts.label-9-16-portrait"),value:"9:16"}],H=S(()=>t.value>W||l.value>W||t.value*l.value>Q),U=S(()=>t.value>7680||l.value>7680),O=S(()=>(A.value||b.value&&U.value)&&j.value&&t.value>0&&l.value>0&&!H.value),ee=S(()=>_.value!==null&&f.value!==null);function L(a,e){return e===0?a:L(e,a%e)}const J=S(()=>{if(!t.value||!l.value||t.value<=0||l.value<=0)return"";const a=t.value/l.value,e=.01,g=[{ratio:21/9,display:"21:9"},{ratio:16/9,display:"16:9"},{ratio:4/3,display:"4:3"},{ratio:3/2,display:"3:2"},{ratio:1/1,display:"1:1"},{ratio:3/4,display:"3:4"},{ratio:2/3,display:"2:3"},{ratio:9/16,display:"9:16"}];for(const c of g)if(Math.abs(a-c.ratio)<=e)return c.display;const u=Math.round(t.value),r=Math.round(l.value),p=L(u,r),w=u/p,E=r/p;return`${w}:${E}`});function N(a){switch(a){case"original":return _.value&&f.value?_.value/f.value:null;case"16:9":return 16/9;case"4:3":return 4/3;case"1:1":return 1;case"3:2":return 3/2;case"21:9":return 21/9;case"9:16":return 9/16;case"3:4":return 3/4;case"custom":return I.value&&R.value?I.value/R.value:null;default:return null}}P(k,a=>{const e=N(a);e&&(x.value=e,d.value||(d.value=!0),l.value=Math.round(t.value/e))}),P([I,R],()=>{if(k.value==="custom"&&d.value){const a=N("custom");a&&(x.value=a,l.value=Math.round(t.value/a))}});function F(){if(d.value=!d.value,d.value)if(k.value!=="custom")x.value=N(k.value);else if(t.value&&l.value&&t.value>0&&l.value>0){x.value=t.value/l.value;const a=L(Math.round(t.value),Math.round(l.value));I.value=Math.round(t.value)/a,R.value=Math.round(l.value)/a}else d.value=!1;else x.value=null}function ae(){return d.value?we:xe}function te(){const a=N(k.value);a&&(x.value=a,d.value||(d.value=!0),l.value=Math.round(t.value/a))}function le(){if(_.value&&f.value){d.value&&F(),t.value=_.value,l.value=f.value;const a=L(_.value,f.value);I.value=_.value/a,R.value=f.value/a}}function oe(){D.value="width"}function se(){D.value="height"}P(t,()=>{if(d.value&&x.value&&!C.value&&t.value>0&&D.value==="width"){C.value=!0;const a=Math.round(t.value/x.value);a>0&&(l.value=a),C.value=!1}U.value||T()}),P(l,()=>{if(d.value&&x.value&&!C.value&&l.value>0&&D.value==="height"){C.value=!0;const a=Math.round(l.value*x.value);a>0&&(t.value=a),C.value=!1}U.value||T()});async function ie(a){if(a){j.value=a;try{const e=new FileReader,g=await new Promise((r,p)=>{e.onload=()=>r(e.result),e.onerror=w=>p(w),e.readAsDataURL(a)});Y.value=g,b.value=g,A.value=null;const u=new Image;u.src=g,await new Promise(r=>{u.onload=()=>{_.value=u.naturalWidth,f.value=u.naturalHeight;let p=!1;d.value&&(p=!0,F()),t.value=u.naturalWidth,l.value=u.naturalHeight;const w=L(u.naturalWidth,u.naturalHeight);I.value=u.naturalWidth/w,R.value=u.naturalHeight/w,p&&F(),t.value>0&&l.value>0&&T(),r()}})}catch(e){console.error("Error reading file:",e)}}}async function T(){if(!b.value)return;if(H.value){A.value=null;return}const a=new Image;a.src=b.value,a.onload=()=>{const e=document.createElement("canvas");e.width=t.value,e.height=l.value,e.getContext("2d")?.drawImage(a,0,0,t.value,l.value),A.value=e.toDataURL("image/png")}}function B(a){if(!j.value||!b.value){console.warn("No image available for download");return}if(t.value<=0||l.value<=0){console.warn("Invalid dimensions: Width and height must be greater than 0");return}if(H.value){console.warn("Canvas size exceeds browser limits");return}const e=new Image;e.src=b.value,e.onload=()=>{const g=document.createElement("canvas");g.width=t.value,g.height=l.value;const u=g.getContext("2d");(a==="jpg"||a==="jpeg")&&(u.fillStyle="white",u.fillRect(0,0,t.value,l.value)),u?.drawImage(e,0,0,t.value,l.value);let r;const p=.9;switch(a.toLowerCase()){case"jpg":case"jpeg":r="image/jpeg";break;case"png":r="image/png";break;case"webp":r="image/webp";break;default:r="image/png",a="png"}const w=g.toDataURL(r,p),c=`${j.value.name.replace(/\.[^/.]+$/,"")}-${t.value}x${l.value}.${a}`,q=document.createElement("a");q.href=w,q.download=c,q.click()}}return(a,e)=>{const g=ce,u=ve,r=de,p=pe,w=_e,E=fe;return h(),K(E,null,{default:$(()=>[s("div",null,[m(g,{"mb-2":"",accept:"image/*",title:i(o)("tools.image-resizer.texts.title-drag-and-drop-an-image-file-here"),onFileUpload:ie},null,8,["title"]),_.value&&f.value?(h(),y("div",be,[s("p",ke," Original Image Dimensions: "+n(_.value)+"x"+n(f.value)+"px ",1),ee.value?(h(),K(r,{key:0,type:"tertiary",title:i(o)("tools.image-resizer.texts.title-reset-to-original-dimensions"),"mt-1":"",onClick:le},{default:$(()=>[m(u,{component:i(ye),size:"16",style:{"margin-right":"5px"}},null,8,["component"]),M(n(i(o)("tools.image-resizer.texts.tag-reset-width-and-height-to-image-dimensions")),1)]),_:1},8,["title"])):z("",!0)])):z("",!0),s("div",Ie,[s("div",Re,[s("h4",null,n(i(o)("tools.image-resizer.texts.tag-dimensions")),1),s("div",Me,[s("label",Ae,n(i(o)("tools.image-resizer.texts.tag-width-px")),1),m(p,{id:"widthInput",value:t.value,"onUpdate:value":e[0]||(e[0]=c=>t.value=c),placeholder:i(o)("tools.image-resizer.texts.placeholder-width-px"),min:1,max:W,onFocus:oe},null,8,["value","placeholder"])]),s("div",Ce,[s("label",$e,n(i(o)("tools.image-resizer.texts.tag-height-px")),1),m(p,{id:"heightInput",value:l.value,"onUpdate:value":e[1]||(e[1]=c=>l.value=c),placeholder:i(o)("tools.image-resizer.texts.placeholder-height-px"),min:1,max:W,onFocus:se},null,8,["value","placeholder"])]),t.value<=0||l.value<=0?(h(),y("div",Ue,[s("p",Le,n(i(o)("tools.image-resizer.texts.tag-️-width-and-height-must-be-greater-than-0")),1)])):H.value?(h(),y("div",Se,[s("p",We," ⚠️ Canvas size exceeds browser limits (max: "+n(W.toLocaleString())+"px per side, max area: "+n(Math.floor(Q/1e6))+"M pixels) ",1)])):z("",!0)]),s("div",Ve,[s("h4",null,n(i(o)("tools.image-resizer.texts.tag-aspect-ratio")),1),J.value?(h(),y("div",je,n(J.value),1)):z("",!0),s("div",{class:"lock-icon flex cursor-pointer items-center justify-center rounded text-gray-500 transition-colors hover:text-blue-600",title:i(o)("tools.image-resizer.texts.title-lock-unlock-aspect-ratio"),onClick:e[2]||(e[2]=c=>F())},[m(u,{component:ae(),size:"26"},null,8,["component"])],8,De)]),s("div",He,[s("h4",null,n(i(o)("tools.image-resizer.texts.tag-aspect-ratio-presets")),1),s("div",Ne,[m(w,{id:"aspectRatioSelect",value:k.value,"onUpdate:value":e[3]||(e[3]=c=>k.value=c),options:Z,placeholder:i(o)("tools.image-resizer.texts.placeholder-choose-ratio"),size:"small",style:{width:"160px"}},null,8,["value","placeholder"]),m(r,{type:"primary",size:"small",onClick:te},{default:$(()=>[M(n(i(o)("tools.image-resizer.texts.tag-apply")),1)]),_:1})]),k.value==="custom"?(h(),y("div",Fe,[s("div",Ee,[m(p,{value:I.value,"onUpdate:value":e[4]||(e[4]=c=>I.value=c),placeholder:i(o)("tools.image-resizer.texts.placeholder-w"),min:1,size:"small",style:{width:"100px"}},null,8,["value","placeholder"]),s("span",null,n(i(o)("tools.image-resizer.texts.tag-")),1),m(p,{value:R.value,"onUpdate:value":e[5]||(e[5]=c=>R.value=c),placeholder:i(o)("tools.image-resizer.texts.placeholder-h"),min:1,size:"small",style:{width:"100px"}},null,8,["value","placeholder"])])])):z("",!0)])]),b.value?(h(),y("div",Pe,[A.value&&!U.value?(h(),y("div",Oe,[s("img",{src:A.value,alt:`Resized Preview (${t.value}px x ${l.value}px)`,style:re({width:`${t.value}px`,height:`${l.value}px`})},null,12,Te),s("p",null,"Preview: "+n(t.value)+"x"+n(l.value)+"px",1)])):z("",!0),U.value?(h(),y("div",Be,[s("p",qe,[M(" ⚠️ Preview not shown - dimensions too large ("+n(t.value)+"x"+n(l.value)+"px) ",1),Xe,M(n(i(o)("tools.image-resizer.texts.tag-preview-is-disabled-when-width-or-height-exceeds-7-680-pixels-for-performance-reasons")),1)])])):z("",!0),b.value?(h(),y("div",Ge,[s("h3",null,n(i(o)("tools.image-resizer.texts.tag-download-options")),1),s("div",Je,[m(r,{disabled:!O.value,onClick:e[6]||(e[6]=X(c=>B("jpg"),["prevent"]))},{default:$(()=>[M(n(i(o)("tools.image-resizer.texts.tag-download-jpg")),1)]),_:1},8,["disabled"]),m(r,{disabled:!O.value,onClick:e[7]||(e[7]=X(c=>B("png"),["prevent"]))},{default:$(()=>[M(n(i(o)("tools.image-resizer.texts.tag-download-png")),1)]),_:1},8,["disabled"]),m(r,{disabled:!O.value,onClick:e[8]||(e[8]=X(c=>B("webp"),["prevent"]))},{default:$(()=>[M(n(i(o)("tools.image-resizer.texts.tag-download-webp")),1)]),_:1},8,["disabled"])])])):z("",!0)])):z("",!0)])]),_:1})}}});const sa=he(Ke,[["__scopeId","data-v-c3ca4f25"]]);export{sa as default};
