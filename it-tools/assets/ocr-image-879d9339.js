import{p as X,d as Se,a0 as Le,ac as Ee,r as de,E as Oe,i as pe,o as Z,c as Ae,k as A,l,m as me,a as ie,G as Te,j as re,ad as ne,w as oe,ae as je,aW as Re,af as $e,bo as Ie,bp as Pe,bq as Ne}from"./index-0c1fde36.js";import{c as Ce}from"./_commonjs-dynamic-modules-302442b1.js";import{_ as Me,p as ze,a as Ge}from"./pdf.worker-72a2c238.js";import{t as Ue}from"./text-statistics.service-76e0c0ec.js";import{_ as De}from"./TextareaCopyable-59231e95.js";import{_ as Be}from"./Divider-5fc425b0.js";import{_ as Fe}from"./Statistic-a2fa2c26.js";import{_ as xe}from"./Space-7fc52151.js";import{_ as We}from"./Spin-885f2a22.js";import"./index-a6f01dde.js";import"./base64-ae7cf34b.js";import"./downloadBase64-508288e2.js";import"./index-6fddb70d.js";import"./index-cfd4d427.js";import"./Copy-ef9ec73c.js";import"./Scrollbar-54724e22.js";import"./get-slot-1efb97e5.js";var Ke={exports:{}};(function(n){var a=function(i){var u=Object.prototype,S=u.hasOwnProperty,E=Object.defineProperty||function(r,e,o){r[e]=o.value},b,h=typeof Symbol=="function"?Symbol:{},w=h.iterator||"@@iterator",$=h.asyncIterator||"@@asyncIterator",I=h.toStringTag||"@@toStringTag";function d(r,e,o){return Object.defineProperty(r,e,{value:o,enumerable:!0,configurable:!0,writable:!0}),r[e]}try{d({},"")}catch{d=function(e,o,c){return e[o]=c}}function T(r,e,o,c){var t=e&&e.prototype instanceof R?e:R,s=Object.create(t.prototype),p=new Y(c||[]);return E(s,"_invoke",{value:ee(r,o,p)}),s}i.wrap=T;function P(r,e,o){try{return{type:"normal",arg:r.call(e,o)}}catch(c){return{type:"throw",arg:c}}}var y="suspendedStart",L="suspendedYield",O="executing",j="completed",m={};function R(){}function _(){}function g(){}var D={};d(D,w,function(){return this});var C=Object.getPrototypeOf,x=C&&C(C(J([])));x&&x!==u&&S.call(x,w)&&(D=x);var G=g.prototype=R.prototype=Object.create(D);_.prototype=g,E(G,"constructor",{value:g,configurable:!0}),E(g,"constructor",{value:_,configurable:!0}),_.displayName=d(g,I,"GeneratorFunction");function V(r){["next","throw","return"].forEach(function(e){d(r,e,function(o){return this._invoke(e,o)})})}i.isGeneratorFunction=function(r){var e=typeof r=="function"&&r.constructor;return e?e===_||(e.displayName||e.name)==="GeneratorFunction":!1},i.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,g):(r.__proto__=g,d(r,I,"GeneratorFunction")),r.prototype=Object.create(G),r},i.awrap=function(r){return{__await:r}};function W(r,e){function o(s,p,f,v){var k=P(r[s],r,p);if(k.type==="throw")v(k.arg);else{var U=k.arg,M=U.value;return M&&typeof M=="object"&&S.call(M,"__await")?e.resolve(M.__await).then(function(z){o("next",z,f,v)},function(z){o("throw",z,f,v)}):e.resolve(M).then(function(z){U.value=z,f(U)},function(z){return o("throw",z,f,v)})}}var c;function t(s,p){function f(){return new e(function(v,k){o(s,p,v,k)})}return c=c?c.then(f,f):f()}E(this,"_invoke",{value:t})}V(W.prototype),d(W.prototype,$,function(){return this}),i.AsyncIterator=W,i.async=function(r,e,o,c,t){t===void 0&&(t=Promise);var s=new W(T(r,e,o,c),t);return i.isGeneratorFunction(e)?s:s.next().then(function(p){return p.done?p.value:s.next()})};function ee(r,e,o){var c=y;return function(s,p){if(c===O)throw new Error("Generator is already running");if(c===j){if(s==="throw")throw p;return q()}for(o.method=s,o.arg=p;;){var f=o.delegate;if(f){var v=H(f,o);if(v){if(v===m)continue;return v}}if(o.method==="next")o.sent=o._sent=o.arg;else if(o.method==="throw"){if(c===y)throw c=j,o.arg;o.dispatchException(o.arg)}else o.method==="return"&&o.abrupt("return",o.arg);c=O;var k=P(r,e,o);if(k.type==="normal"){if(c=o.done?j:L,k.arg===m)continue;return{value:k.arg,done:o.done}}else k.type==="throw"&&(c=j,o.method="throw",o.arg=k.arg)}}}function H(r,e){var o=e.method,c=r.iterator[o];if(c===b)return e.delegate=null,o==="throw"&&r.iterator.return&&(e.method="return",e.arg=b,H(r,e),e.method==="throw")||o!=="return"&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+o+"' method")),m;var t=P(c,r.iterator,e.arg);if(t.type==="throw")return e.method="throw",e.arg=t.arg,e.delegate=null,m;var s=t.arg;if(!s)return e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m;if(s.done)e[r.resultName]=s.value,e.next=r.nextLoc,e.method!=="return"&&(e.method="next",e.arg=b);else return s;return e.delegate=null,m}V(G),d(G,I,"Generator"),d(G,w,function(){return this}),d(G,"toString",function(){return"[object Generator]"});function te(r){var e={tryLoc:r[0]};1 in r&&(e.catchLoc=r[1]),2 in r&&(e.finallyLoc=r[2],e.afterLoc=r[3]),this.tryEntries.push(e)}function B(r){var e=r.completion||{};e.type="normal",delete e.arg,r.completion=e}function Y(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(te,this),this.reset(!0)}i.keys=function(r){var e=Object(r),o=[];for(var c in e)o.push(c);return o.reverse(),function t(){for(;o.length;){var s=o.pop();if(s in e)return t.value=s,t.done=!1,t}return t.done=!0,t}};function J(r){if(r){var e=r[w];if(e)return e.call(r);if(typeof r.next=="function")return r;if(!isNaN(r.length)){var o=-1,c=function t(){for(;++o<r.length;)if(S.call(r,o))return t.value=r[o],t.done=!1,t;return t.value=b,t.done=!0,t};return c.next=c}}return{next:q}}i.values=J;function q(){return{value:b,done:!0}}return Y.prototype={constructor:Y,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=b,this.done=!1,this.delegate=null,this.method="next",this.arg=b,this.tryEntries.forEach(B),!r)for(var e in this)e.charAt(0)==="t"&&S.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=b)},stop:function(){this.done=!0;var r=this.tryEntries[0],e=r.completion;if(e.type==="throw")throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function o(v,k){return s.type="throw",s.arg=r,e.next=v,k&&(e.method="next",e.arg=b),!!k}for(var c=this.tryEntries.length-1;c>=0;--c){var t=this.tryEntries[c],s=t.completion;if(t.tryLoc==="root")return o("end");if(t.tryLoc<=this.prev){var p=S.call(t,"catchLoc"),f=S.call(t,"finallyLoc");if(p&&f){if(this.prev<t.catchLoc)return o(t.catchLoc,!0);if(this.prev<t.finallyLoc)return o(t.finallyLoc)}else if(p){if(this.prev<t.catchLoc)return o(t.catchLoc,!0)}else if(f){if(this.prev<t.finallyLoc)return o(t.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(r,e){for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o];if(c.tryLoc<=this.prev&&S.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var t=c;break}}t&&(r==="break"||r==="continue")&&t.tryLoc<=e&&e<=t.finallyLoc&&(t=null);var s=t?t.completion:{};return s.type=r,s.arg=e,t?(this.method="next",this.next=t.finallyLoc,m):this.complete(s)},complete:function(r,e){if(r.type==="throw")throw r.arg;return r.type==="break"||r.type==="continue"?this.next=r.arg:r.type==="return"?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):r.type==="normal"&&e&&(this.next=e),m},finish:function(r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.finallyLoc===r)return this.complete(o.completion,o.afterLoc),B(o),m}},catch:function(r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc===r){var c=o.completion;if(c.type==="throw"){var t=c.arg;B(o)}return t}}throw new Error("illegal catch attempt")},delegateYield:function(r,e,o){return this.delegate={iterator:J(r),resultName:e,nextLoc:o},this.method==="next"&&(this.arg=b),m}},i}(n.exports);try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}})(Ke);var le=(n,a)=>`${n}-${a}-${Math.random().toString(16).slice(3,8)}`;const He=le;let fe=0;var we=({id:n,action:a,payload:i={}})=>{let u=n;return typeof u>"u"&&(u=He("Job",fe),fe+=1),{id:u,action:a,payload:i}},K={};let ue=!1;K.logging=ue;K.setLogging=n=>{ue=n};K.log=(...n)=>ue?console.log.apply(globalThis,n):null;const Ye=we,{log:Q}=K,Je=le;let he=0;var Ve=()=>{const n=Je("Scheduler",he),a={},i={};let u=[];he+=1;const S=()=>u.length,E=()=>Object.keys(a).length,b=()=>{if(u.length!==0){const d=Object.keys(a);for(let T=0;T<d.length;T+=1)if(typeof i[d[T]]>"u"){u[0](a[d[T]]);break}}},h=(d,T)=>new Promise((P,y)=>{const L=Ye({action:d,payload:T});u.push(async O=>{u.shift(),i[O.id]=L;try{P(await O[d].apply(globalThis,[...T,L.id]))}catch(j){y(j)}finally{delete i[O.id],b()}}),Q(`[${n}]: Add ${L.id} to JobQueue`),Q(`[${n}]: JobQueue length=${u.length}`),b()});return{addWorker:d=>(a[d.id]=d,Q(`[${n}]: Add ${d.id}`),Q(`[${n}]: Number of workers=${E()}`),b(),d.id),addJob:async(d,...T)=>{if(E()===0)throw Error(`[${n}]: You need to have at least one worker before adding jobs`);return h(d,T)},terminate:async()=>{Object.keys(a).forEach(async d=>{await a[d].terminate()}),u=[]},getQueueLen:S,getNumWorkers:E}};function qe(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof X<"u"&&typeof X.versions=="object"&&X.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}var Ze=qe;const Qe=Ze;var Xe=n=>{const a={};return typeof WorkerGlobalScope<"u"?a.type="webworker":Qe()?a.type="electron":typeof document=="object"?a.type="browser":typeof X=="object"&&typeof Ce=="function"&&(a.type="node"),typeof n>"u"?a:a[n]};const et=Xe("type")==="browser",tt=et?n=>new URL(n,window.location.href).href:n=>n;var rt=n=>{const a={...n};return["corePath","workerPath","langPath"].forEach(i=>{n[i]&&(a[i]=tt(a[i]))}),a},nt=n=>{const a=[],i=[],u=[],S=[],E=[];return n.blocks&&n.blocks.forEach(b=>{b.paragraphs.forEach(h=>{h.lines.forEach(w=>{w.words.forEach($=>{$.symbols.forEach(I=>{E.push({...I,page:n,block:b,paragraph:h,line:w,word:$})}),S.push({...$,page:n,block:b,paragraph:h,line:w})}),u.push({...w,page:n,block:b,paragraph:h})}),i.push({...h,page:n,block:b})}),a.push({...b,page:n})}),{...n,blocks:a,paragraphs:i,lines:u,words:S,symbols:E}},ye={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const ot="tesseract.js",at="5.1.1",st="Pure Javascript Multilingual OCR",it="src/index.js",ct="src/index.d.ts",lt="dist/tesseract.min.js",ut="dist/tesseract.min.js",dt={start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},pt={"./src/worker/node/index.js":"./src/worker/browser/index.js"},mt="",ft=["jeromewu"],ht="Apache-2.0",gt={"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},vt={"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-electron":"^2.2.2","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^5.1.1","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},bt={"@rollup/pluginutils":"^5.0.2"},wt={type:"git",url:"https://github.com/naptha/tesseract.js.git"},yt={url:"https://github.com/naptha/tesseract.js/issues"},_t="https://github.com/naptha/tesseract.js",kt={type:"opencollective",url:"https://opencollective.com/tesseractjs"},St={name:ot,version:at,description:st,main:it,types:ct,unpkg:lt,jsdelivr:ut,scripts:dt,browser:pt,author:mt,contributors:ft,license:ht,devDependencies:gt,dependencies:vt,overrides:bt,repository:wt,bugs:yt,homepage:_t,collective:kt};var Lt={workerBlobURL:!0,logger:()=>{}};const Et=St.version,Ot=Lt;var At={...Ot,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${Et}/dist/worker.min.js`},Tt=({workerPath:n,workerBlobURL:a})=>{let i;if(Blob&&URL&&a){const u=new Blob([`importScripts("${n}");`],{type:"application/javascript"});i=new Worker(URL.createObjectURL(u))}else i=new Worker(n);return i},jt=n=>{n.terminate()},Rt=(n,a)=>{n.onmessage=({data:i})=>{a(i)}},$t=async(n,a)=>{n.postMessage(a)};const ae=n=>new Promise((a,i)=>{const u=new FileReader;u.onload=()=>{a(u.result)},u.onerror=({target:{error:{code:S}}})=>{i(Error(`File could not be read! Code=${S}`))},u.readAsArrayBuffer(n)}),ce=async n=>{let a=n;if(typeof n>"u")return"undefined";if(typeof n=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(n)?a=atob(n.split(",")[1]).split("").map(i=>i.charCodeAt(0)):a=await(await fetch(n)).arrayBuffer();else if(typeof HTMLElement<"u"&&n instanceof HTMLElement)n.tagName==="IMG"&&(a=await ce(n.src)),n.tagName==="VIDEO"&&(a=await ce(n.poster)),n.tagName==="CANVAS"&&await new Promise(i=>{n.toBlob(async u=>{a=await ae(u),i()})});else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas){const i=await n.convertToBlob();a=await ae(i)}else(n instanceof File||n instanceof Blob)&&(a=await ae(n));return new Uint8Array(a)};var It=ce;const Pt=At,Nt=Tt,Ct=jt,Mt=Rt,zt=$t,Gt=It;var Ut={defaultOptions:Pt,spawnWorker:Nt,terminateWorker:Ct,onMessage:Mt,send:zt,loadImage:Gt};const Dt=rt,Bt=nt,N=we,{log:ge}=K,Ft=le,F=ye,{defaultOptions:xt,spawnWorker:Wt,terminateWorker:Kt,onMessage:Ht,loadImage:ve,send:Yt}=Ut;let be=0;var _e=async(n="eng",a=F.LSTM_ONLY,i={},u={})=>{const S=Ft("Worker",be),{logger:E,errorHandler:b,...h}=Dt({...xt,...i}),w={},$={},I=typeof n=="string"?n.split("+"):n;let d=a,T=u;const P=[F.DEFAULT,F.LSTM_ONLY].includes(a)&&!h.legacyCore;let y,L;const O=new Promise((t,s)=>{L=t,y=s}),j=t=>{y(t.message)};let m=Wt(h);m.onerror=j,be+=1;const R=(t,s)=>{w[t]=s},_=(t,s)=>{$[t]=s},g=({id:t,action:s,payload:p})=>new Promise((f,v)=>{ge(`[${S}]: Start ${t}, action=${s}`);const k=`${s}-${t}`;R(k,f),_(k,v),Yt(m,{workerId:S,jobId:t,action:s,payload:p})}),D=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),C=t=>g(N({id:t,action:"load",payload:{options:{lstmOnly:P,corePath:h.corePath,logging:h.logging}}})),x=(t,s,p)=>g(N({id:p,action:"FS",payload:{method:"writeFile",args:[t,s]}})),G=(t,s)=>g(N({id:s,action:"FS",payload:{method:"readFile",args:[t,{encoding:"utf8"}]}})),V=(t,s)=>g(N({id:s,action:"FS",payload:{method:"unlink",args:[t]}})),W=(t,s,p)=>g(N({id:p,action:"FS",payload:{method:t,args:s}})),ee=()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),H=(t,s)=>g(N({id:s,action:"loadLanguage",payload:{langs:t,options:{langPath:h.langPath,dataPath:h.dataPath,cachePath:h.cachePath,cacheMethod:h.cacheMethod,gzip:h.gzip,lstmOnly:[F.DEFAULT,F.LSTM_ONLY].includes(d)&&!h.legacyLang}}})),te=()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),B=(t,s,p,f)=>g(N({id:f,action:"initialize",payload:{langs:t,oem:s,config:p}})),Y=(t="eng",s,p,f)=>{if(P&&[F.TESSERACT_ONLY,F.TESSERACT_LSTM_COMBINED].includes(s))throw Error("Legacy model requested but code missing.");const v=s||d;d=v;const k=p||T;T=k;const M=(typeof t=="string"?t.split("+"):t).filter(z=>!I.includes(z));return I.push(...M),M.length>0?H(M,f).then(()=>B(t,v,k,f)):B(t,v,k,f)},J=(t={},s)=>g(N({id:s,action:"setParameters",payload:{params:t}})),q=async(t,s={},p={blocks:!0,text:!0,hocr:!0,tsv:!0},f)=>g(N({id:f,action:"recognize",payload:{image:await ve(t),options:s,output:p}})),r=(t="Tesseract OCR Result",s=!1,p)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),g(N({id:p,action:"getPDF",payload:{title:t,textonly:s}}))),e=async(t,s)=>{if(P)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return g(N({id:s,action:"detect",payload:{image:await ve(t)}}))},o=async()=>(m!==null&&(Kt(m),m=null),Promise.resolve());Ht(m,({workerId:t,jobId:s,status:p,action:f,data:v})=>{const k=`${f}-${s}`;if(p==="resolve"){ge(`[${t}]: Complete ${s}`);let U=v;f==="recognize"?U=Bt(v):f==="getPDF"&&(U=Array.from({...v,length:Object.keys(v).length})),w[k]({jobId:s,data:U})}else if(p==="reject")if($[k](v),f==="load"&&y(v),b)b(v);else throw Error(v);else p==="progress"&&E({...v,userJobId:s})});const c={id:S,worker:m,setResolve:R,setReject:_,load:D,writeText:x,readText:G,removeFile:V,FS:W,loadLanguage:ee,initialize:te,reinitialize:Y,setParameters:J,recognize:q,getPDF:r,detect:e,terminate:o};return C().then(()=>H(n)).then(()=>B(n,a,u)).then(()=>L(c)).catch(()=>{}),O};const ke=_e,Jt=async(n,a,i)=>{const u=await ke(a,1,i);return u.recognize(n).finally(async()=>{await u.terminate()})},Vt=async(n,a)=>{const i=await ke("osd",0,a);return i.detect(n).finally(async()=>{await i.terminate()})};var qt={recognize:Jt,detect:Vt},Zt={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},Qt={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const Xt=Ve,er=_e,tr=qt,rr=Zt,nr=ye,or=Qt,{setLogging:ar}=K;var sr={languages:rr,OEM:nr,PSM:or,createScheduler:Xt,createWorker:er,setLogging:ar,...tr};const ir=n=>(Ie("data-v-dcdfa272"),n=n(),Pe(),n),cr=ir(()=>ie("div",{id:"container",style:{display:"none"}},null,-1)),se=`
=============
`,lr=Se({__name:"ocr-image",setup(n){const{t:a}=Le(),i=[{name:"English",code:"eng"},{name:"Portuguese",code:"por"},{name:"Afrikaans",code:"afr"},{name:"Albanian",code:"sqi"},{name:"Amharic",code:"amh"},{name:"Arabic",code:"ara"},{name:"Assamese",code:"asm"},{name:"Azerbaijani",code:"aze"},{name:"Azerbaijani - Cyrillic",code:"aze_cyrl"},{name:"Basque",code:"eus"},{name:"Belarusian",code:"bel"},{name:"Bengali",code:"ben"},{name:"Bosnian",code:"bos"},{name:"Bulgarian",code:"bul"},{name:"Burmese",code:"mya"},{name:"Catalan; Valencian",code:"cat"},{name:"Cebuano",code:"ceb"},{name:"Central Khmer",code:"khm"},{name:"Cherokee",code:"chr"},{name:"Chinese - Simplified",code:"chi_sim"},{name:"Chinese - Traditional",code:"chi_tra"},{name:"Croatian",code:"hrv"},{name:"Czech",code:"ces"},{name:"Danish",code:"dan"},{name:"Dutch; Flemish",code:"nld"},{name:"Dzongkha",code:"dzo"},{name:"English, Middle (1100-1500)",code:"enm"},{name:"Esperanto",code:"epo"},{name:"Estonian",code:"est"},{name:"Finnish",code:"fin"},{name:"French",code:"fra"},{name:"French, Middle (ca. 1400-1600)",code:"frm"},{name:"Galician",code:"glg"},{name:"Georgian",code:"kat"},{name:"German",code:"deu"},{name:"German Fraktur",code:"frk"},{name:"Greek, Modern (1453-)",code:"ell"},{name:"Greek, Ancient (-1453)",code:"grc"},{name:"Gujarati",code:"guj"},{name:"Haitian; Haitian Creole",code:"hat"},{name:"Hebrew",code:"heb"},{name:"Hindi",code:"hin"},{name:"Hungarian",code:"hun"},{name:"Icelandic",code:"isl"},{name:"Indonesian",code:"ind"},{name:"Inuktitut",code:"iku"},{name:"Irish",code:"gle"},{name:"Italian",code:"ita"},{name:"Japanese",code:"jpn"},{name:"Javanese",code:"jav"},{name:"Kannada",code:"kan"},{name:"Kazakh",code:"kaz"},{name:"Kirghiz; Kyrgyz",code:"kir"},{name:"Korean",code:"kor"},{name:"Kurdish",code:"kur"},{name:"Lao",code:"lao"},{name:"Latin",code:"lat"},{name:"Latvian",code:"lav"},{name:"Lithuanian",code:"lit"},{name:"Macedonian",code:"mkd"},{name:"Malay",code:"msa"},{name:"Malayalam",code:"mal"},{name:"Maltese",code:"mlt"},{name:"Marathi",code:"mar"},{name:"Nepali",code:"nep"},{name:"Norwegian",code:"nor"},{name:"Oriya",code:"ori"},{name:"Panjabi; Punjabi",code:"pan"},{name:"Persian",code:"fas"},{name:"Polish",code:"pol"},{name:"Pushto; Pashto",code:"pus"},{name:"Romanian; Moldavian; Moldovan",code:"ron"},{name:"Russian",code:"rus"},{name:"Sanskrit",code:"san"},{name:"Serbian",code:"srp"},{name:"Serbian - Latin",code:"srp_latn"},{name:"Sinhala; Sinhalese",code:"sin"},{name:"Slovak",code:"slk"},{name:"Slovenian",code:"slv"},{name:"Spanish; Castilian",code:"spa"},{name:"Swahili",code:"swa"},{name:"Swedish",code:"swe"},{name:"Syriac",code:"syr"},{name:"Tagalog",code:"tgl"},{name:"Tajik",code:"tgk"},{name:"Tamil",code:"tam"},{name:"Telugu",code:"tel"},{name:"Thai",code:"tha"},{name:"Tibetan",code:"bod"},{name:"Tigrinya",code:"tir"},{name:"Turkish",code:"tur"},{name:"Uighur; Uyghur",code:"uig"},{name:"Ukrainian",code:"ukr"},{name:"Urdu",code:"urd"},{name:"Uzbek",code:"uzb"},{name:"Uzbek - Cyrillic",code:"uzb_cyrl"},{name:"Vietnamese",code:"vie"},{name:"Welsh",code:"cym"},{name:"Yiddish",code:"yid"}],u=Array.from(i.map(y=>({label:y.name,value:y.code}))),S=Ee({name:"lang",storageName:"ocr-image:lang",defaultValue:"eng"}),E=de(!1),b=de(),h=Oe(async()=>{try{return await P(b.value,S.value)}catch(y){return y.toString()}}),w=pe(()=>Ue(h.value?.replace(new RegExp(se,"g")," ")||"")),$=pe(()=>h.value?.split(new RegExp(se,"g")).length||0);async function I(y){y&&(b.value=y)}async function d(y){const L=await y.arrayBuffer(),O=new Uint8Array(L);return Ge({data:O}).promise}async function T(y){const L=await d(y),O=document.getElementById("container"),j=[];for(let m=1;m<=L.numPages;m++){const R=await L.getPage(m),_=R.getViewport({scale:1.5}),g=document.createElement("canvas");g.height=_.height,g.width=_.width,O?.appendChild(g),await R.render({canvasContext:g.getContext("2d"),viewport:_}).promise,j.push(g.toDataURL("image/png"))}return j}async function P(y,L){if(!y)return"";E.value=!0;const O=await sr.createWorker();await O.reinitialize(L);const j=[];if(y.type.match("^image/")){const m=await O.recognize(y);j.push(m.data.text)}else{Me.workerSrc=ze;for(const m of await T(y)){const R=await O.recognize(m);j.push(R.data.text)}}return await O.terminate(),E.value=!1,j.join(se)}return(y,L)=>{const O=je,j=Re,m=Be,R=We,_=Fe,g=xe,D=$e;return Z(),Ae("div",null,[A(O,{value:l(S),"onUpdate:value":L[0]||(L[0]=C=>me(S)?S.value=C:null),label:l(a)("tools.ocr-image.texts.label-language"),options:l(u),searchable:"","mb-2":""},null,8,["value","label","options"]),A(j,{title:l(a)("tools.ocr-image.texts.title-drag-and-drop-a-image-or-pdf-here-or-click-to-select-a-file"),"paste-image":!0,onFileUpload:I},null,8,["title"]),A(m),cr,ie("div",null,[ie("h3",null,Te(l(a)("tools.ocr-image.texts.tag-ocr")),1),l(E)?ne("",!0):(Z(),re(De,{key:0,value:l(h),"onUpdate:value":L[1]||(L[1]=C=>me(h)?h.value=C:null),"word-wrap":!0,"download-file-name":"output.txt"},null,8,["value"])),l(E)?(Z(),re(R,{key:1,size:"small"})):ne("",!0)]),!l(E)&&l(w)?(Z(),re(D,{key:0,title:l(a)("tools.ocr-image.texts.title-statistics")},{default:oe(()=>[A(g,{"mt-3":""},{default:oe(()=>[A(_,{label:l(a)("tools.ocr-image.texts.label-character-count"),value:l(w).chars},null,8,["label","value"]),A(_,{label:l(a)("tools.ocr-image.texts.label-word-count"),value:l(w).words},null,8,["label","value"]),A(_,{label:l(a)("tools.ocr-image.texts.label-line-count"),value:l(w).lines},null,8,["label","value"]),A(_,{label:l(a)("tools.ocr-image.texts.label-pages-count"),value:l($)},null,8,["label","value"]),A(_,{label:l(a)("tools.ocr-image.texts.label-sentences-count"),value:l(w).sentences},null,8,["label","value"])]),_:1}),A(m),A(g,null,{default:oe(()=>[A(_,{label:l(a)("tools.ocr-image.texts.label-chars-no-spaces"),value:l(w).chars_no_spaces},null,8,["label","value"]),A(_,{label:l(a)("tools.ocr-image.texts.label-uppercase-chars"),value:l(w).chars_upper},null,8,["label","value"]),A(_,{label:l(a)("tools.ocr-image.texts.label-lowercase-chars"),value:l(w).chars_lower},null,8,["label","value"]),A(_,{label:l(a)("tools.ocr-image.texts.label-digit-chars"),value:l(w).chars_digits},null,8,["label","value"]),A(_,{label:l(a)("tools.ocr-image.texts.label-punctuations"),value:l(w).chars_puncts},null,8,["label","value"]),A(_,{label:l(a)("tools.ocr-image.texts.label-spaces-chars"),value:l(w).chars_spaces},null,8,["label","value"]),A(_,{label:l(a)("tools.ocr-image.texts.label-word-count-no-punct"),value:l(w).words_no_puncs},null,8,["label","value"])]),_:1})]),_:1},8,["title"])):ne("",!0)])}}});const Ar=Ne(lr,[["__scopeId","data-v-dcdfa272"]]);export{Ar as default};
