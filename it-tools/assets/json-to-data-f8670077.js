import{_ as Q}from"./TextareaCopyable-59231e95.js";import{d as W,a0 as z,r as m,ac as $,o as p,j as _,w as r,k as n,l as t,m as f,ad as b,a as E,a6 as h,G as F,aX as H,aW as J,x as K,af as M,aj as Y,ag as Z}from"./index-0c1fde36.js";import{u as j,w as tt}from"./xlsx-5c2e05c6.js";import{o as et}from"./objectarray.export-a35a6164.js";import{_ as ot}from"./Radio-424d9905.js";import{_ as lt}from"./Space-7fc52151.js";import{_ as at}from"./RadioGroup-1850ca84.js";import{_ as nt}from"./Checkbox-ba7202eb.js";import{_ as C}from"./FormItem-1b9a5952.js";import{_ as st}from"./Select-9917c364.js";import{_ as rt}from"./Card-7ba5ce79.js";import"./base64-ae7cf34b.js";import"./index-a6f01dde.js";import"./downloadBase64-508288e2.js";import"./index-6fddb70d.js";import"./index-cfd4d427.js";import"./Copy-ef9ec73c.js";import"./Scrollbar-54724e22.js";import"./index-84e3bf78.js";import"./public-api-a830925a.js";import"./index-32bbd1ee.js";import"./sax-dae1c632.js";import"./index-fdbe2ce9.js";import"./string_decoder-8ac4312e.js";import"./index-649b5bab.js";import"./inherits_browser-6f38ab1b.js";import"./index-0397ab6f.js";import"./index-ceeeeaf1.js";import"./merge-53ce9f8a.js";import"./isPlainObject-1c699aec.js";import"./get-slot-1efb97e5.js";import"./context-00991937.js";import"./Tag-e75b8dae.js";import"./FocusDetector-089b8822.js";import"./VirtualList-8140ffff.js";import"./Empty-ca426d71.js";import"./index-cbfaa337.js";const ut={"mt-3":"",flex:"","justify-center":""},Et=W({__name:"json-to-data",setup(ct){const{t:e}=z(),c=m("content"),d=m(""),k=m(),x=m(""),g=m(""),i=$({name:"fmt",storageName:"csv-to-data:fmt",defaultValue:"yaml"}),v=$({name:"table",storageName:"csv-to-data:tbl",defaultValue:"TableName"}),y=m(!1),S=[{label:e("tools.csv-to-data.texts.label-yaml"),value:"yaml"},{label:e("tools.csv-to-data.texts.label-sql-insert"),value:"sql"},{label:e("tools.csv-to-data.texts.label-csv-comma"),value:"csv"},{label:e("tools.csv-to-data.texts.label-csv-semicolon"),value:"csv_semicolon"},{label:e("tools.csv-to-data.texts.label-csv-tab"),value:"tsv"},{label:e("tools.csv-to-data.texts.label-markdown"),value:"markdown"},{label:e("tools.csv-to-data.texts.label-xml"),value:"xml"},{label:e("tools.csv-to-data.texts.label-xlsx"),value:"xlsx"}];async function U(s){s&&(k.value=s)}function V(s){return new Promise((o,l)=>{const a=new FileReader;a.onload=()=>{o(a.result||"")},a.onerror=l,a.readAsText(s)})}async function A(){let s=d.value;const o=k.value;x.value="";try{c.value==="file"&&o&&(s=await V(o));let l=H.parse(s);Array.isArray(l)||(l=[l]);const a=i.value;a==="xlsx"?(g.value="",T(l,v.value)):g.value=et(l,a,{tableName:v.value,nestify:y.value})}catch(l){return x.value=l.toString(),null}}function T(s,o="data"){const l=j.json_to_sheet(s),a=j.book_new();j.book_append_sheet(a,l,o),tt(a,`${o}.xlsx`)}return(s,o)=>{const l=ot,a=lt,B=at,q=J,w=K,N=M,D=nt,I=C,X=st,P=C,R=Y,G=Z,L=Q,O=rt;return p(),_(O,{title:t(e)("tools.json-to-data.texts.title-json-converter")},{default:r(()=>[n(N,null,{default:r(()=>[n(B,{value:t(c),"onUpdate:value":o[0]||(o[0]=u=>f(c)?c.value=u:null),name:"radiogroup","mb-2":"",flex:"","justify-center":""},{default:r(()=>[n(a,null,{default:r(()=>[n(l,{value:"file",label:t(e)("tools.csv-to-data.texts.label-file")},null,8,["label"]),n(l,{value:"content",label:t(e)("tools.csv-to-data.texts.label-content")},null,8,["label"])]),_:1})]),_:1},8,["value"]),t(c)==="file"?(p(),_(q,{key:0,accept:".csv,.tsv",title:t(e)("tools.json-to-data.texts.title-drag-and-drop-a-json-file-here-or-click-to-select-a-file"),onFileUpload:U},null,8,["title"])):b("",!0),t(c)==="content"?(p(),_(w,{key:1,value:t(d),"onUpdate:value":o[1]||(o[1]=u=>f(d)?d.value=u:null),label:t(e)("tools.json-to-data.texts.label-paste-your-json-content"),placeholder:t(e)("tools.json-to-data.texts.placeholder-your-json"),multiline:"",rows:"8","data-test-id":"input"},null,8,["value","label","placeholder"])):b("",!0)]),_:1}),n(a,{justify:"center"},{default:r(()=>[n(I,{label:t(e)("tools.csv-to-data.texts.label-nestify-a-b-c-to-nested-objects"),"label-placement":"left"},{default:r(()=>[n(D,{checked:t(y),"onUpdate:checked":o[2]||(o[2]=u=>f(y)?y.value=u:null)},null,8,["checked"])]),_:1},8,["label"])]),_:1}),n(P,{label:t(e)("tools.csv-to-data.texts.label-select-output-format"),"label-placement":"left"},{default:r(()=>[n(X,{value:t(i),"onUpdate:value":o[3]||(o[3]=u=>f(i)?i.value=u:null),options:S,placeholder:t(e)("tools.csv-to-data.texts.placeholder-select-format")},null,8,["value","placeholder"])]),_:1},8,["label"]),t(i)==="sql"?(p(),_(w,{key:0,value:t(v),"onUpdate:value":o[4]||(o[4]=u=>f(v)?v.value=u:null),label:t(e)("tools.csv-to-data.texts.label-table-name"),"label-placement":"left"},null,8,["value","label"])):b("",!0),E("div",ut,[n(R,{disabled:!(t(c)==="file"&&t(k)||t(d)),onClick:A},{default:r(()=>[h(F(t(e)("tools.csv-to-data.texts.tag-convert")),1)]),_:1},8,["disabled"])]),t(x)?(p(),_(G,{key:1},{default:r(()=>[h(F(t(x)),1)]),_:1})):b("",!0),t(g)?(p(),_(N,{key:2,title:t(e)("tools.csv-to-data.texts.title-converted-data")},{default:r(()=>[n(L,{value:t(g),language:t(i),"download-file-name":`output.${t(i)}`},null,8,["value","language","download-file-name"])]),_:1},8,["title"])):b("",!0)]),_:1},8,["title"])}}});export{Et as default};
