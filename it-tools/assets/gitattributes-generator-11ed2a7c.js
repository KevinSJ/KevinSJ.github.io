import{d as N,a0 as j,aY as f,r as v,i as B,b0 as O,o as b,c as W,k as e,w as n,l as t,m as D,a6 as F,G as P,j as h,ad as w,aj as R,af as T}from"./index-0c1fde36.js";import{_ as V}from"./TextareaCopyable-59231e95.js";import{_ as A}from"./Select-9917c364.js";import{_ as I}from"./FormItem-1b9a5952.js";import{_ as L}from"./Space-7fc52151.js";import{_ as M,a as q}from"./Tabs-1c90a6ea.js";import"./base64-ae7cf34b.js";import"./index-a6f01dde.js";import"./downloadBase64-508288e2.js";import"./index-6fddb70d.js";import"./index-cfd4d427.js";import"./Copy-ef9ec73c.js";import"./Scrollbar-54724e22.js";import"./Tag-e75b8dae.js";import"./FocusDetector-089b8822.js";import"./VirtualList-8140ffff.js";import"./Empty-ca426d71.js";import"./index-cbfaa337.js";import"./context-00991937.js";import"./get-slot-1efb97e5.js";import"./debounce-a6b2605e.js";import"./now-e8fe0d27.js";import"./toNumber-29aad22f.js";const E=1e3*60*60*24,gt=N({__name:"gitattributes-generator",setup(G){const{t:p}=j(),i=f("gitattr-gen:opts2",[]),s=v([]),c=v(""),d=f("gitattr-gen:ts",0);async function k(){const a=Date.now();if(!i.value.length||a-d.value>E)try{const _=await(await fetch("https://api.github.com/repos/alexkaratarakis/gitattributes/git/trees/master?recursive=true")).json();i.value=_.tree.filter(o=>o.path.endsWith(".gitattributes")).map(o=>o.path.replace(".gitattributes","")).filter(Boolean).map(o=>({label:o,value:o})),d.value=a}catch{i.value?.length||(i.value=["ActionScript","Ada","Ballerina","C++","CSharp","Common","Delphi","Drupal","Fortran","Fountain","Go","Java","Lua","Matlab","ObjectiveC","Pascal","Perl","Python","R","Rails","Servoy","VisualStudio","Web"].map(r=>({label:r,value:r})))}}async function x(){let a="";for(const l of s.value){const r=`https://raw.githubusercontent.com/alexkaratarakis/gitattributes/master/${l}.gitattributes`,o=await(await fetch(r)).text();a+=`${a?`

`:""}# === .gitattributes for ${l} (${r}) ===

${o}`}c.value=a}const m=B(()=>{if(!s.value.length)return{};const a=s.value.map(l=>`https://raw.githubusercontent.com/alexkaratarakis/gitattributes/master/${l}.gitattributes`).join(" ");return{curl:`curl ${a} > .gitattributes`,wget:`wget ${a} -O .gitattributes`,powershell:`Invoke-WebRequest ${a} -OutFile .gitattributes`,cmd:`powershell -Command "Invoke-WebRequest ${a} -OutFile .gitattributes"`}});return O(k),(a,l)=>{const r=A,_=I,o=R,y=L,u=V,C=T,g=M,$=q;return b(),W("div",null,[e(_,{label:t(p)("tools.gitattributes-generator.texts.label-gitattributes-templates"),"label-placement":"left"},{default:n(()=>[e(r,{value:t(s),"onUpdate:value":l[0]||(l[0]=S=>D(s)?s.value=S:null),multiple:"",filterable:"",placeholder:t(p)("tools.gitattributes-generator.texts.placeholder-select-templates"),options:t(i)},null,8,["value","placeholder","options"])]),_:1},8,["label"]),e(y,{justify:"center","mb-2":""},{default:n(()=>[e(o,{type:"primary",disabled:!t(s).length,onClick:x},{default:n(()=>[F(P(t(p)("tools.gitattributes-generator.texts.tag-fetch-generate")),1)]),_:1},8,["disabled"])]),_:1}),t(c)?(b(),h(C,{key:0,title:t(p)("tools.gitattributes-generator.texts.title-preview"),"mb-2":""},{default:n(()=>[e(u,{value:t(c),language:"bash","download-file-name":".gitattributes"},null,8,["value"])]),_:1},8,["title"])):w("",!0),t(c)?(b(),h($,{key:1,type:"line",animated:""},{default:n(()=>[e(g,{name:"curl",tab:"Curl"},{default:n(()=>[e(u,{value:t(m).curl,"word-wrap":""},null,8,["value"])]),_:1}),e(g,{name:"wget",tab:"Wget"},{default:n(()=>[e(u,{value:t(m).wget,"word-wrap":""},null,8,["value"])]),_:1}),e(g,{name:"powershell",tab:"PowerShell"},{default:n(()=>[e(u,{value:t(m).powershell,"word-wrap":""},null,8,["value"])]),_:1}),e(g,{name:"cmd",tab:"Windows CMD"},{default:n(()=>[e(u,{value:t(m).cmd,"word-wrap":""},null,8,["value"])]),_:1})]),_:1})):w("",!0)])}}});export{gt as default};
